(()=>{var Zl={9809:(b,z,y)=>{"use strict";const R=z;R.bignum=y(3550),R.define=y(2500).define,R.base=y(1979),R.constants=y(6826),R.decoders=y(8307),R.encoders=y(6579)},2500:(b,z,y)=>{"use strict";const R=y(6579),O=y(8307),N=y(5717),k=z;k.define=function(n,c){return new o(n,c)};function o(u,n){this.name=u,this.body=n,this.decoders={},this.encoders={}}o.prototype._createNamed=function(n){const c=this.name;function v(f){this._initNamed(f,c)}return N(v,n),v.prototype._initNamed=function(l,E){n.call(this,l,E)},new v(this)},o.prototype._getDecoder=function(n){return n=n||"der",this.decoders.hasOwnProperty(n)||(this.decoders[n]=this._createNamed(O[n])),this.decoders[n]},o.prototype.decode=function(n,c,v){return this._getDecoder(c).decode(n,v)},o.prototype._getEncoder=function(n){return n=n||"der",this.encoders.hasOwnProperty(n)||(this.encoders[n]=this._createNamed(R[n])),this.encoders[n]},o.prototype.encode=function(n,c,v){return this._getEncoder(c).encode(n,v)}},6625:(b,z,y)=>{"use strict";const R=y(5717),O=y(8465).b,N=y(2399).Buffer;function k(u,n){if(O.call(this,n),!N.isBuffer(u)){this.error("Input not Buffer");return}this.base=u,this.offset=0,this.length=u.length}R(k,O),z.C=k,k.isDecoderBuffer=function(n){return n instanceof k?!0:typeof n=="object"&&N.isBuffer(n.base)&&n.constructor.name==="DecoderBuffer"&&typeof n.offset=="number"&&typeof n.length=="number"&&typeof n.save=="function"&&typeof n.restore=="function"&&typeof n.isEmpty=="function"&&typeof n.readUInt8=="function"&&typeof n.skip=="function"&&typeof n.raw=="function"},k.prototype.save=function(){return{offset:this.offset,reporter:O.prototype.save.call(this)}},k.prototype.restore=function(n){const c=new k(this.base);return c.offset=n.offset,c.length=this.offset,this.offset=n.offset,O.prototype.restore.call(this,n.reporter),c},k.prototype.isEmpty=function(){return this.offset===this.length},k.prototype.readUInt8=function(n){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(n||"DecoderBuffer overrun")},k.prototype.skip=function(n,c){if(!(this.offset+n<=this.length))return this.error(c||"DecoderBuffer overrun");const v=new k(this.base);return v._reporterState=this._reporterState,v.offset=this.offset,v.length=this.offset+n,this.offset+=n,v},k.prototype.raw=function(n){return this.base.slice(n?n.offset:this.offset,this.length)};function o(u,n){if(Array.isArray(u))this.length=0,this.value=u.map(function(c){return o.isEncoderBuffer(c)||(c=new o(c,n)),this.length+=c.length,c},this);else if(typeof u=="number"){if(!(0<=u&&u<=255))return n.error("non-byte EncoderBuffer value");this.value=u,this.length=1}else if(typeof u=="string")this.value=u,this.length=N.byteLength(u);else if(N.isBuffer(u))this.value=u,this.length=u.length;else return n.error("Unsupported type: "+typeof u)}z.R=o,o.isEncoderBuffer=function(n){return n instanceof o?!0:typeof n=="object"&&n.constructor.name==="EncoderBuffer"&&typeof n.length=="number"&&typeof n.join=="function"},o.prototype.join=function(n,c){return n||(n=N.alloc(this.length)),c||(c=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(v){v.join(n,c),c+=v.length}):(typeof this.value=="number"?n[c]=this.value:typeof this.value=="string"?n.write(this.value,c):N.isBuffer(this.value)&&this.value.copy(n,c),c+=this.length)),n}},1979:(b,z,y)=>{"use strict";const R=z;R.Reporter=y(8465).b,R.DecoderBuffer=y(6625).C,R.EncoderBuffer=y(6625).R,R.Node=y(1949)},1949:(b,z,y)=>{"use strict";const R=y(8465).b,O=y(6625).R,N=y(6625).C,k=y(9746),o=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(o),n=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function c(f,l,E){const d={};this._baseState=d,d.name=E,d.enc=f,d.parent=l||null,d.children=null,d.tag=null,d.args=null,d.reverseArgs=null,d.choice=null,d.optional=!1,d.any=!1,d.obj=!1,d.use=null,d.useDecoder=null,d.key=null,d.default=null,d.explicit=null,d.implicit=null,d.contains=null,d.parent||(d.children=[],this._wrap())}b.exports=c;const v=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];c.prototype.clone=function(){const l=this._baseState,E={};v.forEach(function(p){E[p]=l[p]});const d=new this.constructor(E.parent);return d._baseState=E,d},c.prototype._wrap=function(){const l=this._baseState;u.forEach(function(E){this[E]=function(){const p=new this.constructor(this);return l.children.push(p),p[E].apply(p,arguments)}},this)},c.prototype._init=function(l){const E=this._baseState;k(E.parent===null),l.call(this),E.children=E.children.filter(function(d){return d._baseState.parent===this},this),k.equal(E.children.length,1,"Root node can have only one child")},c.prototype._useArgs=function(l){const E=this._baseState,d=l.filter(function(p){return p instanceof this.constructor},this);l=l.filter(function(p){return!(p instanceof this.constructor)},this),d.length!==0&&(k(E.children===null),E.children=d,d.forEach(function(p){p._baseState.parent=this},this)),l.length!==0&&(k(E.args===null),E.args=l,E.reverseArgs=l.map(function(p){if(typeof p!="object"||p.constructor!==Object)return p;const g={};return Object.keys(p).forEach(function(S){S==(S|0)&&(S|=0);const A=p[S];g[A]=S}),g}))},n.forEach(function(f){c.prototype[f]=function(){const E=this._baseState;throw new Error(f+" not implemented for encoding: "+E.enc)}}),o.forEach(function(f){c.prototype[f]=function(){const E=this._baseState,d=Array.prototype.slice.call(arguments);return k(E.tag===null),E.tag=f,this._useArgs(d),this}}),c.prototype.use=function(l){k(l);const E=this._baseState;return k(E.use===null),E.use=l,this},c.prototype.optional=function(){const l=this._baseState;return l.optional=!0,this},c.prototype.def=function(l){const E=this._baseState;return k(E.default===null),E.default=l,E.optional=!0,this},c.prototype.explicit=function(l){const E=this._baseState;return k(E.explicit===null&&E.implicit===null),E.explicit=l,this},c.prototype.implicit=function(l){const E=this._baseState;return k(E.explicit===null&&E.implicit===null),E.implicit=l,this},c.prototype.obj=function(){const l=this._baseState,E=Array.prototype.slice.call(arguments);return l.obj=!0,E.length!==0&&this._useArgs(E),this},c.prototype.key=function(l){const E=this._baseState;return k(E.key===null),E.key=l,this},c.prototype.any=function(){const l=this._baseState;return l.any=!0,this},c.prototype.choice=function(l){const E=this._baseState;return k(E.choice===null),E.choice=l,this._useArgs(Object.keys(l).map(function(d){return l[d]})),this},c.prototype.contains=function(l){const E=this._baseState;return k(E.use===null),E.contains=l,this},c.prototype._decode=function(l,E){const d=this._baseState;if(d.parent===null)return l.wrapResult(d.children[0]._decode(l,E));let p=d.default,g=!0,S=null;if(d.key!==null&&(S=l.enterKey(d.key)),d.optional){let _=null;if(d.explicit!==null?_=d.explicit:d.implicit!==null?_=d.implicit:d.tag!==null&&(_=d.tag),_===null&&!d.any){const F=l.save();try{d.choice===null?this._decodeGeneric(d.tag,l,E):this._decodeChoice(l,E),g=!0}catch(H){g=!1}l.restore(F)}else if(g=this._peekTag(l,_,d.any),l.isError(g))return g}let A;if(d.obj&&g&&(A=l.enterObject()),g){if(d.explicit!==null){const F=this._decodeTag(l,d.explicit);if(l.isError(F))return F;l=F}const _=l.offset;if(d.use===null&&d.choice===null){let F;d.any&&(F=l.save());const H=this._decodeTag(l,d.implicit!==null?d.implicit:d.tag,d.any);if(l.isError(H))return H;d.any?p=l.raw(F):l=H}if(E&&E.track&&d.tag!==null&&E.track(l.path(),_,l.length,"tagged"),E&&E.track&&d.tag!==null&&E.track(l.path(),l.offset,l.length,"content"),d.any||(d.choice===null?p=this._decodeGeneric(d.tag,l,E):p=this._decodeChoice(l,E)),l.isError(p))return p;if(!d.any&&d.choice===null&&d.children!==null&&d.children.forEach(function(H){H._decode(l,E)}),d.contains&&(d.tag==="octstr"||d.tag==="bitstr")){const F=new N(p);p=this._getUse(d.contains,l._reporterState.obj)._decode(F,E)}}return d.obj&&g&&(p=l.leaveObject(A)),d.key!==null&&(p!==null||g===!0)?l.leaveKey(S,d.key,p):S!==null&&l.exitKey(S),p},c.prototype._decodeGeneric=function(l,E,d){const p=this._baseState;return l==="seq"||l==="set"?null:l==="seqof"||l==="setof"?this._decodeList(E,l,p.args[0],d):/str$/.test(l)?this._decodeStr(E,l,d):l==="objid"&&p.args?this._decodeObjid(E,p.args[0],p.args[1],d):l==="objid"?this._decodeObjid(E,null,null,d):l==="gentime"||l==="utctime"?this._decodeTime(E,l,d):l==="null_"?this._decodeNull(E,d):l==="bool"?this._decodeBool(E,d):l==="objDesc"?this._decodeStr(E,l,d):l==="int"||l==="enum"?this._decodeInt(E,p.args&&p.args[0],d):p.use!==null?this._getUse(p.use,E._reporterState.obj)._decode(E,d):E.error("unknown tag: "+l)},c.prototype._getUse=function(l,E){const d=this._baseState;return d.useDecoder=this._use(l,E),k(d.useDecoder._baseState.parent===null),d.useDecoder=d.useDecoder._baseState.children[0],d.implicit!==d.useDecoder._baseState.implicit&&(d.useDecoder=d.useDecoder.clone(),d.useDecoder._baseState.implicit=d.implicit),d.useDecoder},c.prototype._decodeChoice=function(l,E){const d=this._baseState;let p=null,g=!1;return Object.keys(d.choice).some(function(S){const A=l.save(),_=d.choice[S];try{const F=_._decode(l,E);if(l.isError(F))return!1;p={type:S,value:F},g=!0}catch(F){return l.restore(A),!1}return!0},this),g?p:l.error("Choice not matched")},c.prototype._createEncoderBuffer=function(l){return new O(l,this.reporter)},c.prototype._encode=function(l,E,d){const p=this._baseState;if(p.default!==null&&p.default===l)return;const g=this._encodeValue(l,E,d);if(g!==void 0&&!this._skipDefault(g,E,d))return g},c.prototype._encodeValue=function(l,E,d){const p=this._baseState;if(p.parent===null)return p.children[0]._encode(l,E||new R);let g=null;if(this.reporter=E,p.optional&&l===void 0)if(p.default!==null)l=p.default;else return;let S=null,A=!1;if(p.any)g=this._createEncoderBuffer(l);else if(p.choice)g=this._encodeChoice(l,E);else if(p.contains)S=this._getUse(p.contains,d)._encode(l,E),A=!0;else if(p.children)S=p.children.map(function(_){if(_._baseState.tag==="null_")return _._encode(null,E,l);if(_._baseState.key===null)return E.error("Child should have a key");const F=E.enterKey(_._baseState.key);if(typeof l!="object")return E.error("Child expected, but input is not object");const H=_._encode(l[_._baseState.key],E,l);return E.leaveKey(F),H},this).filter(function(_){return _}),S=this._createEncoderBuffer(S);else if(p.tag==="seqof"||p.tag==="setof"){if(!(p.args&&p.args.length===1))return E.error("Too many args for : "+p.tag);if(!Array.isArray(l))return E.error("seqof/setof, but data is not Array");const _=this.clone();_._baseState.implicit=null,S=this._createEncoderBuffer(l.map(function(F){const H=this._baseState;return this._getUse(H.args[0],l)._encode(F,E)},_))}else p.use!==null?g=this._getUse(p.use,d)._encode(l,E):(S=this._encodePrimitive(p.tag,l),A=!0);if(!p.any&&p.choice===null){const _=p.implicit!==null?p.implicit:p.tag,F=p.implicit===null?"universal":"context";_===null?p.use===null&&E.error("Tag could be omitted only for .use()"):p.use===null&&(g=this._encodeComposite(_,A,F,S))}return p.explicit!==null&&(g=this._encodeComposite(p.explicit,!1,"context",g)),g},c.prototype._encodeChoice=function(l,E){const d=this._baseState,p=d.choice[l.type];return p||k(!1,l.type+" not found in "+JSON.stringify(Object.keys(d.choice))),p._encode(l.value,E)},c.prototype._encodePrimitive=function(l,E){const d=this._baseState;if(/str$/.test(l))return this._encodeStr(E,l);if(l==="objid"&&d.args)return this._encodeObjid(E,d.reverseArgs[0],d.args[1]);if(l==="objid")return this._encodeObjid(E,null,null);if(l==="gentime"||l==="utctime")return this._encodeTime(E,l);if(l==="null_")return this._encodeNull();if(l==="int"||l==="enum")return this._encodeInt(E,d.args&&d.reverseArgs[0]);if(l==="bool")return this._encodeBool(E);if(l==="objDesc")return this._encodeStr(E,l);throw new Error("Unsupported tag: "+l)},c.prototype._isNumstr=function(l){return/^[0-9 ]*$/.test(l)},c.prototype._isPrintstr=function(l){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(l)}},8465:(b,z,y)=>{"use strict";const R=y(5717);function O(k){this._reporterState={obj:null,path:[],options:k||{},errors:[]}}z.b=O,O.prototype.isError=function(o){return o instanceof N},O.prototype.save=function(){const o=this._reporterState;return{obj:o.obj,pathLen:o.path.length}},O.prototype.restore=function(o){const u=this._reporterState;u.obj=o.obj,u.path=u.path.slice(0,o.pathLen)},O.prototype.enterKey=function(o){return this._reporterState.path.push(o)},O.prototype.exitKey=function(o){const u=this._reporterState;u.path=u.path.slice(0,o-1)},O.prototype.leaveKey=function(o,u,n){const c=this._reporterState;this.exitKey(o),c.obj!==null&&(c.obj[u]=n)},O.prototype.path=function(){return this._reporterState.path.join("/")},O.prototype.enterObject=function(){const o=this._reporterState,u=o.obj;return o.obj={},u},O.prototype.leaveObject=function(o){const u=this._reporterState,n=u.obj;return u.obj=o,n},O.prototype.error=function(o){let u;const n=this._reporterState,c=o instanceof N;if(c?u=o:u=new N(n.path.map(function(v){return"["+JSON.stringify(v)+"]"}).join(""),o.message||o,o.stack),!n.options.partial)throw u;return c||n.errors.push(u),u},O.prototype.wrapResult=function(o){const u=this._reporterState;return u.options.partial?{result:this.isError(o)?null:o,errors:u.errors}:o};function N(k,o){this.path=k,this.rethrow(o)}R(N,Error),N.prototype.rethrow=function(o){if(this.message=o+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,N),!this.stack)try{throw new Error(this.message)}catch(u){this.stack=u.stack}return this}},160:(b,z)=>{"use strict";function y(R){const O={};return Object.keys(R).forEach(function(N){(N|0)==N&&(N=N|0);const k=R[N];O[k]=N}),O}z.tagClass={0:"universal",1:"application",2:"context",3:"private"},z.tagClassByName=y(z.tagClass),z.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},z.tagByName=y(z.tag)},6826:(b,z,y)=>{"use strict";const R=z;R._reverse=function(N){const k={};return Object.keys(N).forEach(function(o){(o|0)==o&&(o=o|0);const u=N[o];k[u]=o}),k},R.der=y(160)},1671:(b,z,y)=>{"use strict";const R=y(5717),O=y(3550),N=y(6625).C,k=y(1949),o=y(160);function u(f){this.enc="der",this.name=f.name,this.entity=f,this.tree=new n,this.tree._init(f.body)}b.exports=u,u.prototype.decode=function(l,E){return N.isDecoderBuffer(l)||(l=new N(l,E)),this.tree._decode(l,E)};function n(f){k.call(this,"der",f)}R(n,k),n.prototype._peekTag=function(l,E,d){if(l.isEmpty())return!1;const p=l.save(),g=c(l,'Failed to peek tag: "'+E+'"');return l.isError(g)?g:(l.restore(p),g.tag===E||g.tagStr===E||g.tagStr+"of"===E||d)},n.prototype._decodeTag=function(l,E,d){const p=c(l,'Failed to decode tag of "'+E+'"');if(l.isError(p))return p;let g=v(l,p.primitive,'Failed to get length of "'+E+'"');if(l.isError(g))return g;if(!d&&p.tag!==E&&p.tagStr!==E&&p.tagStr+"of"!==E)return l.error('Failed to match tag: "'+E+'"');if(p.primitive||g!==null)return l.skip(g,'Failed to match body of: "'+E+'"');const S=l.save(),A=this._skipUntilEnd(l,'Failed to skip indefinite length body: "'+this.tag+'"');return l.isError(A)?A:(g=l.offset-S.offset,l.restore(S),l.skip(g,'Failed to match body of: "'+E+'"'))},n.prototype._skipUntilEnd=function(l,E){for(;;){const d=c(l,E);if(l.isError(d))return d;const p=v(l,d.primitive,E);if(l.isError(p))return p;let g;if(d.primitive||p!==null?g=l.skip(p):g=this._skipUntilEnd(l,E),l.isError(g))return g;if(d.tagStr==="end")break}},n.prototype._decodeList=function(l,E,d,p){const g=[];for(;!l.isEmpty();){const S=this._peekTag(l,"end");if(l.isError(S))return S;const A=d.decode(l,"der",p);if(l.isError(A)&&S)break;g.push(A)}return g},n.prototype._decodeStr=function(l,E){if(E==="bitstr"){const d=l.readUInt8();return l.isError(d)?d:{unused:d,data:l.raw()}}else if(E==="bmpstr"){const d=l.raw();if(d.length%2==1)return l.error("Decoding of string type: bmpstr length mismatch");let p="";for(let g=0;g<d.length/2;g++)p+=String.fromCharCode(d.readUInt16BE(g*2));return p}else if(E==="numstr"){const d=l.raw().toString("ascii");return this._isNumstr(d)?d:l.error("Decoding of string type: numstr unsupported characters")}else{if(E==="octstr")return l.raw();if(E==="objDesc")return l.raw();if(E==="printstr"){const d=l.raw().toString("ascii");return this._isPrintstr(d)?d:l.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(E)?l.raw().toString():l.error("Decoding of string type: "+E+" unsupported")}},n.prototype._decodeObjid=function(l,E,d){let p;const g=[];let S=0,A=0;for(;!l.isEmpty();)A=l.readUInt8(),S<<=7,S|=A&127,(A&128)==0&&(g.push(S),S=0);A&128&&g.push(S);const _=g[0]/40|0,F=g[0]%40;if(d?p=g:p=[_,F].concat(g.slice(1)),E){let H=E[p.join(" ")];H===void 0&&(H=E[p.join(".")]),H!==void 0&&(p=H)}return p},n.prototype._decodeTime=function(l,E){const d=l.raw().toString();let p,g,S,A,_,F;if(E==="gentime")p=d.slice(0,4)|0,g=d.slice(4,6)|0,S=d.slice(6,8)|0,A=d.slice(8,10)|0,_=d.slice(10,12)|0,F=d.slice(12,14)|0;else if(E==="utctime")p=d.slice(0,2)|0,g=d.slice(2,4)|0,S=d.slice(4,6)|0,A=d.slice(6,8)|0,_=d.slice(8,10)|0,F=d.slice(10,12)|0,p<70?p=2e3+p:p=1900+p;else return l.error("Decoding "+E+" time is not supported yet");return Date.UTC(p,g-1,S,A,_,F,0)},n.prototype._decodeNull=function(){return null},n.prototype._decodeBool=function(l){const E=l.readUInt8();return l.isError(E)?E:E!==0},n.prototype._decodeInt=function(l,E){const d=l.raw();let p=new O(d);return E&&(p=E[p.toString(10)]||p),p},n.prototype._use=function(l,E){return typeof l=="function"&&(l=l(E)),l._getDecoder("der").tree};function c(f,l){let E=f.readUInt8(l);if(f.isError(E))return E;const d=o.tagClass[E>>6],p=(E&32)==0;if((E&31)==31){let S=E;for(E=0;(S&128)==128;){if(S=f.readUInt8(l),f.isError(S))return S;E<<=7,E|=S&127}}else E&=31;const g=o.tag[E];return{cls:d,primitive:p,tag:E,tagStr:g}}function v(f,l,E){let d=f.readUInt8(E);if(f.isError(d))return d;if(!l&&d===128)return null;if((d&128)==0)return d;const p=d&127;if(p>4)return f.error("length octect is too long");d=0;for(let g=0;g<p;g++){d<<=8;const S=f.readUInt8(E);if(f.isError(S))return S;d|=S}return d}},8307:(b,z,y)=>{"use strict";const R=z;R.der=y(1671),R.pem=y(9631)},9631:(b,z,y)=>{"use strict";const R=y(5717),O=y(2399).Buffer,N=y(1671);function k(o){N.call(this,o),this.enc="pem"}R(k,N),b.exports=k,k.prototype.decode=function(u,n){const c=u.toString().split(/[\r\n]+/g),v=n.label.toUpperCase(),f=/^-----(BEGIN|END) ([^-]+)-----$/;let l=-1,E=-1;for(let g=0;g<c.length;g++){const S=c[g].match(f);if(S!==null&&S[2]===v)if(l===-1){if(S[1]!=="BEGIN")break;l=g}else{if(S[1]!=="END")break;E=g;break}}if(l===-1||E===-1)throw new Error("PEM section not found for: "+v);const d=c.slice(l+1,E).join("");d.replace(/[^a-z0-9+/=]+/gi,"");const p=O.from(d,"base64");return N.prototype.decode.call(this,p,n)}},6984:(b,z,y)=>{"use strict";const R=y(5717),O=y(2399).Buffer,N=y(1949),k=y(160);function o(v){this.enc="der",this.name=v.name,this.entity=v,this.tree=new u,this.tree._init(v.body)}b.exports=o,o.prototype.encode=function(f,l){return this.tree._encode(f,l).join()};function u(v){N.call(this,"der",v)}R(u,N),u.prototype._encodeComposite=function(f,l,E,d){const p=c(f,l,E,this.reporter);if(d.length<128){const A=O.alloc(2);return A[0]=p,A[1]=d.length,this._createEncoderBuffer([A,d])}let g=1;for(let A=d.length;A>=256;A>>=8)g++;const S=O.alloc(1+1+g);S[0]=p,S[1]=128|g;for(let A=1+g,_=d.length;_>0;A--,_>>=8)S[A]=_&255;return this._createEncoderBuffer([S,d])},u.prototype._encodeStr=function(f,l){if(l==="bitstr")return this._createEncoderBuffer([f.unused|0,f.data]);if(l==="bmpstr"){const E=O.alloc(f.length*2);for(let d=0;d<f.length;d++)E.writeUInt16BE(f.charCodeAt(d),d*2);return this._createEncoderBuffer(E)}else return l==="numstr"?this._isNumstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: numstr supports only digits and space"):l==="printstr"?this._isPrintstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(l)?this._createEncoderBuffer(f):l==="objDesc"?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: "+l+" unsupported")},u.prototype._encodeObjid=function(f,l,E){if(typeof f=="string"){if(!l)return this.reporter.error("string objid given, but no values map found");if(!l.hasOwnProperty(f))return this.reporter.error("objid not found in values map");f=l[f].split(/[\s.]+/g);for(let S=0;S<f.length;S++)f[S]|=0}else if(Array.isArray(f)){f=f.slice();for(let S=0;S<f.length;S++)f[S]|=0}if(!Array.isArray(f))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(f));if(!E){if(f[1]>=40)return this.reporter.error("Second objid identifier OOB");f.splice(0,2,f[0]*40+f[1])}let d=0;for(let S=0;S<f.length;S++){let A=f[S];for(d++;A>=128;A>>=7)d++}const p=O.alloc(d);let g=p.length-1;for(let S=f.length-1;S>=0;S--){let A=f[S];for(p[g--]=A&127;(A>>=7)>0;)p[g--]=128|A&127}return this._createEncoderBuffer(p)};function n(v){return v<10?"0"+v:v}u.prototype._encodeTime=function(f,l){let E;const d=new Date(f);return l==="gentime"?E=[n(d.getUTCFullYear()),n(d.getUTCMonth()+1),n(d.getUTCDate()),n(d.getUTCHours()),n(d.getUTCMinutes()),n(d.getUTCSeconds()),"Z"].join(""):l==="utctime"?E=[n(d.getUTCFullYear()%100),n(d.getUTCMonth()+1),n(d.getUTCDate()),n(d.getUTCHours()),n(d.getUTCMinutes()),n(d.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+l+" time is not supported yet"),this._encodeStr(E,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(f,l){if(typeof f=="string"){if(!l)return this.reporter.error("String int or enum given, but no values map");if(!l.hasOwnProperty(f))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(f));f=l[f]}if(typeof f!="number"&&!O.isBuffer(f)){const p=f.toArray();!f.sign&&p[0]&128&&p.unshift(0),f=O.from(p)}if(O.isBuffer(f)){let p=f.length;f.length===0&&p++;const g=O.alloc(p);return f.copy(g),f.length===0&&(g[0]=0),this._createEncoderBuffer(g)}if(f<128)return this._createEncoderBuffer(f);if(f<256)return this._createEncoderBuffer([0,f]);let E=1;for(let p=f;p>=256;p>>=8)E++;const d=new Array(E);for(let p=d.length-1;p>=0;p--)d[p]=f&255,f>>=8;return d[0]&128&&d.unshift(0),this._createEncoderBuffer(O.from(d))},u.prototype._encodeBool=function(f){return this._createEncoderBuffer(f?255:0)},u.prototype._use=function(f,l){return typeof f=="function"&&(f=f(l)),f._getEncoder("der").tree},u.prototype._skipDefault=function(f,l,E){const d=this._baseState;let p;if(d.default===null)return!1;const g=f.join();if(d.defaultBuffer===void 0&&(d.defaultBuffer=this._encodeValue(d.default,l,E).join()),g.length!==d.defaultBuffer.length)return!1;for(p=0;p<g.length;p++)if(g[p]!==d.defaultBuffer[p])return!1;return!0};function c(v,f,l,E){let d;if(v==="seqof"?v="seq":v==="setof"&&(v="set"),k.tagByName.hasOwnProperty(v))d=k.tagByName[v];else if(typeof v=="number"&&(v|0)===v)d=v;else return E.error("Unknown tag: "+v);return d>=31?E.error("Multi-octet tag encoding unsupported"):(f||(d|=32),d|=k.tagClassByName[l||"universal"]<<6,d)}},6579:(b,z,y)=>{"use strict";const R=z;R.der=y(6984),R.pem=y(2883)},2883:(b,z,y)=>{"use strict";const R=y(5717),O=y(6984);function N(k){O.call(this,k),this.enc="pem"}R(N,O),b.exports=N,N.prototype.encode=function(o,u){const c=O.prototype.encode.call(this,o).toString("base64"),v=["-----BEGIN "+u.label+"-----"];for(let f=0;f<c.length;f+=64)v.push(c.slice(f,f+64));return v.push("-----END "+u.label+"-----"),v.join(`
`)}},9669:(b,z,y)=>{b.exports=y(1609)},5448:(b,z,y)=>{"use strict";var R=y(4867),O=y(6026),N=y(4372),k=y(1246),o=y(4097),u=y(4109),n=y(7985),c=y(5061);b.exports=function(f){return new Promise(function(E,d){var p=f.data,g=f.headers;R.isFormData(p)&&delete g["Content-Type"];var S=new XMLHttpRequest;if(f.auth){var A=f.auth.username||"",_=f.auth.password?unescape(encodeURIComponent(f.auth.password)):"";g.Authorization="Basic "+btoa(A+":"+_)}var F=o(f.baseURL,f.url);if(S.open(f.method.toUpperCase(),k(F,f.params,f.paramsSerializer),!0),S.timeout=f.timeout,S.onreadystatechange=function(){if(!(!S||S.readyState!==4)&&!(S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0))){var J="getAllResponseHeaders"in S?u(S.getAllResponseHeaders()):null,te=!f.responseType||f.responseType==="text"?S.responseText:S.response,ie={data:te,status:S.status,statusText:S.statusText,headers:J,config:f,request:S};O(E,d,ie),S=null}},S.onabort=function(){!S||(d(c("Request aborted",f,"ECONNABORTED",S)),S=null)},S.onerror=function(){d(c("Network Error",f,null,S)),S=null},S.ontimeout=function(){var J="timeout of "+f.timeout+"ms exceeded";f.timeoutErrorMessage&&(J=f.timeoutErrorMessage),d(c(J,f,"ECONNABORTED",S)),S=null},R.isStandardBrowserEnv()){var H=(f.withCredentials||n(F))&&f.xsrfCookieName?N.read(f.xsrfCookieName):void 0;H&&(g[f.xsrfHeaderName]=H)}if("setRequestHeader"in S&&R.forEach(g,function(J,te){typeof p=="undefined"&&te.toLowerCase()==="content-type"?delete g[te]:S.setRequestHeader(te,J)}),R.isUndefined(f.withCredentials)||(S.withCredentials=!!f.withCredentials),f.responseType)try{S.responseType=f.responseType}catch(K){if(f.responseType!=="json")throw K}typeof f.onDownloadProgress=="function"&&S.addEventListener("progress",f.onDownloadProgress),typeof f.onUploadProgress=="function"&&S.upload&&S.upload.addEventListener("progress",f.onUploadProgress),f.cancelToken&&f.cancelToken.promise.then(function(J){!S||(S.abort(),d(J),S=null)}),p||(p=null),S.send(p)})}},1609:(b,z,y)=>{"use strict";var R=y(4867),O=y(1849),N=y(321),k=y(7185),o=y(5655);function u(c){var v=new N(c),f=O(N.prototype.request,v);return R.extend(f,N.prototype,v),R.extend(f,v),f}var n=u(o);n.Axios=N,n.create=function(v){return u(k(n.defaults,v))},n.Cancel=y(5263),n.CancelToken=y(4972),n.isCancel=y(6502),n.all=function(v){return Promise.all(v)},n.spread=y(8713),n.isAxiosError=y(6268),b.exports=n,b.exports.default=n},5263:b=>{"use strict";function z(y){this.message=y}z.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},z.prototype.__CANCEL__=!0,b.exports=z},4972:(b,z,y)=>{"use strict";var R=y(5263);function O(N){if(typeof N!="function")throw new TypeError("executor must be a function.");var k;this.promise=new Promise(function(n){k=n});var o=this;N(function(n){o.reason||(o.reason=new R(n),k(o.reason))})}O.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},O.source=function(){var k,o=new O(function(n){k=n});return{token:o,cancel:k}},b.exports=O},6502:b=>{"use strict";b.exports=function(y){return!!(y&&y.__CANCEL__)}},321:(b,z,y)=>{"use strict";var R=y(4867),O=y(1246),N=y(782),k=y(3572),o=y(7185);function u(n){this.defaults=n,this.interceptors={request:new N,response:new N}}u.prototype.request=function(c){typeof c=="string"?(c=arguments[1]||{},c.url=arguments[0]):c=c||{},c=o(this.defaults,c),c.method?c.method=c.method.toLowerCase():this.defaults.method?c.method=this.defaults.method.toLowerCase():c.method="get";var v=[k,void 0],f=Promise.resolve(c);for(this.interceptors.request.forEach(function(E){v.unshift(E.fulfilled,E.rejected)}),this.interceptors.response.forEach(function(E){v.push(E.fulfilled,E.rejected)});v.length;)f=f.then(v.shift(),v.shift());return f},u.prototype.getUri=function(c){return c=o(this.defaults,c),O(c.url,c.params,c.paramsSerializer).replace(/^\?/,"")},R.forEach(["delete","get","head","options"],function(c){u.prototype[c]=function(v,f){return this.request(o(f||{},{method:c,url:v,data:(f||{}).data}))}}),R.forEach(["post","put","patch"],function(c){u.prototype[c]=function(v,f,l){return this.request(o(l||{},{method:c,url:v,data:f}))}}),b.exports=u},782:(b,z,y)=>{"use strict";var R=y(4867);function O(){this.handlers=[]}O.prototype.use=function(k,o){return this.handlers.push({fulfilled:k,rejected:o}),this.handlers.length-1},O.prototype.eject=function(k){this.handlers[k]&&(this.handlers[k]=null)},O.prototype.forEach=function(k){R.forEach(this.handlers,function(u){u!==null&&k(u)})},b.exports=O},4097:(b,z,y)=>{"use strict";var R=y(1793),O=y(7303);b.exports=function(k,o){return k&&!R(o)?O(k,o):o}},5061:(b,z,y)=>{"use strict";var R=y(481);b.exports=function(N,k,o,u,n){var c=new Error(N);return R(c,k,o,u,n)}},3572:(b,z,y)=>{"use strict";var R=y(4867),O=y(8527),N=y(6502),k=y(5655);function o(u){u.cancelToken&&u.cancelToken.throwIfRequested()}b.exports=function(n){o(n),n.headers=n.headers||{},n.data=O(n.data,n.headers,n.transformRequest),n.headers=R.merge(n.headers.common||{},n.headers[n.method]||{},n.headers),R.forEach(["delete","get","head","post","put","patch","common"],function(f){delete n.headers[f]});var c=n.adapter||k.adapter;return c(n).then(function(f){return o(n),f.data=O(f.data,f.headers,n.transformResponse),f},function(f){return N(f)||(o(n),f&&f.response&&(f.response.data=O(f.response.data,f.response.headers,n.transformResponse))),Promise.reject(f)})}},481:b=>{"use strict";b.exports=function(y,R,O,N,k){return y.config=R,O&&(y.code=O),y.request=N,y.response=k,y.isAxiosError=!0,y.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},y}},7185:(b,z,y)=>{"use strict";var R=y(4867);b.exports=function(N,k){k=k||{};var o={},u=["url","method","data"],n=["headers","auth","proxy","params"],c=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],v=["validateStatus"];function f(p,g){return R.isPlainObject(p)&&R.isPlainObject(g)?R.merge(p,g):R.isPlainObject(g)?R.merge({},g):R.isArray(g)?g.slice():g}function l(p){R.isUndefined(k[p])?R.isUndefined(N[p])||(o[p]=f(void 0,N[p])):o[p]=f(N[p],k[p])}R.forEach(u,function(g){R.isUndefined(k[g])||(o[g]=f(void 0,k[g]))}),R.forEach(n,l),R.forEach(c,function(g){R.isUndefined(k[g])?R.isUndefined(N[g])||(o[g]=f(void 0,N[g])):o[g]=f(void 0,k[g])}),R.forEach(v,function(g){g in k?o[g]=f(N[g],k[g]):g in N&&(o[g]=f(void 0,N[g]))});var E=u.concat(n).concat(c).concat(v),d=Object.keys(N).concat(Object.keys(k)).filter(function(g){return E.indexOf(g)===-1});return R.forEach(d,l),o}},6026:(b,z,y)=>{"use strict";var R=y(5061);b.exports=function(N,k,o){var u=o.config.validateStatus;!o.status||!u||u(o.status)?N(o):k(R("Request failed with status code "+o.status,o.config,null,o.request,o))}},8527:(b,z,y)=>{"use strict";var R=y(4867);b.exports=function(N,k,o){return R.forEach(o,function(n){N=n(N,k)}),N}},5655:(b,z,y)=>{"use strict";var R=y(4155),O=y(4867),N=y(6016),k={"Content-Type":"application/x-www-form-urlencoded"};function o(c,v){!O.isUndefined(c)&&O.isUndefined(c["Content-Type"])&&(c["Content-Type"]=v)}function u(){var c;return(typeof XMLHttpRequest!="undefined"||typeof R!="undefined"&&Object.prototype.toString.call(R)==="[object process]")&&(c=y(5448)),c}var n={adapter:u(),transformRequest:[function(v,f){return N(f,"Accept"),N(f,"Content-Type"),O.isFormData(v)||O.isArrayBuffer(v)||O.isBuffer(v)||O.isStream(v)||O.isFile(v)||O.isBlob(v)?v:O.isArrayBufferView(v)?v.buffer:O.isURLSearchParams(v)?(o(f,"application/x-www-form-urlencoded;charset=utf-8"),v.toString()):O.isObject(v)?(o(f,"application/json;charset=utf-8"),JSON.stringify(v)):v}],transformResponse:[function(v){if(typeof v=="string")try{v=JSON.parse(v)}catch(f){}return v}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(v){return v>=200&&v<300}};n.headers={common:{Accept:"application/json, text/plain, */*"}},O.forEach(["delete","get","head"],function(v){n.headers[v]={}}),O.forEach(["post","put","patch"],function(v){n.headers[v]=O.merge(k)}),b.exports=n},1849:b=>{"use strict";b.exports=function(y,R){return function(){for(var N=new Array(arguments.length),k=0;k<N.length;k++)N[k]=arguments[k];return y.apply(R,N)}}},1246:(b,z,y)=>{"use strict";var R=y(4867);function O(N){return encodeURIComponent(N).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}b.exports=function(k,o,u){if(!o)return k;var n;if(u)n=u(o);else if(R.isURLSearchParams(o))n=o.toString();else{var c=[];R.forEach(o,function(l,E){l===null||typeof l=="undefined"||(R.isArray(l)?E=E+"[]":l=[l],R.forEach(l,function(p){R.isDate(p)?p=p.toISOString():R.isObject(p)&&(p=JSON.stringify(p)),c.push(O(E)+"="+O(p))}))}),n=c.join("&")}if(n){var v=k.indexOf("#");v!==-1&&(k=k.slice(0,v)),k+=(k.indexOf("?")===-1?"?":"&")+n}return k}},7303:b=>{"use strict";b.exports=function(y,R){return R?y.replace(/\/+$/,"")+"/"+R.replace(/^\/+/,""):y}},4372:(b,z,y)=>{"use strict";var R=y(4867);b.exports=R.isStandardBrowserEnv()?function(){return{write:function(k,o,u,n,c,v){var f=[];f.push(k+"="+encodeURIComponent(o)),R.isNumber(u)&&f.push("expires="+new Date(u).toGMTString()),R.isString(n)&&f.push("path="+n),R.isString(c)&&f.push("domain="+c),v===!0&&f.push("secure"),document.cookie=f.join("; ")},read:function(k){var o=document.cookie.match(new RegExp("(^|;\\s*)("+k+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove:function(k){this.write(k,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},1793:b=>{"use strict";b.exports=function(y){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(y)}},6268:b=>{"use strict";b.exports=function(y){return typeof y=="object"&&y.isAxiosError===!0}},7985:(b,z,y)=>{"use strict";var R=y(4867);b.exports=R.isStandardBrowserEnv()?function(){var N=/(msie|trident)/i.test(navigator.userAgent),k=document.createElement("a"),o;function u(n){var c=n;return N&&(k.setAttribute("href",c),c=k.href),k.setAttribute("href",c),{href:k.href,protocol:k.protocol?k.protocol.replace(/:$/,""):"",host:k.host,search:k.search?k.search.replace(/^\?/,""):"",hash:k.hash?k.hash.replace(/^#/,""):"",hostname:k.hostname,port:k.port,pathname:k.pathname.charAt(0)==="/"?k.pathname:"/"+k.pathname}}return o=u(window.location.href),function(c){var v=R.isString(c)?u(c):c;return v.protocol===o.protocol&&v.host===o.host}}():function(){return function(){return!0}}()},6016:(b,z,y)=>{"use strict";var R=y(4867);b.exports=function(N,k){R.forEach(N,function(u,n){n!==k&&n.toUpperCase()===k.toUpperCase()&&(N[k]=u,delete N[n])})}},4109:(b,z,y)=>{"use strict";var R=y(4867),O=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];b.exports=function(k){var o={},u,n,c;return k&&R.forEach(k.split(`
`),function(f){if(c=f.indexOf(":"),u=R.trim(f.substr(0,c)).toLowerCase(),n=R.trim(f.substr(c+1)),u){if(o[u]&&O.indexOf(u)>=0)return;u==="set-cookie"?o[u]=(o[u]?o[u]:[]).concat([n]):o[u]=o[u]?o[u]+", "+n:n}}),o}},8713:b=>{"use strict";b.exports=function(y){return function(O){return y.apply(null,O)}}},4867:(b,z,y)=>{"use strict";var R=y(1849),O=Object.prototype.toString;function N(ne){return O.call(ne)==="[object Array]"}function k(ne){return typeof ne=="undefined"}function o(ne){return ne!==null&&!k(ne)&&ne.constructor!==null&&!k(ne.constructor)&&typeof ne.constructor.isBuffer=="function"&&ne.constructor.isBuffer(ne)}function u(ne){return O.call(ne)==="[object ArrayBuffer]"}function n(ne){return typeof FormData!="undefined"&&ne instanceof FormData}function c(ne){var ue;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ue=ArrayBuffer.isView(ne):ue=ne&&ne.buffer&&ne.buffer instanceof ArrayBuffer,ue}function v(ne){return typeof ne=="string"}function f(ne){return typeof ne=="number"}function l(ne){return ne!==null&&typeof ne=="object"}function E(ne){if(O.call(ne)!=="[object Object]")return!1;var ue=Object.getPrototypeOf(ne);return ue===null||ue===Object.prototype}function d(ne){return O.call(ne)==="[object Date]"}function p(ne){return O.call(ne)==="[object File]"}function g(ne){return O.call(ne)==="[object Blob]"}function S(ne){return O.call(ne)==="[object Function]"}function A(ne){return l(ne)&&S(ne.pipe)}function _(ne){return typeof URLSearchParams!="undefined"&&ne instanceof URLSearchParams}function F(ne){return ne.replace(/^\s*/,"").replace(/\s*$/,"")}function H(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function K(ne,ue){if(!(ne===null||typeof ne=="undefined"))if(typeof ne!="object"&&(ne=[ne]),N(ne))for(var Q=0,C=ne.length;Q<C;Q++)ue.call(null,ne[Q],Q,ne);else for(var U in ne)Object.prototype.hasOwnProperty.call(ne,U)&&ue.call(null,ne[U],U,ne)}function J(){var ne={};function ue(U,M){E(ne[M])&&E(U)?ne[M]=J(ne[M],U):E(U)?ne[M]=J({},U):N(U)?ne[M]=U.slice():ne[M]=U}for(var Q=0,C=arguments.length;Q<C;Q++)K(arguments[Q],ue);return ne}function te(ne,ue,Q){return K(ue,function(U,M){Q&&typeof U=="function"?ne[M]=R(U,Q):ne[M]=U}),ne}function ie(ne){return ne.charCodeAt(0)===65279&&(ne=ne.slice(1)),ne}b.exports={isArray:N,isArrayBuffer:u,isBuffer:o,isFormData:n,isArrayBufferView:c,isString:v,isNumber:f,isObject:l,isPlainObject:E,isUndefined:k,isDate:d,isFile:p,isBlob:g,isFunction:S,isStream:A,isURLSearchParams:_,isStandardBrowserEnv:H,forEach:K,merge:J,extend:te,trim:F,stripBOM:ie}},9742:(b,z)=>{"use strict";z.byteLength=n,z.toByteArray=v,z.fromByteArray=E;for(var y=[],R=[],O=typeof Uint8Array!="undefined"?Uint8Array:Array,N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",k=0,o=N.length;k<o;++k)y[k]=N[k],R[N.charCodeAt(k)]=k;R["-".charCodeAt(0)]=62,R["_".charCodeAt(0)]=63;function u(d){var p=d.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=d.indexOf("=");g===-1&&(g=p);var S=g===p?0:4-g%4;return[g,S]}function n(d){var p=u(d),g=p[0],S=p[1];return(g+S)*3/4-S}function c(d,p,g){return(p+g)*3/4-g}function v(d){var p,g=u(d),S=g[0],A=g[1],_=new O(c(d,S,A)),F=0,H=A>0?S-4:S,K;for(K=0;K<H;K+=4)p=R[d.charCodeAt(K)]<<18|R[d.charCodeAt(K+1)]<<12|R[d.charCodeAt(K+2)]<<6|R[d.charCodeAt(K+3)],_[F++]=p>>16&255,_[F++]=p>>8&255,_[F++]=p&255;return A===2&&(p=R[d.charCodeAt(K)]<<2|R[d.charCodeAt(K+1)]>>4,_[F++]=p&255),A===1&&(p=R[d.charCodeAt(K)]<<10|R[d.charCodeAt(K+1)]<<4|R[d.charCodeAt(K+2)]>>2,_[F++]=p>>8&255,_[F++]=p&255),_}function f(d){return y[d>>18&63]+y[d>>12&63]+y[d>>6&63]+y[d&63]}function l(d,p,g){for(var S,A=[],_=p;_<g;_+=3)S=(d[_]<<16&16711680)+(d[_+1]<<8&65280)+(d[_+2]&255),A.push(f(S));return A.join("")}function E(d){for(var p,g=d.length,S=g%3,A=[],_=16383,F=0,H=g-S;F<H;F+=_)A.push(l(d,F,F+_>H?H:F+_));return S===1?(p=d[g-1],A.push(y[p>>2]+y[p<<4&63]+"==")):S===2&&(p=(d[g-2]<<8)+d[g-1],A.push(y[p>>10]+y[p>>4&63]+y[p<<2&63]+"=")),A.join("")}},5186:(b,z,y)=>{var R=y(3698),O=y(2505),N=y(6417),k=Function.bind,o=k.bind(k);function u(l,E,d){var p=o(N,null).apply(null,d?[E,d]:[E]);l.api={remove:p},l.remove=p,["before","error","after","wrap"].forEach(function(g){var S=d?[E,g,d]:[E,g];l[g]=l.api[g]=o(O,null).apply(null,S)})}function n(){var l="h",E={registry:{}},d=R.bind(null,E,l);return u(d,E,l),d}function c(){var l={registry:{}},E=R.bind(null,l);return u(E,l),E}var v=!1;function f(){return v||(console.warn('[before-after-hook]: "Hook()" repurposing warning, use "Hook.Collection()". Read more: https://git.io/upgrade-before-after-hook-to-1.4'),v=!0),c()}f.Singular=n.bind(),f.Collection=c.bind(),b.exports=f,b.exports.Hook=f,b.exports.Singular=f.Singular,b.exports.Collection=f.Collection},2505:b=>{b.exports=z;function z(y,R,O,N){var k=N;y.registry[O]||(y.registry[O]=[]),R==="before"&&(N=function(o,u){return Promise.resolve().then(k.bind(null,u)).then(o.bind(null,u))}),R==="after"&&(N=function(o,u){var n;return Promise.resolve().then(o.bind(null,u)).then(function(c){return n=c,k(n,u)}).then(function(){return n})}),R==="error"&&(N=function(o,u){return Promise.resolve().then(o.bind(null,u)).catch(function(n){return k(n,u)})}),y.registry[O].push({hook:N,orig:k})}},3698:b=>{b.exports=z;function z(y,R,O,N){if(typeof O!="function")throw new Error("method for before hook must be a function");return N||(N={}),Array.isArray(R)?R.reverse().reduce(function(k,o){return z.bind(null,y,o,k,N)},O)():Promise.resolve().then(function(){return y.registry[R]?y.registry[R].reduce(function(k,o){return o.hook.bind(null,k,N)},O)():O(N)})}},6417:b=>{b.exports=z;function z(y,R,O){if(!!y.registry[R]){var N=y.registry[R].map(function(k){return k.orig}).indexOf(O);N!==-1&&y.registry[R].splice(N,1)}}},3550:function(b,z,y){b=y.nmd(b),function(R,O){"use strict";function N(Q,C){if(!Q)throw new Error(C||"Assertion failed")}function k(Q,C){Q.super_=C;var U=function(){};U.prototype=C.prototype,Q.prototype=new U,Q.prototype.constructor=Q}function o(Q,C,U){if(o.isBN(Q))return Q;this.negative=0,this.words=null,this.length=0,this.red=null,Q!==null&&((C==="le"||C==="be")&&(U=C,C=10),this._init(Q||0,C||10,U||"be"))}typeof R=="object"?R.exports=o:O.BN=o,o.BN=o,o.wordSize=26;var u;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?u=window.Buffer:u=y(6601).Buffer}catch(Q){}o.isBN=function(C){return C instanceof o?!0:C!==null&&typeof C=="object"&&C.constructor.wordSize===o.wordSize&&Array.isArray(C.words)},o.max=function(C,U){return C.cmp(U)>0?C:U},o.min=function(C,U){return C.cmp(U)<0?C:U},o.prototype._init=function(C,U,M){if(typeof C=="number")return this._initNumber(C,U,M);if(typeof C=="object")return this._initArray(C,U,M);U==="hex"&&(U=16),N(U===(U|0)&&U>=2&&U<=36),C=C.toString().replace(/\s+/g,"");var s=0;C[0]==="-"&&(s++,this.negative=1),s<C.length&&(U===16?this._parseHex(C,s,M):(this._parseBase(C,U,s),M==="le"&&this._initArray(this.toArray(),U,M)))},o.prototype._initNumber=function(C,U,M){C<0&&(this.negative=1,C=-C),C<67108864?(this.words=[C&67108863],this.length=1):C<4503599627370496?(this.words=[C&67108863,C/67108864&67108863],this.length=2):(N(C<9007199254740992),this.words=[C&67108863,C/67108864&67108863,1],this.length=3),M==="le"&&this._initArray(this.toArray(),U,M)},o.prototype._initArray=function(C,U,M){if(N(typeof C.length=="number"),C.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(C.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var m,T,I=0;if(M==="be")for(s=C.length-1,m=0;s>=0;s-=3)T=C[s]|C[s-1]<<8|C[s-2]<<16,this.words[m]|=T<<I&67108863,this.words[m+1]=T>>>26-I&67108863,I+=24,I>=26&&(I-=26,m++);else if(M==="le")for(s=0,m=0;s<C.length;s+=3)T=C[s]|C[s+1]<<8|C[s+2]<<16,this.words[m]|=T<<I&67108863,this.words[m+1]=T>>>26-I&67108863,I+=24,I>=26&&(I-=26,m++);return this.strip()};function n(Q,C){var U=Q.charCodeAt(C);return U>=65&&U<=70?U-55:U>=97&&U<=102?U-87:U-48&15}function c(Q,C,U){var M=n(Q,U);return U-1>=C&&(M|=n(Q,U-1)<<4),M}o.prototype._parseHex=function(C,U,M){this.length=Math.ceil((C.length-U)/6),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var m=0,T=0,I;if(M==="be")for(s=C.length-1;s>=U;s-=2)I=c(C,U,s)<<m,this.words[T]|=I&67108863,m>=18?(m-=18,T+=1,this.words[T]|=I>>>26):m+=8;else{var D=C.length-U;for(s=D%2==0?U+1:U;s<C.length;s+=2)I=c(C,U,s)<<m,this.words[T]|=I&67108863,m>=18?(m-=18,T+=1,this.words[T]|=I>>>26):m+=8}this.strip()};function v(Q,C,U,M){for(var s=0,m=Math.min(Q.length,U),T=C;T<m;T++){var I=Q.charCodeAt(T)-48;s*=M,I>=49?s+=I-49+10:I>=17?s+=I-17+10:s+=I}return s}o.prototype._parseBase=function(C,U,M){this.words=[0],this.length=1;for(var s=0,m=1;m<=67108863;m*=U)s++;s--,m=m/U|0;for(var T=C.length-M,I=T%s,D=Math.min(T,T-I)+M,P=0,V=M;V<D;V+=s)P=v(C,V,V+s,U),this.imuln(m),this.words[0]+P<67108864?this.words[0]+=P:this._iaddn(P);if(I!==0){var G=1;for(P=v(C,V,C.length,U),V=0;V<I;V++)G*=U;this.imuln(G),this.words[0]+P<67108864?this.words[0]+=P:this._iaddn(P)}this.strip()},o.prototype.copy=function(C){C.words=new Array(this.length);for(var U=0;U<this.length;U++)C.words[U]=this.words[U];C.length=this.length,C.negative=this.negative,C.red=this.red},o.prototype.clone=function(){var C=new o(null);return this.copy(C),C},o.prototype._expand=function(C){for(;this.length<C;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(C,U){C=C||10,U=U|0||1;var M;if(C===16||C==="hex"){M="";for(var s=0,m=0,T=0;T<this.length;T++){var I=this.words[T],D=((I<<s|m)&16777215).toString(16);m=I>>>24-s&16777215,m!==0||T!==this.length-1?M=f[6-D.length]+D+M:M=D+M,s+=2,s>=26&&(s-=26,T--)}for(m!==0&&(M=m.toString(16)+M);M.length%U!=0;)M="0"+M;return this.negative!==0&&(M="-"+M),M}if(C===(C|0)&&C>=2&&C<=36){var P=l[C],V=E[C];M="";var G=this.clone();for(G.negative=0;!G.isZero();){var w=G.modn(V).toString(C);G=G.idivn(V),G.isZero()?M=w+M:M=f[P-w.length]+w+M}for(this.isZero()&&(M="0"+M);M.length%U!=0;)M="0"+M;return this.negative!==0&&(M="-"+M),M}N(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var C=this.words[0];return this.length===2?C+=this.words[1]*67108864:this.length===3&&this.words[2]===1?C+=4503599627370496+this.words[1]*67108864:this.length>2&&N(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-C:C},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(C,U){return N(typeof u!="undefined"),this.toArrayLike(u,C,U)},o.prototype.toArray=function(C,U){return this.toArrayLike(Array,C,U)},o.prototype.toArrayLike=function(C,U,M){var s=this.byteLength(),m=M||Math.max(1,s);N(s<=m,"byte array longer than desired length"),N(m>0,"Requested array length <= 0"),this.strip();var T=U==="le",I=new C(m),D,P,V=this.clone();if(T){for(P=0;!V.isZero();P++)D=V.andln(255),V.iushrn(8),I[P]=D;for(;P<m;P++)I[P]=0}else{for(P=0;P<m-s;P++)I[P]=0;for(P=0;!V.isZero();P++)D=V.andln(255),V.iushrn(8),I[m-P-1]=D}return I},Math.clz32?o.prototype._countBits=function(C){return 32-Math.clz32(C)}:o.prototype._countBits=function(C){var U=C,M=0;return U>=4096&&(M+=13,U>>>=13),U>=64&&(M+=7,U>>>=7),U>=8&&(M+=4,U>>>=4),U>=2&&(M+=2,U>>>=2),M+U},o.prototype._zeroBits=function(C){if(C===0)return 26;var U=C,M=0;return(U&8191)==0&&(M+=13,U>>>=13),(U&127)==0&&(M+=7,U>>>=7),(U&15)==0&&(M+=4,U>>>=4),(U&3)==0&&(M+=2,U>>>=2),(U&1)==0&&M++,M},o.prototype.bitLength=function(){var C=this.words[this.length-1],U=this._countBits(C);return(this.length-1)*26+U};function d(Q){for(var C=new Array(Q.bitLength()),U=0;U<C.length;U++){var M=U/26|0,s=U%26;C[U]=(Q.words[M]&1<<s)>>>s}return C}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var C=0,U=0;U<this.length;U++){var M=this._zeroBits(this.words[U]);if(C+=M,M!==26)break}return C},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(C){return this.negative!==0?this.abs().inotn(C).iaddn(1):this.clone()},o.prototype.fromTwos=function(C){return this.testn(C-1)?this.notn(C).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(C){for(;this.length<C.length;)this.words[this.length++]=0;for(var U=0;U<C.length;U++)this.words[U]=this.words[U]|C.words[U];return this.strip()},o.prototype.ior=function(C){return N((this.negative|C.negative)==0),this.iuor(C)},o.prototype.or=function(C){return this.length>C.length?this.clone().ior(C):C.clone().ior(this)},o.prototype.uor=function(C){return this.length>C.length?this.clone().iuor(C):C.clone().iuor(this)},o.prototype.iuand=function(C){var U;this.length>C.length?U=C:U=this;for(var M=0;M<U.length;M++)this.words[M]=this.words[M]&C.words[M];return this.length=U.length,this.strip()},o.prototype.iand=function(C){return N((this.negative|C.negative)==0),this.iuand(C)},o.prototype.and=function(C){return this.length>C.length?this.clone().iand(C):C.clone().iand(this)},o.prototype.uand=function(C){return this.length>C.length?this.clone().iuand(C):C.clone().iuand(this)},o.prototype.iuxor=function(C){var U,M;this.length>C.length?(U=this,M=C):(U=C,M=this);for(var s=0;s<M.length;s++)this.words[s]=U.words[s]^M.words[s];if(this!==U)for(;s<U.length;s++)this.words[s]=U.words[s];return this.length=U.length,this.strip()},o.prototype.ixor=function(C){return N((this.negative|C.negative)==0),this.iuxor(C)},o.prototype.xor=function(C){return this.length>C.length?this.clone().ixor(C):C.clone().ixor(this)},o.prototype.uxor=function(C){return this.length>C.length?this.clone().iuxor(C):C.clone().iuxor(this)},o.prototype.inotn=function(C){N(typeof C=="number"&&C>=0);var U=Math.ceil(C/26)|0,M=C%26;this._expand(U),M>0&&U--;for(var s=0;s<U;s++)this.words[s]=~this.words[s]&67108863;return M>0&&(this.words[s]=~this.words[s]&67108863>>26-M),this.strip()},o.prototype.notn=function(C){return this.clone().inotn(C)},o.prototype.setn=function(C,U){N(typeof C=="number"&&C>=0);var M=C/26|0,s=C%26;return this._expand(M+1),U?this.words[M]=this.words[M]|1<<s:this.words[M]=this.words[M]&~(1<<s),this.strip()},o.prototype.iadd=function(C){var U;if(this.negative!==0&&C.negative===0)return this.negative=0,U=this.isub(C),this.negative^=1,this._normSign();if(this.negative===0&&C.negative!==0)return C.negative=0,U=this.isub(C),C.negative=1,U._normSign();var M,s;this.length>C.length?(M=this,s=C):(M=C,s=this);for(var m=0,T=0;T<s.length;T++)U=(M.words[T]|0)+(s.words[T]|0)+m,this.words[T]=U&67108863,m=U>>>26;for(;m!==0&&T<M.length;T++)U=(M.words[T]|0)+m,this.words[T]=U&67108863,m=U>>>26;if(this.length=M.length,m!==0)this.words[this.length]=m,this.length++;else if(M!==this)for(;T<M.length;T++)this.words[T]=M.words[T];return this},o.prototype.add=function(C){var U;return C.negative!==0&&this.negative===0?(C.negative=0,U=this.sub(C),C.negative^=1,U):C.negative===0&&this.negative!==0?(this.negative=0,U=C.sub(this),this.negative=1,U):this.length>C.length?this.clone().iadd(C):C.clone().iadd(this)},o.prototype.isub=function(C){if(C.negative!==0){C.negative=0;var U=this.iadd(C);return C.negative=1,U._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(C),this.negative=1,this._normSign();var M=this.cmp(C);if(M===0)return this.negative=0,this.length=1,this.words[0]=0,this;var s,m;M>0?(s=this,m=C):(s=C,m=this);for(var T=0,I=0;I<m.length;I++)U=(s.words[I]|0)-(m.words[I]|0)+T,T=U>>26,this.words[I]=U&67108863;for(;T!==0&&I<s.length;I++)U=(s.words[I]|0)+T,T=U>>26,this.words[I]=U&67108863;if(T===0&&I<s.length&&s!==this)for(;I<s.length;I++)this.words[I]=s.words[I];return this.length=Math.max(this.length,I),s!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(C){return this.clone().isub(C)};function p(Q,C,U){U.negative=C.negative^Q.negative;var M=Q.length+C.length|0;U.length=M,M=M-1|0;var s=Q.words[0]|0,m=C.words[0]|0,T=s*m,I=T&67108863,D=T/67108864|0;U.words[0]=I;for(var P=1;P<M;P++){for(var V=D>>>26,G=D&67108863,w=Math.min(P,C.length-1),Y=Math.max(0,P-Q.length+1);Y<=w;Y++){var me=P-Y|0;s=Q.words[me]|0,m=C.words[Y]|0,T=s*m+G,V+=T/67108864|0,G=T&67108863}U.words[P]=G|0,D=V|0}return D!==0?U.words[P]=D|0:U.length--,U.strip()}var g=function(C,U,M){var s=C.words,m=U.words,T=M.words,I=0,D,P,V,G=s[0]|0,w=G&8191,Y=G>>>13,me=s[1]|0,ge=me&8191,_e=me>>>13,xe=s[2]|0,ee=xe&8191,X=xe>>>13,ce=s[3]|0,he=ce&8191,ve=ce>>>13,q=s[4]|0,L=q&8191,ae=q>>>13,pe=s[5]|0,Se=pe&8191,ye=pe>>>13,Ne=s[6]|0,Ae=Ne&8191,Me=Ne>>>13,ut=s[7]|0,qe=ut&8191,Fe=ut>>>13,ht=s[8]|0,se=ht&8191,j=ht>>>13,Z=s[9]|0,oe=Z&8191,fe=Z>>>13,ke=m[0]|0,be=ke&8191,Pe=ke>>>13,ct=m[1]|0,Oe=ct&8191,Be=ct>>>13,at=m[2]|0,Ke=at&8191,Ye=at>>>13,pt=m[3]|0,$e=pt&8191,Ce=pt>>>13,ur=m[4]|0,ze=ur&8191,Ze=ur>>>13,yr=m[5]|0,He=yr&8191,We=yr>>>13,wr=m[6]|0,Je=wr&8191,Qe=wr>>>13,_r=m[7]|0,Xe=_r&8191,Ve=_r>>>13,ir=m[8]|0,et=ir&8191,je=ir>>>13,nr=m[9]|0,tt=nr&8191,rt=nr>>>13;M.negative=C.negative^U.negative,M.length=19,D=Math.imul(w,be),P=Math.imul(w,Pe),P=P+Math.imul(Y,be)|0,V=Math.imul(Y,Pe);var $t=(I+D|0)+((P&8191)<<13)|0;I=(V+(P>>>13)|0)+($t>>>26)|0,$t&=67108863,D=Math.imul(ge,be),P=Math.imul(ge,Pe),P=P+Math.imul(_e,be)|0,V=Math.imul(_e,Pe),D=D+Math.imul(w,Oe)|0,P=P+Math.imul(w,Be)|0,P=P+Math.imul(Y,Oe)|0,V=V+Math.imul(Y,Be)|0;var st=(I+D|0)+((P&8191)<<13)|0;I=(V+(P>>>13)|0)+(st>>>26)|0,st&=67108863,D=Math.imul(ee,be),P=Math.imul(ee,Pe),P=P+Math.imul(X,be)|0,V=Math.imul(X,Pe),D=D+Math.imul(ge,Oe)|0,P=P+Math.imul(ge,Be)|0,P=P+Math.imul(_e,Oe)|0,V=V+Math.imul(_e,Be)|0,D=D+Math.imul(w,Ke)|0,P=P+Math.imul(w,Ye)|0,P=P+Math.imul(Y,Ke)|0,V=V+Math.imul(Y,Ye)|0;var it=(I+D|0)+((P&8191)<<13)|0;I=(V+(P>>>13)|0)+(it>>>26)|0,it&=67108863,D=Math.imul(he,be),P=Math.imul(he,Pe),P=P+Math.imul(ve,be)|0,V=Math.imul(ve,Pe),D=D+Math.imul(ee,Oe)|0,P=P+Math.imul(ee,Be)|0,P=P+Math.imul(X,Oe)|0,V=V+Math.imul(X,Be)|0,D=D+Math.imul(ge,Ke)|0,P=P+Math.imul(ge,Ye)|0,P=P+Math.imul(_e,Ke)|0,V=V+Math.imul(_e,Ye)|0,D=D+Math.imul(w,$e)|0,P=P+Math.imul(w,Ce)|0,P=P+Math.imul(Y,$e)|0,V=V+Math.imul(Y,Ce)|0;var Qt=(I+D|0)+((P&8191)<<13)|0;I=(V+(P>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,D=Math.imul(L,be),P=Math.imul(L,Pe),P=P+Math.imul(ae,be)|0,V=Math.imul(ae,Pe),D=D+Math.imul(he,Oe)|0,P=P+Math.imul(he,Be)|0,P=P+Math.imul(ve,Oe)|0,V=V+Math.imul(ve,Be)|0,D=D+Math.imul(ee,Ke)|0,P=P+Math.imul(ee,Ye)|0,P=P+Math.imul(X,Ke)|0,V=V+Math.imul(X,Ye)|0,D=D+Math.imul(ge,$e)|0,P=P+Math.imul(ge,Ce)|0,P=P+Math.imul(_e,$e)|0,V=V+Math.imul(_e,Ce)|0,D=D+Math.imul(w,ze)|0,P=P+Math.imul(w,Ze)|0,P=P+Math.imul(Y,ze)|0,V=V+Math.imul(Y,Ze)|0;var Kt=(I+D|0)+((P&8191)<<13)|0;I=(V+(P>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,D=Math.imul(Se,be),P=Math.imul(Se,Pe),P=P+Math.imul(ye,be)|0,V=Math.imul(ye,Pe),D=D+Math.imul(L,Oe)|0,P=P+Math.imul(L,Be)|0,P=P+Math.imul(ae,Oe)|0,V=V+Math.imul(ae,Be)|0,D=D+Math.imul(he,Ke)|0,P=P+Math.imul(he,Ye)|0,P=P+Math.imul(ve,Ke)|0,V=V+Math.imul(ve,Ye)|0,D=D+Math.imul(ee,$e)|0,P=P+Math.imul(ee,Ce)|0,P=P+Math.imul(X,$e)|0,V=V+Math.imul(X,Ce)|0,D=D+Math.imul(ge,ze)|0,P=P+Math.imul(ge,Ze)|0,P=P+Math.imul(_e,ze)|0,V=V+Math.imul(_e,Ze)|0,D=D+Math.imul(w,He)|0,P=P+Math.imul(w,We)|0,P=P+Math.imul(Y,He)|0,V=V+Math.imul(Y,We)|0;var jt=(I+D|0)+((P&8191)<<13)|0;I=(V+(P>>>13)|0)+(jt>>>26)|0,jt&=67108863,D=Math.imul(Ae,be),P=Math.imul(Ae,Pe),P=P+Math.imul(Me,be)|0,V=Math.imul(Me,Pe),D=D+Math.imul(Se,Oe)|0,P=P+Math.imul(Se,Be)|0,P=P+Math.imul(ye,Oe)|0,V=V+Math.imul(ye,Be)|0,D=D+Math.imul(L,Ke)|0,P=P+Math.imul(L,Ye)|0,P=P+Math.imul(ae,Ke)|0,V=V+Math.imul(ae,Ye)|0,D=D+Math.imul(he,$e)|0,P=P+Math.imul(he,Ce)|0,P=P+Math.imul(ve,$e)|0,V=V+Math.imul(ve,Ce)|0,D=D+Math.imul(ee,ze)|0,P=P+Math.imul(ee,Ze)|0,P=P+Math.imul(X,ze)|0,V=V+Math.imul(X,Ze)|0,D=D+Math.imul(ge,He)|0,P=P+Math.imul(ge,We)|0,P=P+Math.imul(_e,He)|0,V=V+Math.imul(_e,We)|0,D=D+Math.imul(w,Je)|0,P=P+Math.imul(w,Qe)|0,P=P+Math.imul(Y,Je)|0,V=V+Math.imul(Y,Qe)|0;var mt=(I+D|0)+((P&8191)<<13)|0;I=(V+(P>>>13)|0)+(mt>>>26)|0,mt&=67108863,D=Math.imul(qe,be),P=Math.imul(qe,Pe),P=P+Math.imul(Fe,be)|0,V=Math.imul(Fe,Pe),D=D+Math.imul(Ae,Oe)|0,P=P+Math.imul(Ae,Be)|0,P=P+Math.imul(Me,Oe)|0,V=V+Math.imul(Me,Be)|0,D=D+Math.imul(Se,Ke)|0,P=P+Math.imul(Se,Ye)|0,P=P+Math.imul(ye,Ke)|0,V=V+Math.imul(ye,Ye)|0,D=D+Math.imul(L,$e)|0,P=P+Math.imul(L,Ce)|0,P=P+Math.imul(ae,$e)|0,V=V+Math.imul(ae,Ce)|0,D=D+Math.imul(he,ze)|0,P=P+Math.imul(he,Ze)|0,P=P+Math.imul(ve,ze)|0,V=V+Math.imul(ve,Ze)|0,D=D+Math.imul(ee,He)|0,P=P+Math.imul(ee,We)|0,P=P+Math.imul(X,He)|0,V=V+Math.imul(X,We)|0,D=D+Math.imul(ge,Je)|0,P=P+Math.imul(ge,Qe)|0,P=P+Math.imul(_e,Je)|0,V=V+Math.imul(_e,Qe)|0,D=D+Math.imul(w,Xe)|0,P=P+Math.imul(w,Ve)|0,P=P+Math.imul(Y,Xe)|0,V=V+Math.imul(Y,Ve)|0;var Ht=(I+D|0)+((P&8191)<<13)|0;I=(V+(P>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,D=Math.imul(se,be),P=Math.imul(se,Pe),P=P+Math.imul(j,be)|0,V=Math.imul(j,Pe),D=D+Math.imul(qe,Oe)|0,P=P+Math.imul(qe,Be)|0,P=P+Math.imul(Fe,Oe)|0,V=V+Math.imul(Fe,Be)|0,D=D+Math.imul(Ae,Ke)|0,P=P+Math.imul(Ae,Ye)|0,P=P+Math.imul(Me,Ke)|0,V=V+Math.imul(Me,Ye)|0,D=D+Math.imul(Se,$e)|0,P=P+Math.imul(Se,Ce)|0,P=P+Math.imul(ye,$e)|0,V=V+Math.imul(ye,Ce)|0,D=D+Math.imul(L,ze)|0,P=P+Math.imul(L,Ze)|0,P=P+Math.imul(ae,ze)|0,V=V+Math.imul(ae,Ze)|0,D=D+Math.imul(he,He)|0,P=P+Math.imul(he,We)|0,P=P+Math.imul(ve,He)|0,V=V+Math.imul(ve,We)|0,D=D+Math.imul(ee,Je)|0,P=P+Math.imul(ee,Qe)|0,P=P+Math.imul(X,Je)|0,V=V+Math.imul(X,Qe)|0,D=D+Math.imul(ge,Xe)|0,P=P+Math.imul(ge,Ve)|0,P=P+Math.imul(_e,Xe)|0,V=V+Math.imul(_e,Ve)|0,D=D+Math.imul(w,et)|0,P=P+Math.imul(w,je)|0,P=P+Math.imul(Y,et)|0,V=V+Math.imul(Y,je)|0;var Yt=(I+D|0)+((P&8191)<<13)|0;I=(V+(P>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,D=Math.imul(oe,be),P=Math.imul(oe,Pe),P=P+Math.imul(fe,be)|0,V=Math.imul(fe,Pe),D=D+Math.imul(se,Oe)|0,P=P+Math.imul(se,Be)|0,P=P+Math.imul(j,Oe)|0,V=V+Math.imul(j,Be)|0,D=D+Math.imul(qe,Ke)|0,P=P+Math.imul(qe,Ye)|0,P=P+Math.imul(Fe,Ke)|0,V=V+Math.imul(Fe,Ye)|0,D=D+Math.imul(Ae,$e)|0,P=P+Math.imul(Ae,Ce)|0,P=P+Math.imul(Me,$e)|0,V=V+Math.imul(Me,Ce)|0,D=D+Math.imul(Se,ze)|0,P=P+Math.imul(Se,Ze)|0,P=P+Math.imul(ye,ze)|0,V=V+Math.imul(ye,Ze)|0,D=D+Math.imul(L,He)|0,P=P+Math.imul(L,We)|0,P=P+Math.imul(ae,He)|0,V=V+Math.imul(ae,We)|0,D=D+Math.imul(he,Je)|0,P=P+Math.imul(he,Qe)|0,P=P+Math.imul(ve,Je)|0,V=V+Math.imul(ve,Qe)|0,D=D+Math.imul(ee,Xe)|0,P=P+Math.imul(ee,Ve)|0,P=P+Math.imul(X,Xe)|0,V=V+Math.imul(X,Ve)|0,D=D+Math.imul(ge,et)|0,P=P+Math.imul(ge,je)|0,P=P+Math.imul(_e,et)|0,V=V+Math.imul(_e,je)|0,D=D+Math.imul(w,tt)|0,P=P+Math.imul(w,rt)|0,P=P+Math.imul(Y,tt)|0,V=V+Math.imul(Y,rt)|0;var Zt=(I+D|0)+((P&8191)<<13)|0;I=(V+(P>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,D=Math.imul(oe,Oe),P=Math.imul(oe,Be),P=P+Math.imul(fe,Oe)|0,V=Math.imul(fe,Be),D=D+Math.imul(se,Ke)|0,P=P+Math.imul(se,Ye)|0,P=P+Math.imul(j,Ke)|0,V=V+Math.imul(j,Ye)|0,D=D+Math.imul(qe,$e)|0,P=P+Math.imul(qe,Ce)|0,P=P+Math.imul(Fe,$e)|0,V=V+Math.imul(Fe,Ce)|0,D=D+Math.imul(Ae,ze)|0,P=P+Math.imul(Ae,Ze)|0,P=P+Math.imul(Me,ze)|0,V=V+Math.imul(Me,Ze)|0,D=D+Math.imul(Se,He)|0,P=P+Math.imul(Se,We)|0,P=P+Math.imul(ye,He)|0,V=V+Math.imul(ye,We)|0,D=D+Math.imul(L,Je)|0,P=P+Math.imul(L,Qe)|0,P=P+Math.imul(ae,Je)|0,V=V+Math.imul(ae,Qe)|0,D=D+Math.imul(he,Xe)|0,P=P+Math.imul(he,Ve)|0,P=P+Math.imul(ve,Xe)|0,V=V+Math.imul(ve,Ve)|0,D=D+Math.imul(ee,et)|0,P=P+Math.imul(ee,je)|0,P=P+Math.imul(X,et)|0,V=V+Math.imul(X,je)|0,D=D+Math.imul(ge,tt)|0,P=P+Math.imul(ge,rt)|0,P=P+Math.imul(_e,tt)|0,V=V+Math.imul(_e,rt)|0;var sr=(I+D|0)+((P&8191)<<13)|0;I=(V+(P>>>13)|0)+(sr>>>26)|0,sr&=67108863,D=Math.imul(oe,Ke),P=Math.imul(oe,Ye),P=P+Math.imul(fe,Ke)|0,V=Math.imul(fe,Ye),D=D+Math.imul(se,$e)|0,P=P+Math.imul(se,Ce)|0,P=P+Math.imul(j,$e)|0,V=V+Math.imul(j,Ce)|0,D=D+Math.imul(qe,ze)|0,P=P+Math.imul(qe,Ze)|0,P=P+Math.imul(Fe,ze)|0,V=V+Math.imul(Fe,Ze)|0,D=D+Math.imul(Ae,He)|0,P=P+Math.imul(Ae,We)|0,P=P+Math.imul(Me,He)|0,V=V+Math.imul(Me,We)|0,D=D+Math.imul(Se,Je)|0,P=P+Math.imul(Se,Qe)|0,P=P+Math.imul(ye,Je)|0,V=V+Math.imul(ye,Qe)|0,D=D+Math.imul(L,Xe)|0,P=P+Math.imul(L,Ve)|0,P=P+Math.imul(ae,Xe)|0,V=V+Math.imul(ae,Ve)|0,D=D+Math.imul(he,et)|0,P=P+Math.imul(he,je)|0,P=P+Math.imul(ve,et)|0,V=V+Math.imul(ve,je)|0,D=D+Math.imul(ee,tt)|0,P=P+Math.imul(ee,rt)|0,P=P+Math.imul(X,tt)|0,V=V+Math.imul(X,rt)|0;var ar=(I+D|0)+((P&8191)<<13)|0;I=(V+(P>>>13)|0)+(ar>>>26)|0,ar&=67108863,D=Math.imul(oe,$e),P=Math.imul(oe,Ce),P=P+Math.imul(fe,$e)|0,V=Math.imul(fe,Ce),D=D+Math.imul(se,ze)|0,P=P+Math.imul(se,Ze)|0,P=P+Math.imul(j,ze)|0,V=V+Math.imul(j,Ze)|0,D=D+Math.imul(qe,He)|0,P=P+Math.imul(qe,We)|0,P=P+Math.imul(Fe,He)|0,V=V+Math.imul(Fe,We)|0,D=D+Math.imul(Ae,Je)|0,P=P+Math.imul(Ae,Qe)|0,P=P+Math.imul(Me,Je)|0,V=V+Math.imul(Me,Qe)|0,D=D+Math.imul(Se,Xe)|0,P=P+Math.imul(Se,Ve)|0,P=P+Math.imul(ye,Xe)|0,V=V+Math.imul(ye,Ve)|0,D=D+Math.imul(L,et)|0,P=P+Math.imul(L,je)|0,P=P+Math.imul(ae,et)|0,V=V+Math.imul(ae,je)|0,D=D+Math.imul(he,tt)|0,P=P+Math.imul(he,rt)|0,P=P+Math.imul(ve,tt)|0,V=V+Math.imul(ve,rt)|0;var or=(I+D|0)+((P&8191)<<13)|0;I=(V+(P>>>13)|0)+(or>>>26)|0,or&=67108863,D=Math.imul(oe,ze),P=Math.imul(oe,Ze),P=P+Math.imul(fe,ze)|0,V=Math.imul(fe,Ze),D=D+Math.imul(se,He)|0,P=P+Math.imul(se,We)|0,P=P+Math.imul(j,He)|0,V=V+Math.imul(j,We)|0,D=D+Math.imul(qe,Je)|0,P=P+Math.imul(qe,Qe)|0,P=P+Math.imul(Fe,Je)|0,V=V+Math.imul(Fe,Qe)|0,D=D+Math.imul(Ae,Xe)|0,P=P+Math.imul(Ae,Ve)|0,P=P+Math.imul(Me,Xe)|0,V=V+Math.imul(Me,Ve)|0,D=D+Math.imul(Se,et)|0,P=P+Math.imul(Se,je)|0,P=P+Math.imul(ye,et)|0,V=V+Math.imul(ye,je)|0,D=D+Math.imul(L,tt)|0,P=P+Math.imul(L,rt)|0,P=P+Math.imul(ae,tt)|0,V=V+Math.imul(ae,rt)|0;var Jt=(I+D|0)+((P&8191)<<13)|0;I=(V+(P>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,D=Math.imul(oe,He),P=Math.imul(oe,We),P=P+Math.imul(fe,He)|0,V=Math.imul(fe,We),D=D+Math.imul(se,Je)|0,P=P+Math.imul(se,Qe)|0,P=P+Math.imul(j,Je)|0,V=V+Math.imul(j,Qe)|0,D=D+Math.imul(qe,Xe)|0,P=P+Math.imul(qe,Ve)|0,P=P+Math.imul(Fe,Xe)|0,V=V+Math.imul(Fe,Ve)|0,D=D+Math.imul(Ae,et)|0,P=P+Math.imul(Ae,je)|0,P=P+Math.imul(Me,et)|0,V=V+Math.imul(Me,je)|0,D=D+Math.imul(Se,tt)|0,P=P+Math.imul(Se,rt)|0,P=P+Math.imul(ye,tt)|0,V=V+Math.imul(ye,rt)|0;var gt=(I+D|0)+((P&8191)<<13)|0;I=(V+(P>>>13)|0)+(gt>>>26)|0,gt&=67108863,D=Math.imul(oe,Je),P=Math.imul(oe,Qe),P=P+Math.imul(fe,Je)|0,V=Math.imul(fe,Qe),D=D+Math.imul(se,Xe)|0,P=P+Math.imul(se,Ve)|0,P=P+Math.imul(j,Xe)|0,V=V+Math.imul(j,Ve)|0,D=D+Math.imul(qe,et)|0,P=P+Math.imul(qe,je)|0,P=P+Math.imul(Fe,et)|0,V=V+Math.imul(Fe,je)|0,D=D+Math.imul(Ae,tt)|0,P=P+Math.imul(Ae,rt)|0,P=P+Math.imul(Me,tt)|0,V=V+Math.imul(Me,rt)|0;var Et=(I+D|0)+((P&8191)<<13)|0;I=(V+(P>>>13)|0)+(Et>>>26)|0,Et&=67108863,D=Math.imul(oe,Xe),P=Math.imul(oe,Ve),P=P+Math.imul(fe,Xe)|0,V=Math.imul(fe,Ve),D=D+Math.imul(se,et)|0,P=P+Math.imul(se,je)|0,P=P+Math.imul(j,et)|0,V=V+Math.imul(j,je)|0,D=D+Math.imul(qe,tt)|0,P=P+Math.imul(qe,rt)|0,P=P+Math.imul(Fe,tt)|0,V=V+Math.imul(Fe,rt)|0;var dt=(I+D|0)+((P&8191)<<13)|0;I=(V+(P>>>13)|0)+(dt>>>26)|0,dt&=67108863,D=Math.imul(oe,et),P=Math.imul(oe,je),P=P+Math.imul(fe,et)|0,V=Math.imul(fe,je),D=D+Math.imul(se,tt)|0,P=P+Math.imul(se,rt)|0,P=P+Math.imul(j,tt)|0,V=V+Math.imul(j,rt)|0;var Ct=(I+D|0)+((P&8191)<<13)|0;I=(V+(P>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,D=Math.imul(oe,tt),P=Math.imul(oe,rt),P=P+Math.imul(fe,tt)|0,V=Math.imul(fe,rt);var Xt=(I+D|0)+((P&8191)<<13)|0;return I=(V+(P>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,T[0]=$t,T[1]=st,T[2]=it,T[3]=Qt,T[4]=Kt,T[5]=jt,T[6]=mt,T[7]=Ht,T[8]=Yt,T[9]=Zt,T[10]=sr,T[11]=ar,T[12]=or,T[13]=Jt,T[14]=gt,T[15]=Et,T[16]=dt,T[17]=Ct,T[18]=Xt,I!==0&&(T[19]=I,M.length++),M};Math.imul||(g=p);function S(Q,C,U){U.negative=C.negative^Q.negative,U.length=Q.length+C.length;for(var M=0,s=0,m=0;m<U.length-1;m++){var T=s;s=0;for(var I=M&67108863,D=Math.min(m,C.length-1),P=Math.max(0,m-Q.length+1);P<=D;P++){var V=m-P,G=Q.words[V]|0,w=C.words[P]|0,Y=G*w,me=Y&67108863;T=T+(Y/67108864|0)|0,me=me+I|0,I=me&67108863,T=T+(me>>>26)|0,s+=T>>>26,T&=67108863}U.words[m]=I,M=T,T=s}return M!==0?U.words[m]=M:U.length--,U.strip()}function A(Q,C,U){var M=new _;return M.mulp(Q,C,U)}o.prototype.mulTo=function(C,U){var M,s=this.length+C.length;return this.length===10&&C.length===10?M=g(this,C,U):s<63?M=p(this,C,U):s<1024?M=S(this,C,U):M=A(this,C,U),M};function _(Q,C){this.x=Q,this.y=C}_.prototype.makeRBT=function(C){for(var U=new Array(C),M=o.prototype._countBits(C)-1,s=0;s<C;s++)U[s]=this.revBin(s,M,C);return U},_.prototype.revBin=function(C,U,M){if(C===0||C===M-1)return C;for(var s=0,m=0;m<U;m++)s|=(C&1)<<U-m-1,C>>=1;return s},_.prototype.permute=function(C,U,M,s,m,T){for(var I=0;I<T;I++)s[I]=U[C[I]],m[I]=M[C[I]]},_.prototype.transform=function(C,U,M,s,m,T){this.permute(T,C,U,M,s,m);for(var I=1;I<m;I<<=1)for(var D=I<<1,P=Math.cos(2*Math.PI/D),V=Math.sin(2*Math.PI/D),G=0;G<m;G+=D)for(var w=P,Y=V,me=0;me<I;me++){var ge=M[G+me],_e=s[G+me],xe=M[G+me+I],ee=s[G+me+I],X=w*xe-Y*ee;ee=w*ee+Y*xe,xe=X,M[G+me]=ge+xe,s[G+me]=_e+ee,M[G+me+I]=ge-xe,s[G+me+I]=_e-ee,me!==D&&(X=P*w-V*Y,Y=P*Y+V*w,w=X)}},_.prototype.guessLen13b=function(C,U){var M=Math.max(U,C)|1,s=M&1,m=0;for(M=M/2|0;M;M=M>>>1)m++;return 1<<m+1+s},_.prototype.conjugate=function(C,U,M){if(!(M<=1))for(var s=0;s<M/2;s++){var m=C[s];C[s]=C[M-s-1],C[M-s-1]=m,m=U[s],U[s]=-U[M-s-1],U[M-s-1]=-m}},_.prototype.normalize13b=function(C,U){for(var M=0,s=0;s<U/2;s++){var m=Math.round(C[2*s+1]/U)*8192+Math.round(C[2*s]/U)+M;C[s]=m&67108863,m<67108864?M=0:M=m/67108864|0}return C},_.prototype.convert13b=function(C,U,M,s){for(var m=0,T=0;T<U;T++)m=m+(C[T]|0),M[2*T]=m&8191,m=m>>>13,M[2*T+1]=m&8191,m=m>>>13;for(T=2*U;T<s;++T)M[T]=0;N(m===0),N((m&~8191)==0)},_.prototype.stub=function(C){for(var U=new Array(C),M=0;M<C;M++)U[M]=0;return U},_.prototype.mulp=function(C,U,M){var s=2*this.guessLen13b(C.length,U.length),m=this.makeRBT(s),T=this.stub(s),I=new Array(s),D=new Array(s),P=new Array(s),V=new Array(s),G=new Array(s),w=new Array(s),Y=M.words;Y.length=s,this.convert13b(C.words,C.length,I,s),this.convert13b(U.words,U.length,V,s),this.transform(I,T,D,P,s,m),this.transform(V,T,G,w,s,m);for(var me=0;me<s;me++){var ge=D[me]*G[me]-P[me]*w[me];P[me]=D[me]*w[me]+P[me]*G[me],D[me]=ge}return this.conjugate(D,P,s),this.transform(D,P,Y,T,s,m),this.conjugate(Y,T,s),this.normalize13b(Y,s),M.negative=C.negative^U.negative,M.length=C.length+U.length,M.strip()},o.prototype.mul=function(C){var U=new o(null);return U.words=new Array(this.length+C.length),this.mulTo(C,U)},o.prototype.mulf=function(C){var U=new o(null);return U.words=new Array(this.length+C.length),A(this,C,U)},o.prototype.imul=function(C){return this.clone().mulTo(C,this)},o.prototype.imuln=function(C){N(typeof C=="number"),N(C<67108864);for(var U=0,M=0;M<this.length;M++){var s=(this.words[M]|0)*C,m=(s&67108863)+(U&67108863);U>>=26,U+=s/67108864|0,U+=m>>>26,this.words[M]=m&67108863}return U!==0&&(this.words[M]=U,this.length++),this},o.prototype.muln=function(C){return this.clone().imuln(C)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(C){var U=d(C);if(U.length===0)return new o(1);for(var M=this,s=0;s<U.length&&U[s]===0;s++,M=M.sqr());if(++s<U.length)for(var m=M.sqr();s<U.length;s++,m=m.sqr())U[s]!==0&&(M=M.mul(m));return M},o.prototype.iushln=function(C){N(typeof C=="number"&&C>=0);var U=C%26,M=(C-U)/26,s=67108863>>>26-U<<26-U,m;if(U!==0){var T=0;for(m=0;m<this.length;m++){var I=this.words[m]&s,D=(this.words[m]|0)-I<<U;this.words[m]=D|T,T=I>>>26-U}T&&(this.words[m]=T,this.length++)}if(M!==0){for(m=this.length-1;m>=0;m--)this.words[m+M]=this.words[m];for(m=0;m<M;m++)this.words[m]=0;this.length+=M}return this.strip()},o.prototype.ishln=function(C){return N(this.negative===0),this.iushln(C)},o.prototype.iushrn=function(C,U,M){N(typeof C=="number"&&C>=0);var s;U?s=(U-U%26)/26:s=0;var m=C%26,T=Math.min((C-m)/26,this.length),I=67108863^67108863>>>m<<m,D=M;if(s-=T,s=Math.max(0,s),D){for(var P=0;P<T;P++)D.words[P]=this.words[P];D.length=T}if(T!==0)if(this.length>T)for(this.length-=T,P=0;P<this.length;P++)this.words[P]=this.words[P+T];else this.words[0]=0,this.length=1;var V=0;for(P=this.length-1;P>=0&&(V!==0||P>=s);P--){var G=this.words[P]|0;this.words[P]=V<<26-m|G>>>m,V=G&I}return D&&V!==0&&(D.words[D.length++]=V),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(C,U,M){return N(this.negative===0),this.iushrn(C,U,M)},o.prototype.shln=function(C){return this.clone().ishln(C)},o.prototype.ushln=function(C){return this.clone().iushln(C)},o.prototype.shrn=function(C){return this.clone().ishrn(C)},o.prototype.ushrn=function(C){return this.clone().iushrn(C)},o.prototype.testn=function(C){N(typeof C=="number"&&C>=0);var U=C%26,M=(C-U)/26,s=1<<U;if(this.length<=M)return!1;var m=this.words[M];return!!(m&s)},o.prototype.imaskn=function(C){N(typeof C=="number"&&C>=0);var U=C%26,M=(C-U)/26;if(N(this.negative===0,"imaskn works only with positive numbers"),this.length<=M)return this;if(U!==0&&M++,this.length=Math.min(M,this.length),U!==0){var s=67108863^67108863>>>U<<U;this.words[this.length-1]&=s}return this.strip()},o.prototype.maskn=function(C){return this.clone().imaskn(C)},o.prototype.iaddn=function(C){return N(typeof C=="number"),N(C<67108864),C<0?this.isubn(-C):this.negative!==0?this.length===1&&(this.words[0]|0)<C?(this.words[0]=C-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(C),this.negative=1,this):this._iaddn(C)},o.prototype._iaddn=function(C){this.words[0]+=C;for(var U=0;U<this.length&&this.words[U]>=67108864;U++)this.words[U]-=67108864,U===this.length-1?this.words[U+1]=1:this.words[U+1]++;return this.length=Math.max(this.length,U+1),this},o.prototype.isubn=function(C){if(N(typeof C=="number"),N(C<67108864),C<0)return this.iaddn(-C);if(this.negative!==0)return this.negative=0,this.iaddn(C),this.negative=1,this;if(this.words[0]-=C,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var U=0;U<this.length&&this.words[U]<0;U++)this.words[U]+=67108864,this.words[U+1]-=1;return this.strip()},o.prototype.addn=function(C){return this.clone().iaddn(C)},o.prototype.subn=function(C){return this.clone().isubn(C)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(C,U,M){var s=C.length+M,m;this._expand(s);var T,I=0;for(m=0;m<C.length;m++){T=(this.words[m+M]|0)+I;var D=(C.words[m]|0)*U;T-=D&67108863,I=(T>>26)-(D/67108864|0),this.words[m+M]=T&67108863}for(;m<this.length-M;m++)T=(this.words[m+M]|0)+I,I=T>>26,this.words[m+M]=T&67108863;if(I===0)return this.strip();for(N(I===-1),I=0,m=0;m<this.length;m++)T=-(this.words[m]|0)+I,I=T>>26,this.words[m]=T&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(C,U){var M=this.length-C.length,s=this.clone(),m=C,T=m.words[m.length-1]|0,I=this._countBits(T);M=26-I,M!==0&&(m=m.ushln(M),s.iushln(M),T=m.words[m.length-1]|0);var D=s.length-m.length,P;if(U!=="mod"){P=new o(null),P.length=D+1,P.words=new Array(P.length);for(var V=0;V<P.length;V++)P.words[V]=0}var G=s.clone()._ishlnsubmul(m,1,D);G.negative===0&&(s=G,P&&(P.words[D]=1));for(var w=D-1;w>=0;w--){var Y=(s.words[m.length+w]|0)*67108864+(s.words[m.length+w-1]|0);for(Y=Math.min(Y/T|0,67108863),s._ishlnsubmul(m,Y,w);s.negative!==0;)Y--,s.negative=0,s._ishlnsubmul(m,1,w),s.isZero()||(s.negative^=1);P&&(P.words[w]=Y)}return P&&P.strip(),s.strip(),U!=="div"&&M!==0&&s.iushrn(M),{div:P||null,mod:s}},o.prototype.divmod=function(C,U,M){if(N(!C.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var s,m,T;return this.negative!==0&&C.negative===0?(T=this.neg().divmod(C,U),U!=="mod"&&(s=T.div.neg()),U!=="div"&&(m=T.mod.neg(),M&&m.negative!==0&&m.iadd(C)),{div:s,mod:m}):this.negative===0&&C.negative!==0?(T=this.divmod(C.neg(),U),U!=="mod"&&(s=T.div.neg()),{div:s,mod:T.mod}):(this.negative&C.negative)!=0?(T=this.neg().divmod(C.neg(),U),U!=="div"&&(m=T.mod.neg(),M&&m.negative!==0&&m.isub(C)),{div:T.div,mod:m}):C.length>this.length||this.cmp(C)<0?{div:new o(0),mod:this}:C.length===1?U==="div"?{div:this.divn(C.words[0]),mod:null}:U==="mod"?{div:null,mod:new o(this.modn(C.words[0]))}:{div:this.divn(C.words[0]),mod:new o(this.modn(C.words[0]))}:this._wordDiv(C,U)},o.prototype.div=function(C){return this.divmod(C,"div",!1).div},o.prototype.mod=function(C){return this.divmod(C,"mod",!1).mod},o.prototype.umod=function(C){return this.divmod(C,"mod",!0).mod},o.prototype.divRound=function(C){var U=this.divmod(C);if(U.mod.isZero())return U.div;var M=U.div.negative!==0?U.mod.isub(C):U.mod,s=C.ushrn(1),m=C.andln(1),T=M.cmp(s);return T<0||m===1&&T===0?U.div:U.div.negative!==0?U.div.isubn(1):U.div.iaddn(1)},o.prototype.modn=function(C){N(C<=67108863);for(var U=(1<<26)%C,M=0,s=this.length-1;s>=0;s--)M=(U*M+(this.words[s]|0))%C;return M},o.prototype.idivn=function(C){N(C<=67108863);for(var U=0,M=this.length-1;M>=0;M--){var s=(this.words[M]|0)+U*67108864;this.words[M]=s/C|0,U=s%C}return this.strip()},o.prototype.divn=function(C){return this.clone().idivn(C)},o.prototype.egcd=function(C){N(C.negative===0),N(!C.isZero());var U=this,M=C.clone();U.negative!==0?U=U.umod(C):U=U.clone();for(var s=new o(1),m=new o(0),T=new o(0),I=new o(1),D=0;U.isEven()&&M.isEven();)U.iushrn(1),M.iushrn(1),++D;for(var P=M.clone(),V=U.clone();!U.isZero();){for(var G=0,w=1;(U.words[0]&w)==0&&G<26;++G,w<<=1);if(G>0)for(U.iushrn(G);G-- >0;)(s.isOdd()||m.isOdd())&&(s.iadd(P),m.isub(V)),s.iushrn(1),m.iushrn(1);for(var Y=0,me=1;(M.words[0]&me)==0&&Y<26;++Y,me<<=1);if(Y>0)for(M.iushrn(Y);Y-- >0;)(T.isOdd()||I.isOdd())&&(T.iadd(P),I.isub(V)),T.iushrn(1),I.iushrn(1);U.cmp(M)>=0?(U.isub(M),s.isub(T),m.isub(I)):(M.isub(U),T.isub(s),I.isub(m))}return{a:T,b:I,gcd:M.iushln(D)}},o.prototype._invmp=function(C){N(C.negative===0),N(!C.isZero());var U=this,M=C.clone();U.negative!==0?U=U.umod(C):U=U.clone();for(var s=new o(1),m=new o(0),T=M.clone();U.cmpn(1)>0&&M.cmpn(1)>0;){for(var I=0,D=1;(U.words[0]&D)==0&&I<26;++I,D<<=1);if(I>0)for(U.iushrn(I);I-- >0;)s.isOdd()&&s.iadd(T),s.iushrn(1);for(var P=0,V=1;(M.words[0]&V)==0&&P<26;++P,V<<=1);if(P>0)for(M.iushrn(P);P-- >0;)m.isOdd()&&m.iadd(T),m.iushrn(1);U.cmp(M)>=0?(U.isub(M),s.isub(m)):(M.isub(U),m.isub(s))}var G;return U.cmpn(1)===0?G=s:G=m,G.cmpn(0)<0&&G.iadd(C),G},o.prototype.gcd=function(C){if(this.isZero())return C.abs();if(C.isZero())return this.abs();var U=this.clone(),M=C.clone();U.negative=0,M.negative=0;for(var s=0;U.isEven()&&M.isEven();s++)U.iushrn(1),M.iushrn(1);do{for(;U.isEven();)U.iushrn(1);for(;M.isEven();)M.iushrn(1);var m=U.cmp(M);if(m<0){var T=U;U=M,M=T}else if(m===0||M.cmpn(1)===0)break;U.isub(M)}while(!0);return M.iushln(s)},o.prototype.invm=function(C){return this.egcd(C).a.umod(C)},o.prototype.isEven=function(){return(this.words[0]&1)==0},o.prototype.isOdd=function(){return(this.words[0]&1)==1},o.prototype.andln=function(C){return this.words[0]&C},o.prototype.bincn=function(C){N(typeof C=="number");var U=C%26,M=(C-U)/26,s=1<<U;if(this.length<=M)return this._expand(M+1),this.words[M]|=s,this;for(var m=s,T=M;m!==0&&T<this.length;T++){var I=this.words[T]|0;I+=m,m=I>>>26,I&=67108863,this.words[T]=I}return m!==0&&(this.words[T]=m,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(C){var U=C<0;if(this.negative!==0&&!U)return-1;if(this.negative===0&&U)return 1;this.strip();var M;if(this.length>1)M=1;else{U&&(C=-C),N(C<=67108863,"Number is too big");var s=this.words[0]|0;M=s===C?0:s<C?-1:1}return this.negative!==0?-M|0:M},o.prototype.cmp=function(C){if(this.negative!==0&&C.negative===0)return-1;if(this.negative===0&&C.negative!==0)return 1;var U=this.ucmp(C);return this.negative!==0?-U|0:U},o.prototype.ucmp=function(C){if(this.length>C.length)return 1;if(this.length<C.length)return-1;for(var U=0,M=this.length-1;M>=0;M--){var s=this.words[M]|0,m=C.words[M]|0;if(s!==m){s<m?U=-1:s>m&&(U=1);break}}return U},o.prototype.gtn=function(C){return this.cmpn(C)===1},o.prototype.gt=function(C){return this.cmp(C)===1},o.prototype.gten=function(C){return this.cmpn(C)>=0},o.prototype.gte=function(C){return this.cmp(C)>=0},o.prototype.ltn=function(C){return this.cmpn(C)===-1},o.prototype.lt=function(C){return this.cmp(C)===-1},o.prototype.lten=function(C){return this.cmpn(C)<=0},o.prototype.lte=function(C){return this.cmp(C)<=0},o.prototype.eqn=function(C){return this.cmpn(C)===0},o.prototype.eq=function(C){return this.cmp(C)===0},o.red=function(C){return new ne(C)},o.prototype.toRed=function(C){return N(!this.red,"Already a number in reduction context"),N(this.negative===0,"red works only with positives"),C.convertTo(this)._forceRed(C)},o.prototype.fromRed=function(){return N(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(C){return this.red=C,this},o.prototype.forceRed=function(C){return N(!this.red,"Already a number in reduction context"),this._forceRed(C)},o.prototype.redAdd=function(C){return N(this.red,"redAdd works only with red numbers"),this.red.add(this,C)},o.prototype.redIAdd=function(C){return N(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,C)},o.prototype.redSub=function(C){return N(this.red,"redSub works only with red numbers"),this.red.sub(this,C)},o.prototype.redISub=function(C){return N(this.red,"redISub works only with red numbers"),this.red.isub(this,C)},o.prototype.redShl=function(C){return N(this.red,"redShl works only with red numbers"),this.red.shl(this,C)},o.prototype.redMul=function(C){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.mul(this,C)},o.prototype.redIMul=function(C){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.imul(this,C)},o.prototype.redSqr=function(){return N(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return N(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return N(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return N(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return N(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(C){return N(this.red&&!C.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,C)};var F={k256:null,p224:null,p192:null,p25519:null};function H(Q,C){this.name=Q,this.p=new o(C,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}H.prototype._tmp=function(){var C=new o(null);return C.words=new Array(Math.ceil(this.n/13)),C},H.prototype.ireduce=function(C){var U=C,M;do this.split(U,this.tmp),U=this.imulK(U),U=U.iadd(this.tmp),M=U.bitLength();while(M>this.n);var s=M<this.n?-1:U.ucmp(this.p);return s===0?(U.words[0]=0,U.length=1):s>0?U.isub(this.p):U.strip!==void 0?U.strip():U._strip(),U},H.prototype.split=function(C,U){C.iushrn(this.n,0,U)},H.prototype.imulK=function(C){return C.imul(this.k)};function K(){H.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}k(K,H),K.prototype.split=function(C,U){for(var M=4194303,s=Math.min(C.length,9),m=0;m<s;m++)U.words[m]=C.words[m];if(U.length=s,C.length<=9){C.words[0]=0,C.length=1;return}var T=C.words[9];for(U.words[U.length++]=T&M,m=10;m<C.length;m++){var I=C.words[m]|0;C.words[m-10]=(I&M)<<4|T>>>22,T=I}T>>>=22,C.words[m-10]=T,T===0&&C.length>10?C.length-=10:C.length-=9},K.prototype.imulK=function(C){C.words[C.length]=0,C.words[C.length+1]=0,C.length+=2;for(var U=0,M=0;M<C.length;M++){var s=C.words[M]|0;U+=s*977,C.words[M]=U&67108863,U=s*64+(U/67108864|0)}return C.words[C.length-1]===0&&(C.length--,C.words[C.length-1]===0&&C.length--),C};function J(){H.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}k(J,H);function te(){H.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}k(te,H);function ie(){H.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}k(ie,H),ie.prototype.imulK=function(C){for(var U=0,M=0;M<C.length;M++){var s=(C.words[M]|0)*19+U,m=s&67108863;s>>>=26,C.words[M]=m,U=s}return U!==0&&(C.words[C.length++]=U),C},o._prime=function(C){if(F[C])return F[C];var U;if(C==="k256")U=new K;else if(C==="p224")U=new J;else if(C==="p192")U=new te;else if(C==="p25519")U=new ie;else throw new Error("Unknown prime "+C);return F[C]=U,U};function ne(Q){if(typeof Q=="string"){var C=o._prime(Q);this.m=C.p,this.prime=C}else N(Q.gtn(1),"modulus must be greater than 1"),this.m=Q,this.prime=null}ne.prototype._verify1=function(C){N(C.negative===0,"red works only with positives"),N(C.red,"red works only with red numbers")},ne.prototype._verify2=function(C,U){N((C.negative|U.negative)==0,"red works only with positives"),N(C.red&&C.red===U.red,"red works only with red numbers")},ne.prototype.imod=function(C){return this.prime?this.prime.ireduce(C)._forceRed(this):C.umod(this.m)._forceRed(this)},ne.prototype.neg=function(C){return C.isZero()?C.clone():this.m.sub(C)._forceRed(this)},ne.prototype.add=function(C,U){this._verify2(C,U);var M=C.add(U);return M.cmp(this.m)>=0&&M.isub(this.m),M._forceRed(this)},ne.prototype.iadd=function(C,U){this._verify2(C,U);var M=C.iadd(U);return M.cmp(this.m)>=0&&M.isub(this.m),M},ne.prototype.sub=function(C,U){this._verify2(C,U);var M=C.sub(U);return M.cmpn(0)<0&&M.iadd(this.m),M._forceRed(this)},ne.prototype.isub=function(C,U){this._verify2(C,U);var M=C.isub(U);return M.cmpn(0)<0&&M.iadd(this.m),M},ne.prototype.shl=function(C,U){return this._verify1(C),this.imod(C.ushln(U))},ne.prototype.imul=function(C,U){return this._verify2(C,U),this.imod(C.imul(U))},ne.prototype.mul=function(C,U){return this._verify2(C,U),this.imod(C.mul(U))},ne.prototype.isqr=function(C){return this.imul(C,C.clone())},ne.prototype.sqr=function(C){return this.mul(C,C)},ne.prototype.sqrt=function(C){if(C.isZero())return C.clone();var U=this.m.andln(3);if(N(U%2==1),U===3){var M=this.m.add(new o(1)).iushrn(2);return this.pow(C,M)}for(var s=this.m.subn(1),m=0;!s.isZero()&&s.andln(1)===0;)m++,s.iushrn(1);N(!s.isZero());var T=new o(1).toRed(this),I=T.redNeg(),D=this.m.subn(1).iushrn(1),P=this.m.bitLength();for(P=new o(2*P*P).toRed(this);this.pow(P,D).cmp(I)!==0;)P.redIAdd(I);for(var V=this.pow(P,s),G=this.pow(C,s.addn(1).iushrn(1)),w=this.pow(C,s),Y=m;w.cmp(T)!==0;){for(var me=w,ge=0;me.cmp(T)!==0;ge++)me=me.redSqr();N(ge<Y);var _e=this.pow(V,new o(1).iushln(Y-ge-1));G=G.redMul(_e),V=_e.redSqr(),w=w.redMul(V),Y=ge}return G},ne.prototype.invm=function(C){var U=C._invmp(this.m);return U.negative!==0?(U.negative=0,this.imod(U).redNeg()):this.imod(U)},ne.prototype.pow=function(C,U){if(U.isZero())return new o(1).toRed(this);if(U.cmpn(1)===0)return C.clone();var M=4,s=new Array(1<<M);s[0]=new o(1).toRed(this),s[1]=C;for(var m=2;m<s.length;m++)s[m]=this.mul(s[m-1],C);var T=s[0],I=0,D=0,P=U.bitLength()%26;for(P===0&&(P=26),m=U.length-1;m>=0;m--){for(var V=U.words[m],G=P-1;G>=0;G--){var w=V>>G&1;if(T!==s[0]&&(T=this.sqr(T)),w===0&&I===0){D=0;continue}I<<=1,I|=w,D++,!(D!==M&&(m!==0||G!==0))&&(T=this.mul(T,s[I]),D=0,I=0)}P=26}return T},ne.prototype.convertTo=function(C){var U=C.umod(this.m);return U===C?U.clone():U},ne.prototype.convertFrom=function(C){var U=C.clone();return U.red=null,U},o.mont=function(C){return new ue(C)};function ue(Q){ne.call(this,Q),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}k(ue,ne),ue.prototype.convertTo=function(C){return this.imod(C.ushln(this.shift))},ue.prototype.convertFrom=function(C){var U=this.imod(C.mul(this.rinv));return U.red=null,U},ue.prototype.imul=function(C,U){if(C.isZero()||U.isZero())return C.words[0]=0,C.length=1,C;var M=C.imul(U),s=M.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=M.isub(s).iushrn(this.shift),T=m;return m.cmp(this.m)>=0?T=m.isub(this.m):m.cmpn(0)<0&&(T=m.iadd(this.m)),T._forceRed(this)},ue.prototype.mul=function(C,U){if(C.isZero()||U.isZero())return new o(0)._forceRed(this);var M=C.mul(U),s=M.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=M.isub(s).iushrn(this.shift),T=m;return m.cmp(this.m)>=0?T=m.isub(this.m):m.cmpn(0)<0&&(T=m.iadd(this.m)),T._forceRed(this)},ue.prototype.invm=function(C){var U=this.imod(C._invmp(this.m).mul(this.r2));return U._forceRed(this)}}(b,this)},9931:(b,z,y)=>{var R;b.exports=function(o){return R||(R=new O(null)),R.generate(o)};function O(k){this.rand=k}if(b.exports.Rand=O,O.prototype.generate=function(o){return this._rand(o)},O.prototype._rand=function(o){if(this.rand.getBytes)return this.rand.getBytes(o);for(var u=new Uint8Array(o),n=0;n<u.length;n++)u[n]=this.rand.getByte();return u},typeof self=="object")self.crypto&&self.crypto.getRandomValues?O.prototype._rand=function(o){var u=new Uint8Array(o);return self.crypto.getRandomValues(u),u}:self.msCrypto&&self.msCrypto.getRandomValues?O.prototype._rand=function(o){var u=new Uint8Array(o);return self.msCrypto.getRandomValues(u),u}:typeof window=="object"&&(O.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var N=y(9214);if(typeof N.randomBytes!="function")throw new Error("Not supported");O.prototype._rand=function(o){return N.randomBytes(o)}}catch(k){}},4497:(b,z,y)=>{var R=y(9509).Buffer;function O(c){R.isBuffer(c)||(c=R.from(c));for(var v=c.length/4|0,f=new Array(v),l=0;l<v;l++)f[l]=c.readUInt32BE(l*4);return f}function N(c){for(var v=0;v<c.length;c++)c[v]=0}function k(c,v,f,l,E){for(var d=f[0],p=f[1],g=f[2],S=f[3],A=c[0]^v[0],_=c[1]^v[1],F=c[2]^v[2],H=c[3]^v[3],K,J,te,ie,ne=4,ue=1;ue<E;ue++)K=d[A>>>24]^p[_>>>16&255]^g[F>>>8&255]^S[H&255]^v[ne++],J=d[_>>>24]^p[F>>>16&255]^g[H>>>8&255]^S[A&255]^v[ne++],te=d[F>>>24]^p[H>>>16&255]^g[A>>>8&255]^S[_&255]^v[ne++],ie=d[H>>>24]^p[A>>>16&255]^g[_>>>8&255]^S[F&255]^v[ne++],A=K,_=J,F=te,H=ie;return K=(l[A>>>24]<<24|l[_>>>16&255]<<16|l[F>>>8&255]<<8|l[H&255])^v[ne++],J=(l[_>>>24]<<24|l[F>>>16&255]<<16|l[H>>>8&255]<<8|l[A&255])^v[ne++],te=(l[F>>>24]<<24|l[H>>>16&255]<<16|l[A>>>8&255]<<8|l[_&255])^v[ne++],ie=(l[H>>>24]<<24|l[A>>>16&255]<<16|l[_>>>8&255]<<8|l[F&255])^v[ne++],K=K>>>0,J=J>>>0,te=te>>>0,ie=ie>>>0,[K,J,te,ie]}var o=[0,1,2,4,8,16,32,64,128,27,54],u=function(){for(var c=new Array(256),v=0;v<256;v++)v<128?c[v]=v<<1:c[v]=v<<1^283;for(var f=[],l=[],E=[[],[],[],[]],d=[[],[],[],[]],p=0,g=0,S=0;S<256;++S){var A=g^g<<1^g<<2^g<<3^g<<4;A=A>>>8^A&255^99,f[p]=A,l[A]=p;var _=c[p],F=c[_],H=c[F],K=c[A]*257^A*16843008;E[0][p]=K<<24|K>>>8,E[1][p]=K<<16|K>>>16,E[2][p]=K<<8|K>>>24,E[3][p]=K,K=H*16843009^F*65537^_*257^p*16843008,d[0][A]=K<<24|K>>>8,d[1][A]=K<<16|K>>>16,d[2][A]=K<<8|K>>>24,d[3][A]=K,p===0?p=g=1:(p=_^c[c[c[H^_]]],g^=c[c[g]])}return{SBOX:f,INV_SBOX:l,SUB_MIX:E,INV_SUB_MIX:d}}();function n(c){this._key=O(c),this._reset()}n.blockSize=4*4,n.keySize=256/8,n.prototype.blockSize=n.blockSize,n.prototype.keySize=n.keySize,n.prototype._reset=function(){for(var c=this._key,v=c.length,f=v+6,l=(f+1)*4,E=[],d=0;d<v;d++)E[d]=c[d];for(d=v;d<l;d++){var p=E[d-1];d%v==0?(p=p<<8|p>>>24,p=u.SBOX[p>>>24]<<24|u.SBOX[p>>>16&255]<<16|u.SBOX[p>>>8&255]<<8|u.SBOX[p&255],p^=o[d/v|0]<<24):v>6&&d%v==4&&(p=u.SBOX[p>>>24]<<24|u.SBOX[p>>>16&255]<<16|u.SBOX[p>>>8&255]<<8|u.SBOX[p&255]),E[d]=E[d-v]^p}for(var g=[],S=0;S<l;S++){var A=l-S,_=E[A-(S%4?0:4)];S<4||A<=4?g[S]=_:g[S]=u.INV_SUB_MIX[0][u.SBOX[_>>>24]]^u.INV_SUB_MIX[1][u.SBOX[_>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[_>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[_&255]]}this._nRounds=f,this._keySchedule=E,this._invKeySchedule=g},n.prototype.encryptBlockRaw=function(c){return c=O(c),k(c,this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},n.prototype.encryptBlock=function(c){var v=this.encryptBlockRaw(c),f=R.allocUnsafe(16);return f.writeUInt32BE(v[0],0),f.writeUInt32BE(v[1],4),f.writeUInt32BE(v[2],8),f.writeUInt32BE(v[3],12),f},n.prototype.decryptBlock=function(c){c=O(c);var v=c[1];c[1]=c[3],c[3]=v;var f=k(c,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),l=R.allocUnsafe(16);return l.writeUInt32BE(f[0],0),l.writeUInt32BE(f[3],4),l.writeUInt32BE(f[2],8),l.writeUInt32BE(f[1],12),l},n.prototype.scrub=function(){N(this._keySchedule),N(this._invKeySchedule),N(this._key)},b.exports.AES=n},2422:(b,z,y)=>{var R=y(4497),O=y(9509).Buffer,N=y(1027),k=y(5717),o=y(3288),u=y(7295),n=y(685);function c(l,E){var d=0;l.length!==E.length&&d++;for(var p=Math.min(l.length,E.length),g=0;g<p;++g)d+=l[g]^E[g];return d}function v(l,E,d){if(E.length===12)return l._finID=O.concat([E,O.from([0,0,0,1])]),O.concat([E,O.from([0,0,0,2])]);var p=new o(d),g=E.length,S=g%16;p.update(E),S&&(S=16-S,p.update(O.alloc(S,0))),p.update(O.alloc(8,0));var A=g*8,_=O.alloc(8);_.writeUIntBE(A,0,8),p.update(_),l._finID=p.state;var F=O.from(l._finID);return n(F),F}function f(l,E,d,p){N.call(this);var g=O.alloc(4,0);this._cipher=new R.AES(E);var S=this._cipher.encryptBlock(g);this._ghash=new o(S),d=v(this,d,S),this._prev=O.from(d),this._cache=O.allocUnsafe(0),this._secCache=O.allocUnsafe(0),this._decrypt=p,this._alen=0,this._len=0,this._mode=l,this._authTag=null,this._called=!1}k(f,N),f.prototype._update=function(l){if(!this._called&&this._alen){var E=16-this._alen%16;E<16&&(E=O.alloc(E,0),this._ghash.update(E))}this._called=!0;var d=this._mode.encrypt(this,l);return this._decrypt?this._ghash.update(l):this._ghash.update(d),this._len+=l.length,d},f.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var l=u(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&c(l,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=l,this._cipher.scrub()},f.prototype.getAuthTag=function(){if(this._decrypt||!O.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},f.prototype.setAuthTag=function(E){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=E},f.prototype.setAAD=function(E){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(E),this._alen+=E.length},b.exports=f},4696:(b,z,y)=>{var R=y(1494),O=y(6193),N=y(5415);function k(){return Object.keys(N)}z.createCipher=z.Cipher=R.createCipher,z.createCipheriv=z.Cipheriv=R.createCipheriv,z.createDecipher=z.Decipher=O.createDecipher,z.createDecipheriv=z.Decipheriv=O.createDecipheriv,z.listCiphers=z.getCiphers=k},6193:(b,z,y)=>{var R=y(2422),O=y(9509).Buffer,N=y(45),k=y(5969),o=y(1027),u=y(4497),n=y(3048),c=y(5717);function v(p,g,S){o.call(this),this._cache=new f,this._last=void 0,this._cipher=new u.AES(g),this._prev=O.from(S),this._mode=p,this._autopadding=!0}c(v,o),v.prototype._update=function(p){this._cache.add(p);for(var g,S,A=[];g=this._cache.get(this._autopadding);)S=this._mode.decrypt(this,g),A.push(S);return O.concat(A)},v.prototype._final=function(){var p=this._cache.flush();if(this._autopadding)return l(this._mode.decrypt(this,p));if(p)throw new Error("data not multiple of block length")},v.prototype.setAutoPadding=function(p){return this._autopadding=!!p,this};function f(){this.cache=O.allocUnsafe(0)}f.prototype.add=function(p){this.cache=O.concat([this.cache,p])},f.prototype.get=function(p){var g;if(p){if(this.cache.length>16)return g=this.cache.slice(0,16),this.cache=this.cache.slice(16),g}else if(this.cache.length>=16)return g=this.cache.slice(0,16),this.cache=this.cache.slice(16),g;return null},f.prototype.flush=function(){if(this.cache.length)return this.cache};function l(p){var g=p[15];if(g<1||g>16)throw new Error("unable to decrypt data");for(var S=-1;++S<g;)if(p[S+(16-g)]!==g)throw new Error("unable to decrypt data");if(g!==16)return p.slice(0,16-g)}function E(p,g,S){var A=N[p.toLowerCase()];if(!A)throw new TypeError("invalid suite type");if(typeof S=="string"&&(S=O.from(S)),A.mode!=="GCM"&&S.length!==A.iv)throw new TypeError("invalid iv length "+S.length);if(typeof g=="string"&&(g=O.from(g)),g.length!==A.key/8)throw new TypeError("invalid key length "+g.length);return A.type==="stream"?new k(A.module,g,S,!0):A.type==="auth"?new R(A.module,g,S,!0):new v(A.module,g,S)}function d(p,g){var S=N[p.toLowerCase()];if(!S)throw new TypeError("invalid suite type");var A=n(g,!1,S.key,S.iv);return E(p,A.key,A.iv)}z.createDecipher=d,z.createDecipheriv=E},1494:(b,z,y)=>{var R=y(45),O=y(2422),N=y(9509).Buffer,k=y(5969),o=y(1027),u=y(4497),n=y(3048),c=y(5717);function v(p,g,S){o.call(this),this._cache=new l,this._cipher=new u.AES(g),this._prev=N.from(S),this._mode=p,this._autopadding=!0}c(v,o),v.prototype._update=function(p){this._cache.add(p);for(var g,S,A=[];g=this._cache.get();)S=this._mode.encrypt(this,g),A.push(S);return N.concat(A)};var f=N.alloc(16,16);v.prototype._final=function(){var p=this._cache.flush();if(this._autopadding)return p=this._mode.encrypt(this,p),this._cipher.scrub(),p;if(!p.equals(f))throw this._cipher.scrub(),new Error("data not multiple of block length")},v.prototype.setAutoPadding=function(p){return this._autopadding=!!p,this};function l(){this.cache=N.allocUnsafe(0)}l.prototype.add=function(p){this.cache=N.concat([this.cache,p])},l.prototype.get=function(){if(this.cache.length>15){var p=this.cache.slice(0,16);return this.cache=this.cache.slice(16),p}return null},l.prototype.flush=function(){for(var p=16-this.cache.length,g=N.allocUnsafe(p),S=-1;++S<p;)g.writeUInt8(p,S);return N.concat([this.cache,g])};function E(p,g,S){var A=R[p.toLowerCase()];if(!A)throw new TypeError("invalid suite type");if(typeof g=="string"&&(g=N.from(g)),g.length!==A.key/8)throw new TypeError("invalid key length "+g.length);if(typeof S=="string"&&(S=N.from(S)),A.mode!=="GCM"&&S.length!==A.iv)throw new TypeError("invalid iv length "+S.length);return A.type==="stream"?new k(A.module,g,S):A.type==="auth"?new O(A.module,g,S):new v(A.module,g,S)}function d(p,g){var S=R[p.toLowerCase()];if(!S)throw new TypeError("invalid suite type");var A=n(g,!1,S.key,S.iv);return E(p,A.key,A.iv)}z.createCipheriv=E,z.createCipher=d},3288:(b,z,y)=>{var R=y(9509).Buffer,O=R.alloc(16,0);function N(u){return[u.readUInt32BE(0),u.readUInt32BE(4),u.readUInt32BE(8),u.readUInt32BE(12)]}function k(u){var n=R.allocUnsafe(16);return n.writeUInt32BE(u[0]>>>0,0),n.writeUInt32BE(u[1]>>>0,4),n.writeUInt32BE(u[2]>>>0,8),n.writeUInt32BE(u[3]>>>0,12),n}function o(u){this.h=u,this.state=R.alloc(16,0),this.cache=R.allocUnsafe(0)}o.prototype.ghash=function(u){for(var n=-1;++n<u.length;)this.state[n]^=u[n];this._multiply()},o.prototype._multiply=function(){for(var u=N(this.h),n=[0,0,0,0],c,v,f,l=-1;++l<128;){for(v=(this.state[~~(l/8)]&1<<7-l%8)!=0,v&&(n[0]^=u[0],n[1]^=u[1],n[2]^=u[2],n[3]^=u[3]),f=(u[3]&1)!=0,c=3;c>0;c--)u[c]=u[c]>>>1|(u[c-1]&1)<<31;u[0]=u[0]>>>1,f&&(u[0]=u[0]^225<<24)}this.state=k(n)},o.prototype.update=function(u){this.cache=R.concat([this.cache,u]);for(var n;this.cache.length>=16;)n=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(n)},o.prototype.final=function(u,n){return this.cache.length&&this.ghash(R.concat([this.cache,O],16)),this.ghash(k([0,u,0,n])),this.state},b.exports=o},685:b=>{function z(y){for(var R=y.length,O;R--;)if(O=y.readUInt8(R),O===255)y.writeUInt8(0,R);else{O++,y.writeUInt8(O,R);break}}b.exports=z},5292:(b,z,y)=>{var R=y(7295);z.encrypt=function(O,N){var k=R(N,O._prev);return O._prev=O._cipher.encryptBlock(k),O._prev},z.decrypt=function(O,N){var k=O._prev;O._prev=N;var o=O._cipher.decryptBlock(N);return R(o,k)}},6311:(b,z,y)=>{var R=y(9509).Buffer,O=y(7295);function N(k,o,u){var n=o.length,c=O(o,k._cache);return k._cache=k._cache.slice(n),k._prev=R.concat([k._prev,u?o:c]),c}z.encrypt=function(k,o,u){for(var n=R.allocUnsafe(0),c;o.length;)if(k._cache.length===0&&(k._cache=k._cipher.encryptBlock(k._prev),k._prev=R.allocUnsafe(0)),k._cache.length<=o.length)c=k._cache.length,n=R.concat([n,N(k,o.slice(0,c),u)]),o=o.slice(c);else{n=R.concat([n,N(k,o,u)]);break}return n}},1510:(b,z,y)=>{var R=y(9509).Buffer;function O(k,o,u){for(var n,c=-1,v=8,f=0,l,E;++c<v;)n=k._cipher.encryptBlock(k._prev),l=o&1<<7-c?128:0,E=n[0]^l,f+=(E&128)>>c%8,k._prev=N(k._prev,u?l:E);return f}function N(k,o){var u=k.length,n=-1,c=R.allocUnsafe(k.length);for(k=R.concat([k,R.from([o])]);++n<u;)c[n]=k[n]<<1|k[n+1]>>7;return c}z.encrypt=function(k,o,u){for(var n=o.length,c=R.allocUnsafe(n),v=-1;++v<n;)c[v]=O(k,o[v],u);return c}},1964:(b,z,y)=>{var R=y(9509).Buffer;function O(N,k,o){var u=N._cipher.encryptBlock(N._prev),n=u[0]^k;return N._prev=R.concat([N._prev.slice(1),R.from([o?k:n])]),n}z.encrypt=function(N,k,o){for(var u=k.length,n=R.allocUnsafe(u),c=-1;++c<u;)n[c]=O(N,k[c],o);return n}},6009:(b,z,y)=>{var R=y(7295),O=y(9509).Buffer,N=y(685);function k(u){var n=u._cipher.encryptBlockRaw(u._prev);return N(u._prev),n}var o=16;z.encrypt=function(u,n){var c=Math.ceil(n.length/o),v=u._cache.length;u._cache=O.concat([u._cache,O.allocUnsafe(c*o)]);for(var f=0;f<c;f++){var l=k(u),E=v+f*o;u._cache.writeUInt32BE(l[0],E+0),u._cache.writeUInt32BE(l[1],E+4),u._cache.writeUInt32BE(l[2],E+8),u._cache.writeUInt32BE(l[3],E+12)}var d=u._cache.slice(0,n.length);return u._cache=u._cache.slice(n.length),R(n,d)}},1084:(b,z)=>{z.encrypt=function(y,R){return y._cipher.encryptBlock(R)},z.decrypt=function(y,R){return y._cipher.decryptBlock(R)}},45:(b,z,y)=>{var R={ECB:y(1084),CBC:y(5292),CFB:y(6311),CFB8:y(1964),CFB1:y(1510),OFB:y(8861),CTR:y(6009),GCM:y(6009)},O=y(5415);for(var N in O)O[N].module=R[O[N].mode];b.exports=O},5415:b=>{"use strict";b.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},8861:(b,z,y)=>{var R=y(7295);function O(N){return N._prev=N._cipher.encryptBlock(N._prev),N._prev}z.encrypt=function(N,k){for(;N._cache.length<k.length;)N._cache=Buffer.concat([N._cache,O(N)]);var o=N._cache.slice(0,k.length);return N._cache=N._cache.slice(k.length),R(k,o)}},5969:(b,z,y)=>{var R=y(4497),O=y(9509).Buffer,N=y(1027),k=y(5717);function o(u,n,c,v){N.call(this),this._cipher=new R.AES(n),this._prev=O.from(c),this._cache=O.allocUnsafe(0),this._secCache=O.allocUnsafe(0),this._decrypt=v,this._mode=u}k(o,N),o.prototype._update=function(u){return this._mode.encrypt(this,u,this._decrypt)},o.prototype._final=function(){this._cipher.scrub()},b.exports=o},3614:(b,z,y)=>{var R=y(7667),O=y(4696),N=y(45),k=y(9715),o=y(3048);function u(l,E){l=l.toLowerCase();var d,p;if(N[l])d=N[l].key,p=N[l].iv;else if(k[l])d=k[l].key*8,p=k[l].iv;else throw new TypeError("invalid suite type");var g=o(E,!1,d,p);return c(l,g.key,g.iv)}function n(l,E){l=l.toLowerCase();var d,p;if(N[l])d=N[l].key,p=N[l].iv;else if(k[l])d=k[l].key*8,p=k[l].iv;else throw new TypeError("invalid suite type");var g=o(E,!1,d,p);return v(l,g.key,g.iv)}function c(l,E,d){if(l=l.toLowerCase(),N[l])return O.createCipheriv(l,E,d);if(k[l])return new R({key:E,iv:d,mode:l});throw new TypeError("invalid suite type")}function v(l,E,d){if(l=l.toLowerCase(),N[l])return O.createDecipheriv(l,E,d);if(k[l])return new R({key:E,iv:d,mode:l,decrypt:!0});throw new TypeError("invalid suite type")}function f(){return Object.keys(k).concat(O.getCiphers())}z.createCipher=z.Cipher=u,z.createCipheriv=z.Cipheriv=c,z.createDecipher=z.Decipher=n,z.createDecipheriv=z.Decipheriv=v,z.listCiphers=z.getCiphers=f},7667:(b,z,y)=>{var R=y(1027),O=y(5251),N=y(5717),k=y(9509).Buffer,o={"des-ede3-cbc":O.CBC.instantiate(O.EDE),"des-ede3":O.EDE,"des-ede-cbc":O.CBC.instantiate(O.EDE),"des-ede":O.EDE,"des-cbc":O.CBC.instantiate(O.DES),"des-ecb":O.DES};o.des=o["des-cbc"],o.des3=o["des-ede3-cbc"],b.exports=u,N(u,R);function u(n){R.call(this);var c=n.mode.toLowerCase(),v=o[c],f;n.decrypt?f="decrypt":f="encrypt";var l=n.key;k.isBuffer(l)||(l=k.from(l)),(c==="des-ede"||c==="des-ede-cbc")&&(l=k.concat([l,l.slice(0,8)]));var E=n.iv;k.isBuffer(E)||(E=k.from(E)),this._des=v.create({key:l,iv:E,type:f})}u.prototype._update=function(n){return k.from(this._des.update(n))},u.prototype._final=function(){return k.from(this._des.final())}},9715:(b,z)=>{z["des-ecb"]={key:8,iv:0},z["des-cbc"]=z.des={key:8,iv:8},z["des-ede3-cbc"]=z.des3={key:24,iv:8},z["des-ede3"]={key:24,iv:0},z["des-ede-cbc"]={key:16,iv:8},z["des-ede"]={key:16,iv:0}},3663:(b,z,y)=>{var R=y(3982),O=y(1798);function N(u){var n=k(u),c=n.toRed(R.mont(u.modulus)).redPow(new R(u.publicExponent)).fromRed();return{blinder:c,unblinder:n.invm(u.modulus)}}function k(u){var n=u.modulus.byteLength(),c;do c=new R(O(n));while(c.cmp(u.modulus)>=0||!c.umod(u.prime1)||!c.umod(u.prime2));return c}function o(u,n){var c=N(n),v=n.modulus.byteLength(),f=new R(u).mul(c.blinder).umod(n.modulus),l=f.toRed(R.mont(n.prime1)),E=f.toRed(R.mont(n.prime2)),d=n.coefficient,p=n.prime1,g=n.prime2,S=l.redPow(n.exponent1).fromRed(),A=E.redPow(n.exponent2).fromRed(),_=S.isub(A).imul(d).umod(p).imul(g);return A.iadd(_).imul(c.unblinder).umod(n.modulus).toArrayLike(Buffer,"be",v)}o.getr=k,b.exports=o},3982:function(b,z,y){b=y.nmd(b),function(R,O){"use strict";function N(M,s){if(!M)throw new Error(s||"Assertion failed")}function k(M,s){M.super_=s;var m=function(){};m.prototype=s.prototype,M.prototype=new m,M.prototype.constructor=M}function o(M,s,m){if(o.isBN(M))return M;this.negative=0,this.words=null,this.length=0,this.red=null,M!==null&&((s==="le"||s==="be")&&(m=s,s=10),this._init(M||0,s||10,m||"be"))}typeof R=="object"?R.exports=o:O.BN=o,o.BN=o,o.wordSize=26;var u;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?u=window.Buffer:u=y(1922).Buffer}catch(M){}o.isBN=function(s){return s instanceof o?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===o.wordSize&&Array.isArray(s.words)},o.max=function(s,m){return s.cmp(m)>0?s:m},o.min=function(s,m){return s.cmp(m)<0?s:m},o.prototype._init=function(s,m,T){if(typeof s=="number")return this._initNumber(s,m,T);if(typeof s=="object")return this._initArray(s,m,T);m==="hex"&&(m=16),N(m===(m|0)&&m>=2&&m<=36),s=s.toString().replace(/\s+/g,"");var I=0;s[0]==="-"&&(I++,this.negative=1),I<s.length&&(m===16?this._parseHex(s,I,T):(this._parseBase(s,m,I),T==="le"&&this._initArray(this.toArray(),m,T)))},o.prototype._initNumber=function(s,m,T){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(N(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),T==="le"&&this._initArray(this.toArray(),m,T)},o.prototype._initArray=function(s,m,T){if(N(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var D,P,V=0;if(T==="be")for(I=s.length-1,D=0;I>=0;I-=3)P=s[I]|s[I-1]<<8|s[I-2]<<16,this.words[D]|=P<<V&67108863,this.words[D+1]=P>>>26-V&67108863,V+=24,V>=26&&(V-=26,D++);else if(T==="le")for(I=0,D=0;I<s.length;I+=3)P=s[I]|s[I+1]<<8|s[I+2]<<16,this.words[D]|=P<<V&67108863,this.words[D+1]=P>>>26-V&67108863,V+=24,V>=26&&(V-=26,D++);return this._strip()};function n(M,s){var m=M.charCodeAt(s);if(m>=48&&m<=57)return m-48;if(m>=65&&m<=70)return m-55;if(m>=97&&m<=102)return m-87;N(!1,"Invalid character in "+M)}function c(M,s,m){var T=n(M,m);return m-1>=s&&(T|=n(M,m-1)<<4),T}o.prototype._parseHex=function(s,m,T){this.length=Math.ceil((s.length-m)/6),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var D=0,P=0,V;if(T==="be")for(I=s.length-1;I>=m;I-=2)V=c(s,m,I)<<D,this.words[P]|=V&67108863,D>=18?(D-=18,P+=1,this.words[P]|=V>>>26):D+=8;else{var G=s.length-m;for(I=G%2==0?m+1:m;I<s.length;I+=2)V=c(s,m,I)<<D,this.words[P]|=V&67108863,D>=18?(D-=18,P+=1,this.words[P]|=V>>>26):D+=8}this._strip()};function v(M,s,m,T){for(var I=0,D=0,P=Math.min(M.length,m),V=s;V<P;V++){var G=M.charCodeAt(V)-48;I*=T,G>=49?D=G-49+10:G>=17?D=G-17+10:D=G,N(G>=0&&D<T,"Invalid character"),I+=D}return I}o.prototype._parseBase=function(s,m,T){this.words=[0],this.length=1;for(var I=0,D=1;D<=67108863;D*=m)I++;I--,D=D/m|0;for(var P=s.length-T,V=P%I,G=Math.min(P,P-V)+T,w=0,Y=T;Y<G;Y+=I)w=v(s,Y,Y+I,m),this.imuln(D),this.words[0]+w<67108864?this.words[0]+=w:this._iaddn(w);if(V!==0){var me=1;for(w=v(s,Y,s.length,m),Y=0;Y<V;Y++)me*=m;this.imuln(me),this.words[0]+w<67108864?this.words[0]+=w:this._iaddn(w)}this._strip()},o.prototype.copy=function(s){s.words=new Array(this.length);for(var m=0;m<this.length;m++)s.words[m]=this.words[m];s.length=this.length,s.negative=this.negative,s.red=this.red};function f(M,s){M.words=s.words,M.length=s.length,M.negative=s.negative,M.red=s.red}if(o.prototype._move=function(s){f(s,this)},o.prototype.clone=function(){var s=new o(null);return this.copy(s),s},o.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch(M){o.prototype.inspect=l}else o.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var E=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(s,m){s=s||10,m=m|0||1;var T;if(s===16||s==="hex"){T="";for(var I=0,D=0,P=0;P<this.length;P++){var V=this.words[P],G=((V<<I|D)&16777215).toString(16);D=V>>>24-I&16777215,D!==0||P!==this.length-1?T=E[6-G.length]+G+T:T=G+T,I+=2,I>=26&&(I-=26,P--)}for(D!==0&&(T=D.toString(16)+T);T.length%m!=0;)T="0"+T;return this.negative!==0&&(T="-"+T),T}if(s===(s|0)&&s>=2&&s<=36){var w=d[s],Y=p[s];T="";var me=this.clone();for(me.negative=0;!me.isZero();){var ge=me.modrn(Y).toString(s);me=me.idivn(Y),me.isZero()?T=ge+T:T=E[w-ge.length]+ge+T}for(this.isZero()&&(T="0"+T);T.length%m!=0;)T="0"+T;return this.negative!==0&&(T="-"+T),T}N(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&N(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},o.prototype.toJSON=function(){return this.toString(16,2)},u&&(o.prototype.toBuffer=function(s,m){return this.toArrayLike(u,s,m)}),o.prototype.toArray=function(s,m){return this.toArrayLike(Array,s,m)};var g=function(s,m){return s.allocUnsafe?s.allocUnsafe(m):new s(m)};o.prototype.toArrayLike=function(s,m,T){this._strip();var I=this.byteLength(),D=T||Math.max(1,I);N(I<=D,"byte array longer than desired length"),N(D>0,"Requested array length <= 0");var P=g(s,D),V=m==="le"?"LE":"BE";return this["_toArrayLike"+V](P,I),P},o.prototype._toArrayLikeLE=function(s,m){for(var T=0,I=0,D=0,P=0;D<this.length;D++){var V=this.words[D]<<P|I;s[T++]=V&255,T<s.length&&(s[T++]=V>>8&255),T<s.length&&(s[T++]=V>>16&255),P===6?(T<s.length&&(s[T++]=V>>24&255),I=0,P=0):(I=V>>>24,P+=2)}if(T<s.length)for(s[T++]=I;T<s.length;)s[T++]=0},o.prototype._toArrayLikeBE=function(s,m){for(var T=s.length-1,I=0,D=0,P=0;D<this.length;D++){var V=this.words[D]<<P|I;s[T--]=V&255,T>=0&&(s[T--]=V>>8&255),T>=0&&(s[T--]=V>>16&255),P===6?(T>=0&&(s[T--]=V>>24&255),I=0,P=0):(I=V>>>24,P+=2)}if(T>=0)for(s[T--]=I;T>=0;)s[T--]=0},Math.clz32?o.prototype._countBits=function(s){return 32-Math.clz32(s)}:o.prototype._countBits=function(s){var m=s,T=0;return m>=4096&&(T+=13,m>>>=13),m>=64&&(T+=7,m>>>=7),m>=8&&(T+=4,m>>>=4),m>=2&&(T+=2,m>>>=2),T+m},o.prototype._zeroBits=function(s){if(s===0)return 26;var m=s,T=0;return(m&8191)==0&&(T+=13,m>>>=13),(m&127)==0&&(T+=7,m>>>=7),(m&15)==0&&(T+=4,m>>>=4),(m&3)==0&&(T+=2,m>>>=2),(m&1)==0&&T++,T},o.prototype.bitLength=function(){var s=this.words[this.length-1],m=this._countBits(s);return(this.length-1)*26+m};function S(M){for(var s=new Array(M.bitLength()),m=0;m<s.length;m++){var T=m/26|0,I=m%26;s[m]=M.words[T]>>>I&1}return s}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,m=0;m<this.length;m++){var T=this._zeroBits(this.words[m]);if(s+=T,T!==26)break}return s},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},o.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var m=0;m<s.length;m++)this.words[m]=this.words[m]|s.words[m];return this._strip()},o.prototype.ior=function(s){return N((this.negative|s.negative)==0),this.iuor(s)},o.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},o.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},o.prototype.iuand=function(s){var m;this.length>s.length?m=s:m=this;for(var T=0;T<m.length;T++)this.words[T]=this.words[T]&s.words[T];return this.length=m.length,this._strip()},o.prototype.iand=function(s){return N((this.negative|s.negative)==0),this.iuand(s)},o.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},o.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},o.prototype.iuxor=function(s){var m,T;this.length>s.length?(m=this,T=s):(m=s,T=this);for(var I=0;I<T.length;I++)this.words[I]=m.words[I]^T.words[I];if(this!==m)for(;I<m.length;I++)this.words[I]=m.words[I];return this.length=m.length,this._strip()},o.prototype.ixor=function(s){return N((this.negative|s.negative)==0),this.iuxor(s)},o.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},o.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},o.prototype.inotn=function(s){N(typeof s=="number"&&s>=0);var m=Math.ceil(s/26)|0,T=s%26;this._expand(m),T>0&&m--;for(var I=0;I<m;I++)this.words[I]=~this.words[I]&67108863;return T>0&&(this.words[I]=~this.words[I]&67108863>>26-T),this._strip()},o.prototype.notn=function(s){return this.clone().inotn(s)},o.prototype.setn=function(s,m){N(typeof s=="number"&&s>=0);var T=s/26|0,I=s%26;return this._expand(T+1),m?this.words[T]=this.words[T]|1<<I:this.words[T]=this.words[T]&~(1<<I),this._strip()},o.prototype.iadd=function(s){var m;if(this.negative!==0&&s.negative===0)return this.negative=0,m=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,m=this.isub(s),s.negative=1,m._normSign();var T,I;this.length>s.length?(T=this,I=s):(T=s,I=this);for(var D=0,P=0;P<I.length;P++)m=(T.words[P]|0)+(I.words[P]|0)+D,this.words[P]=m&67108863,D=m>>>26;for(;D!==0&&P<T.length;P++)m=(T.words[P]|0)+D,this.words[P]=m&67108863,D=m>>>26;if(this.length=T.length,D!==0)this.words[this.length]=D,this.length++;else if(T!==this)for(;P<T.length;P++)this.words[P]=T.words[P];return this},o.prototype.add=function(s){var m;return s.negative!==0&&this.negative===0?(s.negative=0,m=this.sub(s),s.negative^=1,m):s.negative===0&&this.negative!==0?(this.negative=0,m=s.sub(this),this.negative=1,m):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},o.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var m=this.iadd(s);return s.negative=1,m._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var T=this.cmp(s);if(T===0)return this.negative=0,this.length=1,this.words[0]=0,this;var I,D;T>0?(I=this,D=s):(I=s,D=this);for(var P=0,V=0;V<D.length;V++)m=(I.words[V]|0)-(D.words[V]|0)+P,P=m>>26,this.words[V]=m&67108863;for(;P!==0&&V<I.length;V++)m=(I.words[V]|0)+P,P=m>>26,this.words[V]=m&67108863;if(P===0&&V<I.length&&I!==this)for(;V<I.length;V++)this.words[V]=I.words[V];return this.length=Math.max(this.length,V),I!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(s){return this.clone().isub(s)};function A(M,s,m){m.negative=s.negative^M.negative;var T=M.length+s.length|0;m.length=T,T=T-1|0;var I=M.words[0]|0,D=s.words[0]|0,P=I*D,V=P&67108863,G=P/67108864|0;m.words[0]=V;for(var w=1;w<T;w++){for(var Y=G>>>26,me=G&67108863,ge=Math.min(w,s.length-1),_e=Math.max(0,w-M.length+1);_e<=ge;_e++){var xe=w-_e|0;I=M.words[xe]|0,D=s.words[_e]|0,P=I*D+me,Y+=P/67108864|0,me=P&67108863}m.words[w]=me|0,G=Y|0}return G!==0?m.words[w]=G|0:m.length--,m._strip()}var _=function(s,m,T){var I=s.words,D=m.words,P=T.words,V=0,G,w,Y,me=I[0]|0,ge=me&8191,_e=me>>>13,xe=I[1]|0,ee=xe&8191,X=xe>>>13,ce=I[2]|0,he=ce&8191,ve=ce>>>13,q=I[3]|0,L=q&8191,ae=q>>>13,pe=I[4]|0,Se=pe&8191,ye=pe>>>13,Ne=I[5]|0,Ae=Ne&8191,Me=Ne>>>13,ut=I[6]|0,qe=ut&8191,Fe=ut>>>13,ht=I[7]|0,se=ht&8191,j=ht>>>13,Z=I[8]|0,oe=Z&8191,fe=Z>>>13,ke=I[9]|0,be=ke&8191,Pe=ke>>>13,ct=D[0]|0,Oe=ct&8191,Be=ct>>>13,at=D[1]|0,Ke=at&8191,Ye=at>>>13,pt=D[2]|0,$e=pt&8191,Ce=pt>>>13,ur=D[3]|0,ze=ur&8191,Ze=ur>>>13,yr=D[4]|0,He=yr&8191,We=yr>>>13,wr=D[5]|0,Je=wr&8191,Qe=wr>>>13,_r=D[6]|0,Xe=_r&8191,Ve=_r>>>13,ir=D[7]|0,et=ir&8191,je=ir>>>13,nr=D[8]|0,tt=nr&8191,rt=nr>>>13,$t=D[9]|0,st=$t&8191,it=$t>>>13;T.negative=s.negative^m.negative,T.length=19,G=Math.imul(ge,Oe),w=Math.imul(ge,Be),w=w+Math.imul(_e,Oe)|0,Y=Math.imul(_e,Be);var Qt=(V+G|0)+((w&8191)<<13)|0;V=(Y+(w>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,G=Math.imul(ee,Oe),w=Math.imul(ee,Be),w=w+Math.imul(X,Oe)|0,Y=Math.imul(X,Be),G=G+Math.imul(ge,Ke)|0,w=w+Math.imul(ge,Ye)|0,w=w+Math.imul(_e,Ke)|0,Y=Y+Math.imul(_e,Ye)|0;var Kt=(V+G|0)+((w&8191)<<13)|0;V=(Y+(w>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,G=Math.imul(he,Oe),w=Math.imul(he,Be),w=w+Math.imul(ve,Oe)|0,Y=Math.imul(ve,Be),G=G+Math.imul(ee,Ke)|0,w=w+Math.imul(ee,Ye)|0,w=w+Math.imul(X,Ke)|0,Y=Y+Math.imul(X,Ye)|0,G=G+Math.imul(ge,$e)|0,w=w+Math.imul(ge,Ce)|0,w=w+Math.imul(_e,$e)|0,Y=Y+Math.imul(_e,Ce)|0;var jt=(V+G|0)+((w&8191)<<13)|0;V=(Y+(w>>>13)|0)+(jt>>>26)|0,jt&=67108863,G=Math.imul(L,Oe),w=Math.imul(L,Be),w=w+Math.imul(ae,Oe)|0,Y=Math.imul(ae,Be),G=G+Math.imul(he,Ke)|0,w=w+Math.imul(he,Ye)|0,w=w+Math.imul(ve,Ke)|0,Y=Y+Math.imul(ve,Ye)|0,G=G+Math.imul(ee,$e)|0,w=w+Math.imul(ee,Ce)|0,w=w+Math.imul(X,$e)|0,Y=Y+Math.imul(X,Ce)|0,G=G+Math.imul(ge,ze)|0,w=w+Math.imul(ge,Ze)|0,w=w+Math.imul(_e,ze)|0,Y=Y+Math.imul(_e,Ze)|0;var mt=(V+G|0)+((w&8191)<<13)|0;V=(Y+(w>>>13)|0)+(mt>>>26)|0,mt&=67108863,G=Math.imul(Se,Oe),w=Math.imul(Se,Be),w=w+Math.imul(ye,Oe)|0,Y=Math.imul(ye,Be),G=G+Math.imul(L,Ke)|0,w=w+Math.imul(L,Ye)|0,w=w+Math.imul(ae,Ke)|0,Y=Y+Math.imul(ae,Ye)|0,G=G+Math.imul(he,$e)|0,w=w+Math.imul(he,Ce)|0,w=w+Math.imul(ve,$e)|0,Y=Y+Math.imul(ve,Ce)|0,G=G+Math.imul(ee,ze)|0,w=w+Math.imul(ee,Ze)|0,w=w+Math.imul(X,ze)|0,Y=Y+Math.imul(X,Ze)|0,G=G+Math.imul(ge,He)|0,w=w+Math.imul(ge,We)|0,w=w+Math.imul(_e,He)|0,Y=Y+Math.imul(_e,We)|0;var Ht=(V+G|0)+((w&8191)<<13)|0;V=(Y+(w>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,G=Math.imul(Ae,Oe),w=Math.imul(Ae,Be),w=w+Math.imul(Me,Oe)|0,Y=Math.imul(Me,Be),G=G+Math.imul(Se,Ke)|0,w=w+Math.imul(Se,Ye)|0,w=w+Math.imul(ye,Ke)|0,Y=Y+Math.imul(ye,Ye)|0,G=G+Math.imul(L,$e)|0,w=w+Math.imul(L,Ce)|0,w=w+Math.imul(ae,$e)|0,Y=Y+Math.imul(ae,Ce)|0,G=G+Math.imul(he,ze)|0,w=w+Math.imul(he,Ze)|0,w=w+Math.imul(ve,ze)|0,Y=Y+Math.imul(ve,Ze)|0,G=G+Math.imul(ee,He)|0,w=w+Math.imul(ee,We)|0,w=w+Math.imul(X,He)|0,Y=Y+Math.imul(X,We)|0,G=G+Math.imul(ge,Je)|0,w=w+Math.imul(ge,Qe)|0,w=w+Math.imul(_e,Je)|0,Y=Y+Math.imul(_e,Qe)|0;var Yt=(V+G|0)+((w&8191)<<13)|0;V=(Y+(w>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,G=Math.imul(qe,Oe),w=Math.imul(qe,Be),w=w+Math.imul(Fe,Oe)|0,Y=Math.imul(Fe,Be),G=G+Math.imul(Ae,Ke)|0,w=w+Math.imul(Ae,Ye)|0,w=w+Math.imul(Me,Ke)|0,Y=Y+Math.imul(Me,Ye)|0,G=G+Math.imul(Se,$e)|0,w=w+Math.imul(Se,Ce)|0,w=w+Math.imul(ye,$e)|0,Y=Y+Math.imul(ye,Ce)|0,G=G+Math.imul(L,ze)|0,w=w+Math.imul(L,Ze)|0,w=w+Math.imul(ae,ze)|0,Y=Y+Math.imul(ae,Ze)|0,G=G+Math.imul(he,He)|0,w=w+Math.imul(he,We)|0,w=w+Math.imul(ve,He)|0,Y=Y+Math.imul(ve,We)|0,G=G+Math.imul(ee,Je)|0,w=w+Math.imul(ee,Qe)|0,w=w+Math.imul(X,Je)|0,Y=Y+Math.imul(X,Qe)|0,G=G+Math.imul(ge,Xe)|0,w=w+Math.imul(ge,Ve)|0,w=w+Math.imul(_e,Xe)|0,Y=Y+Math.imul(_e,Ve)|0;var Zt=(V+G|0)+((w&8191)<<13)|0;V=(Y+(w>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,G=Math.imul(se,Oe),w=Math.imul(se,Be),w=w+Math.imul(j,Oe)|0,Y=Math.imul(j,Be),G=G+Math.imul(qe,Ke)|0,w=w+Math.imul(qe,Ye)|0,w=w+Math.imul(Fe,Ke)|0,Y=Y+Math.imul(Fe,Ye)|0,G=G+Math.imul(Ae,$e)|0,w=w+Math.imul(Ae,Ce)|0,w=w+Math.imul(Me,$e)|0,Y=Y+Math.imul(Me,Ce)|0,G=G+Math.imul(Se,ze)|0,w=w+Math.imul(Se,Ze)|0,w=w+Math.imul(ye,ze)|0,Y=Y+Math.imul(ye,Ze)|0,G=G+Math.imul(L,He)|0,w=w+Math.imul(L,We)|0,w=w+Math.imul(ae,He)|0,Y=Y+Math.imul(ae,We)|0,G=G+Math.imul(he,Je)|0,w=w+Math.imul(he,Qe)|0,w=w+Math.imul(ve,Je)|0,Y=Y+Math.imul(ve,Qe)|0,G=G+Math.imul(ee,Xe)|0,w=w+Math.imul(ee,Ve)|0,w=w+Math.imul(X,Xe)|0,Y=Y+Math.imul(X,Ve)|0,G=G+Math.imul(ge,et)|0,w=w+Math.imul(ge,je)|0,w=w+Math.imul(_e,et)|0,Y=Y+Math.imul(_e,je)|0;var sr=(V+G|0)+((w&8191)<<13)|0;V=(Y+(w>>>13)|0)+(sr>>>26)|0,sr&=67108863,G=Math.imul(oe,Oe),w=Math.imul(oe,Be),w=w+Math.imul(fe,Oe)|0,Y=Math.imul(fe,Be),G=G+Math.imul(se,Ke)|0,w=w+Math.imul(se,Ye)|0,w=w+Math.imul(j,Ke)|0,Y=Y+Math.imul(j,Ye)|0,G=G+Math.imul(qe,$e)|0,w=w+Math.imul(qe,Ce)|0,w=w+Math.imul(Fe,$e)|0,Y=Y+Math.imul(Fe,Ce)|0,G=G+Math.imul(Ae,ze)|0,w=w+Math.imul(Ae,Ze)|0,w=w+Math.imul(Me,ze)|0,Y=Y+Math.imul(Me,Ze)|0,G=G+Math.imul(Se,He)|0,w=w+Math.imul(Se,We)|0,w=w+Math.imul(ye,He)|0,Y=Y+Math.imul(ye,We)|0,G=G+Math.imul(L,Je)|0,w=w+Math.imul(L,Qe)|0,w=w+Math.imul(ae,Je)|0,Y=Y+Math.imul(ae,Qe)|0,G=G+Math.imul(he,Xe)|0,w=w+Math.imul(he,Ve)|0,w=w+Math.imul(ve,Xe)|0,Y=Y+Math.imul(ve,Ve)|0,G=G+Math.imul(ee,et)|0,w=w+Math.imul(ee,je)|0,w=w+Math.imul(X,et)|0,Y=Y+Math.imul(X,je)|0,G=G+Math.imul(ge,tt)|0,w=w+Math.imul(ge,rt)|0,w=w+Math.imul(_e,tt)|0,Y=Y+Math.imul(_e,rt)|0;var ar=(V+G|0)+((w&8191)<<13)|0;V=(Y+(w>>>13)|0)+(ar>>>26)|0,ar&=67108863,G=Math.imul(be,Oe),w=Math.imul(be,Be),w=w+Math.imul(Pe,Oe)|0,Y=Math.imul(Pe,Be),G=G+Math.imul(oe,Ke)|0,w=w+Math.imul(oe,Ye)|0,w=w+Math.imul(fe,Ke)|0,Y=Y+Math.imul(fe,Ye)|0,G=G+Math.imul(se,$e)|0,w=w+Math.imul(se,Ce)|0,w=w+Math.imul(j,$e)|0,Y=Y+Math.imul(j,Ce)|0,G=G+Math.imul(qe,ze)|0,w=w+Math.imul(qe,Ze)|0,w=w+Math.imul(Fe,ze)|0,Y=Y+Math.imul(Fe,Ze)|0,G=G+Math.imul(Ae,He)|0,w=w+Math.imul(Ae,We)|0,w=w+Math.imul(Me,He)|0,Y=Y+Math.imul(Me,We)|0,G=G+Math.imul(Se,Je)|0,w=w+Math.imul(Se,Qe)|0,w=w+Math.imul(ye,Je)|0,Y=Y+Math.imul(ye,Qe)|0,G=G+Math.imul(L,Xe)|0,w=w+Math.imul(L,Ve)|0,w=w+Math.imul(ae,Xe)|0,Y=Y+Math.imul(ae,Ve)|0,G=G+Math.imul(he,et)|0,w=w+Math.imul(he,je)|0,w=w+Math.imul(ve,et)|0,Y=Y+Math.imul(ve,je)|0,G=G+Math.imul(ee,tt)|0,w=w+Math.imul(ee,rt)|0,w=w+Math.imul(X,tt)|0,Y=Y+Math.imul(X,rt)|0,G=G+Math.imul(ge,st)|0,w=w+Math.imul(ge,it)|0,w=w+Math.imul(_e,st)|0,Y=Y+Math.imul(_e,it)|0;var or=(V+G|0)+((w&8191)<<13)|0;V=(Y+(w>>>13)|0)+(or>>>26)|0,or&=67108863,G=Math.imul(be,Ke),w=Math.imul(be,Ye),w=w+Math.imul(Pe,Ke)|0,Y=Math.imul(Pe,Ye),G=G+Math.imul(oe,$e)|0,w=w+Math.imul(oe,Ce)|0,w=w+Math.imul(fe,$e)|0,Y=Y+Math.imul(fe,Ce)|0,G=G+Math.imul(se,ze)|0,w=w+Math.imul(se,Ze)|0,w=w+Math.imul(j,ze)|0,Y=Y+Math.imul(j,Ze)|0,G=G+Math.imul(qe,He)|0,w=w+Math.imul(qe,We)|0,w=w+Math.imul(Fe,He)|0,Y=Y+Math.imul(Fe,We)|0,G=G+Math.imul(Ae,Je)|0,w=w+Math.imul(Ae,Qe)|0,w=w+Math.imul(Me,Je)|0,Y=Y+Math.imul(Me,Qe)|0,G=G+Math.imul(Se,Xe)|0,w=w+Math.imul(Se,Ve)|0,w=w+Math.imul(ye,Xe)|0,Y=Y+Math.imul(ye,Ve)|0,G=G+Math.imul(L,et)|0,w=w+Math.imul(L,je)|0,w=w+Math.imul(ae,et)|0,Y=Y+Math.imul(ae,je)|0,G=G+Math.imul(he,tt)|0,w=w+Math.imul(he,rt)|0,w=w+Math.imul(ve,tt)|0,Y=Y+Math.imul(ve,rt)|0,G=G+Math.imul(ee,st)|0,w=w+Math.imul(ee,it)|0,w=w+Math.imul(X,st)|0,Y=Y+Math.imul(X,it)|0;var Jt=(V+G|0)+((w&8191)<<13)|0;V=(Y+(w>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,G=Math.imul(be,$e),w=Math.imul(be,Ce),w=w+Math.imul(Pe,$e)|0,Y=Math.imul(Pe,Ce),G=G+Math.imul(oe,ze)|0,w=w+Math.imul(oe,Ze)|0,w=w+Math.imul(fe,ze)|0,Y=Y+Math.imul(fe,Ze)|0,G=G+Math.imul(se,He)|0,w=w+Math.imul(se,We)|0,w=w+Math.imul(j,He)|0,Y=Y+Math.imul(j,We)|0,G=G+Math.imul(qe,Je)|0,w=w+Math.imul(qe,Qe)|0,w=w+Math.imul(Fe,Je)|0,Y=Y+Math.imul(Fe,Qe)|0,G=G+Math.imul(Ae,Xe)|0,w=w+Math.imul(Ae,Ve)|0,w=w+Math.imul(Me,Xe)|0,Y=Y+Math.imul(Me,Ve)|0,G=G+Math.imul(Se,et)|0,w=w+Math.imul(Se,je)|0,w=w+Math.imul(ye,et)|0,Y=Y+Math.imul(ye,je)|0,G=G+Math.imul(L,tt)|0,w=w+Math.imul(L,rt)|0,w=w+Math.imul(ae,tt)|0,Y=Y+Math.imul(ae,rt)|0,G=G+Math.imul(he,st)|0,w=w+Math.imul(he,it)|0,w=w+Math.imul(ve,st)|0,Y=Y+Math.imul(ve,it)|0;var gt=(V+G|0)+((w&8191)<<13)|0;V=(Y+(w>>>13)|0)+(gt>>>26)|0,gt&=67108863,G=Math.imul(be,ze),w=Math.imul(be,Ze),w=w+Math.imul(Pe,ze)|0,Y=Math.imul(Pe,Ze),G=G+Math.imul(oe,He)|0,w=w+Math.imul(oe,We)|0,w=w+Math.imul(fe,He)|0,Y=Y+Math.imul(fe,We)|0,G=G+Math.imul(se,Je)|0,w=w+Math.imul(se,Qe)|0,w=w+Math.imul(j,Je)|0,Y=Y+Math.imul(j,Qe)|0,G=G+Math.imul(qe,Xe)|0,w=w+Math.imul(qe,Ve)|0,w=w+Math.imul(Fe,Xe)|0,Y=Y+Math.imul(Fe,Ve)|0,G=G+Math.imul(Ae,et)|0,w=w+Math.imul(Ae,je)|0,w=w+Math.imul(Me,et)|0,Y=Y+Math.imul(Me,je)|0,G=G+Math.imul(Se,tt)|0,w=w+Math.imul(Se,rt)|0,w=w+Math.imul(ye,tt)|0,Y=Y+Math.imul(ye,rt)|0,G=G+Math.imul(L,st)|0,w=w+Math.imul(L,it)|0,w=w+Math.imul(ae,st)|0,Y=Y+Math.imul(ae,it)|0;var Et=(V+G|0)+((w&8191)<<13)|0;V=(Y+(w>>>13)|0)+(Et>>>26)|0,Et&=67108863,G=Math.imul(be,He),w=Math.imul(be,We),w=w+Math.imul(Pe,He)|0,Y=Math.imul(Pe,We),G=G+Math.imul(oe,Je)|0,w=w+Math.imul(oe,Qe)|0,w=w+Math.imul(fe,Je)|0,Y=Y+Math.imul(fe,Qe)|0,G=G+Math.imul(se,Xe)|0,w=w+Math.imul(se,Ve)|0,w=w+Math.imul(j,Xe)|0,Y=Y+Math.imul(j,Ve)|0,G=G+Math.imul(qe,et)|0,w=w+Math.imul(qe,je)|0,w=w+Math.imul(Fe,et)|0,Y=Y+Math.imul(Fe,je)|0,G=G+Math.imul(Ae,tt)|0,w=w+Math.imul(Ae,rt)|0,w=w+Math.imul(Me,tt)|0,Y=Y+Math.imul(Me,rt)|0,G=G+Math.imul(Se,st)|0,w=w+Math.imul(Se,it)|0,w=w+Math.imul(ye,st)|0,Y=Y+Math.imul(ye,it)|0;var dt=(V+G|0)+((w&8191)<<13)|0;V=(Y+(w>>>13)|0)+(dt>>>26)|0,dt&=67108863,G=Math.imul(be,Je),w=Math.imul(be,Qe),w=w+Math.imul(Pe,Je)|0,Y=Math.imul(Pe,Qe),G=G+Math.imul(oe,Xe)|0,w=w+Math.imul(oe,Ve)|0,w=w+Math.imul(fe,Xe)|0,Y=Y+Math.imul(fe,Ve)|0,G=G+Math.imul(se,et)|0,w=w+Math.imul(se,je)|0,w=w+Math.imul(j,et)|0,Y=Y+Math.imul(j,je)|0,G=G+Math.imul(qe,tt)|0,w=w+Math.imul(qe,rt)|0,w=w+Math.imul(Fe,tt)|0,Y=Y+Math.imul(Fe,rt)|0,G=G+Math.imul(Ae,st)|0,w=w+Math.imul(Ae,it)|0,w=w+Math.imul(Me,st)|0,Y=Y+Math.imul(Me,it)|0;var Ct=(V+G|0)+((w&8191)<<13)|0;V=(Y+(w>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,G=Math.imul(be,Xe),w=Math.imul(be,Ve),w=w+Math.imul(Pe,Xe)|0,Y=Math.imul(Pe,Ve),G=G+Math.imul(oe,et)|0,w=w+Math.imul(oe,je)|0,w=w+Math.imul(fe,et)|0,Y=Y+Math.imul(fe,je)|0,G=G+Math.imul(se,tt)|0,w=w+Math.imul(se,rt)|0,w=w+Math.imul(j,tt)|0,Y=Y+Math.imul(j,rt)|0,G=G+Math.imul(qe,st)|0,w=w+Math.imul(qe,it)|0,w=w+Math.imul(Fe,st)|0,Y=Y+Math.imul(Fe,it)|0;var Xt=(V+G|0)+((w&8191)<<13)|0;V=(Y+(w>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,G=Math.imul(be,et),w=Math.imul(be,je),w=w+Math.imul(Pe,et)|0,Y=Math.imul(Pe,je),G=G+Math.imul(oe,tt)|0,w=w+Math.imul(oe,rt)|0,w=w+Math.imul(fe,tt)|0,Y=Y+Math.imul(fe,rt)|0,G=G+Math.imul(se,st)|0,w=w+Math.imul(se,it)|0,w=w+Math.imul(j,st)|0,Y=Y+Math.imul(j,it)|0;var Cr=(V+G|0)+((w&8191)<<13)|0;V=(Y+(w>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,G=Math.imul(be,tt),w=Math.imul(be,rt),w=w+Math.imul(Pe,tt)|0,Y=Math.imul(Pe,rt),G=G+Math.imul(oe,st)|0,w=w+Math.imul(oe,it)|0,w=w+Math.imul(fe,st)|0,Y=Y+Math.imul(fe,it)|0;var Nr=(V+G|0)+((w&8191)<<13)|0;V=(Y+(w>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,G=Math.imul(be,st),w=Math.imul(be,it),w=w+Math.imul(Pe,st)|0,Y=Math.imul(Pe,it);var kr=(V+G|0)+((w&8191)<<13)|0;return V=(Y+(w>>>13)|0)+(kr>>>26)|0,kr&=67108863,P[0]=Qt,P[1]=Kt,P[2]=jt,P[3]=mt,P[4]=Ht,P[5]=Yt,P[6]=Zt,P[7]=sr,P[8]=ar,P[9]=or,P[10]=Jt,P[11]=gt,P[12]=Et,P[13]=dt,P[14]=Ct,P[15]=Xt,P[16]=Cr,P[17]=Nr,P[18]=kr,V!==0&&(P[19]=V,T.length++),T};Math.imul||(_=A);function F(M,s,m){m.negative=s.negative^M.negative,m.length=M.length+s.length;for(var T=0,I=0,D=0;D<m.length-1;D++){var P=I;I=0;for(var V=T&67108863,G=Math.min(D,s.length-1),w=Math.max(0,D-M.length+1);w<=G;w++){var Y=D-w,me=M.words[Y]|0,ge=s.words[w]|0,_e=me*ge,xe=_e&67108863;P=P+(_e/67108864|0)|0,xe=xe+V|0,V=xe&67108863,P=P+(xe>>>26)|0,I+=P>>>26,P&=67108863}m.words[D]=V,T=P,P=I}return T!==0?m.words[D]=T:m.length--,m._strip()}function H(M,s,m){return F(M,s,m)}o.prototype.mulTo=function(s,m){var T,I=this.length+s.length;return this.length===10&&s.length===10?T=_(this,s,m):I<63?T=A(this,s,m):I<1024?T=F(this,s,m):T=H(this,s,m),T};function K(M,s){this.x=M,this.y=s}K.prototype.makeRBT=function(s){for(var m=new Array(s),T=o.prototype._countBits(s)-1,I=0;I<s;I++)m[I]=this.revBin(I,T,s);return m},K.prototype.revBin=function(s,m,T){if(s===0||s===T-1)return s;for(var I=0,D=0;D<m;D++)I|=(s&1)<<m-D-1,s>>=1;return I},K.prototype.permute=function(s,m,T,I,D,P){for(var V=0;V<P;V++)I[V]=m[s[V]],D[V]=T[s[V]]},K.prototype.transform=function(s,m,T,I,D,P){this.permute(P,s,m,T,I,D);for(var V=1;V<D;V<<=1)for(var G=V<<1,w=Math.cos(2*Math.PI/G),Y=Math.sin(2*Math.PI/G),me=0;me<D;me+=G)for(var ge=w,_e=Y,xe=0;xe<V;xe++){var ee=T[me+xe],X=I[me+xe],ce=T[me+xe+V],he=I[me+xe+V],ve=ge*ce-_e*he;he=ge*he+_e*ce,ce=ve,T[me+xe]=ee+ce,I[me+xe]=X+he,T[me+xe+V]=ee-ce,I[me+xe+V]=X-he,xe!==G&&(ve=w*ge-Y*_e,_e=w*_e+Y*ge,ge=ve)}},K.prototype.guessLen13b=function(s,m){var T=Math.max(m,s)|1,I=T&1,D=0;for(T=T/2|0;T;T=T>>>1)D++;return 1<<D+1+I},K.prototype.conjugate=function(s,m,T){if(!(T<=1))for(var I=0;I<T/2;I++){var D=s[I];s[I]=s[T-I-1],s[T-I-1]=D,D=m[I],m[I]=-m[T-I-1],m[T-I-1]=-D}},K.prototype.normalize13b=function(s,m){for(var T=0,I=0;I<m/2;I++){var D=Math.round(s[2*I+1]/m)*8192+Math.round(s[2*I]/m)+T;s[I]=D&67108863,D<67108864?T=0:T=D/67108864|0}return s},K.prototype.convert13b=function(s,m,T,I){for(var D=0,P=0;P<m;P++)D=D+(s[P]|0),T[2*P]=D&8191,D=D>>>13,T[2*P+1]=D&8191,D=D>>>13;for(P=2*m;P<I;++P)T[P]=0;N(D===0),N((D&~8191)==0)},K.prototype.stub=function(s){for(var m=new Array(s),T=0;T<s;T++)m[T]=0;return m},K.prototype.mulp=function(s,m,T){var I=2*this.guessLen13b(s.length,m.length),D=this.makeRBT(I),P=this.stub(I),V=new Array(I),G=new Array(I),w=new Array(I),Y=new Array(I),me=new Array(I),ge=new Array(I),_e=T.words;_e.length=I,this.convert13b(s.words,s.length,V,I),this.convert13b(m.words,m.length,Y,I),this.transform(V,P,G,w,I,D),this.transform(Y,P,me,ge,I,D);for(var xe=0;xe<I;xe++){var ee=G[xe]*me[xe]-w[xe]*ge[xe];w[xe]=G[xe]*ge[xe]+w[xe]*me[xe],G[xe]=ee}return this.conjugate(G,w,I),this.transform(G,w,_e,P,I,D),this.conjugate(_e,P,I),this.normalize13b(_e,I),T.negative=s.negative^m.negative,T.length=s.length+m.length,T._strip()},o.prototype.mul=function(s){var m=new o(null);return m.words=new Array(this.length+s.length),this.mulTo(s,m)},o.prototype.mulf=function(s){var m=new o(null);return m.words=new Array(this.length+s.length),H(this,s,m)},o.prototype.imul=function(s){return this.clone().mulTo(s,this)},o.prototype.imuln=function(s){var m=s<0;m&&(s=-s),N(typeof s=="number"),N(s<67108864);for(var T=0,I=0;I<this.length;I++){var D=(this.words[I]|0)*s,P=(D&67108863)+(T&67108863);T>>=26,T+=D/67108864|0,T+=P>>>26,this.words[I]=P&67108863}return T!==0&&(this.words[I]=T,this.length++),m?this.ineg():this},o.prototype.muln=function(s){return this.clone().imuln(s)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(s){var m=S(s);if(m.length===0)return new o(1);for(var T=this,I=0;I<m.length&&m[I]===0;I++,T=T.sqr());if(++I<m.length)for(var D=T.sqr();I<m.length;I++,D=D.sqr())m[I]!==0&&(T=T.mul(D));return T},o.prototype.iushln=function(s){N(typeof s=="number"&&s>=0);var m=s%26,T=(s-m)/26,I=67108863>>>26-m<<26-m,D;if(m!==0){var P=0;for(D=0;D<this.length;D++){var V=this.words[D]&I,G=(this.words[D]|0)-V<<m;this.words[D]=G|P,P=V>>>26-m}P&&(this.words[D]=P,this.length++)}if(T!==0){for(D=this.length-1;D>=0;D--)this.words[D+T]=this.words[D];for(D=0;D<T;D++)this.words[D]=0;this.length+=T}return this._strip()},o.prototype.ishln=function(s){return N(this.negative===0),this.iushln(s)},o.prototype.iushrn=function(s,m,T){N(typeof s=="number"&&s>=0);var I;m?I=(m-m%26)/26:I=0;var D=s%26,P=Math.min((s-D)/26,this.length),V=67108863^67108863>>>D<<D,G=T;if(I-=P,I=Math.max(0,I),G){for(var w=0;w<P;w++)G.words[w]=this.words[w];G.length=P}if(P!==0)if(this.length>P)for(this.length-=P,w=0;w<this.length;w++)this.words[w]=this.words[w+P];else this.words[0]=0,this.length=1;var Y=0;for(w=this.length-1;w>=0&&(Y!==0||w>=I);w--){var me=this.words[w]|0;this.words[w]=Y<<26-D|me>>>D,Y=me&V}return G&&Y!==0&&(G.words[G.length++]=Y),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(s,m,T){return N(this.negative===0),this.iushrn(s,m,T)},o.prototype.shln=function(s){return this.clone().ishln(s)},o.prototype.ushln=function(s){return this.clone().iushln(s)},o.prototype.shrn=function(s){return this.clone().ishrn(s)},o.prototype.ushrn=function(s){return this.clone().iushrn(s)},o.prototype.testn=function(s){N(typeof s=="number"&&s>=0);var m=s%26,T=(s-m)/26,I=1<<m;if(this.length<=T)return!1;var D=this.words[T];return!!(D&I)},o.prototype.imaskn=function(s){N(typeof s=="number"&&s>=0);var m=s%26,T=(s-m)/26;if(N(this.negative===0,"imaskn works only with positive numbers"),this.length<=T)return this;if(m!==0&&T++,this.length=Math.min(T,this.length),m!==0){var I=67108863^67108863>>>m<<m;this.words[this.length-1]&=I}return this._strip()},o.prototype.maskn=function(s){return this.clone().imaskn(s)},o.prototype.iaddn=function(s){return N(typeof s=="number"),N(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<=s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},o.prototype._iaddn=function(s){this.words[0]+=s;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},o.prototype.isubn=function(s){if(N(typeof s=="number"),N(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this._strip()},o.prototype.addn=function(s){return this.clone().iaddn(s)},o.prototype.subn=function(s){return this.clone().isubn(s)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(s,m,T){var I=s.length+T,D;this._expand(I);var P,V=0;for(D=0;D<s.length;D++){P=(this.words[D+T]|0)+V;var G=(s.words[D]|0)*m;P-=G&67108863,V=(P>>26)-(G/67108864|0),this.words[D+T]=P&67108863}for(;D<this.length-T;D++)P=(this.words[D+T]|0)+V,V=P>>26,this.words[D+T]=P&67108863;if(V===0)return this._strip();for(N(V===-1),V=0,D=0;D<this.length;D++)P=-(this.words[D]|0)+V,V=P>>26,this.words[D]=P&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(s,m){var T=this.length-s.length,I=this.clone(),D=s,P=D.words[D.length-1]|0,V=this._countBits(P);T=26-V,T!==0&&(D=D.ushln(T),I.iushln(T),P=D.words[D.length-1]|0);var G=I.length-D.length,w;if(m!=="mod"){w=new o(null),w.length=G+1,w.words=new Array(w.length);for(var Y=0;Y<w.length;Y++)w.words[Y]=0}var me=I.clone()._ishlnsubmul(D,1,G);me.negative===0&&(I=me,w&&(w.words[G]=1));for(var ge=G-1;ge>=0;ge--){var _e=(I.words[D.length+ge]|0)*67108864+(I.words[D.length+ge-1]|0);for(_e=Math.min(_e/P|0,67108863),I._ishlnsubmul(D,_e,ge);I.negative!==0;)_e--,I.negative=0,I._ishlnsubmul(D,1,ge),I.isZero()||(I.negative^=1);w&&(w.words[ge]=_e)}return w&&w._strip(),I._strip(),m!=="div"&&T!==0&&I.iushrn(T),{div:w||null,mod:I}},o.prototype.divmod=function(s,m,T){if(N(!s.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var I,D,P;return this.negative!==0&&s.negative===0?(P=this.neg().divmod(s,m),m!=="mod"&&(I=P.div.neg()),m!=="div"&&(D=P.mod.neg(),T&&D.negative!==0&&D.iadd(s)),{div:I,mod:D}):this.negative===0&&s.negative!==0?(P=this.divmod(s.neg(),m),m!=="mod"&&(I=P.div.neg()),{div:I,mod:P.mod}):(this.negative&s.negative)!=0?(P=this.neg().divmod(s.neg(),m),m!=="div"&&(D=P.mod.neg(),T&&D.negative!==0&&D.isub(s)),{div:P.div,mod:D}):s.length>this.length||this.cmp(s)<0?{div:new o(0),mod:this}:s.length===1?m==="div"?{div:this.divn(s.words[0]),mod:null}:m==="mod"?{div:null,mod:new o(this.modrn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new o(this.modrn(s.words[0]))}:this._wordDiv(s,m)},o.prototype.div=function(s){return this.divmod(s,"div",!1).div},o.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},o.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},o.prototype.divRound=function(s){var m=this.divmod(s);if(m.mod.isZero())return m.div;var T=m.div.negative!==0?m.mod.isub(s):m.mod,I=s.ushrn(1),D=s.andln(1),P=T.cmp(I);return P<0||D===1&&P===0?m.div:m.div.negative!==0?m.div.isubn(1):m.div.iaddn(1)},o.prototype.modrn=function(s){var m=s<0;m&&(s=-s),N(s<=67108863);for(var T=(1<<26)%s,I=0,D=this.length-1;D>=0;D--)I=(T*I+(this.words[D]|0))%s;return m?-I:I},o.prototype.modn=function(s){return this.modrn(s)},o.prototype.idivn=function(s){var m=s<0;m&&(s=-s),N(s<=67108863);for(var T=0,I=this.length-1;I>=0;I--){var D=(this.words[I]|0)+T*67108864;this.words[I]=D/s|0,T=D%s}return this._strip(),m?this.ineg():this},o.prototype.divn=function(s){return this.clone().idivn(s)},o.prototype.egcd=function(s){N(s.negative===0),N(!s.isZero());var m=this,T=s.clone();m.negative!==0?m=m.umod(s):m=m.clone();for(var I=new o(1),D=new o(0),P=new o(0),V=new o(1),G=0;m.isEven()&&T.isEven();)m.iushrn(1),T.iushrn(1),++G;for(var w=T.clone(),Y=m.clone();!m.isZero();){for(var me=0,ge=1;(m.words[0]&ge)==0&&me<26;++me,ge<<=1);if(me>0)for(m.iushrn(me);me-- >0;)(I.isOdd()||D.isOdd())&&(I.iadd(w),D.isub(Y)),I.iushrn(1),D.iushrn(1);for(var _e=0,xe=1;(T.words[0]&xe)==0&&_e<26;++_e,xe<<=1);if(_e>0)for(T.iushrn(_e);_e-- >0;)(P.isOdd()||V.isOdd())&&(P.iadd(w),V.isub(Y)),P.iushrn(1),V.iushrn(1);m.cmp(T)>=0?(m.isub(T),I.isub(P),D.isub(V)):(T.isub(m),P.isub(I),V.isub(D))}return{a:P,b:V,gcd:T.iushln(G)}},o.prototype._invmp=function(s){N(s.negative===0),N(!s.isZero());var m=this,T=s.clone();m.negative!==0?m=m.umod(s):m=m.clone();for(var I=new o(1),D=new o(0),P=T.clone();m.cmpn(1)>0&&T.cmpn(1)>0;){for(var V=0,G=1;(m.words[0]&G)==0&&V<26;++V,G<<=1);if(V>0)for(m.iushrn(V);V-- >0;)I.isOdd()&&I.iadd(P),I.iushrn(1);for(var w=0,Y=1;(T.words[0]&Y)==0&&w<26;++w,Y<<=1);if(w>0)for(T.iushrn(w);w-- >0;)D.isOdd()&&D.iadd(P),D.iushrn(1);m.cmp(T)>=0?(m.isub(T),I.isub(D)):(T.isub(m),D.isub(I))}var me;return m.cmpn(1)===0?me=I:me=D,me.cmpn(0)<0&&me.iadd(s),me},o.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var m=this.clone(),T=s.clone();m.negative=0,T.negative=0;for(var I=0;m.isEven()&&T.isEven();I++)m.iushrn(1),T.iushrn(1);do{for(;m.isEven();)m.iushrn(1);for(;T.isEven();)T.iushrn(1);var D=m.cmp(T);if(D<0){var P=m;m=T,T=P}else if(D===0||T.cmpn(1)===0)break;m.isub(T)}while(!0);return T.iushln(I)},o.prototype.invm=function(s){return this.egcd(s).a.umod(s)},o.prototype.isEven=function(){return(this.words[0]&1)==0},o.prototype.isOdd=function(){return(this.words[0]&1)==1},o.prototype.andln=function(s){return this.words[0]&s},o.prototype.bincn=function(s){N(typeof s=="number");var m=s%26,T=(s-m)/26,I=1<<m;if(this.length<=T)return this._expand(T+1),this.words[T]|=I,this;for(var D=I,P=T;D!==0&&P<this.length;P++){var V=this.words[P]|0;V+=D,D=V>>>26,V&=67108863,this.words[P]=V}return D!==0&&(this.words[P]=D,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(s){var m=s<0;if(this.negative!==0&&!m)return-1;if(this.negative===0&&m)return 1;this._strip();var T;if(this.length>1)T=1;else{m&&(s=-s),N(s<=67108863,"Number is too big");var I=this.words[0]|0;T=I===s?0:I<s?-1:1}return this.negative!==0?-T|0:T},o.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var m=this.ucmp(s);return this.negative!==0?-m|0:m},o.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var m=0,T=this.length-1;T>=0;T--){var I=this.words[T]|0,D=s.words[T]|0;if(I!==D){I<D?m=-1:I>D&&(m=1);break}}return m},o.prototype.gtn=function(s){return this.cmpn(s)===1},o.prototype.gt=function(s){return this.cmp(s)===1},o.prototype.gten=function(s){return this.cmpn(s)>=0},o.prototype.gte=function(s){return this.cmp(s)>=0},o.prototype.ltn=function(s){return this.cmpn(s)===-1},o.prototype.lt=function(s){return this.cmp(s)===-1},o.prototype.lten=function(s){return this.cmpn(s)<=0},o.prototype.lte=function(s){return this.cmp(s)<=0},o.prototype.eqn=function(s){return this.cmpn(s)===0},o.prototype.eq=function(s){return this.cmp(s)===0},o.red=function(s){return new C(s)},o.prototype.toRed=function(s){return N(!this.red,"Already a number in reduction context"),N(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},o.prototype.fromRed=function(){return N(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(s){return this.red=s,this},o.prototype.forceRed=function(s){return N(!this.red,"Already a number in reduction context"),this._forceRed(s)},o.prototype.redAdd=function(s){return N(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},o.prototype.redIAdd=function(s){return N(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},o.prototype.redSub=function(s){return N(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},o.prototype.redISub=function(s){return N(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},o.prototype.redShl=function(s){return N(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},o.prototype.redMul=function(s){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},o.prototype.redIMul=function(s){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},o.prototype.redSqr=function(){return N(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return N(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return N(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return N(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return N(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(s){return N(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var J={k256:null,p224:null,p192:null,p25519:null};function te(M,s){this.name=M,this.p=new o(s,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}te.prototype._tmp=function(){var s=new o(null);return s.words=new Array(Math.ceil(this.n/13)),s},te.prototype.ireduce=function(s){var m=s,T;do this.split(m,this.tmp),m=this.imulK(m),m=m.iadd(this.tmp),T=m.bitLength();while(T>this.n);var I=T<this.n?-1:m.ucmp(this.p);return I===0?(m.words[0]=0,m.length=1):I>0?m.isub(this.p):m.strip!==void 0?m.strip():m._strip(),m},te.prototype.split=function(s,m){s.iushrn(this.n,0,m)},te.prototype.imulK=function(s){return s.imul(this.k)};function ie(){te.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}k(ie,te),ie.prototype.split=function(s,m){for(var T=4194303,I=Math.min(s.length,9),D=0;D<I;D++)m.words[D]=s.words[D];if(m.length=I,s.length<=9){s.words[0]=0,s.length=1;return}var P=s.words[9];for(m.words[m.length++]=P&T,D=10;D<s.length;D++){var V=s.words[D]|0;s.words[D-10]=(V&T)<<4|P>>>22,P=V}P>>>=22,s.words[D-10]=P,P===0&&s.length>10?s.length-=10:s.length-=9},ie.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var m=0,T=0;T<s.length;T++){var I=s.words[T]|0;m+=I*977,s.words[T]=m&67108863,m=I*64+(m/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function ne(){te.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}k(ne,te);function ue(){te.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}k(ue,te);function Q(){te.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}k(Q,te),Q.prototype.imulK=function(s){for(var m=0,T=0;T<s.length;T++){var I=(s.words[T]|0)*19+m,D=I&67108863;I>>>=26,s.words[T]=D,m=I}return m!==0&&(s.words[s.length++]=m),s},o._prime=function(s){if(J[s])return J[s];var m;if(s==="k256")m=new ie;else if(s==="p224")m=new ne;else if(s==="p192")m=new ue;else if(s==="p25519")m=new Q;else throw new Error("Unknown prime "+s);return J[s]=m,m};function C(M){if(typeof M=="string"){var s=o._prime(M);this.m=s.p,this.prime=s}else N(M.gtn(1),"modulus must be greater than 1"),this.m=M,this.prime=null}C.prototype._verify1=function(s){N(s.negative===0,"red works only with positives"),N(s.red,"red works only with red numbers")},C.prototype._verify2=function(s,m){N((s.negative|m.negative)==0,"red works only with positives"),N(s.red&&s.red===m.red,"red works only with red numbers")},C.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):(f(s,s.umod(this.m)._forceRed(this)),s)},C.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},C.prototype.add=function(s,m){this._verify2(s,m);var T=s.add(m);return T.cmp(this.m)>=0&&T.isub(this.m),T._forceRed(this)},C.prototype.iadd=function(s,m){this._verify2(s,m);var T=s.iadd(m);return T.cmp(this.m)>=0&&T.isub(this.m),T},C.prototype.sub=function(s,m){this._verify2(s,m);var T=s.sub(m);return T.cmpn(0)<0&&T.iadd(this.m),T._forceRed(this)},C.prototype.isub=function(s,m){this._verify2(s,m);var T=s.isub(m);return T.cmpn(0)<0&&T.iadd(this.m),T},C.prototype.shl=function(s,m){return this._verify1(s),this.imod(s.ushln(m))},C.prototype.imul=function(s,m){return this._verify2(s,m),this.imod(s.imul(m))},C.prototype.mul=function(s,m){return this._verify2(s,m),this.imod(s.mul(m))},C.prototype.isqr=function(s){return this.imul(s,s.clone())},C.prototype.sqr=function(s){return this.mul(s,s)},C.prototype.sqrt=function(s){if(s.isZero())return s.clone();var m=this.m.andln(3);if(N(m%2==1),m===3){var T=this.m.add(new o(1)).iushrn(2);return this.pow(s,T)}for(var I=this.m.subn(1),D=0;!I.isZero()&&I.andln(1)===0;)D++,I.iushrn(1);N(!I.isZero());var P=new o(1).toRed(this),V=P.redNeg(),G=this.m.subn(1).iushrn(1),w=this.m.bitLength();for(w=new o(2*w*w).toRed(this);this.pow(w,G).cmp(V)!==0;)w.redIAdd(V);for(var Y=this.pow(w,I),me=this.pow(s,I.addn(1).iushrn(1)),ge=this.pow(s,I),_e=D;ge.cmp(P)!==0;){for(var xe=ge,ee=0;xe.cmp(P)!==0;ee++)xe=xe.redSqr();N(ee<_e);var X=this.pow(Y,new o(1).iushln(_e-ee-1));me=me.redMul(X),Y=X.redSqr(),ge=ge.redMul(Y),_e=ee}return me},C.prototype.invm=function(s){var m=s._invmp(this.m);return m.negative!==0?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},C.prototype.pow=function(s,m){if(m.isZero())return new o(1).toRed(this);if(m.cmpn(1)===0)return s.clone();var T=4,I=new Array(1<<T);I[0]=new o(1).toRed(this),I[1]=s;for(var D=2;D<I.length;D++)I[D]=this.mul(I[D-1],s);var P=I[0],V=0,G=0,w=m.bitLength()%26;for(w===0&&(w=26),D=m.length-1;D>=0;D--){for(var Y=m.words[D],me=w-1;me>=0;me--){var ge=Y>>me&1;if(P!==I[0]&&(P=this.sqr(P)),ge===0&&V===0){G=0;continue}V<<=1,V|=ge,G++,!(G!==T&&(D!==0||me!==0))&&(P=this.mul(P,I[V]),G=0,V=0)}w=26}return P},C.prototype.convertTo=function(s){var m=s.umod(this.m);return m===s?m.clone():m},C.prototype.convertFrom=function(s){var m=s.clone();return m.red=null,m},o.mont=function(s){return new U(s)};function U(M){C.call(this,M),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}k(U,C),U.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},U.prototype.convertFrom=function(s){var m=this.imod(s.mul(this.rinv));return m.red=null,m},U.prototype.imul=function(s,m){if(s.isZero()||m.isZero())return s.words[0]=0,s.length=1,s;var T=s.imul(m),I=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=T.isub(I).iushrn(this.shift),P=D;return D.cmp(this.m)>=0?P=D.isub(this.m):D.cmpn(0)<0&&(P=D.iadd(this.m)),P._forceRed(this)},U.prototype.mul=function(s,m){if(s.isZero()||m.isZero())return new o(0)._forceRed(this);var T=s.mul(m),I=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=T.isub(I).iushrn(this.shift),P=D;return D.cmp(this.m)>=0?P=D.isub(this.m):D.cmpn(0)<0&&(P=D.iadd(this.m)),P._forceRed(this)},U.prototype.invm=function(s){var m=this.imod(s._invmp(this.m).mul(this.r2));return m._forceRed(this)}}(b,this)},6042:(b,z,y)=>{b.exports=y(2063)},2063:b=>{"use strict";b.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},2236:b=>{"use strict";b.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},4743:(b,z,y)=>{var R=y(9509).Buffer,O=y(3482),N=y(3872),k=y(5717),o=y(2957),u=y(7753),n=y(2063);Object.keys(n).forEach(function(E){n[E].id=R.from(n[E].id,"hex"),n[E.toLowerCase()]=n[E]});function c(E){N.Writable.call(this);var d=n[E];if(!d)throw new Error("Unknown message digest");this._hashType=d.hash,this._hash=O(d.hash),this._tag=d.id,this._signType=d.sign}k(c,N.Writable),c.prototype._write=function(d,p,g){this._hash.update(d),g()},c.prototype.update=function(d,p){return typeof d=="string"&&(d=R.from(d,p)),this._hash.update(d),this},c.prototype.sign=function(d,p){this.end();var g=this._hash.digest(),S=o(g,d,this._hashType,this._signType,this._tag);return p?S.toString(p):S};function v(E){N.Writable.call(this);var d=n[E];if(!d)throw new Error("Unknown message digest");this._hash=O(d.hash),this._tag=d.id,this._signType=d.sign}k(v,N.Writable),v.prototype._write=function(d,p,g){this._hash.update(d),g()},v.prototype.update=function(d,p){return typeof d=="string"&&(d=R.from(d,p)),this._hash.update(d),this},v.prototype.verify=function(d,p,g){typeof p=="string"&&(p=R.from(p,g)),this.end();var S=this._hash.digest();return u(p,S,d,this._signType,this._tag)};function f(E){return new c(E)}function l(E){return new v(E)}b.exports={Sign:f,Verify:l,createSign:f,createVerify:l}},2957:(b,z,y)=>{var R=y(9509).Buffer,O=y(8355),N=y(3663),k=y(6266).ec,o=y(8815),u=y(980),n=y(2236);function c(A,_,F,H,K){var J=u(_);if(J.curve){if(H!=="ecdsa"&&H!=="ecdsa/rsa")throw new Error("wrong private key type");return v(A,J)}else if(J.type==="dsa"){if(H!=="dsa")throw new Error("wrong private key type");return f(A,J,F)}else if(H!=="rsa"&&H!=="ecdsa/rsa")throw new Error("wrong private key type");A=R.concat([K,A]);for(var te=J.modulus.byteLength(),ie=[0,1];A.length+ie.length+1<te;)ie.push(255);ie.push(0);for(var ne=-1;++ne<A.length;)ie.push(A[ne]);var ue=N(ie,J);return ue}function v(A,_){var F=n[_.curve.join(".")];if(!F)throw new Error("unknown curve "+_.curve.join("."));var H=new k(F),K=H.keyFromPrivate(_.privateKey),J=K.sign(A);return R.from(J.toDER())}function f(A,_,F){for(var H=_.params.priv_key,K=_.params.p,J=_.params.q,te=_.params.g,ie=new o(0),ne,ue=d(A,J).mod(J),Q=!1,C=E(H,J,A,F);Q===!1;)ne=g(J,C,F),ie=S(te,ne,K,J),Q=ne.invm(J).imul(ue.add(H.mul(ie))).mod(J),Q.cmpn(0)===0&&(Q=!1,ie=new o(0));return l(ie,Q)}function l(A,_){A=A.toArray(),_=_.toArray(),A[0]&128&&(A=[0].concat(A)),_[0]&128&&(_=[0].concat(_));var F=A.length+_.length+4,H=[48,F,2,A.length];return H=H.concat(A,[2,_.length],_),R.from(H)}function E(A,_,F,H){if(A=R.from(A.toArray()),A.length<_.byteLength()){var K=R.alloc(_.byteLength()-A.length);A=R.concat([K,A])}var J=F.length,te=p(F,_),ie=R.alloc(J);ie.fill(1);var ne=R.alloc(J);return ne=O(H,ne).update(ie).update(R.from([0])).update(A).update(te).digest(),ie=O(H,ne).update(ie).digest(),ne=O(H,ne).update(ie).update(R.from([1])).update(A).update(te).digest(),ie=O(H,ne).update(ie).digest(),{k:ne,v:ie}}function d(A,_){var F=new o(A),H=(A.length<<3)-_.bitLength();return H>0&&F.ishrn(H),F}function p(A,_){A=d(A,_),A=A.mod(_);var F=R.from(A.toArray());if(F.length<_.byteLength()){var H=R.alloc(_.byteLength()-F.length);F=R.concat([H,F])}return F}function g(A,_,F){var H,K;do{for(H=R.alloc(0);H.length*8<A.bitLength();)_.v=O(F,_.k).update(_.v).digest(),H=R.concat([H,_.v]);K=d(H,A),_.k=O(F,_.k).update(_.v).update(R.from([0])).digest(),_.v=O(F,_.k).update(_.v).digest()}while(K.cmp(A)!==-1);return K}function S(A,_,F,H){return A.toRed(o.mont(F)).redPow(_).fromRed().mod(H)}b.exports=c,b.exports.getKey=E,b.exports.makeKey=g},7753:(b,z,y)=>{var R=y(9509).Buffer,O=y(8815),N=y(6266).ec,k=y(980),o=y(2236);function u(f,l,E,d,p){var g=k(E);if(g.type==="ec"){if(d!=="ecdsa"&&d!=="ecdsa/rsa")throw new Error("wrong public key type");return n(f,l,g)}else if(g.type==="dsa"){if(d!=="dsa")throw new Error("wrong public key type");return c(f,l,g)}else if(d!=="rsa"&&d!=="ecdsa/rsa")throw new Error("wrong public key type");l=R.concat([p,l]);for(var S=g.modulus.byteLength(),A=[1],_=0;l.length+A.length+2<S;)A.push(255),_++;A.push(0);for(var F=-1;++F<l.length;)A.push(l[F]);A=R.from(A);var H=O.mont(g.modulus);f=new O(f).toRed(H),f=f.redPow(new O(g.publicExponent)),f=R.from(f.fromRed().toArray());var K=_<8?1:0;for(S=Math.min(f.length,A.length),f.length!==A.length&&(K=1),F=-1;++F<S;)K|=f[F]^A[F];return K===0}function n(f,l,E){var d=o[E.data.algorithm.curve.join(".")];if(!d)throw new Error("unknown curve "+E.data.algorithm.curve.join("."));var p=new N(d),g=E.data.subjectPrivateKey.data;return p.verify(l,f,g)}function c(f,l,E){var d=E.data.p,p=E.data.q,g=E.data.g,S=E.data.pub_key,A=k.signature.decode(f,"der"),_=A.s,F=A.r;v(_,p),v(F,p);var H=O.mont(d),K=_.invm(p),J=g.toRed(H).redPow(new O(l).mul(K).mod(p)).fromRed().mul(S.toRed(H).redPow(F.mul(K).mod(p)).fromRed()).mod(d).mod(p);return J.cmp(F)===0}function v(f,l){if(f.cmpn(0)<=0)throw new Error("invalid sig");if(f.cmp(l)>=l)throw new Error("invalid sig")}b.exports=u},8815:function(b,z,y){b=y.nmd(b),function(R,O){"use strict";function N(M,s){if(!M)throw new Error(s||"Assertion failed")}function k(M,s){M.super_=s;var m=function(){};m.prototype=s.prototype,M.prototype=new m,M.prototype.constructor=M}function o(M,s,m){if(o.isBN(M))return M;this.negative=0,this.words=null,this.length=0,this.red=null,M!==null&&((s==="le"||s==="be")&&(m=s,s=10),this._init(M||0,s||10,m||"be"))}typeof R=="object"?R.exports=o:O.BN=o,o.BN=o,o.wordSize=26;var u;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?u=window.Buffer:u=y(2363).Buffer}catch(M){}o.isBN=function(s){return s instanceof o?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===o.wordSize&&Array.isArray(s.words)},o.max=function(s,m){return s.cmp(m)>0?s:m},o.min=function(s,m){return s.cmp(m)<0?s:m},o.prototype._init=function(s,m,T){if(typeof s=="number")return this._initNumber(s,m,T);if(typeof s=="object")return this._initArray(s,m,T);m==="hex"&&(m=16),N(m===(m|0)&&m>=2&&m<=36),s=s.toString().replace(/\s+/g,"");var I=0;s[0]==="-"&&(I++,this.negative=1),I<s.length&&(m===16?this._parseHex(s,I,T):(this._parseBase(s,m,I),T==="le"&&this._initArray(this.toArray(),m,T)))},o.prototype._initNumber=function(s,m,T){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(N(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),T==="le"&&this._initArray(this.toArray(),m,T)},o.prototype._initArray=function(s,m,T){if(N(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var D,P,V=0;if(T==="be")for(I=s.length-1,D=0;I>=0;I-=3)P=s[I]|s[I-1]<<8|s[I-2]<<16,this.words[D]|=P<<V&67108863,this.words[D+1]=P>>>26-V&67108863,V+=24,V>=26&&(V-=26,D++);else if(T==="le")for(I=0,D=0;I<s.length;I+=3)P=s[I]|s[I+1]<<8|s[I+2]<<16,this.words[D]|=P<<V&67108863,this.words[D+1]=P>>>26-V&67108863,V+=24,V>=26&&(V-=26,D++);return this._strip()};function n(M,s){var m=M.charCodeAt(s);if(m>=48&&m<=57)return m-48;if(m>=65&&m<=70)return m-55;if(m>=97&&m<=102)return m-87;N(!1,"Invalid character in "+M)}function c(M,s,m){var T=n(M,m);return m-1>=s&&(T|=n(M,m-1)<<4),T}o.prototype._parseHex=function(s,m,T){this.length=Math.ceil((s.length-m)/6),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var D=0,P=0,V;if(T==="be")for(I=s.length-1;I>=m;I-=2)V=c(s,m,I)<<D,this.words[P]|=V&67108863,D>=18?(D-=18,P+=1,this.words[P]|=V>>>26):D+=8;else{var G=s.length-m;for(I=G%2==0?m+1:m;I<s.length;I+=2)V=c(s,m,I)<<D,this.words[P]|=V&67108863,D>=18?(D-=18,P+=1,this.words[P]|=V>>>26):D+=8}this._strip()};function v(M,s,m,T){for(var I=0,D=0,P=Math.min(M.length,m),V=s;V<P;V++){var G=M.charCodeAt(V)-48;I*=T,G>=49?D=G-49+10:G>=17?D=G-17+10:D=G,N(G>=0&&D<T,"Invalid character"),I+=D}return I}o.prototype._parseBase=function(s,m,T){this.words=[0],this.length=1;for(var I=0,D=1;D<=67108863;D*=m)I++;I--,D=D/m|0;for(var P=s.length-T,V=P%I,G=Math.min(P,P-V)+T,w=0,Y=T;Y<G;Y+=I)w=v(s,Y,Y+I,m),this.imuln(D),this.words[0]+w<67108864?this.words[0]+=w:this._iaddn(w);if(V!==0){var me=1;for(w=v(s,Y,s.length,m),Y=0;Y<V;Y++)me*=m;this.imuln(me),this.words[0]+w<67108864?this.words[0]+=w:this._iaddn(w)}this._strip()},o.prototype.copy=function(s){s.words=new Array(this.length);for(var m=0;m<this.length;m++)s.words[m]=this.words[m];s.length=this.length,s.negative=this.negative,s.red=this.red};function f(M,s){M.words=s.words,M.length=s.length,M.negative=s.negative,M.red=s.red}if(o.prototype._move=function(s){f(s,this)},o.prototype.clone=function(){var s=new o(null);return this.copy(s),s},o.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch(M){o.prototype.inspect=l}else o.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var E=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(s,m){s=s||10,m=m|0||1;var T;if(s===16||s==="hex"){T="";for(var I=0,D=0,P=0;P<this.length;P++){var V=this.words[P],G=((V<<I|D)&16777215).toString(16);D=V>>>24-I&16777215,D!==0||P!==this.length-1?T=E[6-G.length]+G+T:T=G+T,I+=2,I>=26&&(I-=26,P--)}for(D!==0&&(T=D.toString(16)+T);T.length%m!=0;)T="0"+T;return this.negative!==0&&(T="-"+T),T}if(s===(s|0)&&s>=2&&s<=36){var w=d[s],Y=p[s];T="";var me=this.clone();for(me.negative=0;!me.isZero();){var ge=me.modrn(Y).toString(s);me=me.idivn(Y),me.isZero()?T=ge+T:T=E[w-ge.length]+ge+T}for(this.isZero()&&(T="0"+T);T.length%m!=0;)T="0"+T;return this.negative!==0&&(T="-"+T),T}N(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&N(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},o.prototype.toJSON=function(){return this.toString(16,2)},u&&(o.prototype.toBuffer=function(s,m){return this.toArrayLike(u,s,m)}),o.prototype.toArray=function(s,m){return this.toArrayLike(Array,s,m)};var g=function(s,m){return s.allocUnsafe?s.allocUnsafe(m):new s(m)};o.prototype.toArrayLike=function(s,m,T){this._strip();var I=this.byteLength(),D=T||Math.max(1,I);N(I<=D,"byte array longer than desired length"),N(D>0,"Requested array length <= 0");var P=g(s,D),V=m==="le"?"LE":"BE";return this["_toArrayLike"+V](P,I),P},o.prototype._toArrayLikeLE=function(s,m){for(var T=0,I=0,D=0,P=0;D<this.length;D++){var V=this.words[D]<<P|I;s[T++]=V&255,T<s.length&&(s[T++]=V>>8&255),T<s.length&&(s[T++]=V>>16&255),P===6?(T<s.length&&(s[T++]=V>>24&255),I=0,P=0):(I=V>>>24,P+=2)}if(T<s.length)for(s[T++]=I;T<s.length;)s[T++]=0},o.prototype._toArrayLikeBE=function(s,m){for(var T=s.length-1,I=0,D=0,P=0;D<this.length;D++){var V=this.words[D]<<P|I;s[T--]=V&255,T>=0&&(s[T--]=V>>8&255),T>=0&&(s[T--]=V>>16&255),P===6?(T>=0&&(s[T--]=V>>24&255),I=0,P=0):(I=V>>>24,P+=2)}if(T>=0)for(s[T--]=I;T>=0;)s[T--]=0},Math.clz32?o.prototype._countBits=function(s){return 32-Math.clz32(s)}:o.prototype._countBits=function(s){var m=s,T=0;return m>=4096&&(T+=13,m>>>=13),m>=64&&(T+=7,m>>>=7),m>=8&&(T+=4,m>>>=4),m>=2&&(T+=2,m>>>=2),T+m},o.prototype._zeroBits=function(s){if(s===0)return 26;var m=s,T=0;return(m&8191)==0&&(T+=13,m>>>=13),(m&127)==0&&(T+=7,m>>>=7),(m&15)==0&&(T+=4,m>>>=4),(m&3)==0&&(T+=2,m>>>=2),(m&1)==0&&T++,T},o.prototype.bitLength=function(){var s=this.words[this.length-1],m=this._countBits(s);return(this.length-1)*26+m};function S(M){for(var s=new Array(M.bitLength()),m=0;m<s.length;m++){var T=m/26|0,I=m%26;s[m]=M.words[T]>>>I&1}return s}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,m=0;m<this.length;m++){var T=this._zeroBits(this.words[m]);if(s+=T,T!==26)break}return s},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},o.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var m=0;m<s.length;m++)this.words[m]=this.words[m]|s.words[m];return this._strip()},o.prototype.ior=function(s){return N((this.negative|s.negative)==0),this.iuor(s)},o.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},o.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},o.prototype.iuand=function(s){var m;this.length>s.length?m=s:m=this;for(var T=0;T<m.length;T++)this.words[T]=this.words[T]&s.words[T];return this.length=m.length,this._strip()},o.prototype.iand=function(s){return N((this.negative|s.negative)==0),this.iuand(s)},o.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},o.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},o.prototype.iuxor=function(s){var m,T;this.length>s.length?(m=this,T=s):(m=s,T=this);for(var I=0;I<T.length;I++)this.words[I]=m.words[I]^T.words[I];if(this!==m)for(;I<m.length;I++)this.words[I]=m.words[I];return this.length=m.length,this._strip()},o.prototype.ixor=function(s){return N((this.negative|s.negative)==0),this.iuxor(s)},o.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},o.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},o.prototype.inotn=function(s){N(typeof s=="number"&&s>=0);var m=Math.ceil(s/26)|0,T=s%26;this._expand(m),T>0&&m--;for(var I=0;I<m;I++)this.words[I]=~this.words[I]&67108863;return T>0&&(this.words[I]=~this.words[I]&67108863>>26-T),this._strip()},o.prototype.notn=function(s){return this.clone().inotn(s)},o.prototype.setn=function(s,m){N(typeof s=="number"&&s>=0);var T=s/26|0,I=s%26;return this._expand(T+1),m?this.words[T]=this.words[T]|1<<I:this.words[T]=this.words[T]&~(1<<I),this._strip()},o.prototype.iadd=function(s){var m;if(this.negative!==0&&s.negative===0)return this.negative=0,m=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,m=this.isub(s),s.negative=1,m._normSign();var T,I;this.length>s.length?(T=this,I=s):(T=s,I=this);for(var D=0,P=0;P<I.length;P++)m=(T.words[P]|0)+(I.words[P]|0)+D,this.words[P]=m&67108863,D=m>>>26;for(;D!==0&&P<T.length;P++)m=(T.words[P]|0)+D,this.words[P]=m&67108863,D=m>>>26;if(this.length=T.length,D!==0)this.words[this.length]=D,this.length++;else if(T!==this)for(;P<T.length;P++)this.words[P]=T.words[P];return this},o.prototype.add=function(s){var m;return s.negative!==0&&this.negative===0?(s.negative=0,m=this.sub(s),s.negative^=1,m):s.negative===0&&this.negative!==0?(this.negative=0,m=s.sub(this),this.negative=1,m):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},o.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var m=this.iadd(s);return s.negative=1,m._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var T=this.cmp(s);if(T===0)return this.negative=0,this.length=1,this.words[0]=0,this;var I,D;T>0?(I=this,D=s):(I=s,D=this);for(var P=0,V=0;V<D.length;V++)m=(I.words[V]|0)-(D.words[V]|0)+P,P=m>>26,this.words[V]=m&67108863;for(;P!==0&&V<I.length;V++)m=(I.words[V]|0)+P,P=m>>26,this.words[V]=m&67108863;if(P===0&&V<I.length&&I!==this)for(;V<I.length;V++)this.words[V]=I.words[V];return this.length=Math.max(this.length,V),I!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(s){return this.clone().isub(s)};function A(M,s,m){m.negative=s.negative^M.negative;var T=M.length+s.length|0;m.length=T,T=T-1|0;var I=M.words[0]|0,D=s.words[0]|0,P=I*D,V=P&67108863,G=P/67108864|0;m.words[0]=V;for(var w=1;w<T;w++){for(var Y=G>>>26,me=G&67108863,ge=Math.min(w,s.length-1),_e=Math.max(0,w-M.length+1);_e<=ge;_e++){var xe=w-_e|0;I=M.words[xe]|0,D=s.words[_e]|0,P=I*D+me,Y+=P/67108864|0,me=P&67108863}m.words[w]=me|0,G=Y|0}return G!==0?m.words[w]=G|0:m.length--,m._strip()}var _=function(s,m,T){var I=s.words,D=m.words,P=T.words,V=0,G,w,Y,me=I[0]|0,ge=me&8191,_e=me>>>13,xe=I[1]|0,ee=xe&8191,X=xe>>>13,ce=I[2]|0,he=ce&8191,ve=ce>>>13,q=I[3]|0,L=q&8191,ae=q>>>13,pe=I[4]|0,Se=pe&8191,ye=pe>>>13,Ne=I[5]|0,Ae=Ne&8191,Me=Ne>>>13,ut=I[6]|0,qe=ut&8191,Fe=ut>>>13,ht=I[7]|0,se=ht&8191,j=ht>>>13,Z=I[8]|0,oe=Z&8191,fe=Z>>>13,ke=I[9]|0,be=ke&8191,Pe=ke>>>13,ct=D[0]|0,Oe=ct&8191,Be=ct>>>13,at=D[1]|0,Ke=at&8191,Ye=at>>>13,pt=D[2]|0,$e=pt&8191,Ce=pt>>>13,ur=D[3]|0,ze=ur&8191,Ze=ur>>>13,yr=D[4]|0,He=yr&8191,We=yr>>>13,wr=D[5]|0,Je=wr&8191,Qe=wr>>>13,_r=D[6]|0,Xe=_r&8191,Ve=_r>>>13,ir=D[7]|0,et=ir&8191,je=ir>>>13,nr=D[8]|0,tt=nr&8191,rt=nr>>>13,$t=D[9]|0,st=$t&8191,it=$t>>>13;T.negative=s.negative^m.negative,T.length=19,G=Math.imul(ge,Oe),w=Math.imul(ge,Be),w=w+Math.imul(_e,Oe)|0,Y=Math.imul(_e,Be);var Qt=(V+G|0)+((w&8191)<<13)|0;V=(Y+(w>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,G=Math.imul(ee,Oe),w=Math.imul(ee,Be),w=w+Math.imul(X,Oe)|0,Y=Math.imul(X,Be),G=G+Math.imul(ge,Ke)|0,w=w+Math.imul(ge,Ye)|0,w=w+Math.imul(_e,Ke)|0,Y=Y+Math.imul(_e,Ye)|0;var Kt=(V+G|0)+((w&8191)<<13)|0;V=(Y+(w>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,G=Math.imul(he,Oe),w=Math.imul(he,Be),w=w+Math.imul(ve,Oe)|0,Y=Math.imul(ve,Be),G=G+Math.imul(ee,Ke)|0,w=w+Math.imul(ee,Ye)|0,w=w+Math.imul(X,Ke)|0,Y=Y+Math.imul(X,Ye)|0,G=G+Math.imul(ge,$e)|0,w=w+Math.imul(ge,Ce)|0,w=w+Math.imul(_e,$e)|0,Y=Y+Math.imul(_e,Ce)|0;var jt=(V+G|0)+((w&8191)<<13)|0;V=(Y+(w>>>13)|0)+(jt>>>26)|0,jt&=67108863,G=Math.imul(L,Oe),w=Math.imul(L,Be),w=w+Math.imul(ae,Oe)|0,Y=Math.imul(ae,Be),G=G+Math.imul(he,Ke)|0,w=w+Math.imul(he,Ye)|0,w=w+Math.imul(ve,Ke)|0,Y=Y+Math.imul(ve,Ye)|0,G=G+Math.imul(ee,$e)|0,w=w+Math.imul(ee,Ce)|0,w=w+Math.imul(X,$e)|0,Y=Y+Math.imul(X,Ce)|0,G=G+Math.imul(ge,ze)|0,w=w+Math.imul(ge,Ze)|0,w=w+Math.imul(_e,ze)|0,Y=Y+Math.imul(_e,Ze)|0;var mt=(V+G|0)+((w&8191)<<13)|0;V=(Y+(w>>>13)|0)+(mt>>>26)|0,mt&=67108863,G=Math.imul(Se,Oe),w=Math.imul(Se,Be),w=w+Math.imul(ye,Oe)|0,Y=Math.imul(ye,Be),G=G+Math.imul(L,Ke)|0,w=w+Math.imul(L,Ye)|0,w=w+Math.imul(ae,Ke)|0,Y=Y+Math.imul(ae,Ye)|0,G=G+Math.imul(he,$e)|0,w=w+Math.imul(he,Ce)|0,w=w+Math.imul(ve,$e)|0,Y=Y+Math.imul(ve,Ce)|0,G=G+Math.imul(ee,ze)|0,w=w+Math.imul(ee,Ze)|0,w=w+Math.imul(X,ze)|0,Y=Y+Math.imul(X,Ze)|0,G=G+Math.imul(ge,He)|0,w=w+Math.imul(ge,We)|0,w=w+Math.imul(_e,He)|0,Y=Y+Math.imul(_e,We)|0;var Ht=(V+G|0)+((w&8191)<<13)|0;V=(Y+(w>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,G=Math.imul(Ae,Oe),w=Math.imul(Ae,Be),w=w+Math.imul(Me,Oe)|0,Y=Math.imul(Me,Be),G=G+Math.imul(Se,Ke)|0,w=w+Math.imul(Se,Ye)|0,w=w+Math.imul(ye,Ke)|0,Y=Y+Math.imul(ye,Ye)|0,G=G+Math.imul(L,$e)|0,w=w+Math.imul(L,Ce)|0,w=w+Math.imul(ae,$e)|0,Y=Y+Math.imul(ae,Ce)|0,G=G+Math.imul(he,ze)|0,w=w+Math.imul(he,Ze)|0,w=w+Math.imul(ve,ze)|0,Y=Y+Math.imul(ve,Ze)|0,G=G+Math.imul(ee,He)|0,w=w+Math.imul(ee,We)|0,w=w+Math.imul(X,He)|0,Y=Y+Math.imul(X,We)|0,G=G+Math.imul(ge,Je)|0,w=w+Math.imul(ge,Qe)|0,w=w+Math.imul(_e,Je)|0,Y=Y+Math.imul(_e,Qe)|0;var Yt=(V+G|0)+((w&8191)<<13)|0;V=(Y+(w>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,G=Math.imul(qe,Oe),w=Math.imul(qe,Be),w=w+Math.imul(Fe,Oe)|0,Y=Math.imul(Fe,Be),G=G+Math.imul(Ae,Ke)|0,w=w+Math.imul(Ae,Ye)|0,w=w+Math.imul(Me,Ke)|0,Y=Y+Math.imul(Me,Ye)|0,G=G+Math.imul(Se,$e)|0,w=w+Math.imul(Se,Ce)|0,w=w+Math.imul(ye,$e)|0,Y=Y+Math.imul(ye,Ce)|0,G=G+Math.imul(L,ze)|0,w=w+Math.imul(L,Ze)|0,w=w+Math.imul(ae,ze)|0,Y=Y+Math.imul(ae,Ze)|0,G=G+Math.imul(he,He)|0,w=w+Math.imul(he,We)|0,w=w+Math.imul(ve,He)|0,Y=Y+Math.imul(ve,We)|0,G=G+Math.imul(ee,Je)|0,w=w+Math.imul(ee,Qe)|0,w=w+Math.imul(X,Je)|0,Y=Y+Math.imul(X,Qe)|0,G=G+Math.imul(ge,Xe)|0,w=w+Math.imul(ge,Ve)|0,w=w+Math.imul(_e,Xe)|0,Y=Y+Math.imul(_e,Ve)|0;var Zt=(V+G|0)+((w&8191)<<13)|0;V=(Y+(w>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,G=Math.imul(se,Oe),w=Math.imul(se,Be),w=w+Math.imul(j,Oe)|0,Y=Math.imul(j,Be),G=G+Math.imul(qe,Ke)|0,w=w+Math.imul(qe,Ye)|0,w=w+Math.imul(Fe,Ke)|0,Y=Y+Math.imul(Fe,Ye)|0,G=G+Math.imul(Ae,$e)|0,w=w+Math.imul(Ae,Ce)|0,w=w+Math.imul(Me,$e)|0,Y=Y+Math.imul(Me,Ce)|0,G=G+Math.imul(Se,ze)|0,w=w+Math.imul(Se,Ze)|0,w=w+Math.imul(ye,ze)|0,Y=Y+Math.imul(ye,Ze)|0,G=G+Math.imul(L,He)|0,w=w+Math.imul(L,We)|0,w=w+Math.imul(ae,He)|0,Y=Y+Math.imul(ae,We)|0,G=G+Math.imul(he,Je)|0,w=w+Math.imul(he,Qe)|0,w=w+Math.imul(ve,Je)|0,Y=Y+Math.imul(ve,Qe)|0,G=G+Math.imul(ee,Xe)|0,w=w+Math.imul(ee,Ve)|0,w=w+Math.imul(X,Xe)|0,Y=Y+Math.imul(X,Ve)|0,G=G+Math.imul(ge,et)|0,w=w+Math.imul(ge,je)|0,w=w+Math.imul(_e,et)|0,Y=Y+Math.imul(_e,je)|0;var sr=(V+G|0)+((w&8191)<<13)|0;V=(Y+(w>>>13)|0)+(sr>>>26)|0,sr&=67108863,G=Math.imul(oe,Oe),w=Math.imul(oe,Be),w=w+Math.imul(fe,Oe)|0,Y=Math.imul(fe,Be),G=G+Math.imul(se,Ke)|0,w=w+Math.imul(se,Ye)|0,w=w+Math.imul(j,Ke)|0,Y=Y+Math.imul(j,Ye)|0,G=G+Math.imul(qe,$e)|0,w=w+Math.imul(qe,Ce)|0,w=w+Math.imul(Fe,$e)|0,Y=Y+Math.imul(Fe,Ce)|0,G=G+Math.imul(Ae,ze)|0,w=w+Math.imul(Ae,Ze)|0,w=w+Math.imul(Me,ze)|0,Y=Y+Math.imul(Me,Ze)|0,G=G+Math.imul(Se,He)|0,w=w+Math.imul(Se,We)|0,w=w+Math.imul(ye,He)|0,Y=Y+Math.imul(ye,We)|0,G=G+Math.imul(L,Je)|0,w=w+Math.imul(L,Qe)|0,w=w+Math.imul(ae,Je)|0,Y=Y+Math.imul(ae,Qe)|0,G=G+Math.imul(he,Xe)|0,w=w+Math.imul(he,Ve)|0,w=w+Math.imul(ve,Xe)|0,Y=Y+Math.imul(ve,Ve)|0,G=G+Math.imul(ee,et)|0,w=w+Math.imul(ee,je)|0,w=w+Math.imul(X,et)|0,Y=Y+Math.imul(X,je)|0,G=G+Math.imul(ge,tt)|0,w=w+Math.imul(ge,rt)|0,w=w+Math.imul(_e,tt)|0,Y=Y+Math.imul(_e,rt)|0;var ar=(V+G|0)+((w&8191)<<13)|0;V=(Y+(w>>>13)|0)+(ar>>>26)|0,ar&=67108863,G=Math.imul(be,Oe),w=Math.imul(be,Be),w=w+Math.imul(Pe,Oe)|0,Y=Math.imul(Pe,Be),G=G+Math.imul(oe,Ke)|0,w=w+Math.imul(oe,Ye)|0,w=w+Math.imul(fe,Ke)|0,Y=Y+Math.imul(fe,Ye)|0,G=G+Math.imul(se,$e)|0,w=w+Math.imul(se,Ce)|0,w=w+Math.imul(j,$e)|0,Y=Y+Math.imul(j,Ce)|0,G=G+Math.imul(qe,ze)|0,w=w+Math.imul(qe,Ze)|0,w=w+Math.imul(Fe,ze)|0,Y=Y+Math.imul(Fe,Ze)|0,G=G+Math.imul(Ae,He)|0,w=w+Math.imul(Ae,We)|0,w=w+Math.imul(Me,He)|0,Y=Y+Math.imul(Me,We)|0,G=G+Math.imul(Se,Je)|0,w=w+Math.imul(Se,Qe)|0,w=w+Math.imul(ye,Je)|0,Y=Y+Math.imul(ye,Qe)|0,G=G+Math.imul(L,Xe)|0,w=w+Math.imul(L,Ve)|0,w=w+Math.imul(ae,Xe)|0,Y=Y+Math.imul(ae,Ve)|0,G=G+Math.imul(he,et)|0,w=w+Math.imul(he,je)|0,w=w+Math.imul(ve,et)|0,Y=Y+Math.imul(ve,je)|0,G=G+Math.imul(ee,tt)|0,w=w+Math.imul(ee,rt)|0,w=w+Math.imul(X,tt)|0,Y=Y+Math.imul(X,rt)|0,G=G+Math.imul(ge,st)|0,w=w+Math.imul(ge,it)|0,w=w+Math.imul(_e,st)|0,Y=Y+Math.imul(_e,it)|0;var or=(V+G|0)+((w&8191)<<13)|0;V=(Y+(w>>>13)|0)+(or>>>26)|0,or&=67108863,G=Math.imul(be,Ke),w=Math.imul(be,Ye),w=w+Math.imul(Pe,Ke)|0,Y=Math.imul(Pe,Ye),G=G+Math.imul(oe,$e)|0,w=w+Math.imul(oe,Ce)|0,w=w+Math.imul(fe,$e)|0,Y=Y+Math.imul(fe,Ce)|0,G=G+Math.imul(se,ze)|0,w=w+Math.imul(se,Ze)|0,w=w+Math.imul(j,ze)|0,Y=Y+Math.imul(j,Ze)|0,G=G+Math.imul(qe,He)|0,w=w+Math.imul(qe,We)|0,w=w+Math.imul(Fe,He)|0,Y=Y+Math.imul(Fe,We)|0,G=G+Math.imul(Ae,Je)|0,w=w+Math.imul(Ae,Qe)|0,w=w+Math.imul(Me,Je)|0,Y=Y+Math.imul(Me,Qe)|0,G=G+Math.imul(Se,Xe)|0,w=w+Math.imul(Se,Ve)|0,w=w+Math.imul(ye,Xe)|0,Y=Y+Math.imul(ye,Ve)|0,G=G+Math.imul(L,et)|0,w=w+Math.imul(L,je)|0,w=w+Math.imul(ae,et)|0,Y=Y+Math.imul(ae,je)|0,G=G+Math.imul(he,tt)|0,w=w+Math.imul(he,rt)|0,w=w+Math.imul(ve,tt)|0,Y=Y+Math.imul(ve,rt)|0,G=G+Math.imul(ee,st)|0,w=w+Math.imul(ee,it)|0,w=w+Math.imul(X,st)|0,Y=Y+Math.imul(X,it)|0;var Jt=(V+G|0)+((w&8191)<<13)|0;V=(Y+(w>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,G=Math.imul(be,$e),w=Math.imul(be,Ce),w=w+Math.imul(Pe,$e)|0,Y=Math.imul(Pe,Ce),G=G+Math.imul(oe,ze)|0,w=w+Math.imul(oe,Ze)|0,w=w+Math.imul(fe,ze)|0,Y=Y+Math.imul(fe,Ze)|0,G=G+Math.imul(se,He)|0,w=w+Math.imul(se,We)|0,w=w+Math.imul(j,He)|0,Y=Y+Math.imul(j,We)|0,G=G+Math.imul(qe,Je)|0,w=w+Math.imul(qe,Qe)|0,w=w+Math.imul(Fe,Je)|0,Y=Y+Math.imul(Fe,Qe)|0,G=G+Math.imul(Ae,Xe)|0,w=w+Math.imul(Ae,Ve)|0,w=w+Math.imul(Me,Xe)|0,Y=Y+Math.imul(Me,Ve)|0,G=G+Math.imul(Se,et)|0,w=w+Math.imul(Se,je)|0,w=w+Math.imul(ye,et)|0,Y=Y+Math.imul(ye,je)|0,G=G+Math.imul(L,tt)|0,w=w+Math.imul(L,rt)|0,w=w+Math.imul(ae,tt)|0,Y=Y+Math.imul(ae,rt)|0,G=G+Math.imul(he,st)|0,w=w+Math.imul(he,it)|0,w=w+Math.imul(ve,st)|0,Y=Y+Math.imul(ve,it)|0;var gt=(V+G|0)+((w&8191)<<13)|0;V=(Y+(w>>>13)|0)+(gt>>>26)|0,gt&=67108863,G=Math.imul(be,ze),w=Math.imul(be,Ze),w=w+Math.imul(Pe,ze)|0,Y=Math.imul(Pe,Ze),G=G+Math.imul(oe,He)|0,w=w+Math.imul(oe,We)|0,w=w+Math.imul(fe,He)|0,Y=Y+Math.imul(fe,We)|0,G=G+Math.imul(se,Je)|0,w=w+Math.imul(se,Qe)|0,w=w+Math.imul(j,Je)|0,Y=Y+Math.imul(j,Qe)|0,G=G+Math.imul(qe,Xe)|0,w=w+Math.imul(qe,Ve)|0,w=w+Math.imul(Fe,Xe)|0,Y=Y+Math.imul(Fe,Ve)|0,G=G+Math.imul(Ae,et)|0,w=w+Math.imul(Ae,je)|0,w=w+Math.imul(Me,et)|0,Y=Y+Math.imul(Me,je)|0,G=G+Math.imul(Se,tt)|0,w=w+Math.imul(Se,rt)|0,w=w+Math.imul(ye,tt)|0,Y=Y+Math.imul(ye,rt)|0,G=G+Math.imul(L,st)|0,w=w+Math.imul(L,it)|0,w=w+Math.imul(ae,st)|0,Y=Y+Math.imul(ae,it)|0;var Et=(V+G|0)+((w&8191)<<13)|0;V=(Y+(w>>>13)|0)+(Et>>>26)|0,Et&=67108863,G=Math.imul(be,He),w=Math.imul(be,We),w=w+Math.imul(Pe,He)|0,Y=Math.imul(Pe,We),G=G+Math.imul(oe,Je)|0,w=w+Math.imul(oe,Qe)|0,w=w+Math.imul(fe,Je)|0,Y=Y+Math.imul(fe,Qe)|0,G=G+Math.imul(se,Xe)|0,w=w+Math.imul(se,Ve)|0,w=w+Math.imul(j,Xe)|0,Y=Y+Math.imul(j,Ve)|0,G=G+Math.imul(qe,et)|0,w=w+Math.imul(qe,je)|0,w=w+Math.imul(Fe,et)|0,Y=Y+Math.imul(Fe,je)|0,G=G+Math.imul(Ae,tt)|0,w=w+Math.imul(Ae,rt)|0,w=w+Math.imul(Me,tt)|0,Y=Y+Math.imul(Me,rt)|0,G=G+Math.imul(Se,st)|0,w=w+Math.imul(Se,it)|0,w=w+Math.imul(ye,st)|0,Y=Y+Math.imul(ye,it)|0;var dt=(V+G|0)+((w&8191)<<13)|0;V=(Y+(w>>>13)|0)+(dt>>>26)|0,dt&=67108863,G=Math.imul(be,Je),w=Math.imul(be,Qe),w=w+Math.imul(Pe,Je)|0,Y=Math.imul(Pe,Qe),G=G+Math.imul(oe,Xe)|0,w=w+Math.imul(oe,Ve)|0,w=w+Math.imul(fe,Xe)|0,Y=Y+Math.imul(fe,Ve)|0,G=G+Math.imul(se,et)|0,w=w+Math.imul(se,je)|0,w=w+Math.imul(j,et)|0,Y=Y+Math.imul(j,je)|0,G=G+Math.imul(qe,tt)|0,w=w+Math.imul(qe,rt)|0,w=w+Math.imul(Fe,tt)|0,Y=Y+Math.imul(Fe,rt)|0,G=G+Math.imul(Ae,st)|0,w=w+Math.imul(Ae,it)|0,w=w+Math.imul(Me,st)|0,Y=Y+Math.imul(Me,it)|0;var Ct=(V+G|0)+((w&8191)<<13)|0;V=(Y+(w>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,G=Math.imul(be,Xe),w=Math.imul(be,Ve),w=w+Math.imul(Pe,Xe)|0,Y=Math.imul(Pe,Ve),G=G+Math.imul(oe,et)|0,w=w+Math.imul(oe,je)|0,w=w+Math.imul(fe,et)|0,Y=Y+Math.imul(fe,je)|0,G=G+Math.imul(se,tt)|0,w=w+Math.imul(se,rt)|0,w=w+Math.imul(j,tt)|0,Y=Y+Math.imul(j,rt)|0,G=G+Math.imul(qe,st)|0,w=w+Math.imul(qe,it)|0,w=w+Math.imul(Fe,st)|0,Y=Y+Math.imul(Fe,it)|0;var Xt=(V+G|0)+((w&8191)<<13)|0;V=(Y+(w>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,G=Math.imul(be,et),w=Math.imul(be,je),w=w+Math.imul(Pe,et)|0,Y=Math.imul(Pe,je),G=G+Math.imul(oe,tt)|0,w=w+Math.imul(oe,rt)|0,w=w+Math.imul(fe,tt)|0,Y=Y+Math.imul(fe,rt)|0,G=G+Math.imul(se,st)|0,w=w+Math.imul(se,it)|0,w=w+Math.imul(j,st)|0,Y=Y+Math.imul(j,it)|0;var Cr=(V+G|0)+((w&8191)<<13)|0;V=(Y+(w>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,G=Math.imul(be,tt),w=Math.imul(be,rt),w=w+Math.imul(Pe,tt)|0,Y=Math.imul(Pe,rt),G=G+Math.imul(oe,st)|0,w=w+Math.imul(oe,it)|0,w=w+Math.imul(fe,st)|0,Y=Y+Math.imul(fe,it)|0;var Nr=(V+G|0)+((w&8191)<<13)|0;V=(Y+(w>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,G=Math.imul(be,st),w=Math.imul(be,it),w=w+Math.imul(Pe,st)|0,Y=Math.imul(Pe,it);var kr=(V+G|0)+((w&8191)<<13)|0;return V=(Y+(w>>>13)|0)+(kr>>>26)|0,kr&=67108863,P[0]=Qt,P[1]=Kt,P[2]=jt,P[3]=mt,P[4]=Ht,P[5]=Yt,P[6]=Zt,P[7]=sr,P[8]=ar,P[9]=or,P[10]=Jt,P[11]=gt,P[12]=Et,P[13]=dt,P[14]=Ct,P[15]=Xt,P[16]=Cr,P[17]=Nr,P[18]=kr,V!==0&&(P[19]=V,T.length++),T};Math.imul||(_=A);function F(M,s,m){m.negative=s.negative^M.negative,m.length=M.length+s.length;for(var T=0,I=0,D=0;D<m.length-1;D++){var P=I;I=0;for(var V=T&67108863,G=Math.min(D,s.length-1),w=Math.max(0,D-M.length+1);w<=G;w++){var Y=D-w,me=M.words[Y]|0,ge=s.words[w]|0,_e=me*ge,xe=_e&67108863;P=P+(_e/67108864|0)|0,xe=xe+V|0,V=xe&67108863,P=P+(xe>>>26)|0,I+=P>>>26,P&=67108863}m.words[D]=V,T=P,P=I}return T!==0?m.words[D]=T:m.length--,m._strip()}function H(M,s,m){return F(M,s,m)}o.prototype.mulTo=function(s,m){var T,I=this.length+s.length;return this.length===10&&s.length===10?T=_(this,s,m):I<63?T=A(this,s,m):I<1024?T=F(this,s,m):T=H(this,s,m),T};function K(M,s){this.x=M,this.y=s}K.prototype.makeRBT=function(s){for(var m=new Array(s),T=o.prototype._countBits(s)-1,I=0;I<s;I++)m[I]=this.revBin(I,T,s);return m},K.prototype.revBin=function(s,m,T){if(s===0||s===T-1)return s;for(var I=0,D=0;D<m;D++)I|=(s&1)<<m-D-1,s>>=1;return I},K.prototype.permute=function(s,m,T,I,D,P){for(var V=0;V<P;V++)I[V]=m[s[V]],D[V]=T[s[V]]},K.prototype.transform=function(s,m,T,I,D,P){this.permute(P,s,m,T,I,D);for(var V=1;V<D;V<<=1)for(var G=V<<1,w=Math.cos(2*Math.PI/G),Y=Math.sin(2*Math.PI/G),me=0;me<D;me+=G)for(var ge=w,_e=Y,xe=0;xe<V;xe++){var ee=T[me+xe],X=I[me+xe],ce=T[me+xe+V],he=I[me+xe+V],ve=ge*ce-_e*he;he=ge*he+_e*ce,ce=ve,T[me+xe]=ee+ce,I[me+xe]=X+he,T[me+xe+V]=ee-ce,I[me+xe+V]=X-he,xe!==G&&(ve=w*ge-Y*_e,_e=w*_e+Y*ge,ge=ve)}},K.prototype.guessLen13b=function(s,m){var T=Math.max(m,s)|1,I=T&1,D=0;for(T=T/2|0;T;T=T>>>1)D++;return 1<<D+1+I},K.prototype.conjugate=function(s,m,T){if(!(T<=1))for(var I=0;I<T/2;I++){var D=s[I];s[I]=s[T-I-1],s[T-I-1]=D,D=m[I],m[I]=-m[T-I-1],m[T-I-1]=-D}},K.prototype.normalize13b=function(s,m){for(var T=0,I=0;I<m/2;I++){var D=Math.round(s[2*I+1]/m)*8192+Math.round(s[2*I]/m)+T;s[I]=D&67108863,D<67108864?T=0:T=D/67108864|0}return s},K.prototype.convert13b=function(s,m,T,I){for(var D=0,P=0;P<m;P++)D=D+(s[P]|0),T[2*P]=D&8191,D=D>>>13,T[2*P+1]=D&8191,D=D>>>13;for(P=2*m;P<I;++P)T[P]=0;N(D===0),N((D&~8191)==0)},K.prototype.stub=function(s){for(var m=new Array(s),T=0;T<s;T++)m[T]=0;return m},K.prototype.mulp=function(s,m,T){var I=2*this.guessLen13b(s.length,m.length),D=this.makeRBT(I),P=this.stub(I),V=new Array(I),G=new Array(I),w=new Array(I),Y=new Array(I),me=new Array(I),ge=new Array(I),_e=T.words;_e.length=I,this.convert13b(s.words,s.length,V,I),this.convert13b(m.words,m.length,Y,I),this.transform(V,P,G,w,I,D),this.transform(Y,P,me,ge,I,D);for(var xe=0;xe<I;xe++){var ee=G[xe]*me[xe]-w[xe]*ge[xe];w[xe]=G[xe]*ge[xe]+w[xe]*me[xe],G[xe]=ee}return this.conjugate(G,w,I),this.transform(G,w,_e,P,I,D),this.conjugate(_e,P,I),this.normalize13b(_e,I),T.negative=s.negative^m.negative,T.length=s.length+m.length,T._strip()},o.prototype.mul=function(s){var m=new o(null);return m.words=new Array(this.length+s.length),this.mulTo(s,m)},o.prototype.mulf=function(s){var m=new o(null);return m.words=new Array(this.length+s.length),H(this,s,m)},o.prototype.imul=function(s){return this.clone().mulTo(s,this)},o.prototype.imuln=function(s){var m=s<0;m&&(s=-s),N(typeof s=="number"),N(s<67108864);for(var T=0,I=0;I<this.length;I++){var D=(this.words[I]|0)*s,P=(D&67108863)+(T&67108863);T>>=26,T+=D/67108864|0,T+=P>>>26,this.words[I]=P&67108863}return T!==0&&(this.words[I]=T,this.length++),m?this.ineg():this},o.prototype.muln=function(s){return this.clone().imuln(s)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(s){var m=S(s);if(m.length===0)return new o(1);for(var T=this,I=0;I<m.length&&m[I]===0;I++,T=T.sqr());if(++I<m.length)for(var D=T.sqr();I<m.length;I++,D=D.sqr())m[I]!==0&&(T=T.mul(D));return T},o.prototype.iushln=function(s){N(typeof s=="number"&&s>=0);var m=s%26,T=(s-m)/26,I=67108863>>>26-m<<26-m,D;if(m!==0){var P=0;for(D=0;D<this.length;D++){var V=this.words[D]&I,G=(this.words[D]|0)-V<<m;this.words[D]=G|P,P=V>>>26-m}P&&(this.words[D]=P,this.length++)}if(T!==0){for(D=this.length-1;D>=0;D--)this.words[D+T]=this.words[D];for(D=0;D<T;D++)this.words[D]=0;this.length+=T}return this._strip()},o.prototype.ishln=function(s){return N(this.negative===0),this.iushln(s)},o.prototype.iushrn=function(s,m,T){N(typeof s=="number"&&s>=0);var I;m?I=(m-m%26)/26:I=0;var D=s%26,P=Math.min((s-D)/26,this.length),V=67108863^67108863>>>D<<D,G=T;if(I-=P,I=Math.max(0,I),G){for(var w=0;w<P;w++)G.words[w]=this.words[w];G.length=P}if(P!==0)if(this.length>P)for(this.length-=P,w=0;w<this.length;w++)this.words[w]=this.words[w+P];else this.words[0]=0,this.length=1;var Y=0;for(w=this.length-1;w>=0&&(Y!==0||w>=I);w--){var me=this.words[w]|0;this.words[w]=Y<<26-D|me>>>D,Y=me&V}return G&&Y!==0&&(G.words[G.length++]=Y),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(s,m,T){return N(this.negative===0),this.iushrn(s,m,T)},o.prototype.shln=function(s){return this.clone().ishln(s)},o.prototype.ushln=function(s){return this.clone().iushln(s)},o.prototype.shrn=function(s){return this.clone().ishrn(s)},o.prototype.ushrn=function(s){return this.clone().iushrn(s)},o.prototype.testn=function(s){N(typeof s=="number"&&s>=0);var m=s%26,T=(s-m)/26,I=1<<m;if(this.length<=T)return!1;var D=this.words[T];return!!(D&I)},o.prototype.imaskn=function(s){N(typeof s=="number"&&s>=0);var m=s%26,T=(s-m)/26;if(N(this.negative===0,"imaskn works only with positive numbers"),this.length<=T)return this;if(m!==0&&T++,this.length=Math.min(T,this.length),m!==0){var I=67108863^67108863>>>m<<m;this.words[this.length-1]&=I}return this._strip()},o.prototype.maskn=function(s){return this.clone().imaskn(s)},o.prototype.iaddn=function(s){return N(typeof s=="number"),N(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<=s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},o.prototype._iaddn=function(s){this.words[0]+=s;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},o.prototype.isubn=function(s){if(N(typeof s=="number"),N(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this._strip()},o.prototype.addn=function(s){return this.clone().iaddn(s)},o.prototype.subn=function(s){return this.clone().isubn(s)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(s,m,T){var I=s.length+T,D;this._expand(I);var P,V=0;for(D=0;D<s.length;D++){P=(this.words[D+T]|0)+V;var G=(s.words[D]|0)*m;P-=G&67108863,V=(P>>26)-(G/67108864|0),this.words[D+T]=P&67108863}for(;D<this.length-T;D++)P=(this.words[D+T]|0)+V,V=P>>26,this.words[D+T]=P&67108863;if(V===0)return this._strip();for(N(V===-1),V=0,D=0;D<this.length;D++)P=-(this.words[D]|0)+V,V=P>>26,this.words[D]=P&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(s,m){var T=this.length-s.length,I=this.clone(),D=s,P=D.words[D.length-1]|0,V=this._countBits(P);T=26-V,T!==0&&(D=D.ushln(T),I.iushln(T),P=D.words[D.length-1]|0);var G=I.length-D.length,w;if(m!=="mod"){w=new o(null),w.length=G+1,w.words=new Array(w.length);for(var Y=0;Y<w.length;Y++)w.words[Y]=0}var me=I.clone()._ishlnsubmul(D,1,G);me.negative===0&&(I=me,w&&(w.words[G]=1));for(var ge=G-1;ge>=0;ge--){var _e=(I.words[D.length+ge]|0)*67108864+(I.words[D.length+ge-1]|0);for(_e=Math.min(_e/P|0,67108863),I._ishlnsubmul(D,_e,ge);I.negative!==0;)_e--,I.negative=0,I._ishlnsubmul(D,1,ge),I.isZero()||(I.negative^=1);w&&(w.words[ge]=_e)}return w&&w._strip(),I._strip(),m!=="div"&&T!==0&&I.iushrn(T),{div:w||null,mod:I}},o.prototype.divmod=function(s,m,T){if(N(!s.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var I,D,P;return this.negative!==0&&s.negative===0?(P=this.neg().divmod(s,m),m!=="mod"&&(I=P.div.neg()),m!=="div"&&(D=P.mod.neg(),T&&D.negative!==0&&D.iadd(s)),{div:I,mod:D}):this.negative===0&&s.negative!==0?(P=this.divmod(s.neg(),m),m!=="mod"&&(I=P.div.neg()),{div:I,mod:P.mod}):(this.negative&s.negative)!=0?(P=this.neg().divmod(s.neg(),m),m!=="div"&&(D=P.mod.neg(),T&&D.negative!==0&&D.isub(s)),{div:P.div,mod:D}):s.length>this.length||this.cmp(s)<0?{div:new o(0),mod:this}:s.length===1?m==="div"?{div:this.divn(s.words[0]),mod:null}:m==="mod"?{div:null,mod:new o(this.modrn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new o(this.modrn(s.words[0]))}:this._wordDiv(s,m)},o.prototype.div=function(s){return this.divmod(s,"div",!1).div},o.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},o.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},o.prototype.divRound=function(s){var m=this.divmod(s);if(m.mod.isZero())return m.div;var T=m.div.negative!==0?m.mod.isub(s):m.mod,I=s.ushrn(1),D=s.andln(1),P=T.cmp(I);return P<0||D===1&&P===0?m.div:m.div.negative!==0?m.div.isubn(1):m.div.iaddn(1)},o.prototype.modrn=function(s){var m=s<0;m&&(s=-s),N(s<=67108863);for(var T=(1<<26)%s,I=0,D=this.length-1;D>=0;D--)I=(T*I+(this.words[D]|0))%s;return m?-I:I},o.prototype.modn=function(s){return this.modrn(s)},o.prototype.idivn=function(s){var m=s<0;m&&(s=-s),N(s<=67108863);for(var T=0,I=this.length-1;I>=0;I--){var D=(this.words[I]|0)+T*67108864;this.words[I]=D/s|0,T=D%s}return this._strip(),m?this.ineg():this},o.prototype.divn=function(s){return this.clone().idivn(s)},o.prototype.egcd=function(s){N(s.negative===0),N(!s.isZero());var m=this,T=s.clone();m.negative!==0?m=m.umod(s):m=m.clone();for(var I=new o(1),D=new o(0),P=new o(0),V=new o(1),G=0;m.isEven()&&T.isEven();)m.iushrn(1),T.iushrn(1),++G;for(var w=T.clone(),Y=m.clone();!m.isZero();){for(var me=0,ge=1;(m.words[0]&ge)==0&&me<26;++me,ge<<=1);if(me>0)for(m.iushrn(me);me-- >0;)(I.isOdd()||D.isOdd())&&(I.iadd(w),D.isub(Y)),I.iushrn(1),D.iushrn(1);for(var _e=0,xe=1;(T.words[0]&xe)==0&&_e<26;++_e,xe<<=1);if(_e>0)for(T.iushrn(_e);_e-- >0;)(P.isOdd()||V.isOdd())&&(P.iadd(w),V.isub(Y)),P.iushrn(1),V.iushrn(1);m.cmp(T)>=0?(m.isub(T),I.isub(P),D.isub(V)):(T.isub(m),P.isub(I),V.isub(D))}return{a:P,b:V,gcd:T.iushln(G)}},o.prototype._invmp=function(s){N(s.negative===0),N(!s.isZero());var m=this,T=s.clone();m.negative!==0?m=m.umod(s):m=m.clone();for(var I=new o(1),D=new o(0),P=T.clone();m.cmpn(1)>0&&T.cmpn(1)>0;){for(var V=0,G=1;(m.words[0]&G)==0&&V<26;++V,G<<=1);if(V>0)for(m.iushrn(V);V-- >0;)I.isOdd()&&I.iadd(P),I.iushrn(1);for(var w=0,Y=1;(T.words[0]&Y)==0&&w<26;++w,Y<<=1);if(w>0)for(T.iushrn(w);w-- >0;)D.isOdd()&&D.iadd(P),D.iushrn(1);m.cmp(T)>=0?(m.isub(T),I.isub(D)):(T.isub(m),D.isub(I))}var me;return m.cmpn(1)===0?me=I:me=D,me.cmpn(0)<0&&me.iadd(s),me},o.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var m=this.clone(),T=s.clone();m.negative=0,T.negative=0;for(var I=0;m.isEven()&&T.isEven();I++)m.iushrn(1),T.iushrn(1);do{for(;m.isEven();)m.iushrn(1);for(;T.isEven();)T.iushrn(1);var D=m.cmp(T);if(D<0){var P=m;m=T,T=P}else if(D===0||T.cmpn(1)===0)break;m.isub(T)}while(!0);return T.iushln(I)},o.prototype.invm=function(s){return this.egcd(s).a.umod(s)},o.prototype.isEven=function(){return(this.words[0]&1)==0},o.prototype.isOdd=function(){return(this.words[0]&1)==1},o.prototype.andln=function(s){return this.words[0]&s},o.prototype.bincn=function(s){N(typeof s=="number");var m=s%26,T=(s-m)/26,I=1<<m;if(this.length<=T)return this._expand(T+1),this.words[T]|=I,this;for(var D=I,P=T;D!==0&&P<this.length;P++){var V=this.words[P]|0;V+=D,D=V>>>26,V&=67108863,this.words[P]=V}return D!==0&&(this.words[P]=D,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(s){var m=s<0;if(this.negative!==0&&!m)return-1;if(this.negative===0&&m)return 1;this._strip();var T;if(this.length>1)T=1;else{m&&(s=-s),N(s<=67108863,"Number is too big");var I=this.words[0]|0;T=I===s?0:I<s?-1:1}return this.negative!==0?-T|0:T},o.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var m=this.ucmp(s);return this.negative!==0?-m|0:m},o.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var m=0,T=this.length-1;T>=0;T--){var I=this.words[T]|0,D=s.words[T]|0;if(I!==D){I<D?m=-1:I>D&&(m=1);break}}return m},o.prototype.gtn=function(s){return this.cmpn(s)===1},o.prototype.gt=function(s){return this.cmp(s)===1},o.prototype.gten=function(s){return this.cmpn(s)>=0},o.prototype.gte=function(s){return this.cmp(s)>=0},o.prototype.ltn=function(s){return this.cmpn(s)===-1},o.prototype.lt=function(s){return this.cmp(s)===-1},o.prototype.lten=function(s){return this.cmpn(s)<=0},o.prototype.lte=function(s){return this.cmp(s)<=0},o.prototype.eqn=function(s){return this.cmpn(s)===0},o.prototype.eq=function(s){return this.cmp(s)===0},o.red=function(s){return new C(s)},o.prototype.toRed=function(s){return N(!this.red,"Already a number in reduction context"),N(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},o.prototype.fromRed=function(){return N(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(s){return this.red=s,this},o.prototype.forceRed=function(s){return N(!this.red,"Already a number in reduction context"),this._forceRed(s)},o.prototype.redAdd=function(s){return N(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},o.prototype.redIAdd=function(s){return N(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},o.prototype.redSub=function(s){return N(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},o.prototype.redISub=function(s){return N(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},o.prototype.redShl=function(s){return N(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},o.prototype.redMul=function(s){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},o.prototype.redIMul=function(s){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},o.prototype.redSqr=function(){return N(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return N(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return N(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return N(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return N(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(s){return N(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var J={k256:null,p224:null,p192:null,p25519:null};function te(M,s){this.name=M,this.p=new o(s,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}te.prototype._tmp=function(){var s=new o(null);return s.words=new Array(Math.ceil(this.n/13)),s},te.prototype.ireduce=function(s){var m=s,T;do this.split(m,this.tmp),m=this.imulK(m),m=m.iadd(this.tmp),T=m.bitLength();while(T>this.n);var I=T<this.n?-1:m.ucmp(this.p);return I===0?(m.words[0]=0,m.length=1):I>0?m.isub(this.p):m.strip!==void 0?m.strip():m._strip(),m},te.prototype.split=function(s,m){s.iushrn(this.n,0,m)},te.prototype.imulK=function(s){return s.imul(this.k)};function ie(){te.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}k(ie,te),ie.prototype.split=function(s,m){for(var T=4194303,I=Math.min(s.length,9),D=0;D<I;D++)m.words[D]=s.words[D];if(m.length=I,s.length<=9){s.words[0]=0,s.length=1;return}var P=s.words[9];for(m.words[m.length++]=P&T,D=10;D<s.length;D++){var V=s.words[D]|0;s.words[D-10]=(V&T)<<4|P>>>22,P=V}P>>>=22,s.words[D-10]=P,P===0&&s.length>10?s.length-=10:s.length-=9},ie.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var m=0,T=0;T<s.length;T++){var I=s.words[T]|0;m+=I*977,s.words[T]=m&67108863,m=I*64+(m/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function ne(){te.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}k(ne,te);function ue(){te.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}k(ue,te);function Q(){te.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}k(Q,te),Q.prototype.imulK=function(s){for(var m=0,T=0;T<s.length;T++){var I=(s.words[T]|0)*19+m,D=I&67108863;I>>>=26,s.words[T]=D,m=I}return m!==0&&(s.words[s.length++]=m),s},o._prime=function(s){if(J[s])return J[s];var m;if(s==="k256")m=new ie;else if(s==="p224")m=new ne;else if(s==="p192")m=new ue;else if(s==="p25519")m=new Q;else throw new Error("Unknown prime "+s);return J[s]=m,m};function C(M){if(typeof M=="string"){var s=o._prime(M);this.m=s.p,this.prime=s}else N(M.gtn(1),"modulus must be greater than 1"),this.m=M,this.prime=null}C.prototype._verify1=function(s){N(s.negative===0,"red works only with positives"),N(s.red,"red works only with red numbers")},C.prototype._verify2=function(s,m){N((s.negative|m.negative)==0,"red works only with positives"),N(s.red&&s.red===m.red,"red works only with red numbers")},C.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):(f(s,s.umod(this.m)._forceRed(this)),s)},C.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},C.prototype.add=function(s,m){this._verify2(s,m);var T=s.add(m);return T.cmp(this.m)>=0&&T.isub(this.m),T._forceRed(this)},C.prototype.iadd=function(s,m){this._verify2(s,m);var T=s.iadd(m);return T.cmp(this.m)>=0&&T.isub(this.m),T},C.prototype.sub=function(s,m){this._verify2(s,m);var T=s.sub(m);return T.cmpn(0)<0&&T.iadd(this.m),T._forceRed(this)},C.prototype.isub=function(s,m){this._verify2(s,m);var T=s.isub(m);return T.cmpn(0)<0&&T.iadd(this.m),T},C.prototype.shl=function(s,m){return this._verify1(s),this.imod(s.ushln(m))},C.prototype.imul=function(s,m){return this._verify2(s,m),this.imod(s.imul(m))},C.prototype.mul=function(s,m){return this._verify2(s,m),this.imod(s.mul(m))},C.prototype.isqr=function(s){return this.imul(s,s.clone())},C.prototype.sqr=function(s){return this.mul(s,s)},C.prototype.sqrt=function(s){if(s.isZero())return s.clone();var m=this.m.andln(3);if(N(m%2==1),m===3){var T=this.m.add(new o(1)).iushrn(2);return this.pow(s,T)}for(var I=this.m.subn(1),D=0;!I.isZero()&&I.andln(1)===0;)D++,I.iushrn(1);N(!I.isZero());var P=new o(1).toRed(this),V=P.redNeg(),G=this.m.subn(1).iushrn(1),w=this.m.bitLength();for(w=new o(2*w*w).toRed(this);this.pow(w,G).cmp(V)!==0;)w.redIAdd(V);for(var Y=this.pow(w,I),me=this.pow(s,I.addn(1).iushrn(1)),ge=this.pow(s,I),_e=D;ge.cmp(P)!==0;){for(var xe=ge,ee=0;xe.cmp(P)!==0;ee++)xe=xe.redSqr();N(ee<_e);var X=this.pow(Y,new o(1).iushln(_e-ee-1));me=me.redMul(X),Y=X.redSqr(),ge=ge.redMul(Y),_e=ee}return me},C.prototype.invm=function(s){var m=s._invmp(this.m);return m.negative!==0?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},C.prototype.pow=function(s,m){if(m.isZero())return new o(1).toRed(this);if(m.cmpn(1)===0)return s.clone();var T=4,I=new Array(1<<T);I[0]=new o(1).toRed(this),I[1]=s;for(var D=2;D<I.length;D++)I[D]=this.mul(I[D-1],s);var P=I[0],V=0,G=0,w=m.bitLength()%26;for(w===0&&(w=26),D=m.length-1;D>=0;D--){for(var Y=m.words[D],me=w-1;me>=0;me--){var ge=Y>>me&1;if(P!==I[0]&&(P=this.sqr(P)),ge===0&&V===0){G=0;continue}V<<=1,V|=ge,G++,!(G!==T&&(D!==0||me!==0))&&(P=this.mul(P,I[V]),G=0,V=0)}w=26}return P},C.prototype.convertTo=function(s){var m=s.umod(this.m);return m===s?m.clone():m},C.prototype.convertFrom=function(s){var m=s.clone();return m.red=null,m},o.mont=function(s){return new U(s)};function U(M){C.call(this,M),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}k(U,C),U.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},U.prototype.convertFrom=function(s){var m=this.imod(s.mul(this.rinv));return m.red=null,m},U.prototype.imul=function(s,m){if(s.isZero()||m.isZero())return s.words[0]=0,s.length=1,s;var T=s.imul(m),I=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=T.isub(I).iushrn(this.shift),P=D;return D.cmp(this.m)>=0?P=D.isub(this.m):D.cmpn(0)<0&&(P=D.iadd(this.m)),P._forceRed(this)},U.prototype.mul=function(s,m){if(s.isZero()||m.isZero())return new o(0)._forceRed(this);var T=s.mul(m),I=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=T.isub(I).iushrn(this.shift),P=D;return D.cmp(this.m)>=0?P=D.isub(this.m):D.cmpn(0)<0&&(P=D.iadd(this.m)),P._forceRed(this)},U.prototype.invm=function(s){var m=this.imod(s._invmp(this.m).mul(this.r2));return m._forceRed(this)}}(b,this)},4419:b=>{"use strict";function z(u,n){u.prototype=Object.create(n.prototype),u.prototype.constructor=u,u.__proto__=n}var y={};function R(u,n,c){c||(c=Error);function v(l,E,d){return typeof n=="string"?n:n(l,E,d)}var f=function(l){z(E,l);function E(d,p,g){return l.call(this,v(d,p,g))||this}return E}(c);f.prototype.name=c.name,f.prototype.code=u,y[u]=f}function O(u,n){if(Array.isArray(u)){var c=u.length;return u=u.map(function(v){return String(v)}),c>2?"one of ".concat(n," ").concat(u.slice(0,c-1).join(", "),", or ")+u[c-1]:c===2?"one of ".concat(n," ").concat(u[0]," or ").concat(u[1]):"of ".concat(n," ").concat(u[0])}else return"of ".concat(n," ").concat(String(u))}function N(u,n,c){return u.substr(!c||c<0?0:+c,n.length)===n}function k(u,n,c){return(c===void 0||c>u.length)&&(c=u.length),u.substring(c-n.length,c)===n}function o(u,n,c){return typeof c!="number"&&(c=0),c+n.length>u.length?!1:u.indexOf(n,c)!==-1}R("ERR_INVALID_OPT_VALUE",function(u,n){return'The value "'+n+'" is invalid for option "'+u+'"'},TypeError),R("ERR_INVALID_ARG_TYPE",function(u,n,c){var v;typeof n=="string"&&N(n,"not ")?(v="must not be",n=n.replace(/^not /,"")):v="must be";var f;if(k(u," argument"))f="The ".concat(u," ").concat(v," ").concat(O(n,"type"));else{var l=o(u,".")?"property":"argument";f='The "'.concat(u,'" ').concat(l," ").concat(v," ").concat(O(n,"type"))}return f+=". Received type ".concat(typeof c),f},TypeError),R("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),R("ERR_METHOD_NOT_IMPLEMENTED",function(u){return"The "+u+" method is not implemented"}),R("ERR_STREAM_PREMATURE_CLOSE","Premature close"),R("ERR_STREAM_DESTROYED",function(u){return"Cannot call "+u+" after a stream was destroyed"}),R("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),R("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),R("ERR_STREAM_WRITE_AFTER_END","write after end"),R("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),R("ERR_UNKNOWN_ENCODING",function(u){return"Unknown encoding: "+u},TypeError),R("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),b.exports.q=y},4390:(b,z,y)=>{"use strict";var R=y(4155),O=Object.keys||function(l){var E=[];for(var d in l)E.push(d);return E};b.exports=c;var N=y(4960),k=y(2010);y(5717)(c,N);for(var o=O(k.prototype),u=0;u<o.length;u++){var n=o[u];c.prototype[n]||(c.prototype[n]=k.prototype[n])}function c(l){if(!(this instanceof c))return new c(l);N.call(this,l),k.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",v)))}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function v(){this._writableState.ended||R.nextTick(f,this)}function f(l){l.end()}Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(E){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=E,this._writableState.destroyed=E)}})},1294:(b,z,y)=>{"use strict";b.exports=O;var R=y(3912);y(5717)(O,R);function O(N){if(!(this instanceof O))return new O(N);R.call(this,N)}O.prototype._transform=function(N,k,o){o(null,N)}},4960:(b,z,y)=>{"use strict";var R=y(4155);b.exports=C;var O;C.ReadableState=Q;var N=y(7187).EventEmitter,k=function(L,ae){return L.listeners(ae).length},o=y(9819),u=y(8764).Buffer,n=y.g.Uint8Array||function(){};function c(q){return u.from(q)}function v(q){return u.isBuffer(q)||q instanceof n}var f=y(6353),l;f&&f.debuglog?l=f.debuglog("stream"):l=function(){};var E=y(6633),d=y(5997),p=y(898),g=p.getHighWaterMark,S=y(4419).q,A=S.ERR_INVALID_ARG_TYPE,_=S.ERR_STREAM_PUSH_AFTER_EOF,F=S.ERR_METHOD_NOT_IMPLEMENTED,H=S.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,K,J,te;y(5717)(C,o);var ie=d.errorOrDestroy,ne=["error","close","destroy","pause","resume"];function ue(q,L,ae){if(typeof q.prependListener=="function")return q.prependListener(L,ae);!q._events||!q._events[L]?q.on(L,ae):Array.isArray(q._events[L])?q._events[L].unshift(ae):q._events[L]=[ae,q._events[L]]}function Q(q,L,ae){O=O||y(4390),q=q||{},typeof ae!="boolean"&&(ae=L instanceof O),this.objectMode=!!q.objectMode,ae&&(this.objectMode=this.objectMode||!!q.readableObjectMode),this.highWaterMark=g(this,q,"readableHighWaterMark",ae),this.buffer=new E,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=q.emitClose!==!1,this.autoDestroy=!!q.autoDestroy,this.destroyed=!1,this.defaultEncoding=q.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,q.encoding&&(K||(K=y(2221).s),this.decoder=new K(q.encoding),this.encoding=q.encoding)}function C(q){if(O=O||y(4390),!(this instanceof C))return new C(q);var L=this instanceof O;this._readableState=new Q(q,this,L),this.readable=!0,q&&(typeof q.read=="function"&&(this._read=q.read),typeof q.destroy=="function"&&(this._destroy=q.destroy)),o.call(this)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(L){!this._readableState||(this._readableState.destroyed=L)}}),C.prototype.destroy=d.destroy,C.prototype._undestroy=d.undestroy,C.prototype._destroy=function(q,L){L(q)},C.prototype.push=function(q,L){var ae=this._readableState,pe;return ae.objectMode?pe=!0:typeof q=="string"&&(L=L||ae.defaultEncoding,L!==ae.encoding&&(q=u.from(q,L),L=""),pe=!0),U(this,q,L,!1,pe)},C.prototype.unshift=function(q){return U(this,q,null,!0,!1)};function U(q,L,ae,pe,Se){l("readableAddChunk",L);var ye=q._readableState;if(L===null)ye.reading=!1,D(q,ye);else{var Ne;if(Se||(Ne=s(ye,L)),Ne)ie(q,Ne);else if(ye.objectMode||L&&L.length>0)if(typeof L!="string"&&!ye.objectMode&&Object.getPrototypeOf(L)!==u.prototype&&(L=c(L)),pe)ye.endEmitted?ie(q,new H):M(q,ye,L,!0);else if(ye.ended)ie(q,new _);else{if(ye.destroyed)return!1;ye.reading=!1,ye.decoder&&!ae?(L=ye.decoder.write(L),ye.objectMode||L.length!==0?M(q,ye,L,!1):G(q,ye)):M(q,ye,L,!1)}else pe||(ye.reading=!1,G(q,ye))}return!ye.ended&&(ye.length<ye.highWaterMark||ye.length===0)}function M(q,L,ae,pe){L.flowing&&L.length===0&&!L.sync?(L.awaitDrain=0,q.emit("data",ae)):(L.length+=L.objectMode?1:ae.length,pe?L.buffer.unshift(ae):L.buffer.push(ae),L.needReadable&&P(q)),G(q,L)}function s(q,L){var ae;return!v(L)&&typeof L!="string"&&L!==void 0&&!q.objectMode&&(ae=new A("chunk",["string","Buffer","Uint8Array"],L)),ae}C.prototype.isPaused=function(){return this._readableState.flowing===!1},C.prototype.setEncoding=function(q){K||(K=y(2221).s);var L=new K(q);this._readableState.decoder=L,this._readableState.encoding=this._readableState.decoder.encoding;for(var ae=this._readableState.buffer.head,pe="";ae!==null;)pe+=L.write(ae.data),ae=ae.next;return this._readableState.buffer.clear(),pe!==""&&this._readableState.buffer.push(pe),this._readableState.length=pe.length,this};var m=1073741824;function T(q){return q>=m?q=m:(q--,q|=q>>>1,q|=q>>>2,q|=q>>>4,q|=q>>>8,q|=q>>>16,q++),q}function I(q,L){return q<=0||L.length===0&&L.ended?0:L.objectMode?1:q!==q?L.flowing&&L.length?L.buffer.head.data.length:L.length:(q>L.highWaterMark&&(L.highWaterMark=T(q)),q<=L.length?q:L.ended?L.length:(L.needReadable=!0,0))}C.prototype.read=function(q){l("read",q),q=parseInt(q,10);var L=this._readableState,ae=q;if(q!==0&&(L.emittedReadable=!1),q===0&&L.needReadable&&((L.highWaterMark!==0?L.length>=L.highWaterMark:L.length>0)||L.ended))return l("read: emitReadable",L.length,L.ended),L.length===0&&L.ended?ce(this):P(this),null;if(q=I(q,L),q===0&&L.ended)return L.length===0&&ce(this),null;var pe=L.needReadable;l("need readable",pe),(L.length===0||L.length-q<L.highWaterMark)&&(pe=!0,l("length less than watermark",pe)),L.ended||L.reading?(pe=!1,l("reading or ended",pe)):pe&&(l("do read"),L.reading=!0,L.sync=!0,L.length===0&&(L.needReadable=!0),this._read(L.highWaterMark),L.sync=!1,L.reading||(q=I(ae,L)));var Se;return q>0?Se=X(q,L):Se=null,Se===null?(L.needReadable=L.length<=L.highWaterMark,q=0):(L.length-=q,L.awaitDrain=0),L.length===0&&(L.ended||(L.needReadable=!0),ae!==q&&L.ended&&ce(this)),Se!==null&&this.emit("data",Se),Se};function D(q,L){if(l("onEofChunk"),!L.ended){if(L.decoder){var ae=L.decoder.end();ae&&ae.length&&(L.buffer.push(ae),L.length+=L.objectMode?1:ae.length)}L.ended=!0,L.sync?P(q):(L.needReadable=!1,L.emittedReadable||(L.emittedReadable=!0,V(q)))}}function P(q){var L=q._readableState;l("emitReadable",L.needReadable,L.emittedReadable),L.needReadable=!1,L.emittedReadable||(l("emitReadable",L.flowing),L.emittedReadable=!0,R.nextTick(V,q))}function V(q){var L=q._readableState;l("emitReadable_",L.destroyed,L.length,L.ended),!L.destroyed&&(L.length||L.ended)&&(q.emit("readable"),L.emittedReadable=!1),L.needReadable=!L.flowing&&!L.ended&&L.length<=L.highWaterMark,ee(q)}function G(q,L){L.readingMore||(L.readingMore=!0,R.nextTick(w,q,L))}function w(q,L){for(;!L.reading&&!L.ended&&(L.length<L.highWaterMark||L.flowing&&L.length===0);){var ae=L.length;if(l("maybeReadMore read 0"),q.read(0),ae===L.length)break}L.readingMore=!1}C.prototype._read=function(q){ie(this,new F("_read()"))},C.prototype.pipe=function(q,L){var ae=this,pe=this._readableState;switch(pe.pipesCount){case 0:pe.pipes=q;break;case 1:pe.pipes=[pe.pipes,q];break;default:pe.pipes.push(q);break}pe.pipesCount+=1,l("pipe count=%d opts=%j",pe.pipesCount,L);var Se=(!L||L.end!==!1)&&q!==R.stdout&&q!==R.stderr,ye=Se?Ae:Z;pe.endEmitted?R.nextTick(ye):ae.once("end",ye),q.on("unpipe",Ne);function Ne(oe,fe){l("onunpipe"),oe===ae&&fe&&fe.hasUnpiped===!1&&(fe.hasUnpiped=!0,qe())}function Ae(){l("onend"),q.end()}var Me=Y(ae);q.on("drain",Me);var ut=!1;function qe(){l("cleanup"),q.removeListener("close",se),q.removeListener("finish",j),q.removeListener("drain",Me),q.removeListener("error",ht),q.removeListener("unpipe",Ne),ae.removeListener("end",Ae),ae.removeListener("end",Z),ae.removeListener("data",Fe),ut=!0,pe.awaitDrain&&(!q._writableState||q._writableState.needDrain)&&Me()}ae.on("data",Fe);function Fe(oe){l("ondata");var fe=q.write(oe);l("dest.write",fe),fe===!1&&((pe.pipesCount===1&&pe.pipes===q||pe.pipesCount>1&&ve(pe.pipes,q)!==-1)&&!ut&&(l("false write response, pause",pe.awaitDrain),pe.awaitDrain++),ae.pause())}function ht(oe){l("onerror",oe),Z(),q.removeListener("error",ht),k(q,"error")===0&&ie(q,oe)}ue(q,"error",ht);function se(){q.removeListener("finish",j),Z()}q.once("close",se);function j(){l("onfinish"),q.removeListener("close",se),Z()}q.once("finish",j);function Z(){l("unpipe"),ae.unpipe(q)}return q.emit("pipe",ae),pe.flowing||(l("pipe resume"),ae.resume()),q};function Y(q){return function(){var ae=q._readableState;l("pipeOnDrain",ae.awaitDrain),ae.awaitDrain&&ae.awaitDrain--,ae.awaitDrain===0&&k(q,"data")&&(ae.flowing=!0,ee(q))}}C.prototype.unpipe=function(q){var L=this._readableState,ae={hasUnpiped:!1};if(L.pipesCount===0)return this;if(L.pipesCount===1)return q&&q!==L.pipes?this:(q||(q=L.pipes),L.pipes=null,L.pipesCount=0,L.flowing=!1,q&&q.emit("unpipe",this,ae),this);if(!q){var pe=L.pipes,Se=L.pipesCount;L.pipes=null,L.pipesCount=0,L.flowing=!1;for(var ye=0;ye<Se;ye++)pe[ye].emit("unpipe",this,{hasUnpiped:!1});return this}var Ne=ve(L.pipes,q);return Ne===-1?this:(L.pipes.splice(Ne,1),L.pipesCount-=1,L.pipesCount===1&&(L.pipes=L.pipes[0]),q.emit("unpipe",this,ae),this)},C.prototype.on=function(q,L){var ae=o.prototype.on.call(this,q,L),pe=this._readableState;return q==="data"?(pe.readableListening=this.listenerCount("readable")>0,pe.flowing!==!1&&this.resume()):q==="readable"&&!pe.endEmitted&&!pe.readableListening&&(pe.readableListening=pe.needReadable=!0,pe.flowing=!1,pe.emittedReadable=!1,l("on readable",pe.length,pe.reading),pe.length?P(this):pe.reading||R.nextTick(ge,this)),ae},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(q,L){var ae=o.prototype.removeListener.call(this,q,L);return q==="readable"&&R.nextTick(me,this),ae},C.prototype.removeAllListeners=function(q){var L=o.prototype.removeAllListeners.apply(this,arguments);return(q==="readable"||q===void 0)&&R.nextTick(me,this),L};function me(q){var L=q._readableState;L.readableListening=q.listenerCount("readable")>0,L.resumeScheduled&&!L.paused?L.flowing=!0:q.listenerCount("data")>0&&q.resume()}function ge(q){l("readable nexttick read 0"),q.read(0)}C.prototype.resume=function(){var q=this._readableState;return q.flowing||(l("resume"),q.flowing=!q.readableListening,_e(this,q)),q.paused=!1,this};function _e(q,L){L.resumeScheduled||(L.resumeScheduled=!0,R.nextTick(xe,q,L))}function xe(q,L){l("resume",L.reading),L.reading||q.read(0),L.resumeScheduled=!1,q.emit("resume"),ee(q),L.flowing&&!L.reading&&q.read(0)}C.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ee(q){var L=q._readableState;for(l("flow",L.flowing);L.flowing&&q.read()!==null;);}C.prototype.wrap=function(q){var L=this,ae=this._readableState,pe=!1;q.on("end",function(){if(l("wrapped end"),ae.decoder&&!ae.ended){var Ne=ae.decoder.end();Ne&&Ne.length&&L.push(Ne)}L.push(null)}),q.on("data",function(Ne){if(l("wrapped data"),ae.decoder&&(Ne=ae.decoder.write(Ne)),!(ae.objectMode&&Ne==null)&&!(!ae.objectMode&&(!Ne||!Ne.length))){var Ae=L.push(Ne);Ae||(pe=!0,q.pause())}});for(var Se in q)this[Se]===void 0&&typeof q[Se]=="function"&&(this[Se]=function(Ae){return function(){return q[Ae].apply(q,arguments)}}(Se));for(var ye=0;ye<ne.length;ye++)q.on(ne[ye],this.emit.bind(this,ne[ye]));return this._read=function(Ne){l("wrapped _read",Ne),pe&&(pe=!1,q.resume())},this},typeof Symbol=="function"&&(C.prototype[Symbol.asyncIterator]=function(){return J===void 0&&(J=y(4887)),J(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(L){this._readableState&&(this._readableState.flowing=L)}}),C._fromList=X,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function X(q,L){if(L.length===0)return null;var ae;return L.objectMode?ae=L.buffer.shift():!q||q>=L.length?(L.decoder?ae=L.buffer.join(""):L.buffer.length===1?ae=L.buffer.first():ae=L.buffer.concat(L.length),L.buffer.clear()):ae=L.buffer.consume(q,L.decoder),ae}function ce(q){var L=q._readableState;l("endReadable",L.endEmitted),L.endEmitted||(L.ended=!0,R.nextTick(he,L,q))}function he(q,L){if(l("endReadableNT",q.endEmitted,q.length),!q.endEmitted&&q.length===0&&(q.endEmitted=!0,L.readable=!1,L.emit("end"),q.autoDestroy)){var ae=L._writableState;(!ae||ae.autoDestroy&&ae.finished)&&L.destroy()}}typeof Symbol=="function"&&(C.from=function(q,L){return te===void 0&&(te=y(8859)),te(C,q,L)});function ve(q,L){for(var ae=0,pe=q.length;ae<pe;ae++)if(q[ae]===L)return ae;return-1}},3912:(b,z,y)=>{"use strict";b.exports=c;var R=y(4419).q,O=R.ERR_METHOD_NOT_IMPLEMENTED,N=R.ERR_MULTIPLE_CALLBACK,k=R.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=R.ERR_TRANSFORM_WITH_LENGTH_0,u=y(4390);y(5717)(c,u);function n(l,E){var d=this._transformState;d.transforming=!1;var p=d.writecb;if(p===null)return this.emit("error",new N);d.writechunk=null,d.writecb=null,E!=null&&this.push(E),p(l);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function c(l){if(!(this instanceof c))return new c(l);u.call(this,l),this._transformState={afterTransform:n.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",v)}function v(){var l=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(E,d){f(l,E,d)}):f(this,null,null)}c.prototype.push=function(l,E){return this._transformState.needTransform=!1,u.prototype.push.call(this,l,E)},c.prototype._transform=function(l,E,d){d(new O("_transform()"))},c.prototype._write=function(l,E,d){var p=this._transformState;if(p.writecb=d,p.writechunk=l,p.writeencoding=E,!p.transforming){var g=this._readableState;(p.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},c.prototype._read=function(l){var E=this._transformState;E.writechunk!==null&&!E.transforming?(E.transforming=!0,this._transform(E.writechunk,E.writeencoding,E.afterTransform)):E.needTransform=!0},c.prototype._destroy=function(l,E){u.prototype._destroy.call(this,l,function(d){E(d)})};function f(l,E,d){if(E)return l.emit("error",E);if(d!=null&&l.push(d),l._writableState.length)throw new o;if(l._transformState.transforming)throw new k;return l.push(null)}},2010:(b,z,y)=>{"use strict";var R=y(4155);b.exports=Q;function O(ee,X,ce){this.chunk=ee,this.encoding=X,this.callback=ce,this.next=null}function N(ee){var X=this;this.next=null,this.entry=null,this.finish=function(){xe(X,ee)}}var k;Q.WritableState=ne;var o={deprecate:y(4927)},u=y(9819),n=y(8764).Buffer,c=y.g.Uint8Array||function(){};function v(ee){return n.from(ee)}function f(ee){return n.isBuffer(ee)||ee instanceof c}var l=y(5997),E=y(898),d=E.getHighWaterMark,p=y(4419).q,g=p.ERR_INVALID_ARG_TYPE,S=p.ERR_METHOD_NOT_IMPLEMENTED,A=p.ERR_MULTIPLE_CALLBACK,_=p.ERR_STREAM_CANNOT_PIPE,F=p.ERR_STREAM_DESTROYED,H=p.ERR_STREAM_NULL_VALUES,K=p.ERR_STREAM_WRITE_AFTER_END,J=p.ERR_UNKNOWN_ENCODING,te=l.errorOrDestroy;y(5717)(Q,u);function ie(){}function ne(ee,X,ce){k=k||y(4390),ee=ee||{},typeof ce!="boolean"&&(ce=X instanceof k),this.objectMode=!!ee.objectMode,ce&&(this.objectMode=this.objectMode||!!ee.writableObjectMode),this.highWaterMark=d(this,ee,"writableHighWaterMark",ce),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var he=ee.decodeStrings===!1;this.decodeStrings=!he,this.defaultEncoding=ee.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ve){D(X,ve)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ee.emitClose!==!1,this.autoDestroy=!!ee.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new N(this)}ne.prototype.getBuffer=function(){for(var X=this.bufferedRequest,ce=[];X;)ce.push(X),X=X.next;return ce},function(){try{Object.defineProperty(ne.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(ee){}}();var ue;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ue=Function.prototype[Symbol.hasInstance],Object.defineProperty(Q,Symbol.hasInstance,{value:function(X){return ue.call(this,X)?!0:this!==Q?!1:X&&X._writableState instanceof ne}})):ue=function(X){return X instanceof this};function Q(ee){k=k||y(4390);var X=this instanceof k;if(!X&&!ue.call(Q,this))return new Q(ee);this._writableState=new ne(ee,this,X),this.writable=!0,ee&&(typeof ee.write=="function"&&(this._write=ee.write),typeof ee.writev=="function"&&(this._writev=ee.writev),typeof ee.destroy=="function"&&(this._destroy=ee.destroy),typeof ee.final=="function"&&(this._final=ee.final)),u.call(this)}Q.prototype.pipe=function(){te(this,new _)};function C(ee,X){var ce=new K;te(ee,ce),R.nextTick(X,ce)}function U(ee,X,ce,he){var ve;return ce===null?ve=new H:typeof ce!="string"&&!X.objectMode&&(ve=new g("chunk",["string","Buffer"],ce)),ve?(te(ee,ve),R.nextTick(he,ve),!1):!0}Q.prototype.write=function(ee,X,ce){var he=this._writableState,ve=!1,q=!he.objectMode&&f(ee);return q&&!n.isBuffer(ee)&&(ee=v(ee)),typeof X=="function"&&(ce=X,X=null),q?X="buffer":X||(X=he.defaultEncoding),typeof ce!="function"&&(ce=ie),he.ending?C(this,ce):(q||U(this,he,ee,ce))&&(he.pendingcb++,ve=s(this,he,q,ee,X,ce)),ve},Q.prototype.cork=function(){this._writableState.corked++},Q.prototype.uncork=function(){var ee=this._writableState;ee.corked&&(ee.corked--,!ee.writing&&!ee.corked&&!ee.bufferProcessing&&ee.bufferedRequest&&G(this,ee))},Q.prototype.setDefaultEncoding=function(X){if(typeof X=="string"&&(X=X.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((X+"").toLowerCase())>-1))throw new J(X);return this._writableState.defaultEncoding=X,this},Object.defineProperty(Q.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function M(ee,X,ce){return!ee.objectMode&&ee.decodeStrings!==!1&&typeof X=="string"&&(X=n.from(X,ce)),X}Object.defineProperty(Q.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function s(ee,X,ce,he,ve,q){if(!ce){var L=M(X,he,ve);he!==L&&(ce=!0,ve="buffer",he=L)}var ae=X.objectMode?1:he.length;X.length+=ae;var pe=X.length<X.highWaterMark;if(pe||(X.needDrain=!0),X.writing||X.corked){var Se=X.lastBufferedRequest;X.lastBufferedRequest={chunk:he,encoding:ve,isBuf:ce,callback:q,next:null},Se?Se.next=X.lastBufferedRequest:X.bufferedRequest=X.lastBufferedRequest,X.bufferedRequestCount+=1}else m(ee,X,!1,ae,he,ve,q);return pe}function m(ee,X,ce,he,ve,q,L){X.writelen=he,X.writecb=L,X.writing=!0,X.sync=!0,X.destroyed?X.onwrite(new F("write")):ce?ee._writev(ve,X.onwrite):ee._write(ve,q,X.onwrite),X.sync=!1}function T(ee,X,ce,he,ve){--X.pendingcb,ce?(R.nextTick(ve,he),R.nextTick(ge,ee,X),ee._writableState.errorEmitted=!0,te(ee,he)):(ve(he),ee._writableState.errorEmitted=!0,te(ee,he),ge(ee,X))}function I(ee){ee.writing=!1,ee.writecb=null,ee.length-=ee.writelen,ee.writelen=0}function D(ee,X){var ce=ee._writableState,he=ce.sync,ve=ce.writecb;if(typeof ve!="function")throw new A;if(I(ce),X)T(ee,ce,he,X,ve);else{var q=w(ce)||ee.destroyed;!q&&!ce.corked&&!ce.bufferProcessing&&ce.bufferedRequest&&G(ee,ce),he?R.nextTick(P,ee,ce,q,ve):P(ee,ce,q,ve)}}function P(ee,X,ce,he){ce||V(ee,X),X.pendingcb--,he(),ge(ee,X)}function V(ee,X){X.length===0&&X.needDrain&&(X.needDrain=!1,ee.emit("drain"))}function G(ee,X){X.bufferProcessing=!0;var ce=X.bufferedRequest;if(ee._writev&&ce&&ce.next){var he=X.bufferedRequestCount,ve=new Array(he),q=X.corkedRequestsFree;q.entry=ce;for(var L=0,ae=!0;ce;)ve[L]=ce,ce.isBuf||(ae=!1),ce=ce.next,L+=1;ve.allBuffers=ae,m(ee,X,!0,X.length,ve,"",q.finish),X.pendingcb++,X.lastBufferedRequest=null,q.next?(X.corkedRequestsFree=q.next,q.next=null):X.corkedRequestsFree=new N(X),X.bufferedRequestCount=0}else{for(;ce;){var pe=ce.chunk,Se=ce.encoding,ye=ce.callback,Ne=X.objectMode?1:pe.length;if(m(ee,X,!1,Ne,pe,Se,ye),ce=ce.next,X.bufferedRequestCount--,X.writing)break}ce===null&&(X.lastBufferedRequest=null)}X.bufferedRequest=ce,X.bufferProcessing=!1}Q.prototype._write=function(ee,X,ce){ce(new S("_write()"))},Q.prototype._writev=null,Q.prototype.end=function(ee,X,ce){var he=this._writableState;return typeof ee=="function"?(ce=ee,ee=null,X=null):typeof X=="function"&&(ce=X,X=null),ee!=null&&this.write(ee,X),he.corked&&(he.corked=1,this.uncork()),he.ending||_e(this,he,ce),this},Object.defineProperty(Q.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function w(ee){return ee.ending&&ee.length===0&&ee.bufferedRequest===null&&!ee.finished&&!ee.writing}function Y(ee,X){ee._final(function(ce){X.pendingcb--,ce&&te(ee,ce),X.prefinished=!0,ee.emit("prefinish"),ge(ee,X)})}function me(ee,X){!X.prefinished&&!X.finalCalled&&(typeof ee._final=="function"&&!X.destroyed?(X.pendingcb++,X.finalCalled=!0,R.nextTick(Y,ee,X)):(X.prefinished=!0,ee.emit("prefinish")))}function ge(ee,X){var ce=w(X);if(ce&&(me(ee,X),X.pendingcb===0&&(X.finished=!0,ee.emit("finish"),X.autoDestroy))){var he=ee._readableState;(!he||he.autoDestroy&&he.endEmitted)&&ee.destroy()}return ce}function _e(ee,X,ce){X.ending=!0,ge(ee,X),ce&&(X.finished?R.nextTick(ce):ee.once("finish",ce)),X.ended=!0,ee.writable=!1}function xe(ee,X,ce){var he=ee.entry;for(ee.entry=null;he;){var ve=he.callback;X.pendingcb--,ve(ce),he=he.next}X.corkedRequestsFree.next=ee}Object.defineProperty(Q.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(X){!this._writableState||(this._writableState.destroyed=X)}}),Q.prototype.destroy=l.destroy,Q.prototype._undestroy=l.undestroy,Q.prototype._destroy=function(ee,X){X(ee)}},4887:(b,z,y)=>{"use strict";var R=y(4155),O;function N(F,H,K){return H in F?Object.defineProperty(F,H,{value:K,enumerable:!0,configurable:!0,writable:!0}):F[H]=K,F}var k=y(5800),o=Symbol("lastResolve"),u=Symbol("lastReject"),n=Symbol("error"),c=Symbol("ended"),v=Symbol("lastPromise"),f=Symbol("handlePromise"),l=Symbol("stream");function E(F,H){return{value:F,done:H}}function d(F){var H=F[o];if(H!==null){var K=F[l].read();K!==null&&(F[v]=null,F[o]=null,F[u]=null,H(E(K,!1)))}}function p(F){R.nextTick(d,F)}function g(F,H){return function(K,J){F.then(function(){if(H[c]){K(E(void 0,!0));return}H[f](K,J)},J)}}var S=Object.getPrototypeOf(function(){}),A=Object.setPrototypeOf((O={get stream(){return this[l]},next:function(){var H=this,K=this[n];if(K!==null)return Promise.reject(K);if(this[c])return Promise.resolve(E(void 0,!0));if(this[l].destroyed)return new Promise(function(ne,ue){R.nextTick(function(){H[n]?ue(H[n]):ne(E(void 0,!0))})});var J=this[v],te;if(J)te=new Promise(g(J,this));else{var ie=this[l].read();if(ie!==null)return Promise.resolve(E(ie,!1));te=new Promise(this[f])}return this[v]=te,te}},N(O,Symbol.asyncIterator,function(){return this}),N(O,"return",function(){var H=this;return new Promise(function(K,J){H[l].destroy(null,function(te){if(te){J(te);return}K(E(void 0,!0))})})}),O),S),_=function(H){var K,J=Object.create(A,(K={},N(K,l,{value:H,writable:!0}),N(K,o,{value:null,writable:!0}),N(K,u,{value:null,writable:!0}),N(K,n,{value:null,writable:!0}),N(K,c,{value:H._readableState.endEmitted,writable:!0}),N(K,f,{value:function(ie,ne){var ue=J[l].read();ue?(J[v]=null,J[o]=null,J[u]=null,ie(E(ue,!1))):(J[o]=ie,J[u]=ne)},writable:!0}),K));return J[v]=null,k(H,function(te){if(te&&te.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ie=J[u];ie!==null&&(J[v]=null,J[o]=null,J[u]=null,ie(te)),J[n]=te;return}var ne=J[o];ne!==null&&(J[v]=null,J[o]=null,J[u]=null,ne(E(void 0,!0))),J[c]=!0}),H.on("readable",p.bind(null,J)),J};b.exports=_},6633:(b,z,y)=>{"use strict";function R(d,p){var g=Object.keys(d);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(d);p&&(S=S.filter(function(A){return Object.getOwnPropertyDescriptor(d,A).enumerable})),g.push.apply(g,S)}return g}function O(d){for(var p=1;p<arguments.length;p++){var g=arguments[p]!=null?arguments[p]:{};p%2?R(Object(g),!0).forEach(function(S){N(d,S,g[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(g)):R(Object(g)).forEach(function(S){Object.defineProperty(d,S,Object.getOwnPropertyDescriptor(g,S))})}return d}function N(d,p,g){return p in d?Object.defineProperty(d,p,{value:g,enumerable:!0,configurable:!0,writable:!0}):d[p]=g,d}function k(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function o(d,p){for(var g=0;g<p.length;g++){var S=p[g];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(d,S.key,S)}}function u(d,p,g){return p&&o(d.prototype,p),g&&o(d,g),d}var n=y(8764),c=n.Buffer,v=y(6419),f=v.inspect,l=f&&f.custom||"inspect";function E(d,p,g){c.prototype.copy.call(d,p,g)}b.exports=function(){function d(){k(this,d),this.head=null,this.tail=null,this.length=0}return u(d,[{key:"push",value:function(g){var S={data:g,next:null};this.length>0?this.tail.next=S:this.head=S,this.tail=S,++this.length}},{key:"unshift",value:function(g){var S={data:g,next:this.head};this.length===0&&(this.tail=S),this.head=S,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var S=this.head,A=""+S.data;S=S.next;)A+=g+S.data;return A}},{key:"concat",value:function(g){if(this.length===0)return c.alloc(0);for(var S=c.allocUnsafe(g>>>0),A=this.head,_=0;A;)E(A.data,S,_),_+=A.data.length,A=A.next;return S}},{key:"consume",value:function(g,S){var A;return g<this.head.data.length?(A=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):g===this.head.data.length?A=this.shift():A=S?this._getString(g):this._getBuffer(g),A}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var S=this.head,A=1,_=S.data;for(g-=_.length;S=S.next;){var F=S.data,H=g>F.length?F.length:g;if(H===F.length?_+=F:_+=F.slice(0,g),g-=H,g===0){H===F.length?(++A,S.next?this.head=S.next:this.head=this.tail=null):(this.head=S,S.data=F.slice(H));break}++A}return this.length-=A,_}},{key:"_getBuffer",value:function(g){var S=c.allocUnsafe(g),A=this.head,_=1;for(A.data.copy(S),g-=A.data.length;A=A.next;){var F=A.data,H=g>F.length?F.length:g;if(F.copy(S,S.length-g,0,H),g-=H,g===0){H===F.length?(++_,A.next?this.head=A.next:this.head=this.tail=null):(this.head=A,A.data=F.slice(H));break}++_}return this.length-=_,S}},{key:l,value:function(g,S){return f(this,O({},S,{depth:0,customInspect:!1}))}}]),d}()},5997:(b,z,y)=>{"use strict";var R=y(4155);function O(c,v){var f=this,l=this._readableState&&this._readableState.destroyed,E=this._writableState&&this._writableState.destroyed;return l||E?(v?v(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,R.nextTick(u,this,c)):R.nextTick(u,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,function(d){!v&&d?f._writableState?f._writableState.errorEmitted?R.nextTick(k,f):(f._writableState.errorEmitted=!0,R.nextTick(N,f,d)):R.nextTick(N,f,d):v?(R.nextTick(k,f),v(d)):R.nextTick(k,f)}),this)}function N(c,v){u(c,v),k(c)}function k(c){c._writableState&&!c._writableState.emitClose||c._readableState&&!c._readableState.emitClose||c.emit("close")}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function u(c,v){c.emit("error",v)}function n(c,v){var f=c._readableState,l=c._writableState;f&&f.autoDestroy||l&&l.autoDestroy?c.destroy(v):c.emit("error",v)}b.exports={destroy:O,undestroy:o,errorOrDestroy:n}},5800:(b,z,y)=>{"use strict";var R=y(4419).q.ERR_STREAM_PREMATURE_CLOSE;function O(u){var n=!1;return function(){if(!n){n=!0;for(var c=arguments.length,v=new Array(c),f=0;f<c;f++)v[f]=arguments[f];u.apply(this,v)}}}function N(){}function k(u){return u.setHeader&&typeof u.abort=="function"}function o(u,n,c){if(typeof n=="function")return o(u,null,n);n||(n={}),c=O(c||N);var v=n.readable||n.readable!==!1&&u.readable,f=n.writable||n.writable!==!1&&u.writable,l=function(){u.writable||d()},E=u._writableState&&u._writableState.finished,d=function(){f=!1,E=!0,v||c.call(u)},p=u._readableState&&u._readableState.endEmitted,g=function(){v=!1,p=!0,f||c.call(u)},S=function(H){c.call(u,H)},A=function(){var H;if(v&&!p)return(!u._readableState||!u._readableState.ended)&&(H=new R),c.call(u,H);if(f&&!E)return(!u._writableState||!u._writableState.ended)&&(H=new R),c.call(u,H)},_=function(){u.req.on("finish",d)};return k(u)?(u.on("complete",d),u.on("abort",A),u.req?_():u.on("request",_)):f&&!u._writableState&&(u.on("end",l),u.on("close",l)),u.on("end",g),u.on("finish",d),n.error!==!1&&u.on("error",S),u.on("close",A),function(){u.removeListener("complete",d),u.removeListener("abort",A),u.removeListener("request",_),u.req&&u.req.removeListener("finish",d),u.removeListener("end",l),u.removeListener("close",l),u.removeListener("finish",d),u.removeListener("end",g),u.removeListener("error",S),u.removeListener("close",A)}}b.exports=o},8859:b=>{b.exports=function(){throw new Error("Readable.from is not available in the browser")}},7065:(b,z,y)=>{"use strict";var R;function O(d){var p=!1;return function(){p||(p=!0,d.apply(void 0,arguments))}}var N=y(4419).q,k=N.ERR_MISSING_ARGS,o=N.ERR_STREAM_DESTROYED;function u(d){if(d)throw d}function n(d){return d.setHeader&&typeof d.abort=="function"}function c(d,p,g,S){S=O(S);var A=!1;d.on("close",function(){A=!0}),R===void 0&&(R=y(5800)),R(d,{readable:p,writable:g},function(F){if(F)return S(F);A=!0,S()});var _=!1;return function(F){if(!A&&!_){if(_=!0,n(d))return d.abort();if(typeof d.destroy=="function")return d.destroy();S(F||new o("pipe"))}}}function v(d){d()}function f(d,p){return d.pipe(p)}function l(d){return!d.length||typeof d[d.length-1]!="function"?u:d.pop()}function E(){for(var d=arguments.length,p=new Array(d),g=0;g<d;g++)p[g]=arguments[g];var S=l(p);if(Array.isArray(p[0])&&(p=p[0]),p.length<2)throw new k("streams");var A,_=p.map(function(F,H){var K=H<p.length-1,J=H>0;return c(F,K,J,function(te){A||(A=te),te&&_.forEach(v),!K&&(_.forEach(v),S(A))})});return p.reduce(f)}b.exports=E},898:(b,z,y)=>{"use strict";var R=y(4419).q.ERR_INVALID_OPT_VALUE;function O(k,o,u){return k.highWaterMark!=null?k.highWaterMark:o?k[u]:null}function N(k,o,u,n){var c=O(o,n,u);if(c!=null){if(!(isFinite(c)&&Math.floor(c)===c)||c<0){var v=n?u:"highWaterMark";throw new R(v,c)}return Math.floor(c)}return k.objectMode?16:16*1024}b.exports={getHighWaterMark:N}},9819:(b,z,y)=>{b.exports=y(7187).EventEmitter},3872:(b,z,y)=>{z=b.exports=y(4960),z.Stream=z,z.Readable=z,z.Writable=y(2010),z.Duplex=y(4390),z.Transform=y(3912),z.PassThrough=y(1294),z.finished=y(5800),z.pipeline=y(7065)},2221:(b,z,y)=>{"use strict";var R=y(9509).Buffer,O=R.isEncoding||function(_){switch(_=""+_,_&&_.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function N(_){if(!_)return"utf8";for(var F;;)switch(_){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return _;default:if(F)return;_=(""+_).toLowerCase(),F=!0}}function k(_){var F=N(_);if(typeof F!="string"&&(R.isEncoding===O||!O(_)))throw new Error("Unknown encoding: "+_);return F||_}z.s=o;function o(_){this.encoding=k(_);var F;switch(this.encoding){case"utf16le":this.text=E,this.end=d,F=4;break;case"utf8":this.fillLast=v,F=4;break;case"base64":this.text=p,this.end=g,F=3;break;default:this.write=S,this.end=A;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=R.allocUnsafe(F)}o.prototype.write=function(_){if(_.length===0)return"";var F,H;if(this.lastNeed){if(F=this.fillLast(_),F===void 0)return"";H=this.lastNeed,this.lastNeed=0}else H=0;return H<_.length?F?F+this.text(_,H):this.text(_,H):F||""},o.prototype.end=l,o.prototype.text=f,o.prototype.fillLast=function(_){if(this.lastNeed<=_.length)return _.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,this.lastTotal-this.lastNeed,0,_.length),this.lastNeed-=_.length};function u(_){return _<=127?0:_>>5==6?2:_>>4==14?3:_>>3==30?4:_>>6==2?-1:-2}function n(_,F,H){var K=F.length-1;if(K<H)return 0;var J=u(F[K]);return J>=0?(J>0&&(_.lastNeed=J-1),J):--K<H||J===-2?0:(J=u(F[K]),J>=0?(J>0&&(_.lastNeed=J-2),J):--K<H||J===-2?0:(J=u(F[K]),J>=0?(J>0&&(J===2?J=0:_.lastNeed=J-3),J):0))}function c(_,F,H){if((F[0]&192)!=128)return _.lastNeed=0,"\uFFFD";if(_.lastNeed>1&&F.length>1){if((F[1]&192)!=128)return _.lastNeed=1,"\uFFFD";if(_.lastNeed>2&&F.length>2&&(F[2]&192)!=128)return _.lastNeed=2,"\uFFFD"}}function v(_){var F=this.lastTotal-this.lastNeed,H=c(this,_,F);if(H!==void 0)return H;if(this.lastNeed<=_.length)return _.copy(this.lastChar,F,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,F,0,_.length),this.lastNeed-=_.length}function f(_,F){var H=n(this,_,F);if(!this.lastNeed)return _.toString("utf8",F);this.lastTotal=H;var K=_.length-(H-this.lastNeed);return _.copy(this.lastChar,0,K),_.toString("utf8",F,K)}function l(_){var F=_&&_.length?this.write(_):"";return this.lastNeed?F+"\uFFFD":F}function E(_,F){if((_.length-F)%2==0){var H=_.toString("utf16le",F);if(H){var K=H.charCodeAt(H.length-1);if(K>=55296&&K<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1],H.slice(0,-1)}return H}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=_[_.length-1],_.toString("utf16le",F,_.length-1)}function d(_){var F=_&&_.length?this.write(_):"";if(this.lastNeed){var H=this.lastTotal-this.lastNeed;return F+this.lastChar.toString("utf16le",0,H)}return F}function p(_,F){var H=(_.length-F)%3;return H===0?_.toString("base64",F):(this.lastNeed=3-H,this.lastTotal=3,H===1?this.lastChar[0]=_[_.length-1]:(this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1]),_.toString("base64",F,_.length-H))}function g(_){var F=_&&_.length?this.write(_):"";return this.lastNeed?F+this.lastChar.toString("base64",0,3-this.lastNeed):F}function S(_){return _.toString(this.encoding)}function A(_){return _&&_.length?this.write(_):""}},7295:b=>{b.exports=function(y,R){for(var O=Math.min(y.length,R.length),N=new Buffer(O),k=0;k<O;++k)N[k]=y[k]^R[k];return N}},8764:(b,z,y)=>{"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const R=y(9742),O=y(645),N=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;z.Buffer=n,z.SlowBuffer=_,z.INSPECT_MAX_BYTES=50;const k=2147483647;z.kMaxLength=k,n.TYPED_ARRAY_SUPPORT=o(),!n.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const se=new Uint8Array(1),j={foo:function(){return 42}};return Object.setPrototypeOf(j,Uint8Array.prototype),Object.setPrototypeOf(se,j),se.foo()===42}catch(se){return!1}}Object.defineProperty(n.prototype,"parent",{enumerable:!0,get:function(){if(!!n.isBuffer(this))return this.buffer}}),Object.defineProperty(n.prototype,"offset",{enumerable:!0,get:function(){if(!!n.isBuffer(this))return this.byteOffset}});function u(se){if(se>k)throw new RangeError('The value "'+se+'" is invalid for option "size"');const j=new Uint8Array(se);return Object.setPrototypeOf(j,n.prototype),j}function n(se,j,Z){if(typeof se=="number"){if(typeof j=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return l(se)}return c(se,j,Z)}n.poolSize=8192;function c(se,j,Z){if(typeof se=="string")return E(se,j);if(ArrayBuffer.isView(se))return p(se);if(se==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof se);if(Me(se,ArrayBuffer)||se&&Me(se.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Me(se,SharedArrayBuffer)||se&&Me(se.buffer,SharedArrayBuffer)))return g(se,j,Z);if(typeof se=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const oe=se.valueOf&&se.valueOf();if(oe!=null&&oe!==se)return n.from(oe,j,Z);const fe=S(se);if(fe)return fe;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof se[Symbol.toPrimitive]=="function")return n.from(se[Symbol.toPrimitive]("string"),j,Z);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof se)}n.from=function(se,j,Z){return c(se,j,Z)},Object.setPrototypeOf(n.prototype,Uint8Array.prototype),Object.setPrototypeOf(n,Uint8Array);function v(se){if(typeof se!="number")throw new TypeError('"size" argument must be of type number');if(se<0)throw new RangeError('The value "'+se+'" is invalid for option "size"')}function f(se,j,Z){return v(se),se<=0?u(se):j!==void 0?typeof Z=="string"?u(se).fill(j,Z):u(se).fill(j):u(se)}n.alloc=function(se,j,Z){return f(se,j,Z)};function l(se){return v(se),u(se<0?0:A(se)|0)}n.allocUnsafe=function(se){return l(se)},n.allocUnsafeSlow=function(se){return l(se)};function E(se,j){if((typeof j!="string"||j==="")&&(j="utf8"),!n.isEncoding(j))throw new TypeError("Unknown encoding: "+j);const Z=F(se,j)|0;let oe=u(Z);const fe=oe.write(se,j);return fe!==Z&&(oe=oe.slice(0,fe)),oe}function d(se){const j=se.length<0?0:A(se.length)|0,Z=u(j);for(let oe=0;oe<j;oe+=1)Z[oe]=se[oe]&255;return Z}function p(se){if(Me(se,Uint8Array)){const j=new Uint8Array(se);return g(j.buffer,j.byteOffset,j.byteLength)}return d(se)}function g(se,j,Z){if(j<0||se.byteLength<j)throw new RangeError('"offset" is outside of buffer bounds');if(se.byteLength<j+(Z||0))throw new RangeError('"length" is outside of buffer bounds');let oe;return j===void 0&&Z===void 0?oe=new Uint8Array(se):Z===void 0?oe=new Uint8Array(se,j):oe=new Uint8Array(se,j,Z),Object.setPrototypeOf(oe,n.prototype),oe}function S(se){if(n.isBuffer(se)){const j=A(se.length)|0,Z=u(j);return Z.length===0||se.copy(Z,0,0,j),Z}if(se.length!==void 0)return typeof se.length!="number"||ut(se.length)?u(0):d(se);if(se.type==="Buffer"&&Array.isArray(se.data))return d(se.data)}function A(se){if(se>=k)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+k.toString(16)+" bytes");return se|0}function _(se){return+se!=se&&(se=0),n.alloc(+se)}n.isBuffer=function(j){return j!=null&&j._isBuffer===!0&&j!==n.prototype},n.compare=function(j,Z){if(Me(j,Uint8Array)&&(j=n.from(j,j.offset,j.byteLength)),Me(Z,Uint8Array)&&(Z=n.from(Z,Z.offset,Z.byteLength)),!n.isBuffer(j)||!n.isBuffer(Z))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(j===Z)return 0;let oe=j.length,fe=Z.length;for(let ke=0,be=Math.min(oe,fe);ke<be;++ke)if(j[ke]!==Z[ke]){oe=j[ke],fe=Z[ke];break}return oe<fe?-1:fe<oe?1:0},n.isEncoding=function(j){switch(String(j).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(j,Z){if(!Array.isArray(j))throw new TypeError('"list" argument must be an Array of Buffers');if(j.length===0)return n.alloc(0);let oe;if(Z===void 0)for(Z=0,oe=0;oe<j.length;++oe)Z+=j[oe].length;const fe=n.allocUnsafe(Z);let ke=0;for(oe=0;oe<j.length;++oe){let be=j[oe];if(Me(be,Uint8Array))ke+be.length>fe.length?(n.isBuffer(be)||(be=n.from(be)),be.copy(fe,ke)):Uint8Array.prototype.set.call(fe,be,ke);else if(n.isBuffer(be))be.copy(fe,ke);else throw new TypeError('"list" argument must be an Array of Buffers');ke+=be.length}return fe};function F(se,j){if(n.isBuffer(se))return se.length;if(ArrayBuffer.isView(se)||Me(se,ArrayBuffer))return se.byteLength;if(typeof se!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof se);const Z=se.length,oe=arguments.length>2&&arguments[2]===!0;if(!oe&&Z===0)return 0;let fe=!1;for(;;)switch(j){case"ascii":case"latin1":case"binary":return Z;case"utf8":case"utf-8":return pe(se).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z*2;case"hex":return Z>>>1;case"base64":return Ne(se).length;default:if(fe)return oe?-1:pe(se).length;j=(""+j).toLowerCase(),fe=!0}}n.byteLength=F;function H(se,j,Z){let oe=!1;if((j===void 0||j<0)&&(j=0),j>this.length||((Z===void 0||Z>this.length)&&(Z=this.length),Z<=0)||(Z>>>=0,j>>>=0,Z<=j))return"";for(se||(se="utf8");;)switch(se){case"hex":return D(this,j,Z);case"utf8":case"utf-8":return M(this,j,Z);case"ascii":return T(this,j,Z);case"latin1":case"binary":return I(this,j,Z);case"base64":return U(this,j,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,j,Z);default:if(oe)throw new TypeError("Unknown encoding: "+se);se=(se+"").toLowerCase(),oe=!0}}n.prototype._isBuffer=!0;function K(se,j,Z){const oe=se[j];se[j]=se[Z],se[Z]=oe}n.prototype.swap16=function(){const j=this.length;if(j%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Z=0;Z<j;Z+=2)K(this,Z,Z+1);return this},n.prototype.swap32=function(){const j=this.length;if(j%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Z=0;Z<j;Z+=4)K(this,Z,Z+3),K(this,Z+1,Z+2);return this},n.prototype.swap64=function(){const j=this.length;if(j%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Z=0;Z<j;Z+=8)K(this,Z,Z+7),K(this,Z+1,Z+6),K(this,Z+2,Z+5),K(this,Z+3,Z+4);return this},n.prototype.toString=function(){const j=this.length;return j===0?"":arguments.length===0?M(this,0,j):H.apply(this,arguments)},n.prototype.toLocaleString=n.prototype.toString,n.prototype.equals=function(j){if(!n.isBuffer(j))throw new TypeError("Argument must be a Buffer");return this===j?!0:n.compare(this,j)===0},n.prototype.inspect=function(){let j="";const Z=z.INSPECT_MAX_BYTES;return j=this.toString("hex",0,Z).replace(/(.{2})/g,"$1 ").trim(),this.length>Z&&(j+=" ... "),"<Buffer "+j+">"},N&&(n.prototype[N]=n.prototype.inspect),n.prototype.compare=function(j,Z,oe,fe,ke){if(Me(j,Uint8Array)&&(j=n.from(j,j.offset,j.byteLength)),!n.isBuffer(j))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof j);if(Z===void 0&&(Z=0),oe===void 0&&(oe=j?j.length:0),fe===void 0&&(fe=0),ke===void 0&&(ke=this.length),Z<0||oe>j.length||fe<0||ke>this.length)throw new RangeError("out of range index");if(fe>=ke&&Z>=oe)return 0;if(fe>=ke)return-1;if(Z>=oe)return 1;if(Z>>>=0,oe>>>=0,fe>>>=0,ke>>>=0,this===j)return 0;let be=ke-fe,Pe=oe-Z;const ct=Math.min(be,Pe),Oe=this.slice(fe,ke),Be=j.slice(Z,oe);for(let at=0;at<ct;++at)if(Oe[at]!==Be[at]){be=Oe[at],Pe=Be[at];break}return be<Pe?-1:Pe<be?1:0};function J(se,j,Z,oe,fe){if(se.length===0)return-1;if(typeof Z=="string"?(oe=Z,Z=0):Z>2147483647?Z=2147483647:Z<-2147483648&&(Z=-2147483648),Z=+Z,ut(Z)&&(Z=fe?0:se.length-1),Z<0&&(Z=se.length+Z),Z>=se.length){if(fe)return-1;Z=se.length-1}else if(Z<0)if(fe)Z=0;else return-1;if(typeof j=="string"&&(j=n.from(j,oe)),n.isBuffer(j))return j.length===0?-1:te(se,j,Z,oe,fe);if(typeof j=="number")return j=j&255,typeof Uint8Array.prototype.indexOf=="function"?fe?Uint8Array.prototype.indexOf.call(se,j,Z):Uint8Array.prototype.lastIndexOf.call(se,j,Z):te(se,[j],Z,oe,fe);throw new TypeError("val must be string, number or Buffer")}function te(se,j,Z,oe,fe){let ke=1,be=se.length,Pe=j.length;if(oe!==void 0&&(oe=String(oe).toLowerCase(),oe==="ucs2"||oe==="ucs-2"||oe==="utf16le"||oe==="utf-16le")){if(se.length<2||j.length<2)return-1;ke=2,be/=2,Pe/=2,Z/=2}function ct(Be,at){return ke===1?Be[at]:Be.readUInt16BE(at*ke)}let Oe;if(fe){let Be=-1;for(Oe=Z;Oe<be;Oe++)if(ct(se,Oe)===ct(j,Be===-1?0:Oe-Be)){if(Be===-1&&(Be=Oe),Oe-Be+1===Pe)return Be*ke}else Be!==-1&&(Oe-=Oe-Be),Be=-1}else for(Z+Pe>be&&(Z=be-Pe),Oe=Z;Oe>=0;Oe--){let Be=!0;for(let at=0;at<Pe;at++)if(ct(se,Oe+at)!==ct(j,at)){Be=!1;break}if(Be)return Oe}return-1}n.prototype.includes=function(j,Z,oe){return this.indexOf(j,Z,oe)!==-1},n.prototype.indexOf=function(j,Z,oe){return J(this,j,Z,oe,!0)},n.prototype.lastIndexOf=function(j,Z,oe){return J(this,j,Z,oe,!1)};function ie(se,j,Z,oe){Z=Number(Z)||0;const fe=se.length-Z;oe?(oe=Number(oe),oe>fe&&(oe=fe)):oe=fe;const ke=j.length;oe>ke/2&&(oe=ke/2);let be;for(be=0;be<oe;++be){const Pe=parseInt(j.substr(be*2,2),16);if(ut(Pe))return be;se[Z+be]=Pe}return be}function ne(se,j,Z,oe){return Ae(pe(j,se.length-Z),se,Z,oe)}function ue(se,j,Z,oe){return Ae(Se(j),se,Z,oe)}function Q(se,j,Z,oe){return Ae(Ne(j),se,Z,oe)}function C(se,j,Z,oe){return Ae(ye(j,se.length-Z),se,Z,oe)}n.prototype.write=function(j,Z,oe,fe){if(Z===void 0)fe="utf8",oe=this.length,Z=0;else if(oe===void 0&&typeof Z=="string")fe=Z,oe=this.length,Z=0;else if(isFinite(Z))Z=Z>>>0,isFinite(oe)?(oe=oe>>>0,fe===void 0&&(fe="utf8")):(fe=oe,oe=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ke=this.length-Z;if((oe===void 0||oe>ke)&&(oe=ke),j.length>0&&(oe<0||Z<0)||Z>this.length)throw new RangeError("Attempt to write outside buffer bounds");fe||(fe="utf8");let be=!1;for(;;)switch(fe){case"hex":return ie(this,j,Z,oe);case"utf8":case"utf-8":return ne(this,j,Z,oe);case"ascii":case"latin1":case"binary":return ue(this,j,Z,oe);case"base64":return Q(this,j,Z,oe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,j,Z,oe);default:if(be)throw new TypeError("Unknown encoding: "+fe);fe=(""+fe).toLowerCase(),be=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function U(se,j,Z){return j===0&&Z===se.length?R.fromByteArray(se):R.fromByteArray(se.slice(j,Z))}function M(se,j,Z){Z=Math.min(se.length,Z);const oe=[];let fe=j;for(;fe<Z;){const ke=se[fe];let be=null,Pe=ke>239?4:ke>223?3:ke>191?2:1;if(fe+Pe<=Z){let ct,Oe,Be,at;switch(Pe){case 1:ke<128&&(be=ke);break;case 2:ct=se[fe+1],(ct&192)==128&&(at=(ke&31)<<6|ct&63,at>127&&(be=at));break;case 3:ct=se[fe+1],Oe=se[fe+2],(ct&192)==128&&(Oe&192)==128&&(at=(ke&15)<<12|(ct&63)<<6|Oe&63,at>2047&&(at<55296||at>57343)&&(be=at));break;case 4:ct=se[fe+1],Oe=se[fe+2],Be=se[fe+3],(ct&192)==128&&(Oe&192)==128&&(Be&192)==128&&(at=(ke&15)<<18|(ct&63)<<12|(Oe&63)<<6|Be&63,at>65535&&at<1114112&&(be=at))}}be===null?(be=65533,Pe=1):be>65535&&(be-=65536,oe.push(be>>>10&1023|55296),be=56320|be&1023),oe.push(be),fe+=Pe}return m(oe)}const s=4096;function m(se){const j=se.length;if(j<=s)return String.fromCharCode.apply(String,se);let Z="",oe=0;for(;oe<j;)Z+=String.fromCharCode.apply(String,se.slice(oe,oe+=s));return Z}function T(se,j,Z){let oe="";Z=Math.min(se.length,Z);for(let fe=j;fe<Z;++fe)oe+=String.fromCharCode(se[fe]&127);return oe}function I(se,j,Z){let oe="";Z=Math.min(se.length,Z);for(let fe=j;fe<Z;++fe)oe+=String.fromCharCode(se[fe]);return oe}function D(se,j,Z){const oe=se.length;(!j||j<0)&&(j=0),(!Z||Z<0||Z>oe)&&(Z=oe);let fe="";for(let ke=j;ke<Z;++ke)fe+=qe[se[ke]];return fe}function P(se,j,Z){const oe=se.slice(j,Z);let fe="";for(let ke=0;ke<oe.length-1;ke+=2)fe+=String.fromCharCode(oe[ke]+oe[ke+1]*256);return fe}n.prototype.slice=function(j,Z){const oe=this.length;j=~~j,Z=Z===void 0?oe:~~Z,j<0?(j+=oe,j<0&&(j=0)):j>oe&&(j=oe),Z<0?(Z+=oe,Z<0&&(Z=0)):Z>oe&&(Z=oe),Z<j&&(Z=j);const fe=this.subarray(j,Z);return Object.setPrototypeOf(fe,n.prototype),fe};function V(se,j,Z){if(se%1!=0||se<0)throw new RangeError("offset is not uint");if(se+j>Z)throw new RangeError("Trying to access beyond buffer length")}n.prototype.readUintLE=n.prototype.readUIntLE=function(j,Z,oe){j=j>>>0,Z=Z>>>0,oe||V(j,Z,this.length);let fe=this[j],ke=1,be=0;for(;++be<Z&&(ke*=256);)fe+=this[j+be]*ke;return fe},n.prototype.readUintBE=n.prototype.readUIntBE=function(j,Z,oe){j=j>>>0,Z=Z>>>0,oe||V(j,Z,this.length);let fe=this[j+--Z],ke=1;for(;Z>0&&(ke*=256);)fe+=this[j+--Z]*ke;return fe},n.prototype.readUint8=n.prototype.readUInt8=function(j,Z){return j=j>>>0,Z||V(j,1,this.length),this[j]},n.prototype.readUint16LE=n.prototype.readUInt16LE=function(j,Z){return j=j>>>0,Z||V(j,2,this.length),this[j]|this[j+1]<<8},n.prototype.readUint16BE=n.prototype.readUInt16BE=function(j,Z){return j=j>>>0,Z||V(j,2,this.length),this[j]<<8|this[j+1]},n.prototype.readUint32LE=n.prototype.readUInt32LE=function(j,Z){return j=j>>>0,Z||V(j,4,this.length),(this[j]|this[j+1]<<8|this[j+2]<<16)+this[j+3]*16777216},n.prototype.readUint32BE=n.prototype.readUInt32BE=function(j,Z){return j=j>>>0,Z||V(j,4,this.length),this[j]*16777216+(this[j+1]<<16|this[j+2]<<8|this[j+3])},n.prototype.readBigUInt64LE=Fe(function(j){j=j>>>0,ve(j,"offset");const Z=this[j],oe=this[j+7];(Z===void 0||oe===void 0)&&q(j,this.length-8);const fe=Z+this[++j]*2**8+this[++j]*2**16+this[++j]*2**24,ke=this[++j]+this[++j]*2**8+this[++j]*2**16+oe*2**24;return BigInt(fe)+(BigInt(ke)<<BigInt(32))}),n.prototype.readBigUInt64BE=Fe(function(j){j=j>>>0,ve(j,"offset");const Z=this[j],oe=this[j+7];(Z===void 0||oe===void 0)&&q(j,this.length-8);const fe=Z*2**24+this[++j]*2**16+this[++j]*2**8+this[++j],ke=this[++j]*2**24+this[++j]*2**16+this[++j]*2**8+oe;return(BigInt(fe)<<BigInt(32))+BigInt(ke)}),n.prototype.readIntLE=function(j,Z,oe){j=j>>>0,Z=Z>>>0,oe||V(j,Z,this.length);let fe=this[j],ke=1,be=0;for(;++be<Z&&(ke*=256);)fe+=this[j+be]*ke;return ke*=128,fe>=ke&&(fe-=Math.pow(2,8*Z)),fe},n.prototype.readIntBE=function(j,Z,oe){j=j>>>0,Z=Z>>>0,oe||V(j,Z,this.length);let fe=Z,ke=1,be=this[j+--fe];for(;fe>0&&(ke*=256);)be+=this[j+--fe]*ke;return ke*=128,be>=ke&&(be-=Math.pow(2,8*Z)),be},n.prototype.readInt8=function(j,Z){return j=j>>>0,Z||V(j,1,this.length),this[j]&128?(255-this[j]+1)*-1:this[j]},n.prototype.readInt16LE=function(j,Z){j=j>>>0,Z||V(j,2,this.length);const oe=this[j]|this[j+1]<<8;return oe&32768?oe|4294901760:oe},n.prototype.readInt16BE=function(j,Z){j=j>>>0,Z||V(j,2,this.length);const oe=this[j+1]|this[j]<<8;return oe&32768?oe|4294901760:oe},n.prototype.readInt32LE=function(j,Z){return j=j>>>0,Z||V(j,4,this.length),this[j]|this[j+1]<<8|this[j+2]<<16|this[j+3]<<24},n.prototype.readInt32BE=function(j,Z){return j=j>>>0,Z||V(j,4,this.length),this[j]<<24|this[j+1]<<16|this[j+2]<<8|this[j+3]},n.prototype.readBigInt64LE=Fe(function(j){j=j>>>0,ve(j,"offset");const Z=this[j],oe=this[j+7];(Z===void 0||oe===void 0)&&q(j,this.length-8);const fe=this[j+4]+this[j+5]*2**8+this[j+6]*2**16+(oe<<24);return(BigInt(fe)<<BigInt(32))+BigInt(Z+this[++j]*2**8+this[++j]*2**16+this[++j]*2**24)}),n.prototype.readBigInt64BE=Fe(function(j){j=j>>>0,ve(j,"offset");const Z=this[j],oe=this[j+7];(Z===void 0||oe===void 0)&&q(j,this.length-8);const fe=(Z<<24)+this[++j]*2**16+this[++j]*2**8+this[++j];return(BigInt(fe)<<BigInt(32))+BigInt(this[++j]*2**24+this[++j]*2**16+this[++j]*2**8+oe)}),n.prototype.readFloatLE=function(j,Z){return j=j>>>0,Z||V(j,4,this.length),O.read(this,j,!0,23,4)},n.prototype.readFloatBE=function(j,Z){return j=j>>>0,Z||V(j,4,this.length),O.read(this,j,!1,23,4)},n.prototype.readDoubleLE=function(j,Z){return j=j>>>0,Z||V(j,8,this.length),O.read(this,j,!0,52,8)},n.prototype.readDoubleBE=function(j,Z){return j=j>>>0,Z||V(j,8,this.length),O.read(this,j,!1,52,8)};function G(se,j,Z,oe,fe,ke){if(!n.isBuffer(se))throw new TypeError('"buffer" argument must be a Buffer instance');if(j>fe||j<ke)throw new RangeError('"value" argument is out of bounds');if(Z+oe>se.length)throw new RangeError("Index out of range")}n.prototype.writeUintLE=n.prototype.writeUIntLE=function(j,Z,oe,fe){if(j=+j,Z=Z>>>0,oe=oe>>>0,!fe){const Pe=Math.pow(2,8*oe)-1;G(this,j,Z,oe,Pe,0)}let ke=1,be=0;for(this[Z]=j&255;++be<oe&&(ke*=256);)this[Z+be]=j/ke&255;return Z+oe},n.prototype.writeUintBE=n.prototype.writeUIntBE=function(j,Z,oe,fe){if(j=+j,Z=Z>>>0,oe=oe>>>0,!fe){const Pe=Math.pow(2,8*oe)-1;G(this,j,Z,oe,Pe,0)}let ke=oe-1,be=1;for(this[Z+ke]=j&255;--ke>=0&&(be*=256);)this[Z+ke]=j/be&255;return Z+oe},n.prototype.writeUint8=n.prototype.writeUInt8=function(j,Z,oe){return j=+j,Z=Z>>>0,oe||G(this,j,Z,1,255,0),this[Z]=j&255,Z+1},n.prototype.writeUint16LE=n.prototype.writeUInt16LE=function(j,Z,oe){return j=+j,Z=Z>>>0,oe||G(this,j,Z,2,65535,0),this[Z]=j&255,this[Z+1]=j>>>8,Z+2},n.prototype.writeUint16BE=n.prototype.writeUInt16BE=function(j,Z,oe){return j=+j,Z=Z>>>0,oe||G(this,j,Z,2,65535,0),this[Z]=j>>>8,this[Z+1]=j&255,Z+2},n.prototype.writeUint32LE=n.prototype.writeUInt32LE=function(j,Z,oe){return j=+j,Z=Z>>>0,oe||G(this,j,Z,4,4294967295,0),this[Z+3]=j>>>24,this[Z+2]=j>>>16,this[Z+1]=j>>>8,this[Z]=j&255,Z+4},n.prototype.writeUint32BE=n.prototype.writeUInt32BE=function(j,Z,oe){return j=+j,Z=Z>>>0,oe||G(this,j,Z,4,4294967295,0),this[Z]=j>>>24,this[Z+1]=j>>>16,this[Z+2]=j>>>8,this[Z+3]=j&255,Z+4};function w(se,j,Z,oe,fe){he(j,oe,fe,se,Z,7);let ke=Number(j&BigInt(4294967295));se[Z++]=ke,ke=ke>>8,se[Z++]=ke,ke=ke>>8,se[Z++]=ke,ke=ke>>8,se[Z++]=ke;let be=Number(j>>BigInt(32)&BigInt(4294967295));return se[Z++]=be,be=be>>8,se[Z++]=be,be=be>>8,se[Z++]=be,be=be>>8,se[Z++]=be,Z}function Y(se,j,Z,oe,fe){he(j,oe,fe,se,Z,7);let ke=Number(j&BigInt(4294967295));se[Z+7]=ke,ke=ke>>8,se[Z+6]=ke,ke=ke>>8,se[Z+5]=ke,ke=ke>>8,se[Z+4]=ke;let be=Number(j>>BigInt(32)&BigInt(4294967295));return se[Z+3]=be,be=be>>8,se[Z+2]=be,be=be>>8,se[Z+1]=be,be=be>>8,se[Z]=be,Z+8}n.prototype.writeBigUInt64LE=Fe(function(j,Z=0){return w(this,j,Z,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeBigUInt64BE=Fe(function(j,Z=0){return Y(this,j,Z,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeIntLE=function(j,Z,oe,fe){if(j=+j,Z=Z>>>0,!fe){const ct=Math.pow(2,8*oe-1);G(this,j,Z,oe,ct-1,-ct)}let ke=0,be=1,Pe=0;for(this[Z]=j&255;++ke<oe&&(be*=256);)j<0&&Pe===0&&this[Z+ke-1]!==0&&(Pe=1),this[Z+ke]=(j/be>>0)-Pe&255;return Z+oe},n.prototype.writeIntBE=function(j,Z,oe,fe){if(j=+j,Z=Z>>>0,!fe){const ct=Math.pow(2,8*oe-1);G(this,j,Z,oe,ct-1,-ct)}let ke=oe-1,be=1,Pe=0;for(this[Z+ke]=j&255;--ke>=0&&(be*=256);)j<0&&Pe===0&&this[Z+ke+1]!==0&&(Pe=1),this[Z+ke]=(j/be>>0)-Pe&255;return Z+oe},n.prototype.writeInt8=function(j,Z,oe){return j=+j,Z=Z>>>0,oe||G(this,j,Z,1,127,-128),j<0&&(j=255+j+1),this[Z]=j&255,Z+1},n.prototype.writeInt16LE=function(j,Z,oe){return j=+j,Z=Z>>>0,oe||G(this,j,Z,2,32767,-32768),this[Z]=j&255,this[Z+1]=j>>>8,Z+2},n.prototype.writeInt16BE=function(j,Z,oe){return j=+j,Z=Z>>>0,oe||G(this,j,Z,2,32767,-32768),this[Z]=j>>>8,this[Z+1]=j&255,Z+2},n.prototype.writeInt32LE=function(j,Z,oe){return j=+j,Z=Z>>>0,oe||G(this,j,Z,4,2147483647,-2147483648),this[Z]=j&255,this[Z+1]=j>>>8,this[Z+2]=j>>>16,this[Z+3]=j>>>24,Z+4},n.prototype.writeInt32BE=function(j,Z,oe){return j=+j,Z=Z>>>0,oe||G(this,j,Z,4,2147483647,-2147483648),j<0&&(j=4294967295+j+1),this[Z]=j>>>24,this[Z+1]=j>>>16,this[Z+2]=j>>>8,this[Z+3]=j&255,Z+4},n.prototype.writeBigInt64LE=Fe(function(j,Z=0){return w(this,j,Z,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),n.prototype.writeBigInt64BE=Fe(function(j,Z=0){return Y(this,j,Z,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function me(se,j,Z,oe,fe,ke){if(Z+oe>se.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("Index out of range")}function ge(se,j,Z,oe,fe){return j=+j,Z=Z>>>0,fe||me(se,j,Z,4,34028234663852886e22,-34028234663852886e22),O.write(se,j,Z,oe,23,4),Z+4}n.prototype.writeFloatLE=function(j,Z,oe){return ge(this,j,Z,!0,oe)},n.prototype.writeFloatBE=function(j,Z,oe){return ge(this,j,Z,!1,oe)};function _e(se,j,Z,oe,fe){return j=+j,Z=Z>>>0,fe||me(se,j,Z,8,17976931348623157e292,-17976931348623157e292),O.write(se,j,Z,oe,52,8),Z+8}n.prototype.writeDoubleLE=function(j,Z,oe){return _e(this,j,Z,!0,oe)},n.prototype.writeDoubleBE=function(j,Z,oe){return _e(this,j,Z,!1,oe)},n.prototype.copy=function(j,Z,oe,fe){if(!n.isBuffer(j))throw new TypeError("argument should be a Buffer");if(oe||(oe=0),!fe&&fe!==0&&(fe=this.length),Z>=j.length&&(Z=j.length),Z||(Z=0),fe>0&&fe<oe&&(fe=oe),fe===oe||j.length===0||this.length===0)return 0;if(Z<0)throw new RangeError("targetStart out of bounds");if(oe<0||oe>=this.length)throw new RangeError("Index out of range");if(fe<0)throw new RangeError("sourceEnd out of bounds");fe>this.length&&(fe=this.length),j.length-Z<fe-oe&&(fe=j.length-Z+oe);const ke=fe-oe;return this===j&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Z,oe,fe):Uint8Array.prototype.set.call(j,this.subarray(oe,fe),Z),ke},n.prototype.fill=function(j,Z,oe,fe){if(typeof j=="string"){if(typeof Z=="string"?(fe=Z,Z=0,oe=this.length):typeof oe=="string"&&(fe=oe,oe=this.length),fe!==void 0&&typeof fe!="string")throw new TypeError("encoding must be a string");if(typeof fe=="string"&&!n.isEncoding(fe))throw new TypeError("Unknown encoding: "+fe);if(j.length===1){const be=j.charCodeAt(0);(fe==="utf8"&&be<128||fe==="latin1")&&(j=be)}}else typeof j=="number"?j=j&255:typeof j=="boolean"&&(j=Number(j));if(Z<0||this.length<Z||this.length<oe)throw new RangeError("Out of range index");if(oe<=Z)return this;Z=Z>>>0,oe=oe===void 0?this.length:oe>>>0,j||(j=0);let ke;if(typeof j=="number")for(ke=Z;ke<oe;++ke)this[ke]=j;else{const be=n.isBuffer(j)?j:n.from(j,fe),Pe=be.length;if(Pe===0)throw new TypeError('The value "'+j+'" is invalid for argument "value"');for(ke=0;ke<oe-Z;++ke)this[ke+Z]=be[ke%Pe]}return this};const xe={};function ee(se,j,Z){xe[se]=class extends Z{constructor(){super();Object.defineProperty(this,"message",{value:j.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${se}]`,this.stack,delete this.name}get code(){return se}set code(fe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:fe,writable:!0})}toString(){return`${this.name} [${se}]: ${this.message}`}}}ee("ERR_BUFFER_OUT_OF_BOUNDS",function(se){return se?`${se} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ee("ERR_INVALID_ARG_TYPE",function(se,j){return`The "${se}" argument must be of type number. Received type ${typeof j}`},TypeError),ee("ERR_OUT_OF_RANGE",function(se,j,Z){let oe=`The value of "${se}" is out of range.`,fe=Z;return Number.isInteger(Z)&&Math.abs(Z)>2**32?fe=X(String(Z)):typeof Z=="bigint"&&(fe=String(Z),(Z>BigInt(2)**BigInt(32)||Z<-(BigInt(2)**BigInt(32)))&&(fe=X(fe)),fe+="n"),oe+=` It must be ${j}. Received ${fe}`,oe},RangeError);function X(se){let j="",Z=se.length;const oe=se[0]==="-"?1:0;for(;Z>=oe+4;Z-=3)j=`_${se.slice(Z-3,Z)}${j}`;return`${se.slice(0,Z)}${j}`}function ce(se,j,Z){ve(j,"offset"),(se[j]===void 0||se[j+Z]===void 0)&&q(j,se.length-(Z+1))}function he(se,j,Z,oe,fe,ke){if(se>Z||se<j){const be=typeof j=="bigint"?"n":"";let Pe;throw ke>3?j===0||j===BigInt(0)?Pe=`>= 0${be} and < 2${be} ** ${(ke+1)*8}${be}`:Pe=`>= -(2${be} ** ${(ke+1)*8-1}${be}) and < 2 ** ${(ke+1)*8-1}${be}`:Pe=`>= ${j}${be} and <= ${Z}${be}`,new xe.ERR_OUT_OF_RANGE("value",Pe,se)}ce(oe,fe,ke)}function ve(se,j){if(typeof se!="number")throw new xe.ERR_INVALID_ARG_TYPE(j,"number",se)}function q(se,j,Z){throw Math.floor(se)!==se?(ve(se,Z),new xe.ERR_OUT_OF_RANGE(Z||"offset","an integer",se)):j<0?new xe.ERR_BUFFER_OUT_OF_BOUNDS:new xe.ERR_OUT_OF_RANGE(Z||"offset",`>= ${Z?1:0} and <= ${j}`,se)}const L=/[^+/0-9A-Za-z-_]/g;function ae(se){if(se=se.split("=")[0],se=se.trim().replace(L,""),se.length<2)return"";for(;se.length%4!=0;)se=se+"=";return se}function pe(se,j){j=j||Infinity;let Z;const oe=se.length;let fe=null;const ke=[];for(let be=0;be<oe;++be){if(Z=se.charCodeAt(be),Z>55295&&Z<57344){if(!fe){if(Z>56319){(j-=3)>-1&&ke.push(239,191,189);continue}else if(be+1===oe){(j-=3)>-1&&ke.push(239,191,189);continue}fe=Z;continue}if(Z<56320){(j-=3)>-1&&ke.push(239,191,189),fe=Z;continue}Z=(fe-55296<<10|Z-56320)+65536}else fe&&(j-=3)>-1&&ke.push(239,191,189);if(fe=null,Z<128){if((j-=1)<0)break;ke.push(Z)}else if(Z<2048){if((j-=2)<0)break;ke.push(Z>>6|192,Z&63|128)}else if(Z<65536){if((j-=3)<0)break;ke.push(Z>>12|224,Z>>6&63|128,Z&63|128)}else if(Z<1114112){if((j-=4)<0)break;ke.push(Z>>18|240,Z>>12&63|128,Z>>6&63|128,Z&63|128)}else throw new Error("Invalid code point")}return ke}function Se(se){const j=[];for(let Z=0;Z<se.length;++Z)j.push(se.charCodeAt(Z)&255);return j}function ye(se,j){let Z,oe,fe;const ke=[];for(let be=0;be<se.length&&!((j-=2)<0);++be)Z=se.charCodeAt(be),oe=Z>>8,fe=Z%256,ke.push(fe),ke.push(oe);return ke}function Ne(se){return R.toByteArray(ae(se))}function Ae(se,j,Z,oe){let fe;for(fe=0;fe<oe&&!(fe+Z>=j.length||fe>=se.length);++fe)j[fe+Z]=se[fe];return fe}function Me(se,j){return se instanceof j||se!=null&&se.constructor!=null&&se.constructor.name!=null&&se.constructor.name===j.name}function ut(se){return se!==se}const qe=function(){const se="0123456789abcdef",j=new Array(256);for(let Z=0;Z<16;++Z){const oe=Z*16;for(let fe=0;fe<16;++fe)j[oe+fe]=se[Z]+se[fe]}return j}();function Fe(se){return typeof BigInt=="undefined"?ht:se}function ht(){throw new Error("BigInt not supported")}},1027:(b,z,y)=>{var R=y(9509).Buffer,O=y(2830).Transform,N=y(2553).s,k=y(5717);function o(u){O.call(this),this.hashMode=typeof u=="string",this.hashMode?this[u]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}k(o,O),o.prototype.update=function(u,n,c){typeof u=="string"&&(u=R.from(u,n));var v=this._update(u);return this.hashMode?this:(c&&(v=this._toString(v,c)),v)},o.prototype.setAutoPadding=function(){},o.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},o.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},o.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},o.prototype._transform=function(u,n,c){var v;try{this.hashMode?this._update(u):this.push(this._update(u))}catch(f){v=f}finally{c(v)}},o.prototype._flush=function(u){var n;try{this.push(this.__final())}catch(c){n=c}u(n)},o.prototype._finalOrDigest=function(u){var n=this.__final()||R.alloc(0);return u&&(n=this._toString(n,u,!0)),n},o.prototype._toString=function(u,n,c){if(this._decoder||(this._decoder=new N(n),this._encoding=n),this._encoding!==n)throw new Error("can't switch encodings");var v=this._decoder.write(u);return c&&(v+=this._decoder.end()),v},b.exports=o},6393:(b,z,y)=>{var R=y(6266),O=y(3550);b.exports=function(n){return new k(n)};var N={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};N.p224=N.secp224r1,N.p256=N.secp256r1=N.prime256v1,N.p192=N.secp192r1=N.prime192v1,N.p384=N.secp384r1,N.p521=N.secp521r1;function k(u){this.curveType=N[u],this.curveType||(this.curveType={name:u}),this.curve=new R.ec(this.curveType.name),this.keys=void 0}k.prototype.generateKeys=function(u,n){return this.keys=this.curve.genKeyPair(),this.getPublicKey(u,n)},k.prototype.computeSecret=function(u,n,c){n=n||"utf8",Buffer.isBuffer(u)||(u=new Buffer(u,n));var v=this.curve.keyFromPublic(u).getPublic(),f=v.mul(this.keys.getPrivate()).getX();return o(f,c,this.curveType.byteLength)},k.prototype.getPublicKey=function(u,n){var c=this.keys.getPublic(n==="compressed",!0);return n==="hybrid"&&(c[c.length-1]%2?c[0]=7:c[0]=6),o(c,u)},k.prototype.getPrivateKey=function(u){return o(this.keys.getPrivate(),u)},k.prototype.setPublicKey=function(u,n){return n=n||"utf8",Buffer.isBuffer(u)||(u=new Buffer(u,n)),this.keys._importPublic(u),this},k.prototype.setPrivateKey=function(u,n){n=n||"utf8",Buffer.isBuffer(u)||(u=new Buffer(u,n));var c=new O(u);return c=c.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(c),this};function o(u,n,c){Array.isArray(u)||(u=u.toArray());var v=new Buffer(u);if(c&&v.length<c){var f=new Buffer(c-v.length);f.fill(0),v=Buffer.concat([f,v])}return n?v.toString(n):v}},3482:(b,z,y)=>{"use strict";var R=y(5717),O=y(2318),N=y(9785),k=y(9072),o=y(1027);function u(n){o.call(this,"digest"),this._hash=n}R(u,o),u.prototype._update=function(n){this._hash.update(n)},u.prototype._final=function(){return this._hash.digest()},b.exports=function(c){return c=c.toLowerCase(),c==="md5"?new O:c==="rmd160"||c==="ripemd160"?new N:new u(k(c))}},8028:(b,z,y)=>{var R=y(2318);b.exports=function(O){return new R().update(O).digest()}},8355:(b,z,y)=>{"use strict";var R=y(5717),O=y(1031),N=y(1027),k=y(9509).Buffer,o=y(8028),u=y(9785),n=y(9072),c=k.alloc(128);function v(f,l){N.call(this,"digest"),typeof l=="string"&&(l=k.from(l));var E=f==="sha512"||f==="sha384"?128:64;if(this._alg=f,this._key=l,l.length>E){var d=f==="rmd160"?new u:n(f);l=d.update(l).digest()}else l.length<E&&(l=k.concat([l,c],E));for(var p=this._ipad=k.allocUnsafe(E),g=this._opad=k.allocUnsafe(E),S=0;S<E;S++)p[S]=l[S]^54,g[S]=l[S]^92;this._hash=f==="rmd160"?new u:n(f),this._hash.update(p)}R(v,N),v.prototype._update=function(f){this._hash.update(f)},v.prototype._final=function(){var f=this._hash.digest(),l=this._alg==="rmd160"?new u:n(this._alg);return l.update(this._opad).update(f).digest()},b.exports=function(l,E){return l=l.toLowerCase(),l==="rmd160"||l==="ripemd160"?new v("rmd160",E):l==="md5"?new O(o,E):new v(l,E)}},1031:(b,z,y)=>{"use strict";var R=y(5717),O=y(9509).Buffer,N=y(1027),k=O.alloc(128),o=64;function u(n,c){N.call(this,"digest"),typeof c=="string"&&(c=O.from(c)),this._alg=n,this._key=c,c.length>o?c=n(c):c.length<o&&(c=O.concat([c,k],o));for(var v=this._ipad=O.allocUnsafe(o),f=this._opad=O.allocUnsafe(o),l=0;l<o;l++)v[l]=c[l]^54,f[l]=c[l]^92;this._hash=[v]}R(u,N),u.prototype._update=function(n){this._hash.push(n)},u.prototype._final=function(){var n=this._alg(O.concat(this._hash));return this._alg(O.concat([this._opad,n]))},b.exports=u},4098:function(b,z){var y=function(R){function O(){this.fetch=!1,this.DOMException=R.DOMException}return O.prototype=R,new O}(typeof self!="undefined"?self:this);(function(R){var O=function(N){var k={searchParams:"URLSearchParams"in R,iterable:"Symbol"in R&&"iterator"in Symbol,blob:"FileReader"in R&&"Blob"in R&&function(){try{return new Blob,!0}catch(Q){return!1}}(),formData:"FormData"in R,arrayBuffer:"ArrayBuffer"in R};function o(Q){return Q&&DataView.prototype.isPrototypeOf(Q)}if(k.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],n=ArrayBuffer.isView||function(Q){return Q&&u.indexOf(Object.prototype.toString.call(Q))>-1};function c(Q){if(typeof Q!="string"&&(Q=String(Q)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(Q))throw new TypeError("Invalid character in header field name");return Q.toLowerCase()}function v(Q){return typeof Q!="string"&&(Q=String(Q)),Q}function f(Q){var C={next:function(){var U=Q.shift();return{done:U===void 0,value:U}}};return k.iterable&&(C[Symbol.iterator]=function(){return C}),C}function l(Q){this.map={},Q instanceof l?Q.forEach(function(C,U){this.append(U,C)},this):Array.isArray(Q)?Q.forEach(function(C){this.append(C[0],C[1])},this):Q&&Object.getOwnPropertyNames(Q).forEach(function(C){this.append(C,Q[C])},this)}l.prototype.append=function(Q,C){Q=c(Q),C=v(C);var U=this.map[Q];this.map[Q]=U?U+", "+C:C},l.prototype.delete=function(Q){delete this.map[c(Q)]},l.prototype.get=function(Q){return Q=c(Q),this.has(Q)?this.map[Q]:null},l.prototype.has=function(Q){return this.map.hasOwnProperty(c(Q))},l.prototype.set=function(Q,C){this.map[c(Q)]=v(C)},l.prototype.forEach=function(Q,C){for(var U in this.map)this.map.hasOwnProperty(U)&&Q.call(C,this.map[U],U,this)},l.prototype.keys=function(){var Q=[];return this.forEach(function(C,U){Q.push(U)}),f(Q)},l.prototype.values=function(){var Q=[];return this.forEach(function(C){Q.push(C)}),f(Q)},l.prototype.entries=function(){var Q=[];return this.forEach(function(C,U){Q.push([U,C])}),f(Q)},k.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);function E(Q){if(Q.bodyUsed)return Promise.reject(new TypeError("Already read"));Q.bodyUsed=!0}function d(Q){return new Promise(function(C,U){Q.onload=function(){C(Q.result)},Q.onerror=function(){U(Q.error)}})}function p(Q){var C=new FileReader,U=d(C);return C.readAsArrayBuffer(Q),U}function g(Q){var C=new FileReader,U=d(C);return C.readAsText(Q),U}function S(Q){for(var C=new Uint8Array(Q),U=new Array(C.length),M=0;M<C.length;M++)U[M]=String.fromCharCode(C[M]);return U.join("")}function A(Q){if(Q.slice)return Q.slice(0);var C=new Uint8Array(Q.byteLength);return C.set(new Uint8Array(Q)),C.buffer}function _(){return this.bodyUsed=!1,this._initBody=function(Q){this._bodyInit=Q,Q?typeof Q=="string"?this._bodyText=Q:k.blob&&Blob.prototype.isPrototypeOf(Q)?this._bodyBlob=Q:k.formData&&FormData.prototype.isPrototypeOf(Q)?this._bodyFormData=Q:k.searchParams&&URLSearchParams.prototype.isPrototypeOf(Q)?this._bodyText=Q.toString():k.arrayBuffer&&k.blob&&o(Q)?(this._bodyArrayBuffer=A(Q.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):k.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(Q)||n(Q))?this._bodyArrayBuffer=A(Q):this._bodyText=Q=Object.prototype.toString.call(Q):this._bodyText="",this.headers.get("content-type")||(typeof Q=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):k.searchParams&&URLSearchParams.prototype.isPrototypeOf(Q)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},k.blob&&(this.blob=function(){var Q=E(this);if(Q)return Q;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?E(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var Q=E(this);if(Q)return Q;if(this._bodyBlob)return g(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(S(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},k.formData&&(this.formData=function(){return this.text().then(J)}),this.json=function(){return this.text().then(JSON.parse)},this}var F=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function H(Q){var C=Q.toUpperCase();return F.indexOf(C)>-1?C:Q}function K(Q,C){C=C||{};var U=C.body;if(Q instanceof K){if(Q.bodyUsed)throw new TypeError("Already read");this.url=Q.url,this.credentials=Q.credentials,C.headers||(this.headers=new l(Q.headers)),this.method=Q.method,this.mode=Q.mode,this.signal=Q.signal,!U&&Q._bodyInit!=null&&(U=Q._bodyInit,Q.bodyUsed=!0)}else this.url=String(Q);if(this.credentials=C.credentials||this.credentials||"same-origin",(C.headers||!this.headers)&&(this.headers=new l(C.headers)),this.method=H(C.method||this.method||"GET"),this.mode=C.mode||this.mode||null,this.signal=C.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&U)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(U)}K.prototype.clone=function(){return new K(this,{body:this._bodyInit})};function J(Q){var C=new FormData;return Q.trim().split("&").forEach(function(U){if(U){var M=U.split("="),s=M.shift().replace(/\+/g," "),m=M.join("=").replace(/\+/g," ");C.append(decodeURIComponent(s),decodeURIComponent(m))}}),C}function te(Q){var C=new l,U=Q.replace(/\r?\n[\t ]+/g," ");return U.split(/\r?\n/).forEach(function(M){var s=M.split(":"),m=s.shift().trim();if(m){var T=s.join(":").trim();C.append(m,T)}}),C}_.call(K.prototype);function ie(Q,C){C||(C={}),this.type="default",this.status=C.status===void 0?200:C.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in C?C.statusText:"OK",this.headers=new l(C.headers),this.url=C.url||"",this._initBody(Q)}_.call(ie.prototype),ie.prototype.clone=function(){return new ie(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},ie.error=function(){var Q=new ie(null,{status:0,statusText:""});return Q.type="error",Q};var ne=[301,302,303,307,308];ie.redirect=function(Q,C){if(ne.indexOf(C)===-1)throw new RangeError("Invalid status code");return new ie(null,{status:C,headers:{location:Q}})},N.DOMException=R.DOMException;try{new N.DOMException}catch(Q){N.DOMException=function(C,U){this.message=C,this.name=U;var M=Error(C);this.stack=M.stack},N.DOMException.prototype=Object.create(Error.prototype),N.DOMException.prototype.constructor=N.DOMException}function ue(Q,C){return new Promise(function(U,M){var s=new K(Q,C);if(s.signal&&s.signal.aborted)return M(new N.DOMException("Aborted","AbortError"));var m=new XMLHttpRequest;function T(){m.abort()}m.onload=function(){var I={status:m.status,statusText:m.statusText,headers:te(m.getAllResponseHeaders()||"")};I.url="responseURL"in m?m.responseURL:I.headers.get("X-Request-URL");var D="response"in m?m.response:m.responseText;U(new ie(D,I))},m.onerror=function(){M(new TypeError("Network request failed"))},m.ontimeout=function(){M(new TypeError("Network request failed"))},m.onabort=function(){M(new N.DOMException("Aborted","AbortError"))},m.open(s.method,s.url,!0),s.credentials==="include"?m.withCredentials=!0:s.credentials==="omit"&&(m.withCredentials=!1),"responseType"in m&&k.blob&&(m.responseType="blob"),s.headers.forEach(function(I,D){m.setRequestHeader(D,I)}),s.signal&&(s.signal.addEventListener("abort",T),m.onreadystatechange=function(){m.readyState===4&&s.signal.removeEventListener("abort",T)}),m.send(typeof s._bodyInit=="undefined"?null:s._bodyInit)})}return ue.polyfill=!0,R.fetch||(R.fetch=ue,R.Headers=l,R.Request=K,R.Response=ie),N.Headers=l,N.Request=K,N.Response=ie,N.fetch=ue,N}({})})(y),delete y.fetch.polyfill,z=y.fetch,z.default=y.fetch,z.fetch=y.fetch,z.Headers=y.Headers,z.Request=y.Request,z.Response=y.Response,b.exports=z},5835:(b,z,y)=>{"use strict";var R;R=R=R=y(1798),z.js=y(3482),R=y(8355);var O=y(6042),N=Object.keys(O),k=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(N);R=function(){return k};var o=y(5632);R=o.pbkdf2,R=o.pbkdf2Sync;var u=y(3614);R=u.Cipher,R=u.createCipher,R=u.Cipheriv,R=u.createCipheriv,R=u.Decipher,R=u.createDecipher,R=u.Decipheriv,R=u.createDecipheriv,R=u.getCiphers,R=u.listCiphers;var n=y(2607);R=n.DiffieHellmanGroup,R=n.createDiffieHellmanGroup,R=n.getDiffieHellman,R=n.createDiffieHellman,R=n.DiffieHellman;var c=y(4743);R=c.createSign,R=c.Sign,R=c.createVerify,R=c.Verify,y(6393);var v=y(7900);R=v.publicEncrypt,R=v.privateEncrypt,R=v.publicDecrypt,R=v.privateDecrypt;var f=y(7963);R=f.randomFill,R=f.randomFillSync,R=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},R={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},7484:function(b){(function(z,y){b.exports=y()})(this,function(){"use strict";var z="millisecond",y="second",R="minute",O="hour",N="day",k="week",o="month",u="quarter",n="year",c="date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,l={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},E=function(J,te,ie){var ne=String(J);return!ne||ne.length>=te?J:""+Array(te+1-ne.length).join(ie)+J},d={s:E,z:function(J){var te=-J.utcOffset(),ie=Math.abs(te),ne=Math.floor(ie/60),ue=ie%60;return(te<=0?"+":"-")+E(ne,2,"0")+":"+E(ue,2,"0")},m:function J(te,ie){if(te.date()<ie.date())return-J(ie,te);var ne=12*(ie.year()-te.year())+(ie.month()-te.month()),ue=te.clone().add(ne,o),Q=ie-ue<0,C=te.clone().add(ne+(Q?-1:1),o);return+(-(ne+(ie-ue)/(Q?ue-C:C-ue))||0)},a:function(J){return J<0?Math.ceil(J)||0:Math.floor(J)},p:function(J){return{M:o,y:n,w:k,d:N,D:c,h:O,m:R,s:y,ms:z,Q:u}[J]||String(J||"").toLowerCase().replace(/s$/,"")},u:function(J){return J===void 0}},p="en",g={};g[p]=l;var S=function(J){return J instanceof H},A=function(J,te,ie){var ne;if(!J)return p;if(typeof J=="string")g[J]&&(ne=J),te&&(g[J]=te,ne=J);else{var ue=J.name;g[ue]=J,ne=ue}return!ie&&ne&&(p=ne),ne||!ie&&p},_=function(J,te){if(S(J))return J.clone();var ie=typeof te=="object"?te:{};return ie.date=J,ie.args=arguments,new H(ie)},F=d;F.l=A,F.i=S,F.w=function(J,te){return _(J,{locale:te.$L,utc:te.$u,x:te.$x,$offset:te.$offset})};var H=function(){function J(ie){this.$L=A(ie.locale,null,!0),this.parse(ie)}var te=J.prototype;return te.parse=function(ie){this.$d=function(ne){var ue=ne.date,Q=ne.utc;if(ue===null)return new Date(NaN);if(F.u(ue))return new Date;if(ue instanceof Date)return new Date(ue);if(typeof ue=="string"&&!/Z$/i.test(ue)){var C=ue.match(v);if(C){var U=C[2]-1||0,M=(C[7]||"0").substring(0,3);return Q?new Date(Date.UTC(C[1],U,C[3]||1,C[4]||0,C[5]||0,C[6]||0,M)):new Date(C[1],U,C[3]||1,C[4]||0,C[5]||0,C[6]||0,M)}}return new Date(ue)}(ie),this.$x=ie.x||{},this.init()},te.init=function(){var ie=this.$d;this.$y=ie.getFullYear(),this.$M=ie.getMonth(),this.$D=ie.getDate(),this.$W=ie.getDay(),this.$H=ie.getHours(),this.$m=ie.getMinutes(),this.$s=ie.getSeconds(),this.$ms=ie.getMilliseconds()},te.$utils=function(){return F},te.isValid=function(){return this.$d.toString()!=="Invalid Date"},te.isSame=function(ie,ne){var ue=_(ie);return this.startOf(ne)<=ue&&ue<=this.endOf(ne)},te.isAfter=function(ie,ne){return _(ie)<this.startOf(ne)},te.isBefore=function(ie,ne){return this.endOf(ne)<_(ie)},te.$g=function(ie,ne,ue){return F.u(ie)?this[ne]:this.set(ue,ie)},te.unix=function(){return Math.floor(this.valueOf()/1e3)},te.valueOf=function(){return this.$d.getTime()},te.startOf=function(ie,ne){var ue=this,Q=!!F.u(ne)||ne,C=F.p(ie),U=function(V,G){var w=F.w(ue.$u?Date.UTC(ue.$y,G,V):new Date(ue.$y,G,V),ue);return Q?w:w.endOf(N)},M=function(V,G){return F.w(ue.toDate()[V].apply(ue.toDate("s"),(Q?[0,0,0,0]:[23,59,59,999]).slice(G)),ue)},s=this.$W,m=this.$M,T=this.$D,I="set"+(this.$u?"UTC":"");switch(C){case n:return Q?U(1,0):U(31,11);case o:return Q?U(1,m):U(0,m+1);case k:var D=this.$locale().weekStart||0,P=(s<D?s+7:s)-D;return U(Q?T-P:T+(6-P),m);case N:case c:return M(I+"Hours",0);case O:return M(I+"Minutes",1);case R:return M(I+"Seconds",2);case y:return M(I+"Milliseconds",3);default:return this.clone()}},te.endOf=function(ie){return this.startOf(ie,!1)},te.$set=function(ie,ne){var ue,Q=F.p(ie),C="set"+(this.$u?"UTC":""),U=(ue={},ue[N]=C+"Date",ue[c]=C+"Date",ue[o]=C+"Month",ue[n]=C+"FullYear",ue[O]=C+"Hours",ue[R]=C+"Minutes",ue[y]=C+"Seconds",ue[z]=C+"Milliseconds",ue)[Q],M=Q===N?this.$D+(ne-this.$W):ne;if(Q===o||Q===n){var s=this.clone().set(c,1);s.$d[U](M),s.init(),this.$d=s.set(c,Math.min(this.$D,s.daysInMonth())).$d}else U&&this.$d[U](M);return this.init(),this},te.set=function(ie,ne){return this.clone().$set(ie,ne)},te.get=function(ie){return this[F.p(ie)]()},te.add=function(ie,ne){var ue,Q=this;ie=Number(ie);var C=F.p(ne),U=function(m){var T=_(Q);return F.w(T.date(T.date()+Math.round(m*ie)),Q)};if(C===o)return this.set(o,this.$M+ie);if(C===n)return this.set(n,this.$y+ie);if(C===N)return U(1);if(C===k)return U(7);var M=(ue={},ue[R]=6e4,ue[O]=36e5,ue[y]=1e3,ue)[C]||1,s=this.$d.getTime()+ie*M;return F.w(s,this)},te.subtract=function(ie,ne){return this.add(-1*ie,ne)},te.format=function(ie){var ne=this;if(!this.isValid())return"Invalid Date";var ue=ie||"YYYY-MM-DDTHH:mm:ssZ",Q=F.z(this),C=this.$locale(),U=this.$H,M=this.$m,s=this.$M,m=C.weekdays,T=C.months,I=function(G,w,Y,me){return G&&(G[w]||G(ne,ue))||Y[w].substr(0,me)},D=function(G){return F.s(U%12||12,G,"0")},P=C.meridiem||function(G,w,Y){var me=G<12?"AM":"PM";return Y?me.toLowerCase():me},V={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:F.s(s+1,2,"0"),MMM:I(C.monthsShort,s,T,3),MMMM:I(T,s),D:this.$D,DD:F.s(this.$D,2,"0"),d:String(this.$W),dd:I(C.weekdaysMin,this.$W,m,2),ddd:I(C.weekdaysShort,this.$W,m,3),dddd:m[this.$W],H:String(U),HH:F.s(U,2,"0"),h:D(1),hh:D(2),a:P(U,M,!0),A:P(U,M,!1),m:String(M),mm:F.s(M,2,"0"),s:String(this.$s),ss:F.s(this.$s,2,"0"),SSS:F.s(this.$ms,3,"0"),Z:Q};return ue.replace(f,function(G,w){return w||V[G]||Q.replace(":","")})},te.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},te.diff=function(ie,ne,ue){var Q,C=F.p(ne),U=_(ie),M=6e4*(U.utcOffset()-this.utcOffset()),s=this-U,m=F.m(this,U);return m=(Q={},Q[n]=m/12,Q[o]=m,Q[u]=m/3,Q[k]=(s-M)/6048e5,Q[N]=(s-M)/864e5,Q[O]=s/36e5,Q[R]=s/6e4,Q[y]=s/1e3,Q)[C]||s,ue?m:F.a(m)},te.daysInMonth=function(){return this.endOf(o).$D},te.$locale=function(){return g[this.$L]},te.locale=function(ie,ne){if(!ie)return this.$L;var ue=this.clone(),Q=A(ie,ne,!0);return Q&&(ue.$L=Q),ue},te.clone=function(){return F.w(this.$d,this)},te.toDate=function(){return new Date(this.valueOf())},te.toJSON=function(){return this.isValid()?this.toISOString():null},te.toISOString=function(){return this.$d.toISOString()},te.toString=function(){return this.$d.toUTCString()},J}(),K=H.prototype;return _.prototype=K,[["$ms",z],["$s",y],["$m",R],["$H",O],["$W",N],["$M",o],["$y",n],["$D",c]].forEach(function(J){K[J[1]]=function(te){return this.$g(te,J[0],J[1])}}),_.extend=function(J,te){return J.$i||(J(te,H,_),J.$i=!0),_},_.locale=A,_.isDayjs=S,_.unix=function(J){return _(1e3*J)},_.en=g[p],_.Ls=g,_.p={},_})},4110:function(b){(function(z,y){b.exports=y()})(this,function(){"use strict";return function(z,y,R){z=z||{};var O=y.prototype,N={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function k(u,n,c,v){return O.fromToBase(u,n,c,v)}R.en.relativeTime=N,O.fromToBase=function(u,n,c,v,f){for(var l,E,d,p=c.$locale().relativeTime||N,g=z.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],S=g.length,A=0;A<S;A+=1){var _=g[A];_.d&&(l=v?R(u).diff(c,_.d,!0):c.diff(u,_.d,!0));var F=(z.rounding||Math.round)(Math.abs(l));if(d=l>0,F<=_.r||!_.r){F<=1&&A>0&&(_=g[A-1]);var H=p[_.l];f&&(F=f(""+F)),E=typeof H=="string"?H.replace("%d",F):H(F,n,_.l,d);break}}if(n)return E;var K=d?p.future:p.past;return typeof K=="function"?K(E):K.replace("%s",E)},O.to=function(u,n){return k(u,n,this,!0)},O.from=function(u,n){return k(u,n,this)};var o=function(u){return u.$u?R.utc():R()};O.toNow=function(u){return this.to(o(this),u)},O.fromNow=function(u){return this.from(o(this),u)}}})},660:function(b){(function(z,y){b.exports=y()})(this,function(){"use strict";return function(z,y,R){R.updateLocale=function(O,N){var k=R.Ls[O];if(k)return(N?Object.keys(N):[]).forEach(function(o){k[o]=N[o]}),k}}})},5251:(b,z,y)=>{"use strict";z.utils=y(1278),z.Cipher=y(5756),z.DES=y(778),z.CBC=y(9051),z.EDE=y(651)},9051:(b,z,y)=>{"use strict";var R=y(9746),O=y(5717),N={};function k(u){R.equal(u.length,8,"Invalid IV length"),this.iv=new Array(8);for(var n=0;n<this.iv.length;n++)this.iv[n]=u[n]}function o(u){function n(l){u.call(this,l),this._cbcInit()}O(n,u);for(var c=Object.keys(N),v=0;v<c.length;v++){var f=c[v];n.prototype[f]=N[f]}return n.create=function(E){return new n(E)},n}z.instantiate=o,N._cbcInit=function(){var n=new k(this.options.iv);this._cbcState=n},N._update=function(n,c,v,f){var l=this._cbcState,E=this.constructor.super_.prototype,d=l.iv;if(this.type==="encrypt"){for(var p=0;p<this.blockSize;p++)d[p]^=n[c+p];E._update.call(this,d,0,v,f);for(var p=0;p<this.blockSize;p++)d[p]=v[f+p]}else{E._update.call(this,n,c,v,f);for(var p=0;p<this.blockSize;p++)v[f+p]^=d[p];for(var p=0;p<this.blockSize;p++)d[p]=n[c+p]}}},5756:(b,z,y)=>{"use strict";var R=y(9746);function O(N){this.options=N,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}b.exports=O,O.prototype._init=function(){},O.prototype.update=function(k){return k.length===0?[]:this.type==="decrypt"?this._updateDecrypt(k):this._updateEncrypt(k)},O.prototype._buffer=function(k,o){for(var u=Math.min(this.buffer.length-this.bufferOff,k.length-o),n=0;n<u;n++)this.buffer[this.bufferOff+n]=k[o+n];return this.bufferOff+=u,u},O.prototype._flushBuffer=function(k,o){return this._update(this.buffer,0,k,o),this.bufferOff=0,this.blockSize},O.prototype._updateEncrypt=function(k){var o=0,u=0,n=(this.bufferOff+k.length)/this.blockSize|0,c=new Array(n*this.blockSize);this.bufferOff!==0&&(o+=this._buffer(k,o),this.bufferOff===this.buffer.length&&(u+=this._flushBuffer(c,u)));for(var v=k.length-(k.length-o)%this.blockSize;o<v;o+=this.blockSize)this._update(k,o,c,u),u+=this.blockSize;for(;o<k.length;o++,this.bufferOff++)this.buffer[this.bufferOff]=k[o];return c},O.prototype._updateDecrypt=function(k){for(var o=0,u=0,n=Math.ceil((this.bufferOff+k.length)/this.blockSize)-1,c=new Array(n*this.blockSize);n>0;n--)o+=this._buffer(k,o),u+=this._flushBuffer(c,u);return o+=this._buffer(k,o),c},O.prototype.final=function(k){var o;k&&(o=this.update(k));var u;return this.type==="encrypt"?u=this._finalEncrypt():u=this._finalDecrypt(),o?o.concat(u):u},O.prototype._pad=function(k,o){if(o===0)return!1;for(;o<k.length;)k[o++]=0;return!0},O.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var k=new Array(this.blockSize);return this._update(this.buffer,0,k,0),k},O.prototype._unpad=function(k){return k},O.prototype._finalDecrypt=function(){R.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var k=new Array(this.blockSize);return this._flushBuffer(k,0),this._unpad(k)}},778:(b,z,y)=>{"use strict";var R=y(9746),O=y(5717),N=y(1278),k=y(5756);function o(){this.tmp=new Array(2),this.keys=null}function u(c){k.call(this,c);var v=new o;this._desState=v,this.deriveKeys(v,c.key)}O(u,k),b.exports=u,u.create=function(v){return new u(v)};var n=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(v,f){v.keys=new Array(16*2),R.equal(f.length,this.blockSize,"Invalid key length");var l=N.readUInt32BE(f,0),E=N.readUInt32BE(f,4);N.pc1(l,E,v.tmp,0),l=v.tmp[0],E=v.tmp[1];for(var d=0;d<v.keys.length;d+=2){var p=n[d>>>1];l=N.r28shl(l,p),E=N.r28shl(E,p),N.pc2(l,E,v.keys,d)}},u.prototype._update=function(v,f,l,E){var d=this._desState,p=N.readUInt32BE(v,f),g=N.readUInt32BE(v,f+4);N.ip(p,g,d.tmp,0),p=d.tmp[0],g=d.tmp[1],this.type==="encrypt"?this._encrypt(d,p,g,d.tmp,0):this._decrypt(d,p,g,d.tmp,0),p=d.tmp[0],g=d.tmp[1],N.writeUInt32BE(l,p,E),N.writeUInt32BE(l,g,E+4)},u.prototype._pad=function(v,f){for(var l=v.length-f,E=f;E<v.length;E++)v[E]=l;return!0},u.prototype._unpad=function(v){for(var f=v[v.length-1],l=v.length-f;l<v.length;l++)R.equal(v[l],f);return v.slice(0,v.length-f)},u.prototype._encrypt=function(v,f,l,E,d){for(var p=f,g=l,S=0;S<v.keys.length;S+=2){var A=v.keys[S],_=v.keys[S+1];N.expand(g,v.tmp,0),A^=v.tmp[0],_^=v.tmp[1];var F=N.substitute(A,_),H=N.permute(F),K=g;g=(p^H)>>>0,p=K}N.rip(g,p,E,d)},u.prototype._decrypt=function(v,f,l,E,d){for(var p=l,g=f,S=v.keys.length-2;S>=0;S-=2){var A=v.keys[S],_=v.keys[S+1];N.expand(p,v.tmp,0),A^=v.tmp[0],_^=v.tmp[1];var F=N.substitute(A,_),H=N.permute(F),K=p;p=(g^H)>>>0,g=K}N.rip(p,g,E,d)}},651:(b,z,y)=>{"use strict";var R=y(9746),O=y(5717),N=y(5756),k=y(778);function o(n,c){R.equal(c.length,24,"Invalid key length");var v=c.slice(0,8),f=c.slice(8,16),l=c.slice(16,24);n==="encrypt"?this.ciphers=[k.create({type:"encrypt",key:v}),k.create({type:"decrypt",key:f}),k.create({type:"encrypt",key:l})]:this.ciphers=[k.create({type:"decrypt",key:l}),k.create({type:"encrypt",key:f}),k.create({type:"decrypt",key:v})]}function u(n){N.call(this,n);var c=new o(this.type,this.options.key);this._edeState=c}O(u,N),b.exports=u,u.create=function(c){return new u(c)},u.prototype._update=function(c,v,f,l){var E=this._edeState;E.ciphers[0]._update(c,v,f,l),E.ciphers[1]._update(f,l,f,l),E.ciphers[2]._update(f,l,f,l)},u.prototype._pad=k.prototype._pad,u.prototype._unpad=k.prototype._unpad},1278:(b,z)=>{"use strict";z.readUInt32BE=function(k,o){var u=k[0+o]<<24|k[1+o]<<16|k[2+o]<<8|k[3+o];return u>>>0},z.writeUInt32BE=function(k,o,u){k[0+u]=o>>>24,k[1+u]=o>>>16&255,k[2+u]=o>>>8&255,k[3+u]=o&255},z.ip=function(k,o,u,n){for(var c=0,v=0,f=6;f>=0;f-=2){for(var l=0;l<=24;l+=8)c<<=1,c|=o>>>l+f&1;for(var l=0;l<=24;l+=8)c<<=1,c|=k>>>l+f&1}for(var f=6;f>=0;f-=2){for(var l=1;l<=25;l+=8)v<<=1,v|=o>>>l+f&1;for(var l=1;l<=25;l+=8)v<<=1,v|=k>>>l+f&1}u[n+0]=c>>>0,u[n+1]=v>>>0},z.rip=function(k,o,u,n){for(var c=0,v=0,f=0;f<4;f++)for(var l=24;l>=0;l-=8)c<<=1,c|=o>>>l+f&1,c<<=1,c|=k>>>l+f&1;for(var f=4;f<8;f++)for(var l=24;l>=0;l-=8)v<<=1,v|=o>>>l+f&1,v<<=1,v|=k>>>l+f&1;u[n+0]=c>>>0,u[n+1]=v>>>0},z.pc1=function(k,o,u,n){for(var c=0,v=0,f=7;f>=5;f--){for(var l=0;l<=24;l+=8)c<<=1,c|=o>>l+f&1;for(var l=0;l<=24;l+=8)c<<=1,c|=k>>l+f&1}for(var l=0;l<=24;l+=8)c<<=1,c|=o>>l+f&1;for(var f=1;f<=3;f++){for(var l=0;l<=24;l+=8)v<<=1,v|=o>>l+f&1;for(var l=0;l<=24;l+=8)v<<=1,v|=k>>l+f&1}for(var l=0;l<=24;l+=8)v<<=1,v|=k>>l+f&1;u[n+0]=c>>>0,u[n+1]=v>>>0},z.r28shl=function(k,o){return k<<o&268435455|k>>>28-o};var y=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];z.pc2=function(k,o,u,n){for(var c=0,v=0,f=y.length>>>1,l=0;l<f;l++)c<<=1,c|=k>>>y[l]&1;for(var l=f;l<y.length;l++)v<<=1,v|=o>>>y[l]&1;u[n+0]=c>>>0,u[n+1]=v>>>0},z.expand=function(k,o,u){var n=0,c=0;n=(k&1)<<5|k>>>27;for(var v=23;v>=15;v-=4)n<<=6,n|=k>>>v&63;for(var v=11;v>=3;v-=4)c|=k>>>v&63,c<<=6;c|=(k&31)<<1|k>>>31,o[u+0]=n>>>0,o[u+1]=c>>>0};var R=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];z.substitute=function(k,o){for(var u=0,n=0;n<4;n++){var c=k>>>18-n*6&63,v=R[n*64+c];u<<=4,u|=v}for(var n=0;n<4;n++){var c=o>>>18-n*6&63,v=R[4*64+n*64+c];u<<=4,u|=v}return u>>>0};var O=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];z.permute=function(k){for(var o=0,u=0;u<O.length;u++)o<<=1,o|=k>>>O[u]&1;return o>>>0},z.padSplit=function(k,o,u){for(var n=k.toString(2);n.length<o;)n="0"+n;for(var c=[],v=0;v<o;v+=u)c.push(n.slice(v,v+u));return c.join(" ")}},2607:(b,z,y)=>{var R=y(3590),O=y(1930),N=y(7426);function k(n){var c=new Buffer(O[n].prime,"hex"),v=new Buffer(O[n].gen,"hex");return new N(c,v)}var o={binary:!0,hex:!0,base64:!0};function u(n,c,v,f){return Buffer.isBuffer(c)||o[c]===void 0?u(n,"binary",c,v):(c=c||"binary",f=f||"binary",v=v||new Buffer([2]),Buffer.isBuffer(v)||(v=new Buffer(v,f)),typeof n=="number"?new N(R(n,v),v,!0):(Buffer.isBuffer(n)||(n=new Buffer(n,c)),new N(n,v,!0)))}z.DiffieHellmanGroup=z.createDiffieHellmanGroup=z.getDiffieHellman=k,z.createDiffieHellman=z.DiffieHellman=u},7426:(b,z,y)=>{var R=y(3550),O=y(3047),N=new O,k=new R(24),o=new R(11),u=new R(10),n=new R(3),c=new R(7),v=y(3590),f=y(1798);b.exports=g;function l(A,_){return _=_||"utf8",Buffer.isBuffer(A)||(A=new Buffer(A,_)),this._pub=new R(A),this}function E(A,_){return _=_||"utf8",Buffer.isBuffer(A)||(A=new Buffer(A,_)),this._priv=new R(A),this}var d={};function p(A,_){var F=_.toString("hex"),H=[F,A.toString(16)].join("_");if(H in d)return d[H];var K=0;if(A.isEven()||!v.simpleSieve||!v.fermatTest(A)||!N.test(A))return K+=1,F==="02"||F==="05"?K+=8:K+=4,d[H]=K,K;N.test(A.shrn(1))||(K+=2);var J;switch(F){case"02":A.mod(k).cmp(o)&&(K+=8);break;case"05":J=A.mod(u),J.cmp(n)&&J.cmp(c)&&(K+=8);break;default:K+=4}return d[H]=K,K}function g(A,_,F){this.setGenerator(_),this.__prime=new R(A),this._prime=R.mont(this.__prime),this._primeLen=A.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,F?(this.setPublicKey=l,this.setPrivateKey=E):this._primeCode=8}Object.defineProperty(g.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=p(this.__prime,this.__gen)),this._primeCode}}),g.prototype.generateKeys=function(){return this._priv||(this._priv=new R(f(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},g.prototype.computeSecret=function(A){A=new R(A),A=A.toRed(this._prime);var _=A.redPow(this._priv).fromRed(),F=new Buffer(_.toArray()),H=this.getPrime();if(F.length<H.length){var K=new Buffer(H.length-F.length);K.fill(0),F=Buffer.concat([K,F])}return F},g.prototype.getPublicKey=function(_){return S(this._pub,_)},g.prototype.getPrivateKey=function(_){return S(this._priv,_)},g.prototype.getPrime=function(A){return S(this.__prime,A)},g.prototype.getGenerator=function(A){return S(this._gen,A)},g.prototype.setGenerator=function(A,_){return _=_||"utf8",Buffer.isBuffer(A)||(A=new Buffer(A,_)),this.__gen=A,this._gen=new R(A),this};function S(A,_){var F=new Buffer(A.toArray());return _?F.toString(_):F}},3590:(b,z,y)=>{var R=y(1798);b.exports=K,K.simpleSieve=F,K.fermatTest=H;var O=y(3550),N=new O(24),k=y(3047),o=new k,u=new O(1),n=new O(2),c=new O(5),v=new O(16),f=new O(8),l=new O(10),E=new O(3),d=new O(7),p=new O(11),g=new O(4),S=new O(12),A=null;function _(){if(A!==null)return A;var J=1048576,te=[];te[0]=2;for(var ie=1,ne=3;ne<J;ne+=2){for(var ue=Math.ceil(Math.sqrt(ne)),Q=0;Q<ie&&te[Q]<=ue&&ne%te[Q]!=0;Q++);ie!==Q&&te[Q]<=ue||(te[ie++]=ne)}return A=te,te}function F(J){for(var te=_(),ie=0;ie<te.length;ie++)if(J.modn(te[ie])===0)return J.cmpn(te[ie])===0;return!0}function H(J){var te=O.mont(J);return n.toRed(te).redPow(J.subn(1)).fromRed().cmpn(1)===0}function K(J,te){if(J<16)return te===2||te===5?new O([140,123]):new O([140,39]);te=new O(te);for(var ie,ne;;){for(ie=new O(R(Math.ceil(J/8)));ie.bitLength()>J;)ie.ishrn(1);if(ie.isEven()&&ie.iadd(u),ie.testn(1)||ie.iadd(n),te.cmp(n)){if(!te.cmp(c))for(;ie.mod(l).cmp(E);)ie.iadd(g)}else for(;ie.mod(N).cmp(p);)ie.iadd(g);if(ne=ie.shrn(1),F(ne)&&F(ie)&&H(ne)&&H(ie)&&o.test(ne)&&o.test(ie))return ie}}},1930:b=>{"use strict";b.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},6266:(b,z,y)=>{"use strict";var R=z;R.version=y(7519).i8,R.utils=y(953),R.rand=y(9931),R.curve=y(8254),R.curves=y(5427),R.ec=y(7954),R.eddsa=y(5980)},4918:(b,z,y)=>{"use strict";var R=y(3550),O=y(953),N=O.getNAF,k=O.getJSF,o=O.assert;function u(c,v){this.type=c,this.p=new R(v.p,16),this.red=v.prime?R.red(v.prime):R.mont(this.p),this.zero=new R(0).toRed(this.red),this.one=new R(1).toRed(this.red),this.two=new R(2).toRed(this.red),this.n=v.n&&new R(v.n,16),this.g=v.g&&this.pointFromJSON(v.g,v.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var f=this.n&&this.p.div(this.n);!f||f.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}b.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(v,f){o(v.precomputed);var l=v._getDoubles(),E=N(f,1,this._bitLength),d=(1<<l.step+1)-(l.step%2==0?2:1);d/=3;var p=[],g,S;for(g=0;g<E.length;g+=l.step){S=0;for(var A=g+l.step-1;A>=g;A--)S=(S<<1)+E[A];p.push(S)}for(var _=this.jpoint(null,null,null),F=this.jpoint(null,null,null),H=d;H>0;H--){for(g=0;g<p.length;g++)S=p[g],S===H?F=F.mixedAdd(l.points[g]):S===-H&&(F=F.mixedAdd(l.points[g].neg()));_=_.add(F)}return _.toP()},u.prototype._wnafMul=function(v,f){var l=4,E=v._getNAFPoints(l);l=E.wnd;for(var d=E.points,p=N(f,l,this._bitLength),g=this.jpoint(null,null,null),S=p.length-1;S>=0;S--){for(var A=0;S>=0&&p[S]===0;S--)A++;if(S>=0&&A++,g=g.dblp(A),S<0)break;var _=p[S];o(_!==0),v.type==="affine"?_>0?g=g.mixedAdd(d[_-1>>1]):g=g.mixedAdd(d[-_-1>>1].neg()):_>0?g=g.add(d[_-1>>1]):g=g.add(d[-_-1>>1].neg())}return v.type==="affine"?g.toP():g},u.prototype._wnafMulAdd=function(v,f,l,E,d){var p=this._wnafT1,g=this._wnafT2,S=this._wnafT3,A=0,_,F,H;for(_=0;_<E;_++){H=f[_];var K=H._getNAFPoints(v);p[_]=K.wnd,g[_]=K.points}for(_=E-1;_>=1;_-=2){var J=_-1,te=_;if(p[J]!==1||p[te]!==1){S[J]=N(l[J],p[J],this._bitLength),S[te]=N(l[te],p[te],this._bitLength),A=Math.max(S[J].length,A),A=Math.max(S[te].length,A);continue}var ie=[f[J],null,null,f[te]];f[J].y.cmp(f[te].y)===0?(ie[1]=f[J].add(f[te]),ie[2]=f[J].toJ().mixedAdd(f[te].neg())):f[J].y.cmp(f[te].y.redNeg())===0?(ie[1]=f[J].toJ().mixedAdd(f[te]),ie[2]=f[J].add(f[te].neg())):(ie[1]=f[J].toJ().mixedAdd(f[te]),ie[2]=f[J].toJ().mixedAdd(f[te].neg()));var ne=[-3,-1,-5,-7,0,7,5,1,3],ue=k(l[J],l[te]);for(A=Math.max(ue[0].length,A),S[J]=new Array(A),S[te]=new Array(A),F=0;F<A;F++){var Q=ue[0][F]|0,C=ue[1][F]|0;S[J][F]=ne[(Q+1)*3+(C+1)],S[te][F]=0,g[J]=ie}}var U=this.jpoint(null,null,null),M=this._wnafT4;for(_=A;_>=0;_--){for(var s=0;_>=0;){var m=!0;for(F=0;F<E;F++)M[F]=S[F][_]|0,M[F]!==0&&(m=!1);if(!m)break;s++,_--}if(_>=0&&s++,U=U.dblp(s),_<0)break;for(F=0;F<E;F++){var T=M[F];T!==0&&(T>0?H=g[F][T-1>>1]:T<0&&(H=g[F][-T-1>>1].neg()),H.type==="affine"?U=U.mixedAdd(H):U=U.add(H))}}for(_=0;_<E;_++)g[_]=null;return d?U:U.toP()};function n(c,v){this.curve=c,this.type=v,this.precomputed=null}u.BasePoint=n,n.prototype.eq=function(){throw new Error("Not implemented")},n.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(v,f){v=O.toArray(v,f);var l=this.p.byteLength();if((v[0]===4||v[0]===6||v[0]===7)&&v.length-1==2*l){v[0]===6?o(v[v.length-1]%2==0):v[0]===7&&o(v[v.length-1]%2==1);var E=this.point(v.slice(1,1+l),v.slice(1+l,1+2*l));return E}else if((v[0]===2||v[0]===3)&&v.length-1===l)return this.pointFromX(v.slice(1,1+l),v[0]===3);throw new Error("Unknown point format")},n.prototype.encodeCompressed=function(v){return this.encode(v,!0)},n.prototype._encode=function(v){var f=this.curve.p.byteLength(),l=this.getX().toArray("be",f);return v?[this.getY().isEven()?2:3].concat(l):[4].concat(l,this.getY().toArray("be",f))},n.prototype.encode=function(v,f){return O.encode(this._encode(f),v)},n.prototype.precompute=function(v){if(this.precomputed)return this;var f={doubles:null,naf:null,beta:null};return f.naf=this._getNAFPoints(8),f.doubles=this._getDoubles(4,v),f.beta=this._getBeta(),this.precomputed=f,this},n.prototype._hasDoubles=function(v){if(!this.precomputed)return!1;var f=this.precomputed.doubles;return f?f.points.length>=Math.ceil((v.bitLength()+1)/f.step):!1},n.prototype._getDoubles=function(v,f){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var l=[this],E=this,d=0;d<f;d+=v){for(var p=0;p<v;p++)E=E.dbl();l.push(E)}return{step:v,points:l}},n.prototype._getNAFPoints=function(v){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var f=[this],l=(1<<v)-1,E=l===1?null:this.dbl(),d=1;d<l;d++)f[d]=f[d-1].add(E);return{wnd:v,points:f}},n.prototype._getBeta=function(){return null},n.prototype.dblp=function(v){for(var f=this,l=0;l<v;l++)f=f.dbl();return f}},1138:(b,z,y)=>{"use strict";var R=y(953),O=y(3550),N=y(5717),k=y(4918),o=R.assert;function u(c){this.twisted=(c.a|0)!=1,this.mOneA=this.twisted&&(c.a|0)==-1,this.extended=this.mOneA,k.call(this,"edwards",c),this.a=new O(c.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new O(c.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new O(c.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),o(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(c.c|0)==1}N(u,k),b.exports=u,u.prototype._mulA=function(v){return this.mOneA?v.redNeg():this.a.redMul(v)},u.prototype._mulC=function(v){return this.oneC?v:this.c.redMul(v)},u.prototype.jpoint=function(v,f,l,E){return this.point(v,f,l,E)},u.prototype.pointFromX=function(v,f){v=new O(v,16),v.red||(v=v.toRed(this.red));var l=v.redSqr(),E=this.c2.redSub(this.a.redMul(l)),d=this.one.redSub(this.c2.redMul(this.d).redMul(l)),p=E.redMul(d.redInvm()),g=p.redSqrt();if(g.redSqr().redSub(p).cmp(this.zero)!==0)throw new Error("invalid point");var S=g.fromRed().isOdd();return(f&&!S||!f&&S)&&(g=g.redNeg()),this.point(v,g)},u.prototype.pointFromY=function(v,f){v=new O(v,16),v.red||(v=v.toRed(this.red));var l=v.redSqr(),E=l.redSub(this.c2),d=l.redMul(this.d).redMul(this.c2).redSub(this.a),p=E.redMul(d.redInvm());if(p.cmp(this.zero)===0){if(f)throw new Error("invalid point");return this.point(this.zero,v)}var g=p.redSqrt();if(g.redSqr().redSub(p).cmp(this.zero)!==0)throw new Error("invalid point");return g.fromRed().isOdd()!==f&&(g=g.redNeg()),this.point(g,v)},u.prototype.validate=function(v){if(v.isInfinity())return!0;v.normalize();var f=v.x.redSqr(),l=v.y.redSqr(),E=f.redMul(this.a).redAdd(l),d=this.c2.redMul(this.one.redAdd(this.d.redMul(f).redMul(l)));return E.cmp(d)===0};function n(c,v,f,l,E){k.BasePoint.call(this,c,"projective"),v===null&&f===null&&l===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new O(v,16),this.y=new O(f,16),this.z=l?new O(l,16):this.curve.one,this.t=E&&new O(E,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}N(n,k.BasePoint),u.prototype.pointFromJSON=function(v){return n.fromJSON(this,v)},u.prototype.point=function(v,f,l,E){return new n(this,v,f,l,E)},n.fromJSON=function(v,f){return new n(v,f[0],f[1],f[2])},n.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},n.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},n.prototype._extDbl=function(){var v=this.x.redSqr(),f=this.y.redSqr(),l=this.z.redSqr();l=l.redIAdd(l);var E=this.curve._mulA(v),d=this.x.redAdd(this.y).redSqr().redISub(v).redISub(f),p=E.redAdd(f),g=p.redSub(l),S=E.redSub(f),A=d.redMul(g),_=p.redMul(S),F=d.redMul(S),H=g.redMul(p);return this.curve.point(A,_,H,F)},n.prototype._projDbl=function(){var v=this.x.redAdd(this.y).redSqr(),f=this.x.redSqr(),l=this.y.redSqr(),E,d,p,g,S,A;if(this.curve.twisted){g=this.curve._mulA(f);var _=g.redAdd(l);this.zOne?(E=v.redSub(f).redSub(l).redMul(_.redSub(this.curve.two)),d=_.redMul(g.redSub(l)),p=_.redSqr().redSub(_).redSub(_)):(S=this.z.redSqr(),A=_.redSub(S).redISub(S),E=v.redSub(f).redISub(l).redMul(A),d=_.redMul(g.redSub(l)),p=_.redMul(A))}else g=f.redAdd(l),S=this.curve._mulC(this.z).redSqr(),A=g.redSub(S).redSub(S),E=this.curve._mulC(v.redISub(g)).redMul(A),d=this.curve._mulC(g).redMul(f.redISub(l)),p=g.redMul(A);return this.curve.point(E,d,p)},n.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},n.prototype._extAdd=function(v){var f=this.y.redSub(this.x).redMul(v.y.redSub(v.x)),l=this.y.redAdd(this.x).redMul(v.y.redAdd(v.x)),E=this.t.redMul(this.curve.dd).redMul(v.t),d=this.z.redMul(v.z.redAdd(v.z)),p=l.redSub(f),g=d.redSub(E),S=d.redAdd(E),A=l.redAdd(f),_=p.redMul(g),F=S.redMul(A),H=p.redMul(A),K=g.redMul(S);return this.curve.point(_,F,K,H)},n.prototype._projAdd=function(v){var f=this.z.redMul(v.z),l=f.redSqr(),E=this.x.redMul(v.x),d=this.y.redMul(v.y),p=this.curve.d.redMul(E).redMul(d),g=l.redSub(p),S=l.redAdd(p),A=this.x.redAdd(this.y).redMul(v.x.redAdd(v.y)).redISub(E).redISub(d),_=f.redMul(g).redMul(A),F,H;return this.curve.twisted?(F=f.redMul(S).redMul(d.redSub(this.curve._mulA(E))),H=g.redMul(S)):(F=f.redMul(S).redMul(d.redSub(E)),H=this.curve._mulC(g).redMul(S)),this.curve.point(_,F,H)},n.prototype.add=function(v){return this.isInfinity()?v:v.isInfinity()?this:this.curve.extended?this._extAdd(v):this._projAdd(v)},n.prototype.mul=function(v){return this._hasDoubles(v)?this.curve._fixedNafMul(this,v):this.curve._wnafMul(this,v)},n.prototype.mulAdd=function(v,f,l){return this.curve._wnafMulAdd(1,[this,f],[v,l],2,!1)},n.prototype.jmulAdd=function(v,f,l){return this.curve._wnafMulAdd(1,[this,f],[v,l],2,!0)},n.prototype.normalize=function(){if(this.zOne)return this;var v=this.z.redInvm();return this.x=this.x.redMul(v),this.y=this.y.redMul(v),this.t&&(this.t=this.t.redMul(v)),this.z=this.curve.one,this.zOne=!0,this},n.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},n.prototype.getX=function(){return this.normalize(),this.x.fromRed()},n.prototype.getY=function(){return this.normalize(),this.y.fromRed()},n.prototype.eq=function(v){return this===v||this.getX().cmp(v.getX())===0&&this.getY().cmp(v.getY())===0},n.prototype.eqXToP=function(v){var f=v.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(f)===0)return!0;for(var l=v.clone(),E=this.curve.redN.redMul(this.z);;){if(l.iadd(this.curve.n),l.cmp(this.curve.p)>=0)return!1;if(f.redIAdd(E),this.x.cmp(f)===0)return!0}},n.prototype.toP=n.prototype.normalize,n.prototype.mixedAdd=n.prototype.add},8254:(b,z,y)=>{"use strict";var R=z;R.base=y(4918),R.short=y(6673),R.mont=y(2881),R.edwards=y(1138)},2881:(b,z,y)=>{"use strict";var R=y(3550),O=y(5717),N=y(4918),k=y(953);function o(n){N.call(this,"mont",n),this.a=new R(n.a,16).toRed(this.red),this.b=new R(n.b,16).toRed(this.red),this.i4=new R(4).toRed(this.red).redInvm(),this.two=new R(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}O(o,N),b.exports=o,o.prototype.validate=function(c){var v=c.normalize().x,f=v.redSqr(),l=f.redMul(v).redAdd(f.redMul(this.a)).redAdd(v),E=l.redSqrt();return E.redSqr().cmp(l)===0};function u(n,c,v){N.BasePoint.call(this,n,"projective"),c===null&&v===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new R(c,16),this.z=new R(v,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}O(u,N.BasePoint),o.prototype.decodePoint=function(c,v){return this.point(k.toArray(c,v),1)},o.prototype.point=function(c,v){return new u(this,c,v)},o.prototype.pointFromJSON=function(c){return u.fromJSON(this,c)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(c,v){return new u(c,v[0],v[1]||c.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.z.cmpn(0)===0},u.prototype.dbl=function(){var c=this.x.redAdd(this.z),v=c.redSqr(),f=this.x.redSub(this.z),l=f.redSqr(),E=v.redSub(l),d=v.redMul(l),p=E.redMul(l.redAdd(this.curve.a24.redMul(E)));return this.curve.point(d,p)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(c,v){var f=this.x.redAdd(this.z),l=this.x.redSub(this.z),E=c.x.redAdd(c.z),d=c.x.redSub(c.z),p=d.redMul(f),g=E.redMul(l),S=v.z.redMul(p.redAdd(g).redSqr()),A=v.x.redMul(p.redISub(g).redSqr());return this.curve.point(S,A)},u.prototype.mul=function(c){for(var v=c.clone(),f=this,l=this.curve.point(null,null),E=this,d=[];v.cmpn(0)!==0;v.iushrn(1))d.push(v.andln(1));for(var p=d.length-1;p>=0;p--)d[p]===0?(f=f.diffAdd(l,E),l=l.dbl()):(l=f.diffAdd(l,E),f=f.dbl());return l},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(c){return this.getX().cmp(c.getX())===0},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},6673:(b,z,y)=>{"use strict";var R=y(953),O=y(3550),N=y(5717),k=y(4918),o=R.assert;function u(v){k.call(this,"short",v),this.a=new O(v.a,16).toRed(this.red),this.b=new O(v.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(v),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}N(u,k),b.exports=u,u.prototype._getEndomorphism=function(f){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var l,E;if(f.beta)l=new O(f.beta,16).toRed(this.red);else{var d=this._getEndoRoots(this.p);l=d[0].cmp(d[1])<0?d[0]:d[1],l=l.toRed(this.red)}if(f.lambda)E=new O(f.lambda,16);else{var p=this._getEndoRoots(this.n);this.g.mul(p[0]).x.cmp(this.g.x.redMul(l))===0?E=p[0]:(E=p[1],o(this.g.mul(E).x.cmp(this.g.x.redMul(l))===0))}var g;return f.basis?g=f.basis.map(function(S){return{a:new O(S.a,16),b:new O(S.b,16)}}):g=this._getEndoBasis(E),{beta:l,lambda:E,basis:g}}},u.prototype._getEndoRoots=function(f){var l=f===this.p?this.red:O.mont(f),E=new O(2).toRed(l).redInvm(),d=E.redNeg(),p=new O(3).toRed(l).redNeg().redSqrt().redMul(E),g=d.redAdd(p).fromRed(),S=d.redSub(p).fromRed();return[g,S]},u.prototype._getEndoBasis=function(f){for(var l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),E=f,d=this.n.clone(),p=new O(1),g=new O(0),S=new O(0),A=new O(1),_,F,H,K,J,te,ie,ne=0,ue,Q;E.cmpn(0)!==0;){var C=d.div(E);ue=d.sub(C.mul(E)),Q=S.sub(C.mul(p));var U=A.sub(C.mul(g));if(!H&&ue.cmp(l)<0)_=ie.neg(),F=p,H=ue.neg(),K=Q;else if(H&&++ne==2)break;ie=ue,d=E,E=ue,S=p,p=Q,A=g,g=U}J=ue.neg(),te=Q;var M=H.sqr().add(K.sqr()),s=J.sqr().add(te.sqr());return s.cmp(M)>=0&&(J=_,te=F),H.negative&&(H=H.neg(),K=K.neg()),J.negative&&(J=J.neg(),te=te.neg()),[{a:H,b:K},{a:J,b:te}]},u.prototype._endoSplit=function(f){var l=this.endo.basis,E=l[0],d=l[1],p=d.b.mul(f).divRound(this.n),g=E.b.neg().mul(f).divRound(this.n),S=p.mul(E.a),A=g.mul(d.a),_=p.mul(E.b),F=g.mul(d.b),H=f.sub(S).sub(A),K=_.add(F).neg();return{k1:H,k2:K}},u.prototype.pointFromX=function(f,l){f=new O(f,16),f.red||(f=f.toRed(this.red));var E=f.redSqr().redMul(f).redIAdd(f.redMul(this.a)).redIAdd(this.b),d=E.redSqrt();if(d.redSqr().redSub(E).cmp(this.zero)!==0)throw new Error("invalid point");var p=d.fromRed().isOdd();return(l&&!p||!l&&p)&&(d=d.redNeg()),this.point(f,d)},u.prototype.validate=function(f){if(f.inf)return!0;var l=f.x,E=f.y,d=this.a.redMul(l),p=l.redSqr().redMul(l).redIAdd(d).redIAdd(this.b);return E.redSqr().redISub(p).cmpn(0)===0},u.prototype._endoWnafMulAdd=function(f,l,E){for(var d=this._endoWnafT1,p=this._endoWnafT2,g=0;g<f.length;g++){var S=this._endoSplit(l[g]),A=f[g],_=A._getBeta();S.k1.negative&&(S.k1.ineg(),A=A.neg(!0)),S.k2.negative&&(S.k2.ineg(),_=_.neg(!0)),d[g*2]=A,d[g*2+1]=_,p[g*2]=S.k1,p[g*2+1]=S.k2}for(var F=this._wnafMulAdd(1,d,p,g*2,E),H=0;H<g*2;H++)d[H]=null,p[H]=null;return F};function n(v,f,l,E){k.BasePoint.call(this,v,"affine"),f===null&&l===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new O(f,16),this.y=new O(l,16),E&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}N(n,k.BasePoint),u.prototype.point=function(f,l,E){return new n(this,f,l,E)},u.prototype.pointFromJSON=function(f,l){return n.fromJSON(this,f,l)},n.prototype._getBeta=function(){if(!!this.curve.endo){var f=this.precomputed;if(f&&f.beta)return f.beta;var l=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(f){var E=this.curve,d=function(p){return E.point(p.x.redMul(E.endo.beta),p.y)};f.beta=l,l.precomputed={beta:null,naf:f.naf&&{wnd:f.naf.wnd,points:f.naf.points.map(d)},doubles:f.doubles&&{step:f.doubles.step,points:f.doubles.points.map(d)}}}return l}},n.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},n.fromJSON=function(f,l,E){typeof l=="string"&&(l=JSON.parse(l));var d=f.point(l[0],l[1],E);if(!l[2])return d;function p(S){return f.point(S[0],S[1],E)}var g=l[2];return d.precomputed={beta:null,doubles:g.doubles&&{step:g.doubles.step,points:[d].concat(g.doubles.points.map(p))},naf:g.naf&&{wnd:g.naf.wnd,points:[d].concat(g.naf.points.map(p))}},d},n.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},n.prototype.isInfinity=function(){return this.inf},n.prototype.add=function(f){if(this.inf)return f;if(f.inf)return this;if(this.eq(f))return this.dbl();if(this.neg().eq(f))return this.curve.point(null,null);if(this.x.cmp(f.x)===0)return this.curve.point(null,null);var l=this.y.redSub(f.y);l.cmpn(0)!==0&&(l=l.redMul(this.x.redSub(f.x).redInvm()));var E=l.redSqr().redISub(this.x).redISub(f.x),d=l.redMul(this.x.redSub(E)).redISub(this.y);return this.curve.point(E,d)},n.prototype.dbl=function(){if(this.inf)return this;var f=this.y.redAdd(this.y);if(f.cmpn(0)===0)return this.curve.point(null,null);var l=this.curve.a,E=this.x.redSqr(),d=f.redInvm(),p=E.redAdd(E).redIAdd(E).redIAdd(l).redMul(d),g=p.redSqr().redISub(this.x.redAdd(this.x)),S=p.redMul(this.x.redSub(g)).redISub(this.y);return this.curve.point(g,S)},n.prototype.getX=function(){return this.x.fromRed()},n.prototype.getY=function(){return this.y.fromRed()},n.prototype.mul=function(f){return f=new O(f,16),this.isInfinity()?this:this._hasDoubles(f)?this.curve._fixedNafMul(this,f):this.curve.endo?this.curve._endoWnafMulAdd([this],[f]):this.curve._wnafMul(this,f)},n.prototype.mulAdd=function(f,l,E){var d=[this,l],p=[f,E];return this.curve.endo?this.curve._endoWnafMulAdd(d,p):this.curve._wnafMulAdd(1,d,p,2)},n.prototype.jmulAdd=function(f,l,E){var d=[this,l],p=[f,E];return this.curve.endo?this.curve._endoWnafMulAdd(d,p,!0):this.curve._wnafMulAdd(1,d,p,2,!0)},n.prototype.eq=function(f){return this===f||this.inf===f.inf&&(this.inf||this.x.cmp(f.x)===0&&this.y.cmp(f.y)===0)},n.prototype.neg=function(f){if(this.inf)return this;var l=this.curve.point(this.x,this.y.redNeg());if(f&&this.precomputed){var E=this.precomputed,d=function(p){return p.neg()};l.precomputed={naf:E.naf&&{wnd:E.naf.wnd,points:E.naf.points.map(d)},doubles:E.doubles&&{step:E.doubles.step,points:E.doubles.points.map(d)}}}return l},n.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var f=this.curve.jpoint(this.x,this.y,this.curve.one);return f};function c(v,f,l,E){k.BasePoint.call(this,v,"jacobian"),f===null&&l===null&&E===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new O(0)):(this.x=new O(f,16),this.y=new O(l,16),this.z=new O(E,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}N(c,k.BasePoint),u.prototype.jpoint=function(f,l,E){return new c(this,f,l,E)},c.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var f=this.z.redInvm(),l=f.redSqr(),E=this.x.redMul(l),d=this.y.redMul(l).redMul(f);return this.curve.point(E,d)},c.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},c.prototype.add=function(f){if(this.isInfinity())return f;if(f.isInfinity())return this;var l=f.z.redSqr(),E=this.z.redSqr(),d=this.x.redMul(l),p=f.x.redMul(E),g=this.y.redMul(l.redMul(f.z)),S=f.y.redMul(E.redMul(this.z)),A=d.redSub(p),_=g.redSub(S);if(A.cmpn(0)===0)return _.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var F=A.redSqr(),H=F.redMul(A),K=d.redMul(F),J=_.redSqr().redIAdd(H).redISub(K).redISub(K),te=_.redMul(K.redISub(J)).redISub(g.redMul(H)),ie=this.z.redMul(f.z).redMul(A);return this.curve.jpoint(J,te,ie)},c.prototype.mixedAdd=function(f){if(this.isInfinity())return f.toJ();if(f.isInfinity())return this;var l=this.z.redSqr(),E=this.x,d=f.x.redMul(l),p=this.y,g=f.y.redMul(l).redMul(this.z),S=E.redSub(d),A=p.redSub(g);if(S.cmpn(0)===0)return A.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var _=S.redSqr(),F=_.redMul(S),H=E.redMul(_),K=A.redSqr().redIAdd(F).redISub(H).redISub(H),J=A.redMul(H.redISub(K)).redISub(p.redMul(F)),te=this.z.redMul(S);return this.curve.jpoint(K,J,te)},c.prototype.dblp=function(f){if(f===0)return this;if(this.isInfinity())return this;if(!f)return this.dbl();var l;if(this.curve.zeroA||this.curve.threeA){var E=this;for(l=0;l<f;l++)E=E.dbl();return E}var d=this.curve.a,p=this.curve.tinv,g=this.x,S=this.y,A=this.z,_=A.redSqr().redSqr(),F=S.redAdd(S);for(l=0;l<f;l++){var H=g.redSqr(),K=F.redSqr(),J=K.redSqr(),te=H.redAdd(H).redIAdd(H).redIAdd(d.redMul(_)),ie=g.redMul(K),ne=te.redSqr().redISub(ie.redAdd(ie)),ue=ie.redISub(ne),Q=te.redMul(ue);Q=Q.redIAdd(Q).redISub(J);var C=F.redMul(A);l+1<f&&(_=_.redMul(J)),g=ne,A=C,F=Q}return this.curve.jpoint(g,F.redMul(p),A)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},c.prototype._zeroDbl=function(){var f,l,E;if(this.zOne){var d=this.x.redSqr(),p=this.y.redSqr(),g=p.redSqr(),S=this.x.redAdd(p).redSqr().redISub(d).redISub(g);S=S.redIAdd(S);var A=d.redAdd(d).redIAdd(d),_=A.redSqr().redISub(S).redISub(S),F=g.redIAdd(g);F=F.redIAdd(F),F=F.redIAdd(F),f=_,l=A.redMul(S.redISub(_)).redISub(F),E=this.y.redAdd(this.y)}else{var H=this.x.redSqr(),K=this.y.redSqr(),J=K.redSqr(),te=this.x.redAdd(K).redSqr().redISub(H).redISub(J);te=te.redIAdd(te);var ie=H.redAdd(H).redIAdd(H),ne=ie.redSqr(),ue=J.redIAdd(J);ue=ue.redIAdd(ue),ue=ue.redIAdd(ue),f=ne.redISub(te).redISub(te),l=ie.redMul(te.redISub(f)).redISub(ue),E=this.y.redMul(this.z),E=E.redIAdd(E)}return this.curve.jpoint(f,l,E)},c.prototype._threeDbl=function(){var f,l,E;if(this.zOne){var d=this.x.redSqr(),p=this.y.redSqr(),g=p.redSqr(),S=this.x.redAdd(p).redSqr().redISub(d).redISub(g);S=S.redIAdd(S);var A=d.redAdd(d).redIAdd(d).redIAdd(this.curve.a),_=A.redSqr().redISub(S).redISub(S);f=_;var F=g.redIAdd(g);F=F.redIAdd(F),F=F.redIAdd(F),l=A.redMul(S.redISub(_)).redISub(F),E=this.y.redAdd(this.y)}else{var H=this.z.redSqr(),K=this.y.redSqr(),J=this.x.redMul(K),te=this.x.redSub(H).redMul(this.x.redAdd(H));te=te.redAdd(te).redIAdd(te);var ie=J.redIAdd(J);ie=ie.redIAdd(ie);var ne=ie.redAdd(ie);f=te.redSqr().redISub(ne),E=this.y.redAdd(this.z).redSqr().redISub(K).redISub(H);var ue=K.redSqr();ue=ue.redIAdd(ue),ue=ue.redIAdd(ue),ue=ue.redIAdd(ue),l=te.redMul(ie.redISub(f)).redISub(ue)}return this.curve.jpoint(f,l,E)},c.prototype._dbl=function(){var f=this.curve.a,l=this.x,E=this.y,d=this.z,p=d.redSqr().redSqr(),g=l.redSqr(),S=E.redSqr(),A=g.redAdd(g).redIAdd(g).redIAdd(f.redMul(p)),_=l.redAdd(l);_=_.redIAdd(_);var F=_.redMul(S),H=A.redSqr().redISub(F.redAdd(F)),K=F.redISub(H),J=S.redSqr();J=J.redIAdd(J),J=J.redIAdd(J),J=J.redIAdd(J);var te=A.redMul(K).redISub(J),ie=E.redAdd(E).redMul(d);return this.curve.jpoint(H,te,ie)},c.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var f=this.x.redSqr(),l=this.y.redSqr(),E=this.z.redSqr(),d=l.redSqr(),p=f.redAdd(f).redIAdd(f),g=p.redSqr(),S=this.x.redAdd(l).redSqr().redISub(f).redISub(d);S=S.redIAdd(S),S=S.redAdd(S).redIAdd(S),S=S.redISub(g);var A=S.redSqr(),_=d.redIAdd(d);_=_.redIAdd(_),_=_.redIAdd(_),_=_.redIAdd(_);var F=p.redIAdd(S).redSqr().redISub(g).redISub(A).redISub(_),H=l.redMul(F);H=H.redIAdd(H),H=H.redIAdd(H);var K=this.x.redMul(A).redISub(H);K=K.redIAdd(K),K=K.redIAdd(K);var J=this.y.redMul(F.redMul(_.redISub(F)).redISub(S.redMul(A)));J=J.redIAdd(J),J=J.redIAdd(J),J=J.redIAdd(J);var te=this.z.redAdd(S).redSqr().redISub(E).redISub(A);return this.curve.jpoint(K,J,te)},c.prototype.mul=function(f,l){return f=new O(f,l),this.curve._wnafMul(this,f)},c.prototype.eq=function(f){if(f.type==="affine")return this.eq(f.toJ());if(this===f)return!0;var l=this.z.redSqr(),E=f.z.redSqr();if(this.x.redMul(E).redISub(f.x.redMul(l)).cmpn(0)!==0)return!1;var d=l.redMul(this.z),p=E.redMul(f.z);return this.y.redMul(p).redISub(f.y.redMul(d)).cmpn(0)===0},c.prototype.eqXToP=function(f){var l=this.z.redSqr(),E=f.toRed(this.curve.red).redMul(l);if(this.x.cmp(E)===0)return!0;for(var d=f.clone(),p=this.curve.redN.redMul(l);;){if(d.iadd(this.curve.n),d.cmp(this.curve.p)>=0)return!1;if(E.redIAdd(p),this.x.cmp(E)===0)return!0}},c.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},c.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},5427:(b,z,y)=>{"use strict";var R=z,O=y(3715),N=y(8254),k=y(953),o=k.assert;function u(v){v.type==="short"?this.curve=new N.short(v):v.type==="edwards"?this.curve=new N.edwards(v):this.curve=new N.mont(v),this.g=this.curve.g,this.n=this.curve.n,this.hash=v.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}R.PresetCurve=u;function n(v,f){Object.defineProperty(R,v,{configurable:!0,enumerable:!0,get:function(){var l=new u(f);return Object.defineProperty(R,v,{configurable:!0,enumerable:!0,value:l}),l}})}n("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:O.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),n("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:O.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),n("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:O.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),n("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:O.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),n("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:O.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),n("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:O.sha256,gRed:!1,g:["9"]}),n("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:O.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c;try{c=y(1037)}catch(v){c=void 0}n("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:O.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})},7954:(b,z,y)=>{"use strict";var R=y(3550),O=y(2156),N=y(953),k=y(5427),o=y(9931),u=N.assert,n=y(1251),c=y(611);function v(f){if(!(this instanceof v))return new v(f);typeof f=="string"&&(u(Object.prototype.hasOwnProperty.call(k,f),"Unknown curve "+f),f=k[f]),f instanceof k.PresetCurve&&(f={curve:f}),this.curve=f.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=f.curve.g,this.g.precompute(f.curve.n.bitLength()+1),this.hash=f.hash||f.curve.hash}b.exports=v,v.prototype.keyPair=function(l){return new n(this,l)},v.prototype.keyFromPrivate=function(l,E){return n.fromPrivate(this,l,E)},v.prototype.keyFromPublic=function(l,E){return n.fromPublic(this,l,E)},v.prototype.genKeyPair=function(l){l||(l={});for(var E=new O({hash:this.hash,pers:l.pers,persEnc:l.persEnc||"utf8",entropy:l.entropy||o(this.hash.hmacStrength),entropyEnc:l.entropy&&l.entropyEnc||"utf8",nonce:this.n.toArray()}),d=this.n.byteLength(),p=this.n.sub(new R(2));;){var g=new R(E.generate(d));if(!(g.cmp(p)>0))return g.iaddn(1),this.keyFromPrivate(g)}},v.prototype._truncateToN=function(l,E){var d=l.byteLength()*8-this.n.bitLength();return d>0&&(l=l.ushrn(d)),!E&&l.cmp(this.n)>=0?l.sub(this.n):l},v.prototype.sign=function(l,E,d,p){typeof d=="object"&&(p=d,d=null),p||(p={}),E=this.keyFromPrivate(E,d),l=this._truncateToN(new R(l,16));for(var g=this.n.byteLength(),S=E.getPrivate().toArray("be",g),A=l.toArray("be",g),_=new O({hash:this.hash,entropy:S,nonce:A,pers:p.pers,persEnc:p.persEnc||"utf8"}),F=this.n.sub(new R(1)),H=0;;H++){var K=p.k?p.k(H):new R(_.generate(this.n.byteLength()));if(K=this._truncateToN(K,!0),!(K.cmpn(1)<=0||K.cmp(F)>=0)){var J=this.g.mul(K);if(!J.isInfinity()){var te=J.getX(),ie=te.umod(this.n);if(ie.cmpn(0)!==0){var ne=K.invm(this.n).mul(ie.mul(E.getPrivate()).iadd(l));if(ne=ne.umod(this.n),ne.cmpn(0)!==0){var ue=(J.getY().isOdd()?1:0)|(te.cmp(ie)!==0?2:0);return p.canonical&&ne.cmp(this.nh)>0&&(ne=this.n.sub(ne),ue^=1),new c({r:ie,s:ne,recoveryParam:ue})}}}}}},v.prototype.verify=function(l,E,d,p){l=this._truncateToN(new R(l,16)),d=this.keyFromPublic(d,p),E=new c(E,"hex");var g=E.r,S=E.s;if(g.cmpn(1)<0||g.cmp(this.n)>=0||S.cmpn(1)<0||S.cmp(this.n)>=0)return!1;var A=S.invm(this.n),_=A.mul(l).umod(this.n),F=A.mul(g).umod(this.n),H;return this.curve._maxwellTrick?(H=this.g.jmulAdd(_,d.getPublic(),F),H.isInfinity()?!1:H.eqXToP(g)):(H=this.g.mulAdd(_,d.getPublic(),F),H.isInfinity()?!1:H.getX().umod(this.n).cmp(g)===0)},v.prototype.recoverPubKey=function(f,l,E,d){u((3&E)===E,"The recovery param is more than two bits"),l=new c(l,d);var p=this.n,g=new R(f),S=l.r,A=l.s,_=E&1,F=E>>1;if(S.cmp(this.curve.p.umod(this.curve.n))>=0&&F)throw new Error("Unable to find sencond key candinate");F?S=this.curve.pointFromX(S.add(this.curve.n),_):S=this.curve.pointFromX(S,_);var H=l.r.invm(p),K=p.sub(g).mul(H).umod(p),J=A.mul(H).umod(p);return this.g.mulAdd(K,S,J)},v.prototype.getKeyRecoveryParam=function(f,l,E,d){if(l=new c(l,d),l.recoveryParam!==null)return l.recoveryParam;for(var p=0;p<4;p++){var g;try{g=this.recoverPubKey(f,l,p)}catch(S){continue}if(g.eq(E))return p}throw new Error("Unable to find valid recovery factor")}},1251:(b,z,y)=>{"use strict";var R=y(3550),O=y(953),N=O.assert;function k(o,u){this.ec=o,this.priv=null,this.pub=null,u.priv&&this._importPrivate(u.priv,u.privEnc),u.pub&&this._importPublic(u.pub,u.pubEnc)}b.exports=k,k.fromPublic=function(u,n,c){return n instanceof k?n:new k(u,{pub:n,pubEnc:c})},k.fromPrivate=function(u,n,c){return n instanceof k?n:new k(u,{priv:n,privEnc:c})},k.prototype.validate=function(){var u=this.getPublic();return u.isInfinity()?{result:!1,reason:"Invalid public key"}:u.validate()?u.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},k.prototype.getPublic=function(u,n){return typeof u=="string"&&(n=u,u=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),n?this.pub.encode(n,u):this.pub},k.prototype.getPrivate=function(u){return u==="hex"?this.priv.toString(16,2):this.priv},k.prototype._importPrivate=function(u,n){this.priv=new R(u,n||16),this.priv=this.priv.umod(this.ec.curve.n)},k.prototype._importPublic=function(u,n){if(u.x||u.y){this.ec.curve.type==="mont"?N(u.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&N(u.x&&u.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(u.x,u.y);return}this.pub=this.ec.curve.decodePoint(u,n)},k.prototype.derive=function(u){return u.validate()||N(u.validate(),"public point not validated"),u.mul(this.priv).getX()},k.prototype.sign=function(u,n,c){return this.ec.sign(u,this,n,c)},k.prototype.verify=function(u,n){return this.ec.verify(u,n,this)},k.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},611:(b,z,y)=>{"use strict";var R=y(3550),O=y(953),N=O.assert;function k(v,f){if(v instanceof k)return v;this._importDER(v,f)||(N(v.r&&v.s,"Signature without r or s"),this.r=new R(v.r,16),this.s=new R(v.s,16),v.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=v.recoveryParam)}b.exports=k;function o(){this.place=0}function u(v,f){var l=v[f.place++];if(!(l&128))return l;var E=l&15;if(E===0||E>4)return!1;for(var d=0,p=0,g=f.place;p<E;p++,g++)d<<=8,d|=v[g],d>>>=0;return d<=127?!1:(f.place=g,d)}function n(v){for(var f=0,l=v.length-1;!v[f]&&!(v[f+1]&128)&&f<l;)f++;return f===0?v:v.slice(f)}k.prototype._importDER=function(f,l){f=O.toArray(f,l);var E=new o;if(f[E.place++]!==48)return!1;var d=u(f,E);if(d===!1||d+E.place!==f.length||f[E.place++]!==2)return!1;var p=u(f,E);if(p===!1)return!1;var g=f.slice(E.place,p+E.place);if(E.place+=p,f[E.place++]!==2)return!1;var S=u(f,E);if(S===!1||f.length!==S+E.place)return!1;var A=f.slice(E.place,S+E.place);if(g[0]===0)if(g[1]&128)g=g.slice(1);else return!1;if(A[0]===0)if(A[1]&128)A=A.slice(1);else return!1;return this.r=new R(g),this.s=new R(A),this.recoveryParam=null,!0};function c(v,f){if(f<128){v.push(f);return}var l=1+(Math.log(f)/Math.LN2>>>3);for(v.push(l|128);--l;)v.push(f>>>(l<<3)&255);v.push(f)}k.prototype.toDER=function(f){var l=this.r.toArray(),E=this.s.toArray();for(l[0]&128&&(l=[0].concat(l)),E[0]&128&&(E=[0].concat(E)),l=n(l),E=n(E);!E[0]&&!(E[1]&128);)E=E.slice(1);var d=[2];c(d,l.length),d=d.concat(l),d.push(2),c(d,E.length);var p=d.concat(E),g=[48];return c(g,p.length),g=g.concat(p),O.encode(g,f)}},5980:(b,z,y)=>{"use strict";var R=y(3715),O=y(5427),N=y(953),k=N.assert,o=N.parseBytes,u=y(9087),n=y(3622);function c(v){if(k(v==="ed25519","only tested with ed25519 so far"),!(this instanceof c))return new c(v);v=O[v].curve,this.curve=v,this.g=v.g,this.g.precompute(v.n.bitLength()+1),this.pointClass=v.point().constructor,this.encodingLength=Math.ceil(v.n.bitLength()/8),this.hash=R.sha512}b.exports=c,c.prototype.sign=function(f,l){f=o(f);var E=this.keyFromSecret(l),d=this.hashInt(E.messagePrefix(),f),p=this.g.mul(d),g=this.encodePoint(p),S=this.hashInt(g,E.pubBytes(),f).mul(E.priv()),A=d.add(S).umod(this.curve.n);return this.makeSignature({R:p,S:A,Rencoded:g})},c.prototype.verify=function(f,l,E){f=o(f),l=this.makeSignature(l);var d=this.keyFromPublic(E),p=this.hashInt(l.Rencoded(),d.pubBytes(),f),g=this.g.mul(l.S()),S=l.R().add(d.pub().mul(p));return S.eq(g)},c.prototype.hashInt=function(){for(var f=this.hash(),l=0;l<arguments.length;l++)f.update(arguments[l]);return N.intFromLE(f.digest()).umod(this.curve.n)},c.prototype.keyFromPublic=function(f){return u.fromPublic(this,f)},c.prototype.keyFromSecret=function(f){return u.fromSecret(this,f)},c.prototype.makeSignature=function(f){return f instanceof n?f:new n(this,f)},c.prototype.encodePoint=function(f){var l=f.getY().toArray("le",this.encodingLength);return l[this.encodingLength-1]|=f.getX().isOdd()?128:0,l},c.prototype.decodePoint=function(f){f=N.parseBytes(f);var l=f.length-1,E=f.slice(0,l).concat(f[l]&~128),d=(f[l]&128)!=0,p=N.intFromLE(E);return this.curve.pointFromY(p,d)},c.prototype.encodeInt=function(f){return f.toArray("le",this.encodingLength)},c.prototype.decodeInt=function(f){return N.intFromLE(f)},c.prototype.isPoint=function(f){return f instanceof this.pointClass}},9087:(b,z,y)=>{"use strict";var R=y(953),O=R.assert,N=R.parseBytes,k=R.cachedProperty;function o(u,n){this.eddsa=u,this._secret=N(n.secret),u.isPoint(n.pub)?this._pub=n.pub:this._pubBytes=N(n.pub)}o.fromPublic=function(n,c){return c instanceof o?c:new o(n,{pub:c})},o.fromSecret=function(n,c){return c instanceof o?c:new o(n,{secret:c})},o.prototype.secret=function(){return this._secret},k(o,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),k(o,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),k(o,"privBytes",function(){var n=this.eddsa,c=this.hash(),v=n.encodingLength-1,f=c.slice(0,n.encodingLength);return f[0]&=248,f[v]&=127,f[v]|=64,f}),k(o,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),k(o,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),k(o,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),o.prototype.sign=function(n){return O(this._secret,"KeyPair can only verify"),this.eddsa.sign(n,this)},o.prototype.verify=function(n,c){return this.eddsa.verify(n,c,this)},o.prototype.getSecret=function(n){return O(this._secret,"KeyPair is public only"),R.encode(this.secret(),n)},o.prototype.getPublic=function(n){return R.encode(this.pubBytes(),n)},b.exports=o},3622:(b,z,y)=>{"use strict";var R=y(3550),O=y(953),N=O.assert,k=O.cachedProperty,o=O.parseBytes;function u(n,c){this.eddsa=n,typeof c!="object"&&(c=o(c)),Array.isArray(c)&&(c={R:c.slice(0,n.encodingLength),S:c.slice(n.encodingLength)}),N(c.R&&c.S,"Signature without R or S"),n.isPoint(c.R)&&(this._R=c.R),c.S instanceof R&&(this._S=c.S),this._Rencoded=Array.isArray(c.R)?c.R:c.Rencoded,this._Sencoded=Array.isArray(c.S)?c.S:c.Sencoded}k(u,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),k(u,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),k(u,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),k(u,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return O.encode(this.toBytes(),"hex").toUpperCase()},b.exports=u},1037:b=>{b.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},953:(b,z,y)=>{"use strict";var R=z,O=y(3550),N=y(9746),k=y(4504);R.assert=N,R.toArray=k.toArray,R.zero2=k.zero2,R.toHex=k.toHex,R.encode=k.encode;function o(f,l,E){var d=new Array(Math.max(f.bitLength(),E)+1);d.fill(0);for(var p=1<<l+1,g=f.clone(),S=0;S<d.length;S++){var A,_=g.andln(p-1);g.isOdd()?(_>(p>>1)-1?A=(p>>1)-_:A=_,g.isubn(A)):A=0,d[S]=A,g.iushrn(1)}return d}R.getNAF=o;function u(f,l){var E=[[],[]];f=f.clone(),l=l.clone();for(var d=0,p=0,g;f.cmpn(-d)>0||l.cmpn(-p)>0;){var S=f.andln(3)+d&3,A=l.andln(3)+p&3;S===3&&(S=-1),A===3&&(A=-1);var _;(S&1)==0?_=0:(g=f.andln(7)+d&7,(g===3||g===5)&&A===2?_=-S:_=S),E[0].push(_);var F;(A&1)==0?F=0:(g=l.andln(7)+p&7,(g===3||g===5)&&S===2?F=-A:F=A),E[1].push(F),2*d===_+1&&(d=1-d),2*p===F+1&&(p=1-p),f.iushrn(1),l.iushrn(1)}return E}R.getJSF=u;function n(f,l,E){var d="_"+l;f.prototype[l]=function(){return this[d]!==void 0?this[d]:this[d]=E.call(this)}}R.cachedProperty=n;function c(f){return typeof f=="string"?R.toArray(f,"hex"):f}R.parseBytes=c;function v(f){return new O(f,"hex","le")}R.intFromLE=v},7519:b=>{"use strict";b.exports={i8:"6.5.4"}},7187:b=>{"use strict";var z=typeof Reflect=="object"?Reflect:null,y=z&&typeof z.apply=="function"?z.apply:function(_,F,H){return Function.prototype.apply.call(_,F,H)},R;z&&typeof z.ownKeys=="function"?R=z.ownKeys:Object.getOwnPropertySymbols?R=function(_){return Object.getOwnPropertyNames(_).concat(Object.getOwnPropertySymbols(_))}:R=function(_){return Object.getOwnPropertyNames(_)};function O(A){console&&console.warn&&console.warn(A)}var N=Number.isNaN||function(_){return _!==_};function k(){k.init.call(this)}b.exports=k,b.exports.once=S,k.EventEmitter=k,k.prototype._events=void 0,k.prototype._eventsCount=0,k.prototype._maxListeners=void 0;var o=10;function u(A){if(typeof A!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof A)}Object.defineProperty(k,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(A){if(typeof A!="number"||A<0||N(A))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+A+".");o=A}}),k.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},k.prototype.setMaxListeners=function(_){if(typeof _!="number"||_<0||N(_))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+_+".");return this._maxListeners=_,this};function n(A){return A._maxListeners===void 0?k.defaultMaxListeners:A._maxListeners}k.prototype.getMaxListeners=function(){return n(this)},k.prototype.emit=function(_){for(var F=[],H=1;H<arguments.length;H++)F.push(arguments[H]);var K=_==="error",J=this._events;if(J!==void 0)K=K&&J.error===void 0;else if(!K)return!1;if(K){var te;if(F.length>0&&(te=F[0]),te instanceof Error)throw te;var ie=new Error("Unhandled error."+(te?" ("+te.message+")":""));throw ie.context=te,ie}var ne=J[_];if(ne===void 0)return!1;if(typeof ne=="function")y(ne,this,F);else for(var ue=ne.length,Q=d(ne,ue),H=0;H<ue;++H)y(Q[H],this,F);return!0};function c(A,_,F,H){var K,J,te;if(u(F),J=A._events,J===void 0?(J=A._events=Object.create(null),A._eventsCount=0):(J.newListener!==void 0&&(A.emit("newListener",_,F.listener?F.listener:F),J=A._events),te=J[_]),te===void 0)te=J[_]=F,++A._eventsCount;else if(typeof te=="function"?te=J[_]=H?[F,te]:[te,F]:H?te.unshift(F):te.push(F),K=n(A),K>0&&te.length>K&&!te.warned){te.warned=!0;var ie=new Error("Possible EventEmitter memory leak detected. "+te.length+" "+String(_)+" listeners added. Use emitter.setMaxListeners() to increase limit");ie.name="MaxListenersExceededWarning",ie.emitter=A,ie.type=_,ie.count=te.length,O(ie)}return A}k.prototype.addListener=function(_,F){return c(this,_,F,!1)},k.prototype.on=k.prototype.addListener,k.prototype.prependListener=function(_,F){return c(this,_,F,!0)};function v(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(A,_,F){var H={fired:!1,wrapFn:void 0,target:A,type:_,listener:F},K=v.bind(H);return K.listener=F,H.wrapFn=K,K}k.prototype.once=function(_,F){return u(F),this.on(_,f(this,_,F)),this},k.prototype.prependOnceListener=function(_,F){return u(F),this.prependListener(_,f(this,_,F)),this},k.prototype.removeListener=function(_,F){var H,K,J,te,ie;if(u(F),K=this._events,K===void 0)return this;if(H=K[_],H===void 0)return this;if(H===F||H.listener===F)--this._eventsCount==0?this._events=Object.create(null):(delete K[_],K.removeListener&&this.emit("removeListener",_,H.listener||F));else if(typeof H!="function"){for(J=-1,te=H.length-1;te>=0;te--)if(H[te]===F||H[te].listener===F){ie=H[te].listener,J=te;break}if(J<0)return this;J===0?H.shift():p(H,J),H.length===1&&(K[_]=H[0]),K.removeListener!==void 0&&this.emit("removeListener",_,ie||F)}return this},k.prototype.off=k.prototype.removeListener,k.prototype.removeAllListeners=function(_){var F,H,K;if(H=this._events,H===void 0)return this;if(H.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):H[_]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete H[_]),this;if(arguments.length===0){var J=Object.keys(H),te;for(K=0;K<J.length;++K)te=J[K],te!=="removeListener"&&this.removeAllListeners(te);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(F=H[_],typeof F=="function")this.removeListener(_,F);else if(F!==void 0)for(K=F.length-1;K>=0;K--)this.removeListener(_,F[K]);return this};function l(A,_,F){var H=A._events;if(H===void 0)return[];var K=H[_];return K===void 0?[]:typeof K=="function"?F?[K.listener||K]:[K]:F?g(K):d(K,K.length)}k.prototype.listeners=function(_){return l(this,_,!0)},k.prototype.rawListeners=function(_){return l(this,_,!1)},k.listenerCount=function(A,_){return typeof A.listenerCount=="function"?A.listenerCount(_):E.call(A,_)},k.prototype.listenerCount=E;function E(A){var _=this._events;if(_!==void 0){var F=_[A];if(typeof F=="function")return 1;if(F!==void 0)return F.length}return 0}k.prototype.eventNames=function(){return this._eventsCount>0?R(this._events):[]};function d(A,_){for(var F=new Array(_),H=0;H<_;++H)F[H]=A[H];return F}function p(A,_){for(;_+1<A.length;_++)A[_]=A[_+1];A.pop()}function g(A){for(var _=new Array(A.length),F=0;F<_.length;++F)_[F]=A[F].listener||A[F];return _}function S(A,_){return new Promise(function(F,H){function K(){J!==void 0&&A.removeListener("error",J),F([].slice.call(arguments))}var J;_!=="error"&&(J=function(ie){A.removeListener(_,K),H(ie)},A.once("error",J)),A.once(_,K)})}},3048:(b,z,y)=>{var R=y(9509).Buffer,O=y(2318);function N(k,o,u,n){if(R.isBuffer(k)||(k=R.from(k,"binary")),o&&(R.isBuffer(o)||(o=R.from(o,"binary")),o.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var c=u/8,v=R.alloc(c),f=R.alloc(n||0),l=R.alloc(0);c>0||n>0;){var E=new O;E.update(l),E.update(k),o&&E.update(o),l=E.digest();var d=0;if(c>0){var p=v.length-c;d=Math.min(c,l.length),l.copy(v,p,0,d),c-=d}if(d<l.length&&n>0){var g=f.length-n,S=Math.min(n,l.length-d);l.copy(f,g,d,d+S),n-=S}}return l.fill(0),{key:v,iv:f}}b.exports=N},4063:b=>{"use strict";b.exports=function z(y,R){if(y===R)return!0;if(y&&R&&typeof y=="object"&&typeof R=="object"){if(y.constructor!==R.constructor)return!1;var O,N,k;if(Array.isArray(y)){if(O=y.length,O!=R.length)return!1;for(N=O;N--!=0;)if(!z(y[N],R[N]))return!1;return!0}if(y.constructor===RegExp)return y.source===R.source&&y.flags===R.flags;if(y.valueOf!==Object.prototype.valueOf)return y.valueOf()===R.valueOf();if(y.toString!==Object.prototype.toString)return y.toString()===R.toString();if(k=Object.keys(y),O=k.length,O!==Object.keys(R).length)return!1;for(N=O;N--!=0;)if(!Object.prototype.hasOwnProperty.call(R,k[N]))return!1;for(N=O;N--!=0;){var o=k[N];if(!z(y[o],R[o]))return!1}return!0}return y!==y&&R!==R}},5035:b=>{"use strict";b.exports=function(z,y){y||(y={}),typeof y=="function"&&(y={cmp:y});var R=typeof y.cycles=="boolean"?y.cycles:!1,O=y.cmp&&function(k){return function(o){return function(u,n){var c={key:u,value:o[u]},v={key:n,value:o[n]};return k(c,v)}}}(y.cmp),N=[];return function k(o){if(o&&o.toJSON&&typeof o.toJSON=="function"&&(o=o.toJSON()),o!==void 0){if(typeof o=="number")return isFinite(o)?""+o:"null";if(typeof o!="object")return JSON.stringify(o);var u,n;if(Array.isArray(o)){for(n="[",u=0;u<o.length;u++)u&&(n+=","),n+=k(o[u])||"null";return n+"]"}if(o===null)return"null";if(N.indexOf(o)!==-1){if(R)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var c=N.push(o)-1,v=Object.keys(o).sort(O&&O(o));for(n="",u=0;u<v.length;u++){var f=v[u],l=k(o[f]);!l||(n&&(n+=","),n+=JSON.stringify(f)+":"+l)}return N.splice(c,1),"{"+n+"}"}}(z)}},9967:b=>{var z={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Merged"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MergedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commitUrl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"HeadRefDeleted"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HeadRefDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRefName"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Ref"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Ref"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Comment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IssueComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanReact"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDelete"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Commit"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestCommit"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"committer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authoredDate"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"AssignedEvent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AssignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Review"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"submittedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Reactable"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Reactable"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactionGroups"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerHasReacted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"users"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ReviewThread"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewThread"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isResolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanResolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUnresolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffSide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOutdated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TimelineEvents"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"last"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"150"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"Variable",name:{kind:"Name",value:"last"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Merged"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Review"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Commit"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"AssignedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"HeadRefDeleted"},directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"remaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resetAt"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IssueTimelineEvents"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"last"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"150"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"pullRequest"},name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"Variable",name:{kind:"Name",value:"last"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"AssignedEvent"},directives:[]}]}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ReviewComment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalPosition"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffHunk"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"replyTo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalCommit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reactionGroups"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerHasReacted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"users"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDelete"},arguments:[],directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetPendingReviewId"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pullRequestId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"author"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"pullRequestId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}},{kind:"Argument",name:{kind:"Name",value:"author"},value:{kind:"Variable",name:{kind:"Name",value:"author"}}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"PENDING"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"remaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resetAt"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"100"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewThreads"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isResolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanResolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUnresolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffSide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOutdated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"headRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"merged"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDraft"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"suggestedReviewers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuthor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isCommenter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"remaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resetAt"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestFiles"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"files"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerViewedState"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"pullRequest"},name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IssueWithComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"pullRequest"},name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"bio"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"company"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"location"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contributionsCollection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commitContributionsByRepository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"maxRepositories"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contributions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"occurredAt"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nameWithOwner"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestMergeability"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"remaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resetAt"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestState"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReviewComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EditComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdatePullRequestReviewCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatePullRequestReviewComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReviewComment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ReadyForReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MarkPullRequestReadyForReviewInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"markPullRequestReadyForReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isDraft"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"StartReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SubmitReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"event"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewEvent"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"body"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"submitPullRequestReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"event"},value:{kind:"Variable",name:{kind:"Name",value:"event"}}},{kind:"ObjectField",name:{kind:"Name",value:"pullRequestReviewId"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"ObjectField",name:{kind:"Name",value:"body"},value:{kind:"Variable",name:{kind:"Name",value:"body"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Review"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeletePullRequestReviewInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletePullRequestReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddReaction"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddReactionInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addReaction"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reaction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subject"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteReaction"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RemoveReactionInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removeReaction"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reaction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subject"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdatePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdatePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddIssueComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commentEdge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EditIssueComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateIssueCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateIssueComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueComment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMentionableUsers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mentionableUsers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"remaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resetAt"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetAssignableUsers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assignableUsers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"remaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resetAt"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IssuesWithoutMilestone"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"assignee"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issues"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"EnumValue",value:"OPEN"}},{kind:"Argument",name:{kind:"Name",value:"filterBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"assignee"},value:{kind:"Variable",name:{kind:"Name",value:"assignee"}}},{kind:"ObjectField",name:{kind:"Name",value:"milestone"},value:{kind:"NullValue"}}]}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"UPDATED_AT"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MaxIssue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issues"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMilestones"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"assignee"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"milestones"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"12"}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"DUE_DATE"}}]}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"EnumValue",value:"OPEN"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"issues"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"filterBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"assignee"},value:{kind:"Variable",name:{kind:"Name",value:"assignee"}}}]}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"UPDATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"EnumValue",value:"OPEN"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issues"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"query"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ISSUE"}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"query"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetViewerPermission"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewerPermission"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetRepositoryForkDetails"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isFork"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"parent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetChecks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"statusCheckRollup"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contexts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"StatusContext"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"targetUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"context"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheckRun"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conclusion"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"detailsUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resourcePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"checkSuite"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"app"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"logoUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ResolveReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ResolveReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"resolveReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnresolveReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnresolveReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unresolveReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MarkFileAsViewed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MarkFileAsViewedInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"markFileAsViewed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnmarkFileAsViewed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnmarkFileAsViewedInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unmarkFileAsViewed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:14561}};z.loc.source={body:`# /*---------------------------------------------------------------------------------------------
#  *  Copyright (c) Microsoft Corporation. All rights reserved.
#  *  Licensed under the MIT License. See License.txt in the project root for license information.
#  *--------------------------------------------------------------------------------------------*/

fragment Merged on MergedEvent {
	id
	actor {
		login
		avatarUrl
		url
	}
	createdAt
	mergeRef {
		name
	}
	commit {
		oid
		commitUrl
	}
	url
}

fragment HeadRefDeleted on HeadRefDeletedEvent {
	id
	actor {
		login
		avatarUrl
		url
	}
	createdAt
	headRefName
}

fragment Ref on Ref {
	name
	repository {
		owner {
			login
		}
		url
	}
	target {
		oid
	}
}

fragment Comment on IssueComment {
	id
	databaseId
	authorAssociation
	author {
		login
		avatarUrl
		url
		... on User {
			email
		}
		... on Organization {
			email
		}
	}
	url
	body
	bodyHTML
	updatedAt
	createdAt
	viewerCanUpdate
	viewerCanReact
	viewerCanDelete
}

fragment Commit on PullRequestCommit {
	id
	commit {
		author {
			user {
				login
				avatarUrl
				url
				email
			}
		}
		committer {
			avatarUrl
			name
		}
		oid
		message
		authoredDate
	}
	url
}

fragment AssignedEvent on AssignedEvent {
	actor {
		login
		avatarUrl
		url
	}
	user {
		login
		avatarUrl
		url
	}
}

fragment Review on PullRequestReview {
	id
	databaseId
	authorAssociation
	url
	author {
		login
		avatarUrl
		url
		... on User {
			email
		}
		... on Organization {
			email
		}
	}
	state
	body
	bodyHTML
	submittedAt
	updatedAt
	createdAt
}

fragment Reactable on Reactable {
	reactionGroups {
		content
		viewerHasReacted
		users {
			totalCount
		}
	}
}

fragment ReviewThread on PullRequestReviewThread {
	id
	isResolved
	viewerCanResolve
	viewerCanUnresolve
	path
	diffSide
	line
	originalLine
	isOutdated
	comments(first: 100) {
		nodes {
			...ReviewComment
		}
	}
}

query TimelineEvents($owner: String!, $name: String!, $number: Int!, $last: Int = 150) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			timelineItems(last: $last) {
				nodes {
					__typename
					...Merged
					...Comment
					...Review
					...Commit
					...AssignedEvent
					...HeadRefDeleted
				}
			}
		}
	}
	rateLimit {
		limit
		cost
		remaining
		resetAt
	}
}

query IssueTimelineEvents($owner: String!, $name: String!, $number: Int!, $last: Int = 150) {
	repository(owner: $owner, name: $name) {
		pullRequest: issue(number: $number) {
			timelineItems(last: $last) {
				nodes {
					__typename
					...Comment
					...AssignedEvent
				}
			}
		}
	}
}

fragment ReviewComment on PullRequestReviewComment {
	id
	databaseId
	url
	author {
		login
		avatarUrl
		url
		... on User {
			email
		}
		... on Organization {
			email
		}
	}
	path
	originalPosition
	body
	bodyHTML
	diffHunk
	position
	state
	pullRequestReview {
		databaseId
	}
	commit {
		oid
	}
	replyTo {
		databaseId
	}
	createdAt
	originalCommit {
		oid
	}
	reactionGroups {
		content
		viewerHasReacted
		users {
			totalCount
		}
	}
	viewerCanUpdate
	viewerCanDelete
}

query GetPendingReviewId($pullRequestId: ID!, $author: String!) {
	node(id: $pullRequestId) {
		... on PullRequest {
			reviews(first: 1, author: $author, states: [PENDING]) {
				nodes {
					id
				}
			}
		}
	}
	rateLimit {
		limit
		cost
		remaining
		resetAt
	}
}

query PullRequestComments($owner: String!, $name: String!, $number: Int!, $first: Int = 100) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			reviewThreads(first: $first) {
				nodes {
					id
					isResolved
					viewerCanResolve
					viewerCanUnresolve
					path
					diffSide
					line
					originalLine
					isOutdated
					comments(first: 100) {
						nodes {
							...ReviewComment
						}
					}
				}
			}
		}
	}
}

query PullRequest($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			number
			url
			state
			body
			bodyHTML
			title
			author {
				login
				url
				avatarUrl
				... on User {
					email
				}
				... on Organization {
					email
				}
			}
			createdAt
			updatedAt
			headRef {
				...Ref
			}
			headRefName
			headRefOid
			headRepository {
				owner {
					login
				}
				url
			}
			baseRef {
				...Ref
			}
			baseRefName
			baseRefOid
			baseRepository {
				owner {
					login
				}
				url
			}
			labels(first: 50) {
				nodes {
					name
				}
			}
			merged
			mergeable
			id
			databaseId
			isDraft
			milestone {
				title
				dueOn
				createdAt
				id
			}
			assignees(first: 10) {
				nodes {
					login
					name
					avatarUrl
					url
					email
				}
			}
			suggestedReviewers {
				isAuthor
				isCommenter
				reviewer {
					login
					avatarUrl
					name
					url
				}
			}
		}
	}
	rateLimit {
		limit
		cost
		remaining
		resetAt
	}
}

query PullRequestFiles($owner: String!, $name: String!, $number: Int!, $after: String) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			files(first: 100, after: $after) {
				nodes {
					path
					viewerViewedState
				}
				pageInfo {
					hasNextPage
					endCursor
				}
			}
		}
	}
}

query Issue($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest: issue(number: $number) {
			number
			url
			state
			body
			bodyHTML
			title
			author {
				login
				url
				avatarUrl
				... on User {
					email
				}
				... on Organization {
					email
				}
			}
			createdAt
			updatedAt
			labels(first: 50) {
				nodes {
					name
					color
				}
			}
			id
			databaseId
		}
	}
}

query IssueWithComments($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest: issue(number: $number) {
			number
			url
			state
			body
			bodyHTML
			title
			author {
				login
				url
				avatarUrl
				... on User {
					email
				}
				... on Organization {
					email
				}
			}
			createdAt
			updatedAt
			labels(first: 50) {
				nodes {
					name
					color
				}
			}
			id
			databaseId
			comments(first: 50) {
				nodes {
					author {
						login
						url
						avatarUrl
						... on User {
							email
						}
						... on Organization {
							email
						}
					}
					body
					databaseId
				}
			}
		}
	}
}

query GetUser($login: String!) {
	user(login: $login) {
		login
		avatarUrl(size: 50)
		bio
		name
		company
		location
		contributionsCollection {
			commitContributionsByRepository(maxRepositories: 50) {
				contributions(first: 1) {
					nodes {
						occurredAt
					}
				}
				repository {
					nameWithOwner
				}
			}
		}
		url
	}
}

query PullRequestMergeability($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			mergeable
		}
	}
	rateLimit {
		limit
		cost
		remaining
		resetAt
	}
}

query PullRequestState($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			title
			number
			state
		}
	}
}

mutation AddComment($input: AddPullRequestReviewCommentInput!) {
	addPullRequestReviewComment(input: $input) {
		comment {
			...ReviewComment
		}
	}
}

mutation AddReviewThread($input: AddPullRequestReviewThreadInput!) {
	addPullRequestReviewThread(input: $input) {
		thread {
			...ReviewThread
		}
	}
}

mutation EditComment($input: UpdatePullRequestReviewCommentInput!) {
	updatePullRequestReviewComment(input: $input) {
		pullRequestReviewComment {
			...ReviewComment
		}
	}
}

mutation ReadyForReview($input: MarkPullRequestReadyForReviewInput!) {
	markPullRequestReadyForReview(input: $input) {
		pullRequest {
			isDraft
		}
	}
}

mutation StartReview($input: AddPullRequestReviewInput!) {
	addPullRequestReview(input: $input) {
		pullRequestReview {
			id
		}
	}
}

mutation SubmitReview($id: ID!, $event: PullRequestReviewEvent!, $body: String) {
	submitPullRequestReview(input: { event: $event, pullRequestReviewId: $id, body: $body }) {
		pullRequestReview {
			comments(first: 100) {
				nodes {
					...ReviewComment
				}
			}
			...Review
		}
	}
}

mutation DeleteReview($input: DeletePullRequestReviewInput!) {
	deletePullRequestReview(input: $input) {
		pullRequestReview {
			databaseId
			comments(first: 100) {
				nodes {
					...ReviewComment
				}
			}
		}
	}
}

mutation AddReaction($input: AddReactionInput!) {
	addReaction(input: $input) {
		reaction {
			content
		}
		subject {
			...Reactable
		}
	}
}

mutation DeleteReaction($input: RemoveReactionInput!) {
	removeReaction(input: $input) {
		reaction {
			content
		}
		subject {
			...Reactable
		}
	}
}

mutation UpdatePullRequest($input: UpdatePullRequestInput!) {
	updatePullRequest(input: $input) {
		pullRequest {
			body
			bodyHTML
			title
		}
	}
}

mutation AddIssueComment($input: AddCommentInput!) {
	addComment(input: $input) {
		commentEdge {
			node {
				...Comment
			}
		}
	}
}

mutation EditIssueComment($input: UpdateIssueCommentInput!) {
	updateIssueComment(input: $input) {
		issueComment {
			...Comment
		}
	}
}

query GetMentionableUsers($owner: String!, $name: String!, $first: Int!, $after: String) {
	repository(owner: $owner, name: $name) {
		mentionableUsers(first: $first, after: $after) {
			nodes {
				login
				avatarUrl
				name
				url
				email
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
	rateLimit {
		limit
		cost
		remaining
		resetAt
	}
}

query GetAssignableUsers($owner: String!, $name: String!, $first: Int!, $after: String) {
	repository(owner: $owner, name: $name) {
		assignableUsers(first: $first, after: $after) {
			nodes {
				login
				avatarUrl
				name
				url
				email
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
	rateLimit {
		limit
		cost
		remaining
		resetAt
	}
}

query IssuesWithoutMilestone($owner: String!, $name: String!, $assignee: String!) {
	repository(owner: $owner, name: $name) {
		issues(
			first: 100
			states: OPEN
			filterBy: { assignee: $assignee, milestone: null }
			orderBy: { direction: DESC, field: UPDATED_AT }
		) {
			edges {
				node {
					... on Issue {
						number
						url
						state
						body
						bodyHTML
						title
						assignees(first: 10) {
							nodes {
								login
								url
								email
							}
						}
						author {
							login
							url
							avatarUrl(size: 50)
							... on User {
								email
							}
							... on Organization {
								email
							}
						}
						createdAt
						updatedAt
						labels(first: 50) {
							nodes {
								name
								color
							}
						}
						id
						databaseId
						milestone {
							title
							dueOn
						}
					}
				}
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
}

query MaxIssue($owner: String!, $name: String!) {
	repository(owner: $owner, name: $name) {
		issues(first: 1, orderBy: { direction: DESC, field: CREATED_AT }) {
			edges {
				node {
					... on Issue {
						number
					}
				}
			}
		}
	}
}

query GetMilestones($owner: String!, $name: String!, $assignee: String!) {
	repository(owner: $owner, name: $name) {
		milestones(first: 12, orderBy: { direction: DESC, field: DUE_DATE }, states: OPEN) {
			nodes {
				dueOn
				title
				createdAt
				id
				issues(
					first: 100
					filterBy: { assignee: $assignee }
					orderBy: { direction: DESC, field: UPDATED_AT }
					states: OPEN
				) {
					edges {
						node {
							... on Issue {
								number
								url
								state
								body
								bodyHTML
								title
								assignees(first: 10) {
									nodes {
										avatarUrl
										email
										login
										url
									}
								}
								author {
									login
									url
									avatarUrl(size: 50)
									... on User {
										email
									}
									... on Organization {
										email
									}
								}
								createdAt
								updatedAt
								labels(first: 50) {
									nodes {
										name
										color
									}
								}
								id
								databaseId
								milestone {
									title
									dueOn
								}
							}
						}
					}
				}
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
}

query Issues($query: String!) {
	search(first: 100, type: ISSUE, query: $query) {
		issueCount
		pageInfo {
			hasNextPage
			endCursor
		}
		edges {
			node {
				... on Issue {
					number
					url
					state
					body
					bodyHTML
					title
					assignees(first: 10) {
						nodes {
							avatarUrl
							email
							login
							url
						}
					}
					author {
						login
						url
						avatarUrl(size: 50)
						... on User {
							email
						}
						... on Organization {
							email
						}
					}
					createdAt
					updatedAt
					labels(first: 50) {
						nodes {
							name
							color
						}
					}
					id
					databaseId
					milestone {
						title
						dueOn
						id
						createdAt
					}
					repository {
						name
						owner {
							login
						}
						url
					}
				}
			}
		}
	}
}

query GetViewerPermission($owner: String!, $name: String!) {
	repository(owner: $owner, name: $name) {
		viewerPermission
	}
}

query GetRepositoryForkDetails($owner: String!, $name: String!) {
	repository(owner: $owner, name: $name) {
		isFork
		parent {
			name
			owner
		}
	}
}

query GetChecks($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			commits(last: 1) {
				nodes {
					commit {
						statusCheckRollup {
							state
							contexts(first: 100) {
								nodes {
									... on StatusContext {
										id
										state
										targetUrl
										description
										context
										avatarUrl
									}
									... on CheckRun {
										id
										conclusion
										title
										detailsUrl
										name
										resourcePath
										checkSuite {
											app {
												logoUrl
												url
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
}

mutation ResolveReviewThread($input: ResolveReviewThreadInput!) {
	resolveReviewThread(input: $input) {
		thread {
			...ReviewThread
		}
	}
}

mutation UnresolveReviewThread($input: UnresolveReviewThreadInput!) {
	unresolveReviewThread(input: $input) {
		thread {
			...ReviewThread
		}
	}
}

mutation MarkFileAsViewed($input: MarkFileAsViewedInput!) {
	markFileAsViewed(input: $input) {
		pullRequest {
			id
		}
	}
}

mutation UnmarkFileAsViewed($input: UnmarkFileAsViewedInput!) {
	unmarkFileAsViewed(input: $input) {
		pullRequest {
			id
		}
	}
}`,name:"GraphQL request",locationOffset:{line:1,column:1}};var y={};function R(u){return u.filter(function(n){if(n.kind!=="FragmentDefinition")return!0;var c=n.name.value;return y[c]?!1:(y[c]=!0,!0)})}function O(u,n){if(u.kind==="FragmentSpread")n.add(u.name.value);else if(u.kind==="VariableDefinition"){var c=u.type;c.kind==="NamedType"&&n.add(c.name.value)}u.selectionSet&&u.selectionSet.selections.forEach(function(v){O(v,n)}),u.variableDefinitions&&u.variableDefinitions.forEach(function(v){O(v,n)}),u.definitions&&u.definitions.forEach(function(v){O(v,n)})}var N={};(function(){z.definitions.forEach(function(n){if(n.name){var c=new Set;O(n,c),N[n.name.value]=c}})})();function k(u,n){for(var c=0;c<u.definitions.length;c++){var v=u.definitions[c];if(v.name&&v.name.value==n)return v}}function o(u,n){var c={kind:u.kind,definitions:[k(u,n)]};u.hasOwnProperty("loc")&&(c.loc=u.loc);var v=N[n]||new Set,f=new Set,l=new Set;for(v.forEach(function(d){l.add(d)});l.size>0;){var E=l;l=new Set,E.forEach(function(d){if(!f.has(d)){f.add(d);var p=N[d]||new Set;p.forEach(function(g){l.add(g)})}})}return f.forEach(function(d){var p=k(u,d);p&&c.definitions.push(p)}),c}b.exports=z,b.exports.TimelineEvents=o(z,"TimelineEvents"),b.exports.IssueTimelineEvents=o(z,"IssueTimelineEvents"),b.exports.GetPendingReviewId=o(z,"GetPendingReviewId"),b.exports.PullRequestComments=o(z,"PullRequestComments"),b.exports.PullRequest=o(z,"PullRequest"),b.exports.PullRequestFiles=o(z,"PullRequestFiles"),b.exports.Issue=o(z,"Issue"),b.exports.IssueWithComments=o(z,"IssueWithComments"),b.exports.GetUser=o(z,"GetUser"),b.exports.PullRequestMergeability=o(z,"PullRequestMergeability"),b.exports.PullRequestState=o(z,"PullRequestState"),b.exports.AddComment=o(z,"AddComment"),b.exports.AddReviewThread=o(z,"AddReviewThread"),b.exports.EditComment=o(z,"EditComment"),b.exports.ReadyForReview=o(z,"ReadyForReview"),b.exports.StartReview=o(z,"StartReview"),b.exports.SubmitReview=o(z,"SubmitReview"),b.exports.DeleteReview=o(z,"DeleteReview"),b.exports.AddReaction=o(z,"AddReaction"),b.exports.DeleteReaction=o(z,"DeleteReaction"),b.exports.UpdatePullRequest=o(z,"UpdatePullRequest"),b.exports.AddIssueComment=o(z,"AddIssueComment"),b.exports.EditIssueComment=o(z,"EditIssueComment"),b.exports.GetMentionableUsers=o(z,"GetMentionableUsers"),b.exports.GetAssignableUsers=o(z,"GetAssignableUsers"),b.exports.IssuesWithoutMilestone=o(z,"IssuesWithoutMilestone"),b.exports.MaxIssue=o(z,"MaxIssue"),b.exports.GetMilestones=o(z,"GetMilestones"),b.exports.Issues=o(z,"Issues"),b.exports.GetViewerPermission=o(z,"GetViewerPermission"),b.exports.GetRepositoryForkDetails=o(z,"GetRepositoryForkDetails"),b.exports.GetChecks=o(z,"GetChecks"),b.exports.ResolveReviewThread=o(z,"ResolveReviewThread"),b.exports.UnresolveReviewThread=o(z,"UnresolveReviewThread"),b.exports.MarkFileAsViewed=o(z,"MarkFileAsViewed"),b.exports.UnmarkFileAsViewed=o(z,"UnmarkFileAsViewed")},972:(b,z,y)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=k;var R=N(y(7706)),O=N(y(8554));function N(o){return o&&o.__esModule?o:{default:o}}function k(o){var u=o.prototype.toJSON;typeof u=="function"||(0,R.default)(0),o.prototype.inspect=u,O.default&&(o.prototype[O.default]=u)}},8002:(b,z,y)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=u;var R=O(y(8554));function O(d){return d&&d.__esModule?d:{default:d}}function N(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?N=function(g){return typeof g}:N=function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},N(d)}var k=10,o=2;function u(d){return n(d,[])}function n(d,p){switch(N(d)){case"string":return JSON.stringify(d);case"function":return d.name?"[function ".concat(d.name,"]"):"[function]";case"object":return d===null?"null":c(d,p);default:return String(d)}}function c(d,p){if(p.indexOf(d)!==-1)return"[Circular]";var g=[].concat(p,[d]),S=l(d);if(S!==void 0){var A=S.call(d);if(A!==d)return typeof A=="string"?A:n(A,g)}else if(Array.isArray(d))return f(d,g);return v(d,g)}function v(d,p){var g=Object.keys(d);if(g.length===0)return"{}";if(p.length>o)return"["+E(d)+"]";var S=g.map(function(A){var _=n(d[A],p);return A+": "+_});return"{ "+S.join(", ")+" }"}function f(d,p){if(d.length===0)return"[]";if(p.length>o)return"[Array]";for(var g=Math.min(k,d.length),S=d.length-g,A=[],_=0;_<g;++_)A.push(n(d[_],p));return S===1?A.push("... 1 more item"):S>1&&A.push("... ".concat(S," more items")),"["+A.join(", ")+"]"}function l(d){var p=d[String(R.default)];if(typeof p=="function")return p;if(typeof d.inspect=="function")return d.inspect}function E(d){var p=Object.prototype.toString.call(d).replace(/^\[object /,"").replace(/]$/,"");if(p==="Object"&&typeof d.constructor=="function"){var g=d.constructor.name;if(typeof g=="string"&&g!=="")return g}return p}},7706:(b,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=y;function y(R,O){var N=Boolean(R);if(!N)throw new Error(O!=null?O:"Unexpected invariant triggered.")}},8554:(b,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=void 0;var y=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):void 0,R=y;z.default=R},1807:(b,z,y)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.isNode=o,z.Token=z.Location=void 0;var R=O(y(972));function O(u){return u&&u.__esModule?u:{default:u}}var N=function(){function u(c,v,f){this.start=c.start,this.end=v.end,this.startToken=c,this.endToken=v,this.source=f}var n=u.prototype;return n.toJSON=function(){return{start:this.start,end:this.end}},u}();z.Location=N,(0,R.default)(N);var k=function(){function u(c,v,f,l,E,d,p){this.kind=c,this.start=v,this.end=f,this.line=l,this.column=E,this.value=p,this.prev=d,this.next=null}var n=u.prototype;return n.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},u}();z.Token=k,(0,R.default)(k);function o(u){return u!=null&&typeof u.kind=="string"}},849:(b,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.dedentBlockStringValue=y,z.getBlockStringIndentation=O,z.printBlockString=N;function y(k){var o=k.split(/\r\n|[\n\r]/g),u=O(k);if(u!==0)for(var n=1;n<o.length;n++)o[n]=o[n].slice(u);for(var c=0;c<o.length&&R(o[c]);)++c;for(var v=o.length;v>c&&R(o[v-1]);)--v;return o.slice(c,v).join(`
`)}function R(k){for(var o=0;o<k.length;++o)if(k[o]!==" "&&k[o]!=="	")return!1;return!0}function O(k){for(var o,u=!0,n=!0,c=0,v=null,f=0;f<k.length;++f)switch(k.charCodeAt(f)){case 13:k.charCodeAt(f+1)===10&&++f;case 10:u=!1,n=!0,c=0;break;case 9:case 32:++c;break;default:n&&!u&&(v===null||c<v)&&(v=c),n=!1}return(o=v)!==null&&o!==void 0?o:0}function N(k){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=k.indexOf(`
`)===-1,c=k[0]===" "||k[0]==="	",v=k[k.length-1]==='"',f=k[k.length-1]==="\\",l=!n||v||f||u,E="";return l&&!(n&&c)&&(E+=`
`+o),E+=o?k.replace(/\n/g,`
`+o):k,l&&(E+=`
`),'"""'+E.replace(/"""/g,'\\"""')+'"""'}},3033:(b,z,y)=>{"use strict";var R;R={value:!0},z.S=k;var O=y(285),N=y(849);function k(p){return(0,O.visit)(p,{leave:u})}var o=80,u={Name:function(g){return g.value},Variable:function(g){return"$"+g.name},Document:function(g){return c(g.definitions,`

`)+`
`},OperationDefinition:function(g){var S=g.operation,A=g.name,_=f("(",c(g.variableDefinitions,", "),")"),F=c(g.directives," "),H=g.selectionSet;return!A&&!F&&!_&&S==="query"?H:c([S,c([A,_]),F,H]," ")},VariableDefinition:function(g){var S=g.variable,A=g.type,_=g.defaultValue,F=g.directives;return S+": "+A+f(" = ",_)+f(" ",c(F," "))},SelectionSet:function(g){var S=g.selections;return v(S)},Field:function(g){var S=g.alias,A=g.name,_=g.arguments,F=g.directives,H=g.selectionSet,K=f("",S,": ")+A,J=K+f("(",c(_,", "),")");return J.length>o&&(J=K+f(`(
`,l(c(_,`
`)),`
)`)),c([J,c(F," "),H]," ")},Argument:function(g){var S=g.name,A=g.value;return S+": "+A},FragmentSpread:function(g){var S=g.name,A=g.directives;return"..."+S+f(" ",c(A," "))},InlineFragment:function(g){var S=g.typeCondition,A=g.directives,_=g.selectionSet;return c(["...",f("on ",S),c(A," "),_]," ")},FragmentDefinition:function(g){var S=g.name,A=g.typeCondition,_=g.variableDefinitions,F=g.directives,H=g.selectionSet;return"fragment ".concat(S).concat(f("(",c(_,", "),")")," ")+"on ".concat(A," ").concat(f("",c(F," ")," "))+H},IntValue:function(g){var S=g.value;return S},FloatValue:function(g){var S=g.value;return S},StringValue:function(g,S){var A=g.value,_=g.block;return _?(0,N.printBlockString)(A,S==="description"?"":"  "):JSON.stringify(A)},BooleanValue:function(g){var S=g.value;return S?"true":"false"},NullValue:function(){return"null"},EnumValue:function(g){var S=g.value;return S},ListValue:function(g){var S=g.values;return"["+c(S,", ")+"]"},ObjectValue:function(g){var S=g.fields;return"{"+c(S,", ")+"}"},ObjectField:function(g){var S=g.name,A=g.value;return S+": "+A},Directive:function(g){var S=g.name,A=g.arguments;return"@"+S+f("(",c(A,", "),")")},NamedType:function(g){var S=g.name;return S},ListType:function(g){var S=g.type;return"["+S+"]"},NonNullType:function(g){var S=g.type;return S+"!"},SchemaDefinition:n(function(p){var g=p.directives,S=p.operationTypes;return c(["schema",c(g," "),v(S)]," ")}),OperationTypeDefinition:function(g){var S=g.operation,A=g.type;return S+": "+A},ScalarTypeDefinition:n(function(p){var g=p.name,S=p.directives;return c(["scalar",g,c(S," ")]," ")}),ObjectTypeDefinition:n(function(p){var g=p.name,S=p.interfaces,A=p.directives,_=p.fields;return c(["type",g,f("implements ",c(S," & ")),c(A," "),v(_)]," ")}),FieldDefinition:n(function(p){var g=p.name,S=p.arguments,A=p.type,_=p.directives;return g+(d(S)?f(`(
`,l(c(S,`
`)),`
)`):f("(",c(S,", "),")"))+": "+A+f(" ",c(_," "))}),InputValueDefinition:n(function(p){var g=p.name,S=p.type,A=p.defaultValue,_=p.directives;return c([g+": "+S,f("= ",A),c(_," ")]," ")}),InterfaceTypeDefinition:n(function(p){var g=p.name,S=p.interfaces,A=p.directives,_=p.fields;return c(["interface",g,f("implements ",c(S," & ")),c(A," "),v(_)]," ")}),UnionTypeDefinition:n(function(p){var g=p.name,S=p.directives,A=p.types;return c(["union",g,c(S," "),A&&A.length!==0?"= "+c(A," | "):""]," ")}),EnumTypeDefinition:n(function(p){var g=p.name,S=p.directives,A=p.values;return c(["enum",g,c(S," "),v(A)]," ")}),EnumValueDefinition:n(function(p){var g=p.name,S=p.directives;return c([g,c(S," ")]," ")}),InputObjectTypeDefinition:n(function(p){var g=p.name,S=p.directives,A=p.fields;return c(["input",g,c(S," "),v(A)]," ")}),DirectiveDefinition:n(function(p){var g=p.name,S=p.arguments,A=p.repeatable,_=p.locations;return"directive @"+g+(d(S)?f(`(
`,l(c(S,`
`)),`
)`):f("(",c(S,", "),")"))+(A?" repeatable":"")+" on "+c(_," | ")}),SchemaExtension:function(g){var S=g.directives,A=g.operationTypes;return c(["extend schema",c(S," "),v(A)]," ")},ScalarTypeExtension:function(g){var S=g.name,A=g.directives;return c(["extend scalar",S,c(A," ")]," ")},ObjectTypeExtension:function(g){var S=g.name,A=g.interfaces,_=g.directives,F=g.fields;return c(["extend type",S,f("implements ",c(A," & ")),c(_," "),v(F)]," ")},InterfaceTypeExtension:function(g){var S=g.name,A=g.interfaces,_=g.directives,F=g.fields;return c(["extend interface",S,f("implements ",c(A," & ")),c(_," "),v(F)]," ")},UnionTypeExtension:function(g){var S=g.name,A=g.directives,_=g.types;return c(["extend union",S,c(A," "),_&&_.length!==0?"= "+c(_," | "):""]," ")},EnumTypeExtension:function(g){var S=g.name,A=g.directives,_=g.values;return c(["extend enum",S,c(A," "),v(_)]," ")},InputObjectTypeExtension:function(g){var S=g.name,A=g.directives,_=g.fields;return c(["extend input",S,c(A," "),v(_)]," ")}};function n(p){return function(g){return c([g.description,p(g)],`
`)}}function c(p){var g,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(g=p==null?void 0:p.filter(function(A){return A}).join(S))!==null&&g!==void 0?g:""}function v(p){return f(`{
`,l(c(p,`
`)),`
}`)}function f(p,g){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return g!=null&&g!==""?p+g+S:""}function l(p){return f("  ",p.replace(/\n/g,`
  `))}function E(p){return p.indexOf(`
`)!==-1}function d(p){return p!=null&&p.some(E)}},285:(b,z,y)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.visit=u,z.visitInParallel=n,z.getVisitFn=c,z.BREAK=z.QueryDocumentKeys=void 0;var R=N(y(8002)),O=y(1807);function N(v){return v&&v.__esModule?v:{default:v}}var k={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]};z.QueryDocumentKeys=k;var o=Object.freeze({});z.BREAK=o;function u(v,f){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:k,E=void 0,d=Array.isArray(v),p=[v],g=-1,S=[],A=void 0,_=void 0,F=void 0,H=[],K=[],J=v;do{g++;var te=g===p.length,ie=te&&S.length!==0;if(te){if(_=K.length===0?void 0:H[H.length-1],A=F,F=K.pop(),ie){if(d)A=A.slice();else{for(var ne={},ue=0,Q=Object.keys(A);ue<Q.length;ue++){var C=Q[ue];ne[C]=A[C]}A=ne}for(var U=0,M=0;M<S.length;M++){var s=S[M][0],m=S[M][1];d&&(s-=U),d&&m===null?(A.splice(s,1),U++):A[s]=m}}g=E.index,p=E.keys,S=E.edits,d=E.inArray,E=E.prev}else{if(_=F?d?g:p[g]:void 0,A=F?F[_]:J,A==null)continue;F&&H.push(_)}var T=void 0;if(!Array.isArray(A)){if(!(0,O.isNode)(A))throw new Error("Invalid AST Node: ".concat((0,R.default)(A),"."));var I=c(f,A.kind,te);if(I){if(T=I.call(f,A,_,F,H,K),T===o)break;if(T===!1){if(!te){H.pop();continue}}else if(T!==void 0&&(S.push([_,T]),!te))if((0,O.isNode)(T))A=T;else{H.pop();continue}}}if(T===void 0&&ie&&S.push([_,A]),te)H.pop();else{var D;E={inArray:d,index:g,keys:p,edits:S,prev:E},d=Array.isArray(A),p=d?A:(D=l[A.kind])!==null&&D!==void 0?D:[],g=-1,S=[],F&&K.push(F),F=A}}while(E!==void 0);return S.length!==0&&(J=S[S.length-1][1]),J}function n(v){var f=new Array(v.length);return{enter:function(E){for(var d=0;d<v.length;d++)if(f[d]==null){var p=c(v[d],E.kind,!1);if(p){var g=p.apply(v[d],arguments);if(g===!1)f[d]=E;else if(g===o)f[d]=o;else if(g!==void 0)return g}}},leave:function(E){for(var d=0;d<v.length;d++)if(f[d]==null){var p=c(v[d],E.kind,!0);if(p){var g=p.apply(v[d],arguments);if(g===o)f[d]=o;else if(g!==void 0&&g!==!1)return g}}else f[d]===E&&(f[d]=null)}}}function c(v,f,l){var E=v[f];if(E){if(!l&&typeof E=="function")return E;var d=l?E.leave:E.enter;if(typeof d=="function")return d}else{var p=l?v.leave:v.enter;if(p){if(typeof p=="function")return p;var g=p[f];if(typeof g=="function")return g}}}},3349:(b,z,y)=>{"use strict";var R=y(9509).Buffer,O=y(326).Transform,N=y(5717);function k(u,n){if(!R.isBuffer(u)&&typeof u!="string")throw new TypeError(n+" must be a string or a buffer")}function o(u){O.call(this),this._block=R.allocUnsafe(u),this._blockSize=u,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}N(o,O),o.prototype._transform=function(u,n,c){var v=null;try{this.update(u,n)}catch(f){v=f}c(v)},o.prototype._flush=function(u){var n=null;try{this.push(this.digest())}catch(c){n=c}u(n)},o.prototype.update=function(u,n){if(k(u,"Data"),this._finalized)throw new Error("Digest already called");R.isBuffer(u)||(u=R.from(u,n));for(var c=this._block,v=0;this._blockOffset+u.length-v>=this._blockSize;){for(var f=this._blockOffset;f<this._blockSize;)c[f++]=u[v++];this._update(),this._blockOffset=0}for(;v<u.length;)c[this._blockOffset++]=u[v++];for(var l=0,E=u.length*8;E>0;++l)this._length[l]+=E,E=this._length[l]/4294967296|0,E>0&&(this._length[l]-=4294967296*E);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(u){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var n=this._digest();u!==void 0&&(n=n.toString(u)),this._block.fill(0),this._blockOffset=0;for(var c=0;c<4;++c)this._length[c]=0;return n},o.prototype._digest=function(){throw new Error("_digest is not implemented")},b.exports=o},9786:b=>{"use strict";function z(u,n){u.prototype=Object.create(n.prototype),u.prototype.constructor=u,u.__proto__=n}var y={};function R(u,n,c){c||(c=Error);function v(l,E,d){return typeof n=="string"?n:n(l,E,d)}var f=function(l){z(E,l);function E(d,p,g){return l.call(this,v(d,p,g))||this}return E}(c);f.prototype.name=c.name,f.prototype.code=u,y[u]=f}function O(u,n){if(Array.isArray(u)){var c=u.length;return u=u.map(function(v){return String(v)}),c>2?"one of ".concat(n," ").concat(u.slice(0,c-1).join(", "),", or ")+u[c-1]:c===2?"one of ".concat(n," ").concat(u[0]," or ").concat(u[1]):"of ".concat(n," ").concat(u[0])}else return"of ".concat(n," ").concat(String(u))}function N(u,n,c){return u.substr(!c||c<0?0:+c,n.length)===n}function k(u,n,c){return(c===void 0||c>u.length)&&(c=u.length),u.substring(c-n.length,c)===n}function o(u,n,c){return typeof c!="number"&&(c=0),c+n.length>u.length?!1:u.indexOf(n,c)!==-1}R("ERR_INVALID_OPT_VALUE",function(u,n){return'The value "'+n+'" is invalid for option "'+u+'"'},TypeError),R("ERR_INVALID_ARG_TYPE",function(u,n,c){var v;typeof n=="string"&&N(n,"not ")?(v="must not be",n=n.replace(/^not /,"")):v="must be";var f;if(k(u," argument"))f="The ".concat(u," ").concat(v," ").concat(O(n,"type"));else{var l=o(u,".")?"property":"argument";f='The "'.concat(u,'" ').concat(l," ").concat(v," ").concat(O(n,"type"))}return f+=". Received type ".concat(typeof c),f},TypeError),R("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),R("ERR_METHOD_NOT_IMPLEMENTED",function(u){return"The "+u+" method is not implemented"}),R("ERR_STREAM_PREMATURE_CLOSE","Premature close"),R("ERR_STREAM_DESTROYED",function(u){return"Cannot call "+u+" after a stream was destroyed"}),R("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),R("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),R("ERR_STREAM_WRITE_AFTER_END","write after end"),R("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),R("ERR_UNKNOWN_ENCODING",function(u){return"Unknown encoding: "+u},TypeError),R("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),b.exports.q=y},2910:(b,z,y)=>{"use strict";var R=y(4155),O=Object.keys||function(l){var E=[];for(var d in l)E.push(d);return E};b.exports=c;var N=y(5789),k=y(469);y(5717)(c,N);for(var o=O(k.prototype),u=0;u<o.length;u++){var n=o[u];c.prototype[n]||(c.prototype[n]=k.prototype[n])}function c(l){if(!(this instanceof c))return new c(l);N.call(this,l),k.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",v)))}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function v(){this._writableState.ended||R.nextTick(f,this)}function f(l){l.end()}Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(E){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=E,this._writableState.destroyed=E)}})},8994:(b,z,y)=>{"use strict";b.exports=O;var R=y(421);y(5717)(O,R);function O(N){if(!(this instanceof O))return new O(N);R.call(this,N)}O.prototype._transform=function(N,k,o){o(null,N)}},5789:(b,z,y)=>{"use strict";var R=y(4155);b.exports=C;var O;C.ReadableState=Q;var N=y(7187).EventEmitter,k=function(L,ae){return L.listeners(ae).length},o=y(677),u=y(8764).Buffer,n=y.g.Uint8Array||function(){};function c(q){return u.from(q)}function v(q){return u.isBuffer(q)||q instanceof n}var f=y(1616),l;f&&f.debuglog?l=f.debuglog("stream"):l=function(){};var E=y(8354),d=y(5072),p=y(1222),g=p.getHighWaterMark,S=y(9786).q,A=S.ERR_INVALID_ARG_TYPE,_=S.ERR_STREAM_PUSH_AFTER_EOF,F=S.ERR_METHOD_NOT_IMPLEMENTED,H=S.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,K,J,te;y(5717)(C,o);var ie=d.errorOrDestroy,ne=["error","close","destroy","pause","resume"];function ue(q,L,ae){if(typeof q.prependListener=="function")return q.prependListener(L,ae);!q._events||!q._events[L]?q.on(L,ae):Array.isArray(q._events[L])?q._events[L].unshift(ae):q._events[L]=[ae,q._events[L]]}function Q(q,L,ae){O=O||y(2910),q=q||{},typeof ae!="boolean"&&(ae=L instanceof O),this.objectMode=!!q.objectMode,ae&&(this.objectMode=this.objectMode||!!q.readableObjectMode),this.highWaterMark=g(this,q,"readableHighWaterMark",ae),this.buffer=new E,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=q.emitClose!==!1,this.autoDestroy=!!q.autoDestroy,this.destroyed=!1,this.defaultEncoding=q.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,q.encoding&&(K||(K=y(3893).s),this.decoder=new K(q.encoding),this.encoding=q.encoding)}function C(q){if(O=O||y(2910),!(this instanceof C))return new C(q);var L=this instanceof O;this._readableState=new Q(q,this,L),this.readable=!0,q&&(typeof q.read=="function"&&(this._read=q.read),typeof q.destroy=="function"&&(this._destroy=q.destroy)),o.call(this)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(L){!this._readableState||(this._readableState.destroyed=L)}}),C.prototype.destroy=d.destroy,C.prototype._undestroy=d.undestroy,C.prototype._destroy=function(q,L){L(q)},C.prototype.push=function(q,L){var ae=this._readableState,pe;return ae.objectMode?pe=!0:typeof q=="string"&&(L=L||ae.defaultEncoding,L!==ae.encoding&&(q=u.from(q,L),L=""),pe=!0),U(this,q,L,!1,pe)},C.prototype.unshift=function(q){return U(this,q,null,!0,!1)};function U(q,L,ae,pe,Se){l("readableAddChunk",L);var ye=q._readableState;if(L===null)ye.reading=!1,D(q,ye);else{var Ne;if(Se||(Ne=s(ye,L)),Ne)ie(q,Ne);else if(ye.objectMode||L&&L.length>0)if(typeof L!="string"&&!ye.objectMode&&Object.getPrototypeOf(L)!==u.prototype&&(L=c(L)),pe)ye.endEmitted?ie(q,new H):M(q,ye,L,!0);else if(ye.ended)ie(q,new _);else{if(ye.destroyed)return!1;ye.reading=!1,ye.decoder&&!ae?(L=ye.decoder.write(L),ye.objectMode||L.length!==0?M(q,ye,L,!1):G(q,ye)):M(q,ye,L,!1)}else pe||(ye.reading=!1,G(q,ye))}return!ye.ended&&(ye.length<ye.highWaterMark||ye.length===0)}function M(q,L,ae,pe){L.flowing&&L.length===0&&!L.sync?(L.awaitDrain=0,q.emit("data",ae)):(L.length+=L.objectMode?1:ae.length,pe?L.buffer.unshift(ae):L.buffer.push(ae),L.needReadable&&P(q)),G(q,L)}function s(q,L){var ae;return!v(L)&&typeof L!="string"&&L!==void 0&&!q.objectMode&&(ae=new A("chunk",["string","Buffer","Uint8Array"],L)),ae}C.prototype.isPaused=function(){return this._readableState.flowing===!1},C.prototype.setEncoding=function(q){K||(K=y(3893).s);var L=new K(q);this._readableState.decoder=L,this._readableState.encoding=this._readableState.decoder.encoding;for(var ae=this._readableState.buffer.head,pe="";ae!==null;)pe+=L.write(ae.data),ae=ae.next;return this._readableState.buffer.clear(),pe!==""&&this._readableState.buffer.push(pe),this._readableState.length=pe.length,this};var m=1073741824;function T(q){return q>=m?q=m:(q--,q|=q>>>1,q|=q>>>2,q|=q>>>4,q|=q>>>8,q|=q>>>16,q++),q}function I(q,L){return q<=0||L.length===0&&L.ended?0:L.objectMode?1:q!==q?L.flowing&&L.length?L.buffer.head.data.length:L.length:(q>L.highWaterMark&&(L.highWaterMark=T(q)),q<=L.length?q:L.ended?L.length:(L.needReadable=!0,0))}C.prototype.read=function(q){l("read",q),q=parseInt(q,10);var L=this._readableState,ae=q;if(q!==0&&(L.emittedReadable=!1),q===0&&L.needReadable&&((L.highWaterMark!==0?L.length>=L.highWaterMark:L.length>0)||L.ended))return l("read: emitReadable",L.length,L.ended),L.length===0&&L.ended?ce(this):P(this),null;if(q=I(q,L),q===0&&L.ended)return L.length===0&&ce(this),null;var pe=L.needReadable;l("need readable",pe),(L.length===0||L.length-q<L.highWaterMark)&&(pe=!0,l("length less than watermark",pe)),L.ended||L.reading?(pe=!1,l("reading or ended",pe)):pe&&(l("do read"),L.reading=!0,L.sync=!0,L.length===0&&(L.needReadable=!0),this._read(L.highWaterMark),L.sync=!1,L.reading||(q=I(ae,L)));var Se;return q>0?Se=X(q,L):Se=null,Se===null?(L.needReadable=L.length<=L.highWaterMark,q=0):(L.length-=q,L.awaitDrain=0),L.length===0&&(L.ended||(L.needReadable=!0),ae!==q&&L.ended&&ce(this)),Se!==null&&this.emit("data",Se),Se};function D(q,L){if(l("onEofChunk"),!L.ended){if(L.decoder){var ae=L.decoder.end();ae&&ae.length&&(L.buffer.push(ae),L.length+=L.objectMode?1:ae.length)}L.ended=!0,L.sync?P(q):(L.needReadable=!1,L.emittedReadable||(L.emittedReadable=!0,V(q)))}}function P(q){var L=q._readableState;l("emitReadable",L.needReadable,L.emittedReadable),L.needReadable=!1,L.emittedReadable||(l("emitReadable",L.flowing),L.emittedReadable=!0,R.nextTick(V,q))}function V(q){var L=q._readableState;l("emitReadable_",L.destroyed,L.length,L.ended),!L.destroyed&&(L.length||L.ended)&&(q.emit("readable"),L.emittedReadable=!1),L.needReadable=!L.flowing&&!L.ended&&L.length<=L.highWaterMark,ee(q)}function G(q,L){L.readingMore||(L.readingMore=!0,R.nextTick(w,q,L))}function w(q,L){for(;!L.reading&&!L.ended&&(L.length<L.highWaterMark||L.flowing&&L.length===0);){var ae=L.length;if(l("maybeReadMore read 0"),q.read(0),ae===L.length)break}L.readingMore=!1}C.prototype._read=function(q){ie(this,new F("_read()"))},C.prototype.pipe=function(q,L){var ae=this,pe=this._readableState;switch(pe.pipesCount){case 0:pe.pipes=q;break;case 1:pe.pipes=[pe.pipes,q];break;default:pe.pipes.push(q);break}pe.pipesCount+=1,l("pipe count=%d opts=%j",pe.pipesCount,L);var Se=(!L||L.end!==!1)&&q!==R.stdout&&q!==R.stderr,ye=Se?Ae:Z;pe.endEmitted?R.nextTick(ye):ae.once("end",ye),q.on("unpipe",Ne);function Ne(oe,fe){l("onunpipe"),oe===ae&&fe&&fe.hasUnpiped===!1&&(fe.hasUnpiped=!0,qe())}function Ae(){l("onend"),q.end()}var Me=Y(ae);q.on("drain",Me);var ut=!1;function qe(){l("cleanup"),q.removeListener("close",se),q.removeListener("finish",j),q.removeListener("drain",Me),q.removeListener("error",ht),q.removeListener("unpipe",Ne),ae.removeListener("end",Ae),ae.removeListener("end",Z),ae.removeListener("data",Fe),ut=!0,pe.awaitDrain&&(!q._writableState||q._writableState.needDrain)&&Me()}ae.on("data",Fe);function Fe(oe){l("ondata");var fe=q.write(oe);l("dest.write",fe),fe===!1&&((pe.pipesCount===1&&pe.pipes===q||pe.pipesCount>1&&ve(pe.pipes,q)!==-1)&&!ut&&(l("false write response, pause",pe.awaitDrain),pe.awaitDrain++),ae.pause())}function ht(oe){l("onerror",oe),Z(),q.removeListener("error",ht),k(q,"error")===0&&ie(q,oe)}ue(q,"error",ht);function se(){q.removeListener("finish",j),Z()}q.once("close",se);function j(){l("onfinish"),q.removeListener("close",se),Z()}q.once("finish",j);function Z(){l("unpipe"),ae.unpipe(q)}return q.emit("pipe",ae),pe.flowing||(l("pipe resume"),ae.resume()),q};function Y(q){return function(){var ae=q._readableState;l("pipeOnDrain",ae.awaitDrain),ae.awaitDrain&&ae.awaitDrain--,ae.awaitDrain===0&&k(q,"data")&&(ae.flowing=!0,ee(q))}}C.prototype.unpipe=function(q){var L=this._readableState,ae={hasUnpiped:!1};if(L.pipesCount===0)return this;if(L.pipesCount===1)return q&&q!==L.pipes?this:(q||(q=L.pipes),L.pipes=null,L.pipesCount=0,L.flowing=!1,q&&q.emit("unpipe",this,ae),this);if(!q){var pe=L.pipes,Se=L.pipesCount;L.pipes=null,L.pipesCount=0,L.flowing=!1;for(var ye=0;ye<Se;ye++)pe[ye].emit("unpipe",this,{hasUnpiped:!1});return this}var Ne=ve(L.pipes,q);return Ne===-1?this:(L.pipes.splice(Ne,1),L.pipesCount-=1,L.pipesCount===1&&(L.pipes=L.pipes[0]),q.emit("unpipe",this,ae),this)},C.prototype.on=function(q,L){var ae=o.prototype.on.call(this,q,L),pe=this._readableState;return q==="data"?(pe.readableListening=this.listenerCount("readable")>0,pe.flowing!==!1&&this.resume()):q==="readable"&&!pe.endEmitted&&!pe.readableListening&&(pe.readableListening=pe.needReadable=!0,pe.flowing=!1,pe.emittedReadable=!1,l("on readable",pe.length,pe.reading),pe.length?P(this):pe.reading||R.nextTick(ge,this)),ae},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(q,L){var ae=o.prototype.removeListener.call(this,q,L);return q==="readable"&&R.nextTick(me,this),ae},C.prototype.removeAllListeners=function(q){var L=o.prototype.removeAllListeners.apply(this,arguments);return(q==="readable"||q===void 0)&&R.nextTick(me,this),L};function me(q){var L=q._readableState;L.readableListening=q.listenerCount("readable")>0,L.resumeScheduled&&!L.paused?L.flowing=!0:q.listenerCount("data")>0&&q.resume()}function ge(q){l("readable nexttick read 0"),q.read(0)}C.prototype.resume=function(){var q=this._readableState;return q.flowing||(l("resume"),q.flowing=!q.readableListening,_e(this,q)),q.paused=!1,this};function _e(q,L){L.resumeScheduled||(L.resumeScheduled=!0,R.nextTick(xe,q,L))}function xe(q,L){l("resume",L.reading),L.reading||q.read(0),L.resumeScheduled=!1,q.emit("resume"),ee(q),L.flowing&&!L.reading&&q.read(0)}C.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ee(q){var L=q._readableState;for(l("flow",L.flowing);L.flowing&&q.read()!==null;);}C.prototype.wrap=function(q){var L=this,ae=this._readableState,pe=!1;q.on("end",function(){if(l("wrapped end"),ae.decoder&&!ae.ended){var Ne=ae.decoder.end();Ne&&Ne.length&&L.push(Ne)}L.push(null)}),q.on("data",function(Ne){if(l("wrapped data"),ae.decoder&&(Ne=ae.decoder.write(Ne)),!(ae.objectMode&&Ne==null)&&!(!ae.objectMode&&(!Ne||!Ne.length))){var Ae=L.push(Ne);Ae||(pe=!0,q.pause())}});for(var Se in q)this[Se]===void 0&&typeof q[Se]=="function"&&(this[Se]=function(Ae){return function(){return q[Ae].apply(q,arguments)}}(Se));for(var ye=0;ye<ne.length;ye++)q.on(ne[ye],this.emit.bind(this,ne[ye]));return this._read=function(Ne){l("wrapped _read",Ne),pe&&(pe=!1,q.resume())},this},typeof Symbol=="function"&&(C.prototype[Symbol.asyncIterator]=function(){return J===void 0&&(J=y(527)),J(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(L){this._readableState&&(this._readableState.flowing=L)}}),C._fromList=X,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function X(q,L){if(L.length===0)return null;var ae;return L.objectMode?ae=L.buffer.shift():!q||q>=L.length?(L.decoder?ae=L.buffer.join(""):L.buffer.length===1?ae=L.buffer.first():ae=L.buffer.concat(L.length),L.buffer.clear()):ae=L.buffer.consume(q,L.decoder),ae}function ce(q){var L=q._readableState;l("endReadable",L.endEmitted),L.endEmitted||(L.ended=!0,R.nextTick(he,L,q))}function he(q,L){if(l("endReadableNT",q.endEmitted,q.length),!q.endEmitted&&q.length===0&&(q.endEmitted=!0,L.readable=!1,L.emit("end"),q.autoDestroy)){var ae=L._writableState;(!ae||ae.autoDestroy&&ae.finished)&&L.destroy()}}typeof Symbol=="function"&&(C.from=function(q,L){return te===void 0&&(te=y(5327)),te(C,q,L)});function ve(q,L){for(var ae=0,pe=q.length;ae<pe;ae++)if(q[ae]===L)return ae;return-1}},421:(b,z,y)=>{"use strict";b.exports=c;var R=y(9786).q,O=R.ERR_METHOD_NOT_IMPLEMENTED,N=R.ERR_MULTIPLE_CALLBACK,k=R.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=R.ERR_TRANSFORM_WITH_LENGTH_0,u=y(2910);y(5717)(c,u);function n(l,E){var d=this._transformState;d.transforming=!1;var p=d.writecb;if(p===null)return this.emit("error",new N);d.writechunk=null,d.writecb=null,E!=null&&this.push(E),p(l);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function c(l){if(!(this instanceof c))return new c(l);u.call(this,l),this._transformState={afterTransform:n.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",v)}function v(){var l=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(E,d){f(l,E,d)}):f(this,null,null)}c.prototype.push=function(l,E){return this._transformState.needTransform=!1,u.prototype.push.call(this,l,E)},c.prototype._transform=function(l,E,d){d(new O("_transform()"))},c.prototype._write=function(l,E,d){var p=this._transformState;if(p.writecb=d,p.writechunk=l,p.writeencoding=E,!p.transforming){var g=this._readableState;(p.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},c.prototype._read=function(l){var E=this._transformState;E.writechunk!==null&&!E.transforming?(E.transforming=!0,this._transform(E.writechunk,E.writeencoding,E.afterTransform)):E.needTransform=!0},c.prototype._destroy=function(l,E){u.prototype._destroy.call(this,l,function(d){E(d)})};function f(l,E,d){if(E)return l.emit("error",E);if(d!=null&&l.push(d),l._writableState.length)throw new o;if(l._transformState.transforming)throw new k;return l.push(null)}},469:(b,z,y)=>{"use strict";var R=y(4155);b.exports=Q;function O(ee,X,ce){this.chunk=ee,this.encoding=X,this.callback=ce,this.next=null}function N(ee){var X=this;this.next=null,this.entry=null,this.finish=function(){xe(X,ee)}}var k;Q.WritableState=ne;var o={deprecate:y(4927)},u=y(677),n=y(8764).Buffer,c=y.g.Uint8Array||function(){};function v(ee){return n.from(ee)}function f(ee){return n.isBuffer(ee)||ee instanceof c}var l=y(5072),E=y(1222),d=E.getHighWaterMark,p=y(9786).q,g=p.ERR_INVALID_ARG_TYPE,S=p.ERR_METHOD_NOT_IMPLEMENTED,A=p.ERR_MULTIPLE_CALLBACK,_=p.ERR_STREAM_CANNOT_PIPE,F=p.ERR_STREAM_DESTROYED,H=p.ERR_STREAM_NULL_VALUES,K=p.ERR_STREAM_WRITE_AFTER_END,J=p.ERR_UNKNOWN_ENCODING,te=l.errorOrDestroy;y(5717)(Q,u);function ie(){}function ne(ee,X,ce){k=k||y(2910),ee=ee||{},typeof ce!="boolean"&&(ce=X instanceof k),this.objectMode=!!ee.objectMode,ce&&(this.objectMode=this.objectMode||!!ee.writableObjectMode),this.highWaterMark=d(this,ee,"writableHighWaterMark",ce),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var he=ee.decodeStrings===!1;this.decodeStrings=!he,this.defaultEncoding=ee.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ve){D(X,ve)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ee.emitClose!==!1,this.autoDestroy=!!ee.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new N(this)}ne.prototype.getBuffer=function(){for(var X=this.bufferedRequest,ce=[];X;)ce.push(X),X=X.next;return ce},function(){try{Object.defineProperty(ne.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(ee){}}();var ue;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ue=Function.prototype[Symbol.hasInstance],Object.defineProperty(Q,Symbol.hasInstance,{value:function(X){return ue.call(this,X)?!0:this!==Q?!1:X&&X._writableState instanceof ne}})):ue=function(X){return X instanceof this};function Q(ee){k=k||y(2910);var X=this instanceof k;if(!X&&!ue.call(Q,this))return new Q(ee);this._writableState=new ne(ee,this,X),this.writable=!0,ee&&(typeof ee.write=="function"&&(this._write=ee.write),typeof ee.writev=="function"&&(this._writev=ee.writev),typeof ee.destroy=="function"&&(this._destroy=ee.destroy),typeof ee.final=="function"&&(this._final=ee.final)),u.call(this)}Q.prototype.pipe=function(){te(this,new _)};function C(ee,X){var ce=new K;te(ee,ce),R.nextTick(X,ce)}function U(ee,X,ce,he){var ve;return ce===null?ve=new H:typeof ce!="string"&&!X.objectMode&&(ve=new g("chunk",["string","Buffer"],ce)),ve?(te(ee,ve),R.nextTick(he,ve),!1):!0}Q.prototype.write=function(ee,X,ce){var he=this._writableState,ve=!1,q=!he.objectMode&&f(ee);return q&&!n.isBuffer(ee)&&(ee=v(ee)),typeof X=="function"&&(ce=X,X=null),q?X="buffer":X||(X=he.defaultEncoding),typeof ce!="function"&&(ce=ie),he.ending?C(this,ce):(q||U(this,he,ee,ce))&&(he.pendingcb++,ve=s(this,he,q,ee,X,ce)),ve},Q.prototype.cork=function(){this._writableState.corked++},Q.prototype.uncork=function(){var ee=this._writableState;ee.corked&&(ee.corked--,!ee.writing&&!ee.corked&&!ee.bufferProcessing&&ee.bufferedRequest&&G(this,ee))},Q.prototype.setDefaultEncoding=function(X){if(typeof X=="string"&&(X=X.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((X+"").toLowerCase())>-1))throw new J(X);return this._writableState.defaultEncoding=X,this},Object.defineProperty(Q.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function M(ee,X,ce){return!ee.objectMode&&ee.decodeStrings!==!1&&typeof X=="string"&&(X=n.from(X,ce)),X}Object.defineProperty(Q.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function s(ee,X,ce,he,ve,q){if(!ce){var L=M(X,he,ve);he!==L&&(ce=!0,ve="buffer",he=L)}var ae=X.objectMode?1:he.length;X.length+=ae;var pe=X.length<X.highWaterMark;if(pe||(X.needDrain=!0),X.writing||X.corked){var Se=X.lastBufferedRequest;X.lastBufferedRequest={chunk:he,encoding:ve,isBuf:ce,callback:q,next:null},Se?Se.next=X.lastBufferedRequest:X.bufferedRequest=X.lastBufferedRequest,X.bufferedRequestCount+=1}else m(ee,X,!1,ae,he,ve,q);return pe}function m(ee,X,ce,he,ve,q,L){X.writelen=he,X.writecb=L,X.writing=!0,X.sync=!0,X.destroyed?X.onwrite(new F("write")):ce?ee._writev(ve,X.onwrite):ee._write(ve,q,X.onwrite),X.sync=!1}function T(ee,X,ce,he,ve){--X.pendingcb,ce?(R.nextTick(ve,he),R.nextTick(ge,ee,X),ee._writableState.errorEmitted=!0,te(ee,he)):(ve(he),ee._writableState.errorEmitted=!0,te(ee,he),ge(ee,X))}function I(ee){ee.writing=!1,ee.writecb=null,ee.length-=ee.writelen,ee.writelen=0}function D(ee,X){var ce=ee._writableState,he=ce.sync,ve=ce.writecb;if(typeof ve!="function")throw new A;if(I(ce),X)T(ee,ce,he,X,ve);else{var q=w(ce)||ee.destroyed;!q&&!ce.corked&&!ce.bufferProcessing&&ce.bufferedRequest&&G(ee,ce),he?R.nextTick(P,ee,ce,q,ve):P(ee,ce,q,ve)}}function P(ee,X,ce,he){ce||V(ee,X),X.pendingcb--,he(),ge(ee,X)}function V(ee,X){X.length===0&&X.needDrain&&(X.needDrain=!1,ee.emit("drain"))}function G(ee,X){X.bufferProcessing=!0;var ce=X.bufferedRequest;if(ee._writev&&ce&&ce.next){var he=X.bufferedRequestCount,ve=new Array(he),q=X.corkedRequestsFree;q.entry=ce;for(var L=0,ae=!0;ce;)ve[L]=ce,ce.isBuf||(ae=!1),ce=ce.next,L+=1;ve.allBuffers=ae,m(ee,X,!0,X.length,ve,"",q.finish),X.pendingcb++,X.lastBufferedRequest=null,q.next?(X.corkedRequestsFree=q.next,q.next=null):X.corkedRequestsFree=new N(X),X.bufferedRequestCount=0}else{for(;ce;){var pe=ce.chunk,Se=ce.encoding,ye=ce.callback,Ne=X.objectMode?1:pe.length;if(m(ee,X,!1,Ne,pe,Se,ye),ce=ce.next,X.bufferedRequestCount--,X.writing)break}ce===null&&(X.lastBufferedRequest=null)}X.bufferedRequest=ce,X.bufferProcessing=!1}Q.prototype._write=function(ee,X,ce){ce(new S("_write()"))},Q.prototype._writev=null,Q.prototype.end=function(ee,X,ce){var he=this._writableState;return typeof ee=="function"?(ce=ee,ee=null,X=null):typeof X=="function"&&(ce=X,X=null),ee!=null&&this.write(ee,X),he.corked&&(he.corked=1,this.uncork()),he.ending||_e(this,he,ce),this},Object.defineProperty(Q.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function w(ee){return ee.ending&&ee.length===0&&ee.bufferedRequest===null&&!ee.finished&&!ee.writing}function Y(ee,X){ee._final(function(ce){X.pendingcb--,ce&&te(ee,ce),X.prefinished=!0,ee.emit("prefinish"),ge(ee,X)})}function me(ee,X){!X.prefinished&&!X.finalCalled&&(typeof ee._final=="function"&&!X.destroyed?(X.pendingcb++,X.finalCalled=!0,R.nextTick(Y,ee,X)):(X.prefinished=!0,ee.emit("prefinish")))}function ge(ee,X){var ce=w(X);if(ce&&(me(ee,X),X.pendingcb===0&&(X.finished=!0,ee.emit("finish"),X.autoDestroy))){var he=ee._readableState;(!he||he.autoDestroy&&he.endEmitted)&&ee.destroy()}return ce}function _e(ee,X,ce){X.ending=!0,ge(ee,X),ce&&(X.finished?R.nextTick(ce):ee.once("finish",ce)),X.ended=!0,ee.writable=!1}function xe(ee,X,ce){var he=ee.entry;for(ee.entry=null;he;){var ve=he.callback;X.pendingcb--,ve(ce),he=he.next}X.corkedRequestsFree.next=ee}Object.defineProperty(Q.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(X){!this._writableState||(this._writableState.destroyed=X)}}),Q.prototype.destroy=l.destroy,Q.prototype._undestroy=l.undestroy,Q.prototype._destroy=function(ee,X){X(ee)}},527:(b,z,y)=>{"use strict";var R=y(4155),O;function N(F,H,K){return H in F?Object.defineProperty(F,H,{value:K,enumerable:!0,configurable:!0,writable:!0}):F[H]=K,F}var k=y(8640),o=Symbol("lastResolve"),u=Symbol("lastReject"),n=Symbol("error"),c=Symbol("ended"),v=Symbol("lastPromise"),f=Symbol("handlePromise"),l=Symbol("stream");function E(F,H){return{value:F,done:H}}function d(F){var H=F[o];if(H!==null){var K=F[l].read();K!==null&&(F[v]=null,F[o]=null,F[u]=null,H(E(K,!1)))}}function p(F){R.nextTick(d,F)}function g(F,H){return function(K,J){F.then(function(){if(H[c]){K(E(void 0,!0));return}H[f](K,J)},J)}}var S=Object.getPrototypeOf(function(){}),A=Object.setPrototypeOf((O={get stream(){return this[l]},next:function(){var H=this,K=this[n];if(K!==null)return Promise.reject(K);if(this[c])return Promise.resolve(E(void 0,!0));if(this[l].destroyed)return new Promise(function(ne,ue){R.nextTick(function(){H[n]?ue(H[n]):ne(E(void 0,!0))})});var J=this[v],te;if(J)te=new Promise(g(J,this));else{var ie=this[l].read();if(ie!==null)return Promise.resolve(E(ie,!1));te=new Promise(this[f])}return this[v]=te,te}},N(O,Symbol.asyncIterator,function(){return this}),N(O,"return",function(){var H=this;return new Promise(function(K,J){H[l].destroy(null,function(te){if(te){J(te);return}K(E(void 0,!0))})})}),O),S),_=function(H){var K,J=Object.create(A,(K={},N(K,l,{value:H,writable:!0}),N(K,o,{value:null,writable:!0}),N(K,u,{value:null,writable:!0}),N(K,n,{value:null,writable:!0}),N(K,c,{value:H._readableState.endEmitted,writable:!0}),N(K,f,{value:function(ie,ne){var ue=J[l].read();ue?(J[v]=null,J[o]=null,J[u]=null,ie(E(ue,!1))):(J[o]=ie,J[u]=ne)},writable:!0}),K));return J[v]=null,k(H,function(te){if(te&&te.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ie=J[u];ie!==null&&(J[v]=null,J[o]=null,J[u]=null,ie(te)),J[n]=te;return}var ne=J[o];ne!==null&&(J[v]=null,J[o]=null,J[u]=null,ne(E(void 0,!0))),J[c]=!0}),H.on("readable",p.bind(null,J)),J};b.exports=_},8354:(b,z,y)=>{"use strict";function R(d,p){var g=Object.keys(d);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(d);p&&(S=S.filter(function(A){return Object.getOwnPropertyDescriptor(d,A).enumerable})),g.push.apply(g,S)}return g}function O(d){for(var p=1;p<arguments.length;p++){var g=arguments[p]!=null?arguments[p]:{};p%2?R(Object(g),!0).forEach(function(S){N(d,S,g[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(g)):R(Object(g)).forEach(function(S){Object.defineProperty(d,S,Object.getOwnPropertyDescriptor(g,S))})}return d}function N(d,p,g){return p in d?Object.defineProperty(d,p,{value:g,enumerable:!0,configurable:!0,writable:!0}):d[p]=g,d}function k(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function o(d,p){for(var g=0;g<p.length;g++){var S=p[g];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(d,S.key,S)}}function u(d,p,g){return p&&o(d.prototype,p),g&&o(d,g),d}var n=y(8764),c=n.Buffer,v=y(9386),f=v.inspect,l=f&&f.custom||"inspect";function E(d,p,g){c.prototype.copy.call(d,p,g)}b.exports=function(){function d(){k(this,d),this.head=null,this.tail=null,this.length=0}return u(d,[{key:"push",value:function(g){var S={data:g,next:null};this.length>0?this.tail.next=S:this.head=S,this.tail=S,++this.length}},{key:"unshift",value:function(g){var S={data:g,next:this.head};this.length===0&&(this.tail=S),this.head=S,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var S=this.head,A=""+S.data;S=S.next;)A+=g+S.data;return A}},{key:"concat",value:function(g){if(this.length===0)return c.alloc(0);for(var S=c.allocUnsafe(g>>>0),A=this.head,_=0;A;)E(A.data,S,_),_+=A.data.length,A=A.next;return S}},{key:"consume",value:function(g,S){var A;return g<this.head.data.length?(A=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):g===this.head.data.length?A=this.shift():A=S?this._getString(g):this._getBuffer(g),A}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var S=this.head,A=1,_=S.data;for(g-=_.length;S=S.next;){var F=S.data,H=g>F.length?F.length:g;if(H===F.length?_+=F:_+=F.slice(0,g),g-=H,g===0){H===F.length?(++A,S.next?this.head=S.next:this.head=this.tail=null):(this.head=S,S.data=F.slice(H));break}++A}return this.length-=A,_}},{key:"_getBuffer",value:function(g){var S=c.allocUnsafe(g),A=this.head,_=1;for(A.data.copy(S),g-=A.data.length;A=A.next;){var F=A.data,H=g>F.length?F.length:g;if(F.copy(S,S.length-g,0,H),g-=H,g===0){H===F.length?(++_,A.next?this.head=A.next:this.head=this.tail=null):(this.head=A,A.data=F.slice(H));break}++_}return this.length-=_,S}},{key:l,value:function(g,S){return f(this,O({},S,{depth:0,customInspect:!1}))}}]),d}()},5072:(b,z,y)=>{"use strict";var R=y(4155);function O(c,v){var f=this,l=this._readableState&&this._readableState.destroyed,E=this._writableState&&this._writableState.destroyed;return l||E?(v?v(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,R.nextTick(u,this,c)):R.nextTick(u,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,function(d){!v&&d?f._writableState?f._writableState.errorEmitted?R.nextTick(k,f):(f._writableState.errorEmitted=!0,R.nextTick(N,f,d)):R.nextTick(N,f,d):v?(R.nextTick(k,f),v(d)):R.nextTick(k,f)}),this)}function N(c,v){u(c,v),k(c)}function k(c){c._writableState&&!c._writableState.emitClose||c._readableState&&!c._readableState.emitClose||c.emit("close")}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function u(c,v){c.emit("error",v)}function n(c,v){var f=c._readableState,l=c._writableState;f&&f.autoDestroy||l&&l.autoDestroy?c.destroy(v):c.emit("error",v)}b.exports={destroy:O,undestroy:o,errorOrDestroy:n}},8640:(b,z,y)=>{"use strict";var R=y(9786).q.ERR_STREAM_PREMATURE_CLOSE;function O(u){var n=!1;return function(){if(!n){n=!0;for(var c=arguments.length,v=new Array(c),f=0;f<c;f++)v[f]=arguments[f];u.apply(this,v)}}}function N(){}function k(u){return u.setHeader&&typeof u.abort=="function"}function o(u,n,c){if(typeof n=="function")return o(u,null,n);n||(n={}),c=O(c||N);var v=n.readable||n.readable!==!1&&u.readable,f=n.writable||n.writable!==!1&&u.writable,l=function(){u.writable||d()},E=u._writableState&&u._writableState.finished,d=function(){f=!1,E=!0,v||c.call(u)},p=u._readableState&&u._readableState.endEmitted,g=function(){v=!1,p=!0,f||c.call(u)},S=function(H){c.call(u,H)},A=function(){var H;if(v&&!p)return(!u._readableState||!u._readableState.ended)&&(H=new R),c.call(u,H);if(f&&!E)return(!u._writableState||!u._writableState.ended)&&(H=new R),c.call(u,H)},_=function(){u.req.on("finish",d)};return k(u)?(u.on("complete",d),u.on("abort",A),u.req?_():u.on("request",_)):f&&!u._writableState&&(u.on("end",l),u.on("close",l)),u.on("end",g),u.on("finish",d),n.error!==!1&&u.on("error",S),u.on("close",A),function(){u.removeListener("complete",d),u.removeListener("abort",A),u.removeListener("request",_),u.req&&u.req.removeListener("finish",d),u.removeListener("end",l),u.removeListener("close",l),u.removeListener("finish",d),u.removeListener("end",g),u.removeListener("error",S),u.removeListener("close",A)}}b.exports=o},5327:b=>{b.exports=function(){throw new Error("Readable.from is not available in the browser")}},4218:(b,z,y)=>{"use strict";var R;function O(d){var p=!1;return function(){p||(p=!0,d.apply(void 0,arguments))}}var N=y(9786).q,k=N.ERR_MISSING_ARGS,o=N.ERR_STREAM_DESTROYED;function u(d){if(d)throw d}function n(d){return d.setHeader&&typeof d.abort=="function"}function c(d,p,g,S){S=O(S);var A=!1;d.on("close",function(){A=!0}),R===void 0&&(R=y(8640)),R(d,{readable:p,writable:g},function(F){if(F)return S(F);A=!0,S()});var _=!1;return function(F){if(!A&&!_){if(_=!0,n(d))return d.abort();if(typeof d.destroy=="function")return d.destroy();S(F||new o("pipe"))}}}function v(d){d()}function f(d,p){return d.pipe(p)}function l(d){return!d.length||typeof d[d.length-1]!="function"?u:d.pop()}function E(){for(var d=arguments.length,p=new Array(d),g=0;g<d;g++)p[g]=arguments[g];var S=l(p);if(Array.isArray(p[0])&&(p=p[0]),p.length<2)throw new k("streams");var A,_=p.map(function(F,H){var K=H<p.length-1,J=H>0;return c(F,K,J,function(te){A||(A=te),te&&_.forEach(v),!K&&(_.forEach(v),S(A))})});return p.reduce(f)}b.exports=E},1222:(b,z,y)=>{"use strict";var R=y(9786).q.ERR_INVALID_OPT_VALUE;function O(k,o,u){return k.highWaterMark!=null?k.highWaterMark:o?k[u]:null}function N(k,o,u,n){var c=O(o,n,u);if(c!=null){if(!(isFinite(c)&&Math.floor(c)===c)||c<0){var v=n?u:"highWaterMark";throw new R(v,c)}return Math.floor(c)}return k.objectMode?16:16*1024}b.exports={getHighWaterMark:N}},677:(b,z,y)=>{b.exports=y(7187).EventEmitter},326:(b,z,y)=>{z=b.exports=y(5789),z.Stream=z,z.Readable=z,z.Writable=y(469),z.Duplex=y(2910),z.Transform=y(421),z.PassThrough=y(8994),z.finished=y(8640),z.pipeline=y(4218)},3893:(b,z,y)=>{"use strict";var R=y(9509).Buffer,O=R.isEncoding||function(_){switch(_=""+_,_&&_.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function N(_){if(!_)return"utf8";for(var F;;)switch(_){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return _;default:if(F)return;_=(""+_).toLowerCase(),F=!0}}function k(_){var F=N(_);if(typeof F!="string"&&(R.isEncoding===O||!O(_)))throw new Error("Unknown encoding: "+_);return F||_}z.s=o;function o(_){this.encoding=k(_);var F;switch(this.encoding){case"utf16le":this.text=E,this.end=d,F=4;break;case"utf8":this.fillLast=v,F=4;break;case"base64":this.text=p,this.end=g,F=3;break;default:this.write=S,this.end=A;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=R.allocUnsafe(F)}o.prototype.write=function(_){if(_.length===0)return"";var F,H;if(this.lastNeed){if(F=this.fillLast(_),F===void 0)return"";H=this.lastNeed,this.lastNeed=0}else H=0;return H<_.length?F?F+this.text(_,H):this.text(_,H):F||""},o.prototype.end=l,o.prototype.text=f,o.prototype.fillLast=function(_){if(this.lastNeed<=_.length)return _.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,this.lastTotal-this.lastNeed,0,_.length),this.lastNeed-=_.length};function u(_){return _<=127?0:_>>5==6?2:_>>4==14?3:_>>3==30?4:_>>6==2?-1:-2}function n(_,F,H){var K=F.length-1;if(K<H)return 0;var J=u(F[K]);return J>=0?(J>0&&(_.lastNeed=J-1),J):--K<H||J===-2?0:(J=u(F[K]),J>=0?(J>0&&(_.lastNeed=J-2),J):--K<H||J===-2?0:(J=u(F[K]),J>=0?(J>0&&(J===2?J=0:_.lastNeed=J-3),J):0))}function c(_,F,H){if((F[0]&192)!=128)return _.lastNeed=0,"\uFFFD";if(_.lastNeed>1&&F.length>1){if((F[1]&192)!=128)return _.lastNeed=1,"\uFFFD";if(_.lastNeed>2&&F.length>2&&(F[2]&192)!=128)return _.lastNeed=2,"\uFFFD"}}function v(_){var F=this.lastTotal-this.lastNeed,H=c(this,_,F);if(H!==void 0)return H;if(this.lastNeed<=_.length)return _.copy(this.lastChar,F,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,F,0,_.length),this.lastNeed-=_.length}function f(_,F){var H=n(this,_,F);if(!this.lastNeed)return _.toString("utf8",F);this.lastTotal=H;var K=_.length-(H-this.lastNeed);return _.copy(this.lastChar,0,K),_.toString("utf8",F,K)}function l(_){var F=_&&_.length?this.write(_):"";return this.lastNeed?F+"\uFFFD":F}function E(_,F){if((_.length-F)%2==0){var H=_.toString("utf16le",F);if(H){var K=H.charCodeAt(H.length-1);if(K>=55296&&K<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1],H.slice(0,-1)}return H}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=_[_.length-1],_.toString("utf16le",F,_.length-1)}function d(_){var F=_&&_.length?this.write(_):"";if(this.lastNeed){var H=this.lastTotal-this.lastNeed;return F+this.lastChar.toString("utf16le",0,H)}return F}function p(_,F){var H=(_.length-F)%3;return H===0?_.toString("base64",F):(this.lastNeed=3-H,this.lastTotal=3,H===1?this.lastChar[0]=_[_.length-1]:(this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1]),_.toString("base64",F,_.length-H))}function g(_){var F=_&&_.length?this.write(_):"";return this.lastNeed?F+this.lastChar.toString("base64",0,3-this.lastNeed):F}function S(_){return _.toString(this.encoding)}function A(_){return _&&_.length?this.write(_):""}},3715:(b,z,y)=>{var R=z;R.utils=y(6436),R.common=y(5772),R.sha=y(9041),R.ripemd=y(2949),R.hmac=y(2344),R.sha1=R.sha.sha1,R.sha256=R.sha.sha256,R.sha224=R.sha.sha224,R.sha384=R.sha.sha384,R.sha512=R.sha.sha512,R.ripemd160=R.ripemd.ripemd160},5772:(b,z,y)=>{"use strict";var R=y(6436),O=y(9746);function N(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}z.BlockHash=N,N.prototype.update=function(o,u){if(o=R.toArray(o,u),this.pending?this.pending=this.pending.concat(o):this.pending=o,this.pendingTotal+=o.length,this.pending.length>=this._delta8){o=this.pending;var n=o.length%this._delta8;this.pending=o.slice(o.length-n,o.length),this.pending.length===0&&(this.pending=null),o=R.join32(o,0,o.length-n,this.endian);for(var c=0;c<o.length;c+=this._delta32)this._update(o,c,c+this._delta32)}return this},N.prototype.digest=function(o){return this.update(this._pad()),O(this.pending===null),this._digest(o)},N.prototype._pad=function(){var o=this.pendingTotal,u=this._delta8,n=u-(o+this.padLength)%u,c=new Array(n+this.padLength);c[0]=128;for(var v=1;v<n;v++)c[v]=0;if(o<<=3,this.endian==="big"){for(var f=8;f<this.padLength;f++)c[v++]=0;c[v++]=0,c[v++]=0,c[v++]=0,c[v++]=0,c[v++]=o>>>24&255,c[v++]=o>>>16&255,c[v++]=o>>>8&255,c[v++]=o&255}else for(c[v++]=o&255,c[v++]=o>>>8&255,c[v++]=o>>>16&255,c[v++]=o>>>24&255,c[v++]=0,c[v++]=0,c[v++]=0,c[v++]=0,f=8;f<this.padLength;f++)c[v++]=0;return c}},2344:(b,z,y)=>{"use strict";var R=y(6436),O=y(9746);function N(k,o,u){if(!(this instanceof N))return new N(k,o,u);this.Hash=k,this.blockSize=k.blockSize/8,this.outSize=k.outSize/8,this.inner=null,this.outer=null,this._init(R.toArray(o,u))}b.exports=N,N.prototype._init=function(o){o.length>this.blockSize&&(o=new this.Hash().update(o).digest()),O(o.length<=this.blockSize);for(var u=o.length;u<this.blockSize;u++)o.push(0);for(u=0;u<o.length;u++)o[u]^=54;for(this.inner=new this.Hash().update(o),u=0;u<o.length;u++)o[u]^=106;this.outer=new this.Hash().update(o)},N.prototype.update=function(o,u){return this.inner.update(o,u),this},N.prototype.digest=function(o){return this.outer.update(this.inner.digest()),this.outer.digest(o)}},2949:(b,z,y)=>{"use strict";var R=y(6436),O=y(5772),N=R.rotl32,k=R.sum32,o=R.sum32_3,u=R.sum32_4,n=O.BlockHash;function c(){if(!(this instanceof c))return new c;n.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}R.inherits(c,n),z.ripemd160=c,c.blockSize=512,c.outSize=160,c.hmacStrength=192,c.padLength=64,c.prototype._update=function(A,_){for(var F=this.h[0],H=this.h[1],K=this.h[2],J=this.h[3],te=this.h[4],ie=F,ne=H,ue=K,Q=J,C=te,U=0;U<80;U++){var M=k(N(u(F,v(U,H,K,J),A[E[U]+_],f(U)),p[U]),te);F=te,te=J,J=N(K,10),K=H,H=M,M=k(N(u(ie,v(79-U,ne,ue,Q),A[d[U]+_],l(U)),g[U]),C),ie=C,C=Q,Q=N(ue,10),ue=ne,ne=M}M=o(this.h[1],K,Q),this.h[1]=o(this.h[2],J,C),this.h[2]=o(this.h[3],te,ie),this.h[3]=o(this.h[4],F,ne),this.h[4]=o(this.h[0],H,ue),this.h[0]=M},c.prototype._digest=function(A){return A==="hex"?R.toHex32(this.h,"little"):R.split32(this.h,"little")};function v(S,A,_,F){return S<=15?A^_^F:S<=31?A&_|~A&F:S<=47?(A|~_)^F:S<=63?A&F|_&~F:A^(_|~F)}function f(S){return S<=15?0:S<=31?1518500249:S<=47?1859775393:S<=63?2400959708:2840853838}function l(S){return S<=15?1352829926:S<=31?1548603684:S<=47?1836072691:S<=63?2053994217:0}var E=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],g=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},9041:(b,z,y)=>{"use strict";z.sha1=y(4761),z.sha224=y(799),z.sha256=y(9344),z.sha384=y(772),z.sha512=y(5900)},4761:(b,z,y)=>{"use strict";var R=y(6436),O=y(5772),N=y(7038),k=R.rotl32,o=R.sum32,u=R.sum32_5,n=N.ft_1,c=O.BlockHash,v=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}R.inherits(f,c),b.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(E,d){for(var p=this.W,g=0;g<16;g++)p[g]=E[d+g];for(;g<p.length;g++)p[g]=k(p[g-3]^p[g-8]^p[g-14]^p[g-16],1);var S=this.h[0],A=this.h[1],_=this.h[2],F=this.h[3],H=this.h[4];for(g=0;g<p.length;g++){var K=~~(g/20),J=u(k(S,5),n(K,A,_,F),H,p[g],v[K]);H=F,F=_,_=k(A,30),A=S,S=J}this.h[0]=o(this.h[0],S),this.h[1]=o(this.h[1],A),this.h[2]=o(this.h[2],_),this.h[3]=o(this.h[3],F),this.h[4]=o(this.h[4],H)},f.prototype._digest=function(E){return E==="hex"?R.toHex32(this.h,"big"):R.split32(this.h,"big")}},799:(b,z,y)=>{"use strict";var R=y(6436),O=y(9344);function N(){if(!(this instanceof N))return new N;O.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}R.inherits(N,O),b.exports=N,N.blockSize=512,N.outSize=224,N.hmacStrength=192,N.padLength=64,N.prototype._digest=function(o){return o==="hex"?R.toHex32(this.h.slice(0,7),"big"):R.split32(this.h.slice(0,7),"big")}},9344:(b,z,y)=>{"use strict";var R=y(6436),O=y(5772),N=y(7038),k=y(9746),o=R.sum32,u=R.sum32_4,n=R.sum32_5,c=N.ch32,v=N.maj32,f=N.s0_256,l=N.s1_256,E=N.g0_256,d=N.g1_256,p=O.BlockHash,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function S(){if(!(this instanceof S))return new S;p.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=g,this.W=new Array(64)}R.inherits(S,p),b.exports=S,S.blockSize=512,S.outSize=256,S.hmacStrength=192,S.padLength=64,S.prototype._update=function(_,F){for(var H=this.W,K=0;K<16;K++)H[K]=_[F+K];for(;K<H.length;K++)H[K]=u(d(H[K-2]),H[K-7],E(H[K-15]),H[K-16]);var J=this.h[0],te=this.h[1],ie=this.h[2],ne=this.h[3],ue=this.h[4],Q=this.h[5],C=this.h[6],U=this.h[7];for(k(this.k.length===H.length),K=0;K<H.length;K++){var M=n(U,l(ue),c(ue,Q,C),this.k[K],H[K]),s=o(f(J),v(J,te,ie));U=C,C=Q,Q=ue,ue=o(ne,M),ne=ie,ie=te,te=J,J=o(M,s)}this.h[0]=o(this.h[0],J),this.h[1]=o(this.h[1],te),this.h[2]=o(this.h[2],ie),this.h[3]=o(this.h[3],ne),this.h[4]=o(this.h[4],ue),this.h[5]=o(this.h[5],Q),this.h[6]=o(this.h[6],C),this.h[7]=o(this.h[7],U)},S.prototype._digest=function(_){return _==="hex"?R.toHex32(this.h,"big"):R.split32(this.h,"big")}},772:(b,z,y)=>{"use strict";var R=y(6436),O=y(5900);function N(){if(!(this instanceof N))return new N;O.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}R.inherits(N,O),b.exports=N,N.blockSize=1024,N.outSize=384,N.hmacStrength=192,N.padLength=128,N.prototype._digest=function(o){return o==="hex"?R.toHex32(this.h.slice(0,12),"big"):R.split32(this.h.slice(0,12),"big")}},5900:(b,z,y)=>{"use strict";var R=y(6436),O=y(5772),N=y(9746),k=R.rotr64_hi,o=R.rotr64_lo,u=R.shr64_hi,n=R.shr64_lo,c=R.sum64,v=R.sum64_hi,f=R.sum64_lo,l=R.sum64_4_hi,E=R.sum64_4_lo,d=R.sum64_5_hi,p=R.sum64_5_lo,g=O.BlockHash,S=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function A(){if(!(this instanceof A))return new A;g.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=S,this.W=new Array(160)}R.inherits(A,g),b.exports=A,A.blockSize=1024,A.outSize=512,A.hmacStrength=192,A.padLength=128,A.prototype._prepareBlock=function(s,m){for(var T=this.W,I=0;I<32;I++)T[I]=s[m+I];for(;I<T.length;I+=2){var D=C(T[I-4],T[I-3]),P=U(T[I-4],T[I-3]),V=T[I-14],G=T[I-13],w=ue(T[I-30],T[I-29]),Y=Q(T[I-30],T[I-29]),me=T[I-32],ge=T[I-31];T[I]=l(D,P,V,G,w,Y,me,ge),T[I+1]=E(D,P,V,G,w,Y,me,ge)}},A.prototype._update=function(s,m){this._prepareBlock(s,m);var T=this.W,I=this.h[0],D=this.h[1],P=this.h[2],V=this.h[3],G=this.h[4],w=this.h[5],Y=this.h[6],me=this.h[7],ge=this.h[8],_e=this.h[9],xe=this.h[10],ee=this.h[11],X=this.h[12],ce=this.h[13],he=this.h[14],ve=this.h[15];N(this.k.length===T.length);for(var q=0;q<T.length;q+=2){var L=he,ae=ve,pe=ie(ge,_e),Se=ne(ge,_e),ye=_(ge,_e,xe,ee,X,ce),Ne=F(ge,_e,xe,ee,X,ce),Ae=this.k[q],Me=this.k[q+1],ut=T[q],qe=T[q+1],Fe=d(L,ae,pe,Se,ye,Ne,Ae,Me,ut,qe),ht=p(L,ae,pe,Se,ye,Ne,Ae,Me,ut,qe);L=J(I,D),ae=te(I,D),pe=H(I,D,P,V,G,w),Se=K(I,D,P,V,G,w);var se=v(L,ae,pe,Se),j=f(L,ae,pe,Se);he=X,ve=ce,X=xe,ce=ee,xe=ge,ee=_e,ge=v(Y,me,Fe,ht),_e=f(me,me,Fe,ht),Y=G,me=w,G=P,w=V,P=I,V=D,I=v(Fe,ht,se,j),D=f(Fe,ht,se,j)}c(this.h,0,I,D),c(this.h,2,P,V),c(this.h,4,G,w),c(this.h,6,Y,me),c(this.h,8,ge,_e),c(this.h,10,xe,ee),c(this.h,12,X,ce),c(this.h,14,he,ve)},A.prototype._digest=function(s){return s==="hex"?R.toHex32(this.h,"big"):R.split32(this.h,"big")};function _(M,s,m,T,I){var D=M&m^~M&I;return D<0&&(D+=4294967296),D}function F(M,s,m,T,I,D){var P=s&T^~s&D;return P<0&&(P+=4294967296),P}function H(M,s,m,T,I){var D=M&m^M&I^m&I;return D<0&&(D+=4294967296),D}function K(M,s,m,T,I,D){var P=s&T^s&D^T&D;return P<0&&(P+=4294967296),P}function J(M,s){var m=k(M,s,28),T=k(s,M,2),I=k(s,M,7),D=m^T^I;return D<0&&(D+=4294967296),D}function te(M,s){var m=o(M,s,28),T=o(s,M,2),I=o(s,M,7),D=m^T^I;return D<0&&(D+=4294967296),D}function ie(M,s){var m=k(M,s,14),T=k(M,s,18),I=k(s,M,9),D=m^T^I;return D<0&&(D+=4294967296),D}function ne(M,s){var m=o(M,s,14),T=o(M,s,18),I=o(s,M,9),D=m^T^I;return D<0&&(D+=4294967296),D}function ue(M,s){var m=k(M,s,1),T=k(M,s,8),I=u(M,s,7),D=m^T^I;return D<0&&(D+=4294967296),D}function Q(M,s){var m=o(M,s,1),T=o(M,s,8),I=n(M,s,7),D=m^T^I;return D<0&&(D+=4294967296),D}function C(M,s){var m=k(M,s,19),T=k(s,M,29),I=u(M,s,6),D=m^T^I;return D<0&&(D+=4294967296),D}function U(M,s){var m=o(M,s,19),T=o(s,M,29),I=n(M,s,6),D=m^T^I;return D<0&&(D+=4294967296),D}},7038:(b,z,y)=>{"use strict";var R=y(6436),O=R.rotr32;function N(l,E,d,p){if(l===0)return k(E,d,p);if(l===1||l===3)return u(E,d,p);if(l===2)return o(E,d,p)}z.ft_1=N;function k(l,E,d){return l&E^~l&d}z.ch32=k;function o(l,E,d){return l&E^l&d^E&d}z.maj32=o;function u(l,E,d){return l^E^d}z.p32=u;function n(l){return O(l,2)^O(l,13)^O(l,22)}z.s0_256=n;function c(l){return O(l,6)^O(l,11)^O(l,25)}z.s1_256=c;function v(l){return O(l,7)^O(l,18)^l>>>3}z.g0_256=v;function f(l){return O(l,17)^O(l,19)^l>>>10}z.g1_256=f},6436:(b,z,y)=>{"use strict";var R=y(9746),O=y(5717);z.inherits=O;function N(U,M){return(U.charCodeAt(M)&64512)!=55296||M<0||M+1>=U.length?!1:(U.charCodeAt(M+1)&64512)==56320}function k(U,M){if(Array.isArray(U))return U.slice();if(!U)return[];var s=[];if(typeof U=="string")if(M){if(M==="hex")for(U=U.replace(/[^a-z0-9]+/ig,""),U.length%2!=0&&(U="0"+U),T=0;T<U.length;T+=2)s.push(parseInt(U[T]+U[T+1],16))}else for(var m=0,T=0;T<U.length;T++){var I=U.charCodeAt(T);I<128?s[m++]=I:I<2048?(s[m++]=I>>6|192,s[m++]=I&63|128):N(U,T)?(I=65536+((I&1023)<<10)+(U.charCodeAt(++T)&1023),s[m++]=I>>18|240,s[m++]=I>>12&63|128,s[m++]=I>>6&63|128,s[m++]=I&63|128):(s[m++]=I>>12|224,s[m++]=I>>6&63|128,s[m++]=I&63|128)}else for(T=0;T<U.length;T++)s[T]=U[T]|0;return s}z.toArray=k;function o(U){for(var M="",s=0;s<U.length;s++)M+=c(U[s].toString(16));return M}z.toHex=o;function u(U){var M=U>>>24|U>>>8&65280|U<<8&16711680|(U&255)<<24;return M>>>0}z.htonl=u;function n(U,M){for(var s="",m=0;m<U.length;m++){var T=U[m];M==="little"&&(T=u(T)),s+=v(T.toString(16))}return s}z.toHex32=n;function c(U){return U.length===1?"0"+U:U}z.zero2=c;function v(U){return U.length===7?"0"+U:U.length===6?"00"+U:U.length===5?"000"+U:U.length===4?"0000"+U:U.length===3?"00000"+U:U.length===2?"000000"+U:U.length===1?"0000000"+U:U}z.zero8=v;function f(U,M,s,m){var T=s-M;R(T%4==0);for(var I=new Array(T/4),D=0,P=M;D<I.length;D++,P+=4){var V;m==="big"?V=U[P]<<24|U[P+1]<<16|U[P+2]<<8|U[P+3]:V=U[P+3]<<24|U[P+2]<<16|U[P+1]<<8|U[P],I[D]=V>>>0}return I}z.join32=f;function l(U,M){for(var s=new Array(U.length*4),m=0,T=0;m<U.length;m++,T+=4){var I=U[m];M==="big"?(s[T]=I>>>24,s[T+1]=I>>>16&255,s[T+2]=I>>>8&255,s[T+3]=I&255):(s[T+3]=I>>>24,s[T+2]=I>>>16&255,s[T+1]=I>>>8&255,s[T]=I&255)}return s}z.split32=l;function E(U,M){return U>>>M|U<<32-M}z.rotr32=E;function d(U,M){return U<<M|U>>>32-M}z.rotl32=d;function p(U,M){return U+M>>>0}z.sum32=p;function g(U,M,s){return U+M+s>>>0}z.sum32_3=g;function S(U,M,s,m){return U+M+s+m>>>0}z.sum32_4=S;function A(U,M,s,m,T){return U+M+s+m+T>>>0}z.sum32_5=A;function _(U,M,s,m){var T=U[M],I=U[M+1],D=m+I>>>0,P=(D<m?1:0)+s+T;U[M]=P>>>0,U[M+1]=D}z.sum64=_;function F(U,M,s,m){var T=M+m>>>0,I=(T<M?1:0)+U+s;return I>>>0}z.sum64_hi=F;function H(U,M,s,m){var T=M+m;return T>>>0}z.sum64_lo=H;function K(U,M,s,m,T,I,D,P){var V=0,G=M;G=G+m>>>0,V+=G<M?1:0,G=G+I>>>0,V+=G<I?1:0,G=G+P>>>0,V+=G<P?1:0;var w=U+s+T+D+V;return w>>>0}z.sum64_4_hi=K;function J(U,M,s,m,T,I,D,P){var V=M+m+I+P;return V>>>0}z.sum64_4_lo=J;function te(U,M,s,m,T,I,D,P,V,G){var w=0,Y=M;Y=Y+m>>>0,w+=Y<M?1:0,Y=Y+I>>>0,w+=Y<I?1:0,Y=Y+P>>>0,w+=Y<P?1:0,Y=Y+G>>>0,w+=Y<G?1:0;var me=U+s+T+D+V+w;return me>>>0}z.sum64_5_hi=te;function ie(U,M,s,m,T,I,D,P,V,G){var w=M+m+I+P+G;return w>>>0}z.sum64_5_lo=ie;function ne(U,M,s){var m=M<<32-s|U>>>s;return m>>>0}z.rotr64_hi=ne;function ue(U,M,s){var m=U<<32-s|M>>>s;return m>>>0}z.rotr64_lo=ue;function Q(U,M,s){return U>>>s}z.shr64_hi=Q;function C(U,M,s){var m=U<<32-s|M>>>s;return m>>>0}z.shr64_lo=C},2156:(b,z,y)=>{"use strict";var R=y(3715),O=y(4504),N=y(9746);function k(o){if(!(this instanceof k))return new k(o);this.hash=o.hash,this.predResist=!!o.predResist,this.outLen=this.hash.outSize,this.minEntropy=o.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var u=O.toArray(o.entropy,o.entropyEnc||"hex"),n=O.toArray(o.nonce,o.nonceEnc||"hex"),c=O.toArray(o.pers,o.persEnc||"hex");N(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(u,n,c)}b.exports=k,k.prototype._init=function(u,n,c){var v=u.concat(n).concat(c);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var f=0;f<this.V.length;f++)this.K[f]=0,this.V[f]=1;this._update(v),this._reseed=1,this.reseedInterval=281474976710656},k.prototype._hmac=function(){return new R.hmac(this.hash,this.K)},k.prototype._update=function(u){var n=this._hmac().update(this.V).update([0]);u&&(n=n.update(u)),this.K=n.digest(),this.V=this._hmac().update(this.V).digest(),!!u&&(this.K=this._hmac().update(this.V).update([1]).update(u).digest(),this.V=this._hmac().update(this.V).digest())},k.prototype.reseed=function(u,n,c,v){typeof n!="string"&&(v=c,c=n,n=null),u=O.toArray(u,n),c=O.toArray(c,v),N(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(u.concat(c||[])),this._reseed=1},k.prototype.generate=function(u,n,c,v){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof n!="string"&&(v=c,c=n,n=null),c&&(c=O.toArray(c,v||"hex"),this._update(c));for(var f=[];f.length<u;)this.V=this._hmac().update(this.V).digest(),f=f.concat(this.V);var l=f.slice(0,u);return this._update(c),this._reseed++,O.encode(l,n)}},645:(b,z)=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */z.read=function(y,R,O,N,k){var o,u,n=k*8-N-1,c=(1<<n)-1,v=c>>1,f=-7,l=O?k-1:0,E=O?-1:1,d=y[R+l];for(l+=E,o=d&(1<<-f)-1,d>>=-f,f+=n;f>0;o=o*256+y[R+l],l+=E,f-=8);for(u=o&(1<<-f)-1,o>>=-f,f+=N;f>0;u=u*256+y[R+l],l+=E,f-=8);if(o===0)o=1-v;else{if(o===c)return u?NaN:(d?-1:1)*Infinity;u=u+Math.pow(2,N),o=o-v}return(d?-1:1)*u*Math.pow(2,o-N)},z.write=function(y,R,O,N,k,o){var u,n,c,v=o*8-k-1,f=(1<<v)-1,l=f>>1,E=k===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=N?0:o-1,p=N?1:-1,g=R<0||R===0&&1/R<0?1:0;for(R=Math.abs(R),isNaN(R)||R===Infinity?(n=isNaN(R)?1:0,u=f):(u=Math.floor(Math.log(R)/Math.LN2),R*(c=Math.pow(2,-u))<1&&(u--,c*=2),u+l>=1?R+=E/c:R+=E*Math.pow(2,1-l),R*c>=2&&(u++,c/=2),u+l>=f?(n=0,u=f):u+l>=1?(n=(R*c-1)*Math.pow(2,k),u=u+l):(n=R*Math.pow(2,l-1)*Math.pow(2,k),u=0));k>=8;y[O+d]=n&255,d+=p,n/=256,k-=8);for(u=u<<k|n,v+=k;v>0;y[O+d]=u&255,d+=p,u/=256,v-=8);y[O+d-p]|=g*128}},5717:b=>{typeof Object.create=="function"?b.exports=function(y,R){R&&(y.super_=R,y.prototype=Object.create(R.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}))}:b.exports=function(y,R){if(R){y.super_=R;var O=function(){};O.prototype=R.prototype,y.prototype=new O,y.prototype.constructor=y}}},9593:(b,z,y)=>{"use strict";const R=y(4411),O=Symbol("max"),N=Symbol("length"),k=Symbol("lengthCalculator"),o=Symbol("allowStale"),u=Symbol("maxAge"),n=Symbol("dispose"),c=Symbol("noDisposeOnSet"),v=Symbol("lruList"),f=Symbol("cache"),l=Symbol("updateAgeOnGet"),E=()=>1;class d{constructor(K){if(typeof K=="number"&&(K={max:K}),K||(K={}),K.max&&(typeof K.max!="number"||K.max<0))throw new TypeError("max must be a non-negative number");const J=this[O]=K.max||Infinity,te=K.length||E;if(this[k]=typeof te!="function"?E:te,this[o]=K.stale||!1,K.maxAge&&typeof K.maxAge!="number")throw new TypeError("maxAge must be a number");this[u]=K.maxAge||0,this[n]=K.dispose,this[c]=K.noDisposeOnSet||!1,this[l]=K.updateAgeOnGet||!1,this.reset()}set max(K){if(typeof K!="number"||K<0)throw new TypeError("max must be a non-negative number");this[O]=K||Infinity,S(this)}get max(){return this[O]}set allowStale(K){this[o]=!!K}get allowStale(){return this[o]}set maxAge(K){if(typeof K!="number")throw new TypeError("maxAge must be a non-negative number");this[u]=K,S(this)}get maxAge(){return this[u]}set lengthCalculator(K){typeof K!="function"&&(K=E),K!==this[k]&&(this[k]=K,this[N]=0,this[v].forEach(J=>{J.length=this[k](J.value,J.key),this[N]+=J.length})),S(this)}get lengthCalculator(){return this[k]}get length(){return this[N]}get itemCount(){return this[v].length}rforEach(K,J){J=J||this;for(let te=this[v].tail;te!==null;){const ie=te.prev;F(this,K,te,J),te=ie}}forEach(K,J){J=J||this;for(let te=this[v].head;te!==null;){const ie=te.next;F(this,K,te,J),te=ie}}keys(){return this[v].toArray().map(K=>K.key)}values(){return this[v].toArray().map(K=>K.value)}reset(){this[n]&&this[v]&&this[v].length&&this[v].forEach(K=>this[n](K.key,K.value)),this[f]=new Map,this[v]=new R,this[N]=0}dump(){return this[v].map(K=>g(this,K)?!1:{k:K.key,v:K.value,e:K.now+(K.maxAge||0)}).toArray().filter(K=>K)}dumpLru(){return this[v]}set(K,J,te){if(te=te||this[u],te&&typeof te!="number")throw new TypeError("maxAge must be a number");const ie=te?Date.now():0,ne=this[k](J,K);if(this[f].has(K)){if(ne>this[O])return A(this,this[f].get(K)),!1;const C=this[f].get(K).value;return this[n]&&(this[c]||this[n](K,C.value)),C.now=ie,C.maxAge=te,C.value=J,this[N]+=ne-C.length,C.length=ne,this.get(K),S(this),!0}const ue=new _(K,J,ne,ie,te);return ue.length>this[O]?(this[n]&&this[n](K,J),!1):(this[N]+=ue.length,this[v].unshift(ue),this[f].set(K,this[v].head),S(this),!0)}has(K){if(!this[f].has(K))return!1;const J=this[f].get(K).value;return!g(this,J)}get(K){return p(this,K,!0)}peek(K){return p(this,K,!1)}pop(){const K=this[v].tail;return K?(A(this,K),K.value):null}del(K){A(this,this[f].get(K))}load(K){this.reset();const J=Date.now();for(let te=K.length-1;te>=0;te--){const ie=K[te],ne=ie.e||0;if(ne===0)this.set(ie.k,ie.v);else{const ue=ne-J;ue>0&&this.set(ie.k,ie.v,ue)}}}prune(){this[f].forEach((K,J)=>p(this,J,!1))}}const p=(H,K,J)=>{const te=H[f].get(K);if(te){const ie=te.value;if(g(H,ie)){if(A(H,te),!H[o])return}else J&&(H[l]&&(te.value.now=Date.now()),H[v].unshiftNode(te));return ie.value}},g=(H,K)=>{if(!K||!K.maxAge&&!H[u])return!1;const J=Date.now()-K.now;return K.maxAge?J>K.maxAge:H[u]&&J>H[u]},S=H=>{if(H[N]>H[O])for(let K=H[v].tail;H[N]>H[O]&&K!==null;){const J=K.prev;A(H,K),K=J}},A=(H,K)=>{if(K){const J=K.value;H[n]&&H[n](J.key,J.value),H[N]-=J.length,H[f].delete(J.key),H[v].removeNode(K)}};class _{constructor(K,J,te,ie,ne){this.key=K,this.value=J,this.length=te,this.now=ie,this.maxAge=ne||0}}const F=(H,K,J,te)=>{let ie=J.value;g(H,ie)&&(A(H,J),H[o]||(ie=void 0)),ie&&K.call(te,ie.value,ie.key,H)};b.exports=d},7468:(b,z,y)=>{const R=y(9930),{defaults:O}=y(8644),{inline:N}=y(9709),{findClosingBracket:k,escape:o}=y(621);b.exports=class Ji{constructor(n,c){if(this.options=c||O,this.links=n,this.rules=N.normal,this.options.renderer=this.options.renderer||new R,this.renderer=this.options.renderer,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=N.pedantic:this.options.gfm&&(this.options.breaks?this.rules=N.breaks:this.rules=N.gfm)}static get rules(){return N}static output(n,c,v){return new Ji(c,v).output(n)}output(n){let c="",v,f,l,E,d,p;for(;n;){if(d=this.rules.escape.exec(n)){n=n.substring(d[0].length),c+=o(d[1]);continue}if(d=this.rules.tag.exec(n)){!this.inLink&&/^<a /i.test(d[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(d[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(d[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(d[0])&&(this.inRawBlock=!1),n=n.substring(d[0].length),c+=this.renderer.html(this.options.sanitize?this.options.sanitizer?this.options.sanitizer(d[0]):o(d[0]):d[0]);continue}if(d=this.rules.link.exec(n)){const g=k(d[2],"()");if(g>-1){const A=(d[0].indexOf("!")===0?5:4)+d[1].length+g;d[2]=d[2].substring(0,g),d[0]=d[0].substring(0,A).trim(),d[3]=""}n=n.substring(d[0].length),this.inLink=!0,l=d[2],this.options.pedantic?(v=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(l),v?(l=v[1],E=v[3]):E=""):E=d[3]?d[3].slice(1,-1):"",l=l.trim().replace(/^<([\s\S]*)>$/,"$1"),c+=this.outputLink(d,{href:Ji.escapes(l),title:Ji.escapes(E)}),this.inLink=!1;continue}if((d=this.rules.reflink.exec(n))||(d=this.rules.nolink.exec(n))){if(n=n.substring(d[0].length),v=(d[2]||d[1]).replace(/\s+/g," "),v=this.links[v.toLowerCase()],!v||!v.href){c+=d[0].charAt(0),n=d[0].substring(1)+n;continue}this.inLink=!0,c+=this.outputLink(d,v),this.inLink=!1;continue}if(d=this.rules.strong.exec(n)){n=n.substring(d[0].length),c+=this.renderer.strong(this.output(d[4]||d[3]||d[2]||d[1]));continue}if(d=this.rules.em.exec(n)){n=n.substring(d[0].length),c+=this.renderer.em(this.output(d[6]||d[5]||d[4]||d[3]||d[2]||d[1]));continue}if(d=this.rules.code.exec(n)){n=n.substring(d[0].length),c+=this.renderer.codespan(o(d[2].trim(),!0));continue}if(d=this.rules.br.exec(n)){n=n.substring(d[0].length),c+=this.renderer.br();continue}if(d=this.rules.del.exec(n)){n=n.substring(d[0].length),c+=this.renderer.del(this.output(d[1]));continue}if(d=this.rules.autolink.exec(n)){n=n.substring(d[0].length),d[2]==="@"?(f=o(this.mangle(d[1])),l="mailto:"+f):(f=o(d[1]),l=f),c+=this.renderer.link(l,null,f);continue}if(!this.inLink&&(d=this.rules.url.exec(n))){if(d[2]==="@")f=o(d[0]),l="mailto:"+f;else{do p=d[0],d[0]=this.rules._backpedal.exec(d[0])[0];while(p!==d[0]);f=o(d[0]),d[1]==="www."?l="http://"+f:l=f}n=n.substring(d[0].length),c+=this.renderer.link(l,null,f);continue}if(d=this.rules.text.exec(n)){n=n.substring(d[0].length),this.inRawBlock?c+=this.renderer.text(this.options.sanitize?this.options.sanitizer?this.options.sanitizer(d[0]):o(d[0]):d[0]):c+=this.renderer.text(o(this.smartypants(d[0])));continue}if(n)throw new Error("Infinite loop on byte: "+n.charCodeAt(0))}return c}static escapes(n){return n&&n.replace(Ji.rules._escapes,"$1")}outputLink(n,c){const v=c.href,f=c.title?o(c.title):null;return n[0].charAt(0)!=="!"?this.renderer.link(v,f,this.output(n[1])):this.renderer.image(v,f,o(n[1]))}smartypants(n){return this.options.smartypants?n.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026"):n}mangle(n){if(!this.options.mangle)return n;const c=n.length;let v="",f=0,l;for(;f<c;f++)l=n.charCodeAt(f),Math.random()>.5&&(l="x"+l.toString(16)),v+="&#"+l+";";return v}}},1092:(b,z,y)=>{const{defaults:R}=y(8644),{block:O}=y(9709),{rtrim:N,splitCells:k,escape:o}=y(621);b.exports=class Kl{constructor(n){this.tokens=[],this.tokens.links=Object.create(null),this.options=n||R,this.rules=O.normal,this.options.pedantic?this.rules=O.pedantic:this.options.gfm&&(this.rules=O.gfm)}static get rules(){return O}static lex(n,c){return new Kl(c).lex(n)}lex(n){return n=n.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.token(n,!0)}token(n,c){n=n.replace(/^ +$/gm,"");let v,f,l,E,d,p,g,S,A,_,F,H,K,J,te,ie;for(;n;){if((l=this.rules.newline.exec(n))&&(n=n.substring(l[0].length),l[0].length>1&&this.tokens.push({type:"space"})),l=this.rules.code.exec(n)){const ne=this.tokens[this.tokens.length-1];n=n.substring(l[0].length),ne&&ne.type==="paragraph"?ne.text+=`
`+l[0].trimRight():(l=l[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",codeBlockStyle:"indented",text:this.options.pedantic?l:N(l,`
`)}));continue}if(l=this.rules.fences.exec(n)){n=n.substring(l[0].length),this.tokens.push({type:"code",lang:l[2]?l[2].trim():l[2],text:l[3]||""});continue}if(l=this.rules.heading.exec(n)){n=n.substring(l[0].length),this.tokens.push({type:"heading",depth:l[1].length,text:l[2]});continue}if((l=this.rules.nptable.exec(n))&&(p={type:"table",header:k(l[1].replace(/^ *| *\| *$/g,"")),align:l[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:l[3]?l[3].replace(/\n$/,"").split(`
`):[]},p.header.length===p.align.length)){for(n=n.substring(l[0].length),F=0;F<p.align.length;F++)/^ *-+: *$/.test(p.align[F])?p.align[F]="right":/^ *:-+: *$/.test(p.align[F])?p.align[F]="center":/^ *:-+ *$/.test(p.align[F])?p.align[F]="left":p.align[F]=null;for(F=0;F<p.cells.length;F++)p.cells[F]=k(p.cells[F],p.header.length);this.tokens.push(p);continue}if(l=this.rules.hr.exec(n)){n=n.substring(l[0].length),this.tokens.push({type:"hr"});continue}if(l=this.rules.blockquote.exec(n)){n=n.substring(l[0].length),this.tokens.push({type:"blockquote_start"}),l=l[0].replace(/^ *> ?/gm,""),this.token(l,c),this.tokens.push({type:"blockquote_end"});continue}if(l=this.rules.list.exec(n)){for(n=n.substring(l[0].length),E=l[2],J=E.length>1,g={type:"list_start",ordered:J,start:J?+E:"",loose:!1},this.tokens.push(g),l=l[0].match(this.rules.item),S=[],v=!1,K=l.length,F=0;F<K;F++)p=l[F],_=p.length,p=p.replace(/^ *([*+-]|\d+\.) */,""),~p.indexOf(`
 `)&&(_-=p.length,p=this.options.pedantic?p.replace(/^ {1,4}/gm,""):p.replace(new RegExp("^ {1,"+_+"}","gm"),"")),F!==K-1&&(d=O.bullet.exec(l[F+1])[0],(E.length>1?d.length===1:d.length>1||this.options.smartLists&&d!==E)&&(n=l.slice(F+1).join(`
`)+n,F=K-1)),f=v||/\n\n(?!\s*$)/.test(p),F!==K-1&&(v=p.charAt(p.length-1)===`
`,f||(f=v)),f&&(g.loose=!0),te=/^\[[ xX]\] /.test(p),ie=void 0,te&&(ie=p[1]!==" ",p=p.replace(/^\[[ xX]\] +/,"")),A={type:"list_item_start",task:te,checked:ie,loose:f},S.push(A),this.tokens.push(A),this.token(p,!1),this.tokens.push({type:"list_item_end"});if(g.loose)for(K=S.length,F=0;F<K;F++)S[F].loose=!0;this.tokens.push({type:"list_end"});continue}if(l=this.rules.html.exec(n)){n=n.substring(l[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&(l[1]==="pre"||l[1]==="script"||l[1]==="style"),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(l[0]):o(l[0]):l[0]});continue}if(c&&(l=this.rules.def.exec(n))){n=n.substring(l[0].length),l[3]&&(l[3]=l[3].substring(1,l[3].length-1)),H=l[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[H]||(this.tokens.links[H]={href:l[2],title:l[3]});continue}if((l=this.rules.table.exec(n))&&(p={type:"table",header:k(l[1].replace(/^ *| *\| *$/g,"")),align:l[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:l[3]?l[3].replace(/\n$/,"").split(`
`):[]},p.header.length===p.align.length)){for(n=n.substring(l[0].length),F=0;F<p.align.length;F++)/^ *-+: *$/.test(p.align[F])?p.align[F]="right":/^ *:-+: *$/.test(p.align[F])?p.align[F]="center":/^ *:-+ *$/.test(p.align[F])?p.align[F]="left":p.align[F]=null;for(F=0;F<p.cells.length;F++)p.cells[F]=k(p.cells[F].replace(/^ *\| *| *\| *$/g,""),p.header.length);this.tokens.push(p);continue}if(l=this.rules.lheading.exec(n)){n=n.substring(l[0].length),this.tokens.push({type:"heading",depth:l[2].charAt(0)==="="?1:2,text:l[1]});continue}if(c&&(l=this.rules.paragraph.exec(n))){n=n.substring(l[0].length),this.tokens.push({type:"paragraph",text:l[1].charAt(l[1].length-1)===`
`?l[1].slice(0,-1):l[1]});continue}if(l=this.rules.text.exec(n)){n=n.substring(l[0].length),this.tokens.push({type:"text",text:l[0]});continue}if(n)throw new Error("Infinite loop on byte: "+n.charCodeAt(0))}return this.tokens}}},9170:(b,z,y)=>{const R=y(9930),O=y(1846),N=y(7468),k=y(1477),{defaults:o}=y(8644),{merge:u,unescape:n}=y(621);b.exports=class Yl{constructor(v){this.tokens=[],this.token=null,this.options=v||o,this.options.renderer=this.options.renderer||new R,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new O}static parse(v,f){return new Yl(f).parse(v)}parse(v){this.inline=new N(v.links,this.options),this.inlineText=new N(v.links,u({},this.options,{renderer:new k})),this.tokens=v.reverse();let f="";for(;this.next();)f+=this.tok();return f}next(){return this.token=this.tokens.pop(),this.token}peek(){return this.tokens[this.tokens.length-1]||0}parseText(){let v=this.token.text;for(;this.peek().type==="text";)v+=`
`+this.next().text;return this.inline.output(v)}tok(){let v="";switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,n(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":{let f="",l,E,d,p;for(d="",l=0;l<this.token.header.length;l++)d+=this.renderer.tablecell(this.inline.output(this.token.header[l]),{header:!0,align:this.token.align[l]});for(f+=this.renderer.tablerow(d),l=0;l<this.token.cells.length;l++){for(E=this.token.cells[l],d="",p=0;p<E.length;p++)d+=this.renderer.tablecell(this.inline.output(E[p]),{header:!1,align:this.token.align[p]});v+=this.renderer.tablerow(d)}return this.renderer.table(f,v)}case"blockquote_start":{for(v="";this.next().type!=="blockquote_end";)v+=this.tok();return this.renderer.blockquote(v)}case"list_start":{v="";const f=this.token.ordered,l=this.token.start;for(;this.next().type!=="list_end";)v+=this.tok();return this.renderer.list(v,f,l)}case"list_item_start":{v="";const f=this.token.loose,l=this.token.checked,E=this.token.task;if(this.token.task)if(f)if(this.peek().type==="text"){const d=this.peek();d.text=this.renderer.checkbox(l)+" "+d.text}else this.tokens.push({type:"text",text:this.renderer.checkbox(l)});else v+=this.renderer.checkbox(l);for(;this.next().type!=="list_item_end";)v+=!f&&this.token.type==="text"?this.parseText():this.tok();return this.renderer.listitem(v,E,l)}case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:{const f='Token with "'+this.token.type+'" type was not found.';if(this.options.silent)console.log(f);else throw new Error(f)}}}}},9930:(b,z,y)=>{const{defaults:R}=y(8644),{cleanUrl:O,escape:N}=y(621);b.exports=class{constructor(o){this.options=o||R}code(o,u,n){const c=(u||"").match(/\S*/)[0];if(this.options.highlight){const v=this.options.highlight(o,c);v!=null&&v!==o&&(n=!0,o=v)}return c?'<pre><code class="'+this.options.langPrefix+N(c,!0)+'">'+(n?o:N(o,!0))+`</code></pre>
`:"<pre><code>"+(n?o:N(o,!0))+"</code></pre>"}blockquote(o){return`<blockquote>
`+o+`</blockquote>
`}html(o){return o}heading(o,u,n,c){return this.options.headerIds?"<h"+u+' id="'+this.options.headerPrefix+c.slug(n)+'">'+o+"</h"+u+`>
`:"<h"+u+">"+o+"</h"+u+`>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(o,u,n){const c=u?"ol":"ul",v=u&&n!==1?' start="'+n+'"':"";return"<"+c+v+`>
`+o+"</"+c+`>
`}listitem(o){return"<li>"+o+`</li>
`}checkbox(o){return"<input "+(o?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(o){return"<p>"+o+`</p>
`}table(o,u){return u&&(u="<tbody>"+u+"</tbody>"),`<table>
<thead>
`+o+`</thead>
`+u+`</table>
`}tablerow(o){return`<tr>
`+o+`</tr>
`}tablecell(o,u){const n=u.header?"th":"td";return(u.align?"<"+n+' align="'+u.align+'">':"<"+n+">")+o+"</"+n+`>
`}strong(o){return"<strong>"+o+"</strong>"}em(o){return"<em>"+o+"</em>"}codespan(o){return"<code>"+o+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(o){return"<del>"+o+"</del>"}link(o,u,n){if(o=O(this.options.sanitize,this.options.baseUrl,o),o===null)return n;let c='<a href="'+N(o)+'"';return u&&(c+=' title="'+u+'"'),c+=">"+n+"</a>",c}image(o,u,n){if(o=O(this.options.sanitize,this.options.baseUrl,o),o===null)return n;let c='<img src="'+o+'" alt="'+n+'"';return u&&(c+=' title="'+u+'"'),c+=this.options.xhtml?"/>":">",c}text(o){return o}}},1846:b=>{b.exports=class{constructor(){this.seen={}}slug(y){let R=y.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(R)){const O=R;do this.seen[O]++,R=O+"-"+this.seen[O];while(this.seen.hasOwnProperty(R))}return this.seen[R]=0,R}}},1477:b=>{b.exports=class{strong(y){return y}em(y){return y}codespan(y){return y}del(y){return y}html(y){return y}text(y){return y}link(y,R,O){return""+O}image(y,R,O){return""+O}br(){return""}}},8644:b=>{function z(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,xhtml:!1}}function y(R){b.exports.defaults=R}b.exports={defaults:z(),getDefaults:z,changeDefaults:y}},621:b=>{const z=/[&<>"']/,y=/[&<>"']/g,R=/[<>"']|&(?!#?\w+;)/,O=/[<>"']|&(?!#?\w+;)/g,N={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},k=ie=>N[ie];function o(ie,ne){if(ne){if(z.test(ie))return ie.replace(y,k)}else if(R.test(ie))return ie.replace(O,k);return ie}const u=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function n(ie){return ie.replace(u,(ne,ue)=>(ue=ue.toLowerCase(),ue==="colon"?":":ue.charAt(0)==="#"?ue.charAt(1)==="x"?String.fromCharCode(parseInt(ue.substring(2),16)):String.fromCharCode(+ue.substring(1)):""))}const c=/(^|[^\[])\^/g;function v(ie,ne){ie=ie.source||ie,ne=ne||"";const ue={replace:(Q,C)=>(C=C.source||C,C=C.replace(c,"$1"),ie=ie.replace(Q,C),ue),getRegex:()=>new RegExp(ie,ne)};return ue}const f=/[^\w:]/g,l=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function E(ie,ne,ue){if(ie){let Q;try{Q=decodeURIComponent(n(ue)).replace(f,"").toLowerCase()}catch(C){return null}if(Q.indexOf("javascript:")===0||Q.indexOf("vbscript:")===0||Q.indexOf("data:")===0)return null}ne&&!l.test(ue)&&(ue=A(ne,ue));try{ue=encodeURI(ue).replace(/%25/g,"%")}catch(Q){return null}return ue}const d={},p=/^[^:]+:\/*[^/]*$/,g=/^([^:]+:)[\s\S]*$/,S=/^([^:]+:\/*[^/]*)[\s\S]*$/;function A(ie,ne){d[" "+ie]||(p.test(ie)?d[" "+ie]=ie+"/":d[" "+ie]=K(ie,"/",!0)),ie=d[" "+ie];const ue=ie.indexOf(":")===-1;return ne.substring(0,2)==="//"?ue?ne:ie.replace(g,"$1")+ne:ne.charAt(0)==="/"?ue?ne:ie.replace(S,"$1")+ne:ie+ne}const _={exec:function(){}};function F(ie){let ne=1,ue,Q;for(;ne<arguments.length;ne++){ue=arguments[ne];for(Q in ue)Object.prototype.hasOwnProperty.call(ue,Q)&&(ie[Q]=ue[Q])}return ie}function H(ie,ne){const ue=ie.replace(/\|/g,(U,M,s)=>{let m=!1,T=M;for(;--T>=0&&s[T]==="\\";)m=!m;return m?"|":" |"}),Q=ue.split(/ \|/);let C=0;if(Q.length>ne)Q.splice(ne);else for(;Q.length<ne;)Q.push("");for(;C<Q.length;C++)Q[C]=Q[C].trim().replace(/\\\|/g,"|");return Q}function K(ie,ne,ue){const Q=ie.length;if(Q===0)return"";let C=0;for(;C<Q;){const U=ie.charAt(Q-C-1);if(U===ne&&!ue)C++;else if(U!==ne&&ue)C++;else break}return ie.substr(0,Q-C)}function J(ie,ne){if(ie.indexOf(ne[1])===-1)return-1;const ue=ie.length;let Q=0,C=0;for(;C<ue;C++)if(ie[C]==="\\")C++;else if(ie[C]===ne[0])Q++;else if(ie[C]===ne[1]&&(Q--,Q<0))return C;return-1}function te(ie){ie&&ie.sanitize&&!ie.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}b.exports={escape:o,unescape:n,edit:v,cleanUrl:E,resolveUrl:A,noopTest:_,merge:F,splitCells:H,rtrim:K,findClosingBracket:J,checkSanitizeDeprecation:te}},7228:(b,z,y)=>{const R=y(1092),O=y(9170),N=y(9930),k=y(1477),o=y(7468),u=y(1846),{merge:n,checkSanitizeDeprecation:c,escape:v}=y(621),{getDefaults:f,changeDefaults:l,defaults:E}=y(8644);function d(p,g,S){if(typeof p=="undefined"||p===null)throw new Error("marked(): input parameter is undefined or null");if(typeof p!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(p)+", string expected");if(S||typeof g=="function"){S||(S=g,g=null),g=n({},d.defaults,g||{}),c(g);const A=g.highlight;let _,F,H=0;try{_=R.lex(p,g)}catch(J){return S(J)}F=_.length;const K=function(J){if(J)return g.highlight=A,S(J);let te;try{te=O.parse(_,g)}catch(ie){J=ie}return g.highlight=A,J?S(J):S(null,te)};if(!A||A.length<3||(delete g.highlight,!F))return K();for(;H<_.length;H++)(function(J){return J.type!=="code"?--F||K():A(J.text,J.lang,function(te,ie){if(te)return K(te);if(ie==null||ie===J.text)return--F||K();J.text=ie,J.escaped=!0,--F||K()})})(_[H]);return}try{return g=n({},d.defaults,g||{}),c(g),O.parse(R.lex(p,g),g)}catch(A){if(A.message+=`
Please report this to https://github.com/markedjs/marked.`,(g||d.defaults).silent)return"<p>An error occurred:</p><pre>"+v(A.message+"",!0)+"</pre>";throw A}}d.options=d.setOptions=function(p){return n(d.defaults,p),l(d.defaults),d},d.getDefaults=f,d.defaults=E,d.Parser=O,d.parser=O.parse,d.Renderer=N,d.TextRenderer=k,d.Lexer=R,d.lexer=R.lex,d.InlineLexer=o,d.inlineLexer=o.output,d.Slugger=u,d.parse=d,b.exports=d},9709:(b,z,y)=>{const{noopTest:R,edit:O,merge:N}=y(621),k={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:R,table:R,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/};k._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,k._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,k.def=O(k.def).replace("label",k._label).replace("title",k._title).getRegex(),k.bullet=/(?:[*+-]|\d{1,9}\.)/,k.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,k.item=O(k.item,"gm").replace(/bull/g,k.bullet).getRegex(),k.list=O(k.list).replace(/bull/g,k.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+k.def.source+")").getRegex(),k._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",k._comment=/<!--(?!-?>)[\s\S]*?-->/,k.html=O(k.html,"i").replace("comment",k._comment).replace("tag",k._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),k.paragraph=O(k._paragraph).replace("hr",k.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",k._tag).getRegex(),k.blockquote=O(k.blockquote).replace("paragraph",k.paragraph).getRegex(),k.normal=N({},k),k.gfm=N({},k.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n *([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n *\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),k.gfm.nptable=O(k.gfm.nptable).replace("hr",k.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",k._tag).getRegex(),k.gfm.table=O(k.gfm.table).replace("hr",k.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",k._tag).getRegex(),k.pedantic=N({},k.normal,{html:O(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",k._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:R,paragraph:O(k.normal._paragraph).replace("hr",k.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",k.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const o={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:R,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*<\[])\*(?!\*)|^_([^\s<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s<"][\s\S]*?[^\s\*])\*(?!\*|[^\spunctuation])|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:R,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/};o._punctuation=`!"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~`,o.em=O(o.em).replace(/punctuation/g,o._punctuation).getRegex(),o._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,o._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,o._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,o.autolink=O(o.autolink).replace("scheme",o._scheme).replace("email",o._email).getRegex(),o._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,o.tag=O(o.tag).replace("comment",k._comment).replace("attribute",o._attribute).getRegex(),o._label=/(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,o._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,o._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,o.link=O(o.link).replace("label",o._label).replace("href",o._href).replace("title",o._title).getRegex(),o.reflink=O(o.reflink).replace("label",o._label).getRegex(),o.normal=N({},o),o.pedantic=N({},o.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:O(/^!?\[(label)\]\((.*?)\)/).replace("label",o._label).getRegex(),reflink:O(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",o._label).getRegex()}),o.gfm=N({},o.normal,{escape:O(o.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),o.gfm.url=O(o.gfm.url,"i").replace("email",o.gfm._extended_email).getRegex(),o.breaks=N({},o.gfm,{br:O(o.br).replace("{2,}","*").getRegex(),text:O(o.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),b.exports={block:k,inline:o}},2318:(b,z,y)=>{"use strict";var R=y(5717),O=y(3349),N=y(9509).Buffer,k=new Array(16);function o(){O.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}R(o,O),o.prototype._update=function(){for(var l=k,E=0;E<16;++E)l[E]=this._block.readInt32LE(E*4);var d=this._a,p=this._b,g=this._c,S=this._d;d=n(d,p,g,S,l[0],3614090360,7),S=n(S,d,p,g,l[1],3905402710,12),g=n(g,S,d,p,l[2],606105819,17),p=n(p,g,S,d,l[3],3250441966,22),d=n(d,p,g,S,l[4],4118548399,7),S=n(S,d,p,g,l[5],1200080426,12),g=n(g,S,d,p,l[6],2821735955,17),p=n(p,g,S,d,l[7],4249261313,22),d=n(d,p,g,S,l[8],1770035416,7),S=n(S,d,p,g,l[9],2336552879,12),g=n(g,S,d,p,l[10],4294925233,17),p=n(p,g,S,d,l[11],2304563134,22),d=n(d,p,g,S,l[12],1804603682,7),S=n(S,d,p,g,l[13],4254626195,12),g=n(g,S,d,p,l[14],2792965006,17),p=n(p,g,S,d,l[15],1236535329,22),d=c(d,p,g,S,l[1],4129170786,5),S=c(S,d,p,g,l[6],3225465664,9),g=c(g,S,d,p,l[11],643717713,14),p=c(p,g,S,d,l[0],3921069994,20),d=c(d,p,g,S,l[5],3593408605,5),S=c(S,d,p,g,l[10],38016083,9),g=c(g,S,d,p,l[15],3634488961,14),p=c(p,g,S,d,l[4],3889429448,20),d=c(d,p,g,S,l[9],568446438,5),S=c(S,d,p,g,l[14],3275163606,9),g=c(g,S,d,p,l[3],4107603335,14),p=c(p,g,S,d,l[8],1163531501,20),d=c(d,p,g,S,l[13],2850285829,5),S=c(S,d,p,g,l[2],4243563512,9),g=c(g,S,d,p,l[7],1735328473,14),p=c(p,g,S,d,l[12],2368359562,20),d=v(d,p,g,S,l[5],4294588738,4),S=v(S,d,p,g,l[8],2272392833,11),g=v(g,S,d,p,l[11],1839030562,16),p=v(p,g,S,d,l[14],4259657740,23),d=v(d,p,g,S,l[1],2763975236,4),S=v(S,d,p,g,l[4],1272893353,11),g=v(g,S,d,p,l[7],4139469664,16),p=v(p,g,S,d,l[10],3200236656,23),d=v(d,p,g,S,l[13],681279174,4),S=v(S,d,p,g,l[0],3936430074,11),g=v(g,S,d,p,l[3],3572445317,16),p=v(p,g,S,d,l[6],76029189,23),d=v(d,p,g,S,l[9],3654602809,4),S=v(S,d,p,g,l[12],3873151461,11),g=v(g,S,d,p,l[15],530742520,16),p=v(p,g,S,d,l[2],3299628645,23),d=f(d,p,g,S,l[0],4096336452,6),S=f(S,d,p,g,l[7],1126891415,10),g=f(g,S,d,p,l[14],2878612391,15),p=f(p,g,S,d,l[5],4237533241,21),d=f(d,p,g,S,l[12],1700485571,6),S=f(S,d,p,g,l[3],2399980690,10),g=f(g,S,d,p,l[10],4293915773,15),p=f(p,g,S,d,l[1],2240044497,21),d=f(d,p,g,S,l[8],1873313359,6),S=f(S,d,p,g,l[15],4264355552,10),g=f(g,S,d,p,l[6],2734768916,15),p=f(p,g,S,d,l[13],1309151649,21),d=f(d,p,g,S,l[4],4149444226,6),S=f(S,d,p,g,l[11],3174756917,10),g=f(g,S,d,p,l[2],718787259,15),p=f(p,g,S,d,l[9],3951481745,21),this._a=this._a+d|0,this._b=this._b+p|0,this._c=this._c+g|0,this._d=this._d+S|0},o.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var l=N.allocUnsafe(16);return l.writeInt32LE(this._a,0),l.writeInt32LE(this._b,4),l.writeInt32LE(this._c,8),l.writeInt32LE(this._d,12),l};function u(l,E){return l<<E|l>>>32-E}function n(l,E,d,p,g,S,A){return u(l+(E&d|~E&p)+g+S|0,A)+E|0}function c(l,E,d,p,g,S,A){return u(l+(E&p|d&~p)+g+S|0,A)+E|0}function v(l,E,d,p,g,S,A){return u(l+(E^d^p)+g+S|0,A)+E|0}function f(l,E,d,p,g,S,A){return u(l+(d^(E|~p))+g+S|0,A)+E|0}b.exports=o},3047:(b,z,y)=>{var R=y(3550),O=y(9931);function N(k){this.rand=k||new O.Rand}b.exports=N,N.create=function(o){return new N(o)},N.prototype._randbelow=function(o){var u=o.bitLength(),n=Math.ceil(u/8);do var c=new R(this.rand.generate(n));while(c.cmp(o)>=0);return c},N.prototype._randrange=function(o,u){var n=u.sub(o);return o.add(this._randbelow(n))},N.prototype.test=function(o,u,n){var c=o.bitLength(),v=R.mont(o),f=new R(1).toRed(v);u||(u=Math.max(1,c/48|0));for(var l=o.subn(1),E=0;!l.testn(E);E++);for(var d=o.shrn(E),p=l.toRed(v),g=!0;u>0;u--){var S=this._randrange(new R(2),l);n&&n(S);var A=S.toRed(v).redPow(d);if(!(A.cmp(f)===0||A.cmp(p)===0)){for(var _=1;_<E;_++){if(A=A.redSqr(),A.cmp(f)===0)return!1;if(A.cmp(p)===0)break}if(_===E)return!1}}return g},N.prototype.getDivisor=function(o,u){var n=o.bitLength(),c=R.mont(o),v=new R(1).toRed(c);u||(u=Math.max(1,n/48|0));for(var f=o.subn(1),l=0;!f.testn(l);l++);for(var E=o.shrn(l),d=f.toRed(c);u>0;u--){var p=this._randrange(new R(2),f),g=o.gcd(p);if(g.cmpn(1)!==0)return g;var S=p.toRed(c).redPow(E);if(!(S.cmp(v)===0||S.cmp(d)===0)){for(var A=1;A<l;A++){if(S=S.redSqr(),S.cmp(v)===0)return S.fromRed().subn(1).gcd(o);if(S.cmp(d)===0)break}if(A===l)return S=S.redSqr(),S.fromRed().subn(1).gcd(o)}}return!1}},9746:b=>{b.exports=z;function z(y,R){if(!y)throw new Error(R||"Assertion failed")}z.equal=function(R,O,N){if(R!=O)throw new Error(N||"Assertion failed: "+R+" != "+O)}},4504:(b,z)=>{"use strict";var y=z;function R(k,o){if(Array.isArray(k))return k.slice();if(!k)return[];var u=[];if(typeof k!="string"){for(var n=0;n<k.length;n++)u[n]=k[n]|0;return u}if(o==="hex"){k=k.replace(/[^a-z0-9]+/ig,""),k.length%2!=0&&(k="0"+k);for(var n=0;n<k.length;n+=2)u.push(parseInt(k[n]+k[n+1],16))}else for(var n=0;n<k.length;n++){var c=k.charCodeAt(n),v=c>>8,f=c&255;v?u.push(v,f):u.push(f)}return u}y.toArray=R;function O(k){return k.length===1?"0"+k:k}y.zero2=O;function N(k){for(var o="",u=0;u<k.length;u++)o+=O(k[u].toString(16));return o}y.toHex=N,y.encode=function(o,u){return u==="hex"?N(o):o}},447:(b,z,y)=>{var R=y(2479);b.exports=R(O),b.exports.strict=R(N),O.proto=O(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return O(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return N(this)},configurable:!0})});function O(k){var o=function(){return o.called?o.value:(o.called=!0,o.value=k.apply(this,arguments))};return o.called=!1,o}function N(k){var o=function(){if(o.called)throw new Error(o.onceError);return o.called=!0,o.value=k.apply(this,arguments)},u=k.name||"Function wrapped with `once`";return o.onceError=u+" shouldn't be called more than once",o.called=!1,o}},873:b=>{"use strict";b.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')},2818:(b,z,y)=>{"use strict";var R=y(9809);z.certificate=y(1934);var O=R.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});z.RSAPrivateKey=O;var N=R.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});z.RSAPublicKey=N;var k=R.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())});z.PublicKey=k;var o=R.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),u=R.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(o),this.key("subjectPrivateKey").octstr())});z.PrivateKey=u;var n=R.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});z.EncryptedPrivateKey=n;var c=R.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});z.DSAPrivateKey=c,z.DSAparam=R.define("DSAparam",function(){this.int()});var v=R.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(f),this.key("publicKey").optional().explicit(1).bitstr())});z.ECPrivateKey=v;var f=R.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});z.signature=R.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},1934:(b,z,y)=>{"use strict";var R=y(9809),O=R.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),N=R.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),k=R.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),o=R.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(k),this.key("subjectPublicKey").bitstr())}),u=R.define("RelativeDistinguishedName",function(){this.setof(N)}),n=R.define("RDNSequence",function(){this.seqof(u)}),c=R.define("Name",function(){this.choice({rdnSequence:this.use(n)})}),v=R.define("Validity",function(){this.seq().obj(this.key("notBefore").use(O),this.key("notAfter").use(O))}),f=R.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),l=R.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(k),this.key("issuer").use(c),this.key("validity").use(v),this.key("subject").use(c),this.key("subjectPublicKeyInfo").use(o),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(f).optional())}),E=R.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(l),this.key("signatureAlgorithm").use(k),this.key("signatureValue").bitstr())});b.exports=E},7631:(b,z,y)=>{var R=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,O=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,N=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,k=y(3048),o=y(4696),u=y(9509).Buffer;b.exports=function(n,c){var v=n.toString(),f=v.match(R),l;if(f){var d="aes"+f[1],p=u.from(f[2],"hex"),g=u.from(f[3].replace(/[\r\n]/g,""),"base64"),S=k(c,p.slice(0,8),parseInt(f[1],10)).key,A=[],_=o.createDecipheriv(d,S,p);A.push(_.update(g)),A.push(_.final()),l=u.concat(A)}else{var E=v.match(N);l=u.from(E[2].replace(/[\r\n]/g,""),"base64")}var F=v.match(O)[1];return{tag:F,data:l}}},980:(b,z,y)=>{var R=y(2818),O=y(873),N=y(7631),k=y(4696),o=y(5632),u=y(9509).Buffer;b.exports=n;function n(v){var f;typeof v=="object"&&!u.isBuffer(v)&&(f=v.passphrase,v=v.key),typeof v=="string"&&(v=u.from(v));var l=N(v,f),E=l.tag,d=l.data,p,g;switch(E){case"CERTIFICATE":g=R.certificate.decode(d,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(g||(g=R.PublicKey.decode(d,"der")),p=g.algorithm.algorithm.join("."),p){case"1.2.840.113549.1.1.1":return R.RSAPublicKey.decode(g.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return g.subjectPrivateKey=g.subjectPublicKey,{type:"ec",data:g};case"1.2.840.10040.4.1":return g.algorithm.params.pub_key=R.DSAparam.decode(g.subjectPublicKey.data,"der"),{type:"dsa",data:g.algorithm.params};default:throw new Error("unknown key id "+p)}case"ENCRYPTED PRIVATE KEY":d=R.EncryptedPrivateKey.decode(d,"der"),d=c(d,f);case"PRIVATE KEY":switch(g=R.PrivateKey.decode(d,"der"),p=g.algorithm.algorithm.join("."),p){case"1.2.840.113549.1.1.1":return R.RSAPrivateKey.decode(g.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:g.algorithm.curve,privateKey:R.ECPrivateKey.decode(g.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return g.algorithm.params.priv_key=R.DSAparam.decode(g.subjectPrivateKey,"der"),{type:"dsa",params:g.algorithm.params};default:throw new Error("unknown key id "+p)}case"RSA PUBLIC KEY":return R.RSAPublicKey.decode(d,"der");case"RSA PRIVATE KEY":return R.RSAPrivateKey.decode(d,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:R.DSAPrivateKey.decode(d,"der")};case"EC PRIVATE KEY":return d=R.ECPrivateKey.decode(d,"der"),{curve:d.parameters.value,privateKey:d.privateKey};default:throw new Error("unknown key type "+E)}}n.signature=R.signature;function c(v,f){var l=v.algorithm.decrypt.kde.kdeparams.salt,E=parseInt(v.algorithm.decrypt.kde.kdeparams.iters.toString(),10),d=O[v.algorithm.decrypt.cipher.algo.join(".")],p=v.algorithm.decrypt.cipher.iv,g=v.subjectPrivateKey,S=parseInt(d.split("-")[1],10)/8,A=o.pbkdf2Sync(f,l,E,S,"sha1"),_=k.createDecipheriv(d,A,p),F=[];return F.push(_.update(g)),F.push(_.final()),u.concat(F)}},6470:(b,z,y)=>{"use strict";var R=y(4155);function O(u){if(typeof u!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(u))}function N(u,n){for(var c="",v=0,f=-1,l=0,E,d=0;d<=u.length;++d){if(d<u.length)E=u.charCodeAt(d);else{if(E===47)break;E=47}if(E===47){if(!(f===d-1||l===1))if(f!==d-1&&l===2){if(c.length<2||v!==2||c.charCodeAt(c.length-1)!==46||c.charCodeAt(c.length-2)!==46){if(c.length>2){var p=c.lastIndexOf("/");if(p!==c.length-1){p===-1?(c="",v=0):(c=c.slice(0,p),v=c.length-1-c.lastIndexOf("/")),f=d,l=0;continue}}else if(c.length===2||c.length===1){c="",v=0,f=d,l=0;continue}}n&&(c.length>0?c+="/..":c="..",v=2)}else c.length>0?c+="/"+u.slice(f+1,d):c=u.slice(f+1,d),v=d-f-1;f=d,l=0}else E===46&&l!==-1?++l:l=-1}return c}function k(u,n){var c=n.dir||n.root,v=n.base||(n.name||"")+(n.ext||"");return c?c===n.root?c+v:c+u+v:v}var o={resolve:function(){for(var n="",c=!1,v,f=arguments.length-1;f>=-1&&!c;f--){var l;f>=0?l=arguments[f]:(v===void 0&&(v=R.cwd()),l=v),O(l),l.length!==0&&(n=l+"/"+n,c=l.charCodeAt(0)===47)}return n=N(n,!c),c?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(n){if(O(n),n.length===0)return".";var c=n.charCodeAt(0)===47,v=n.charCodeAt(n.length-1)===47;return n=N(n,!c),n.length===0&&!c&&(n="."),n.length>0&&v&&(n+="/"),c?"/"+n:n},isAbsolute:function(n){return O(n),n.length>0&&n.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var n,c=0;c<arguments.length;++c){var v=arguments[c];O(v),v.length>0&&(n===void 0?n=v:n+="/"+v)}return n===void 0?".":o.normalize(n)},relative:function(n,c){if(O(n),O(c),n===c||(n=o.resolve(n),c=o.resolve(c),n===c))return"";for(var v=1;v<n.length&&n.charCodeAt(v)===47;++v);for(var f=n.length,l=f-v,E=1;E<c.length&&c.charCodeAt(E)===47;++E);for(var d=c.length,p=d-E,g=l<p?l:p,S=-1,A=0;A<=g;++A){if(A===g){if(p>g){if(c.charCodeAt(E+A)===47)return c.slice(E+A+1);if(A===0)return c.slice(E+A)}else l>g&&(n.charCodeAt(v+A)===47?S=A:A===0&&(S=0));break}var _=n.charCodeAt(v+A),F=c.charCodeAt(E+A);if(_!==F)break;_===47&&(S=A)}var H="";for(A=v+S+1;A<=f;++A)(A===f||n.charCodeAt(A)===47)&&(H.length===0?H+="..":H+="/..");return H.length>0?H+c.slice(E+S):(E+=S,c.charCodeAt(E)===47&&++E,c.slice(E))},_makeLong:function(n){return n},dirname:function(n){if(O(n),n.length===0)return".";for(var c=n.charCodeAt(0),v=c===47,f=-1,l=!0,E=n.length-1;E>=1;--E)if(c=n.charCodeAt(E),c===47){if(!l){f=E;break}}else l=!1;return f===-1?v?"/":".":v&&f===1?"//":n.slice(0,f)},basename:function(n,c){if(c!==void 0&&typeof c!="string")throw new TypeError('"ext" argument must be a string');O(n);var v=0,f=-1,l=!0,E;if(c!==void 0&&c.length>0&&c.length<=n.length){if(c.length===n.length&&c===n)return"";var d=c.length-1,p=-1;for(E=n.length-1;E>=0;--E){var g=n.charCodeAt(E);if(g===47){if(!l){v=E+1;break}}else p===-1&&(l=!1,p=E+1),d>=0&&(g===c.charCodeAt(d)?--d==-1&&(f=E):(d=-1,f=p))}return v===f?f=p:f===-1&&(f=n.length),n.slice(v,f)}else{for(E=n.length-1;E>=0;--E)if(n.charCodeAt(E)===47){if(!l){v=E+1;break}}else f===-1&&(l=!1,f=E+1);return f===-1?"":n.slice(v,f)}},extname:function(n){O(n);for(var c=-1,v=0,f=-1,l=!0,E=0,d=n.length-1;d>=0;--d){var p=n.charCodeAt(d);if(p===47){if(!l){v=d+1;break}continue}f===-1&&(l=!1,f=d+1),p===46?c===-1?c=d:E!==1&&(E=1):c!==-1&&(E=-1)}return c===-1||f===-1||E===0||E===1&&c===f-1&&c===v+1?"":n.slice(c,f)},format:function(n){if(n===null||typeof n!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof n);return k("/",n)},parse:function(n){O(n);var c={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return c;var v=n.charCodeAt(0),f=v===47,l;f?(c.root="/",l=1):l=0;for(var E=-1,d=0,p=-1,g=!0,S=n.length-1,A=0;S>=l;--S){if(v=n.charCodeAt(S),v===47){if(!g){d=S+1;break}continue}p===-1&&(g=!1,p=S+1),v===46?E===-1?E=S:A!==1&&(A=1):E!==-1&&(A=-1)}return E===-1||p===-1||A===0||A===1&&E===p-1&&E===d+1?p!==-1&&(d===0&&f?c.base=c.name=n.slice(1,p):c.base=c.name=n.slice(d,p)):(d===0&&f?(c.name=n.slice(1,E),c.base=n.slice(1,p)):(c.name=n.slice(d,E),c.base=n.slice(d,p)),c.ext=n.slice(E,p)),d>0?c.dir=n.slice(0,d-1):f&&(c.dir="/"),c},sep:"/",delimiter:":",win32:null,posix:null};o.posix=o,b.exports=o},5632:(b,z,y)=>{z.pbkdf2=y(8638),z.pbkdf2Sync=y(1257)},8638:(b,z,y)=>{var R=y(9509).Buffer,O=y(7357),N=y(2368),k=y(1257),o=y(7777),u,n=y.g.crypto&&y.g.crypto.subtle,c={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},v=[];function f(g){if(y.g.process&&!y.g.process.browser||!n||!n.importKey||!n.deriveBits)return Promise.resolve(!1);if(v[g]!==void 0)return v[g];u=u||R.alloc(8);var S=d(u,u,10,128,g).then(function(){return!0}).catch(function(){return!1});return v[g]=S,S}var l;function E(){return l||(y.g.process&&y.g.process.nextTick?l=y.g.process.nextTick:y.g.queueMicrotask?l=y.g.queueMicrotask:y.g.setImmediate?l=y.g.setImmediate:l=y.g.setTimeout,l)}function d(g,S,A,_,F){return n.importKey("raw",g,{name:"PBKDF2"},!1,["deriveBits"]).then(function(H){return n.deriveBits({name:"PBKDF2",salt:S,iterations:A,hash:{name:F}},H,_<<3)}).then(function(H){return R.from(H)})}function p(g,S){g.then(function(A){E()(function(){S(null,A)})},function(A){E()(function(){S(A)})})}b.exports=function(g,S,A,_,F,H){typeof F=="function"&&(H=F,F=void 0),F=F||"sha1";var K=c[F.toLowerCase()];if(!K||typeof y.g.Promise!="function"){E()(function(){var J;try{J=k(g,S,A,_,F)}catch(te){return H(te)}H(null,J)});return}if(O(A,_),g=o(g,N,"Password"),S=o(S,N,"Salt"),typeof H!="function")throw new Error("No callback provided to pbkdf2");p(f(K).then(function(J){return J?d(g,S,A,_,K):k(g,S,A,_,F)}),H)}},2368:(b,z,y)=>{var R=y(4155),O;if(y.g.process&&y.g.process.browser)O="utf-8";else if(y.g.process&&y.g.process.version){var N=parseInt(R.version.split(".")[0].slice(1),10);O=N>=6?"utf-8":"binary"}else O="utf-8";b.exports=O},7357:b=>{var z=Math.pow(2,30)-1;b.exports=function(y,R){if(typeof y!="number")throw new TypeError("Iterations not a number");if(y<0)throw new TypeError("Bad iterations");if(typeof R!="number")throw new TypeError("Key length not a number");if(R<0||R>z||R!==R)throw new TypeError("Bad key length")}},1257:(b,z,y)=>{var R=y(8028),O=y(9785),N=y(9072),k=y(9509).Buffer,o=y(7357),u=y(2368),n=y(7777),c=k.alloc(128),v={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function f(d,p,g){var S=l(d),A=d==="sha512"||d==="sha384"?128:64;p.length>A?p=S(p):p.length<A&&(p=k.concat([p,c],A));for(var _=k.allocUnsafe(A+v[d]),F=k.allocUnsafe(A+v[d]),H=0;H<A;H++)_[H]=p[H]^54,F[H]=p[H]^92;var K=k.allocUnsafe(A+g+4);_.copy(K,0,0,A),this.ipad1=K,this.ipad2=_,this.opad=F,this.alg=d,this.blocksize=A,this.hash=S,this.size=v[d]}f.prototype.run=function(d,p){d.copy(p,this.blocksize);var g=this.hash(p);return g.copy(this.opad,this.blocksize),this.hash(this.opad)};function l(d){function p(S){return N(d).update(S).digest()}function g(S){return new O().update(S).digest()}return d==="rmd160"||d==="ripemd160"?g:d==="md5"?R:p}function E(d,p,g,S,A){o(g,S),d=n(d,u,"Password"),p=n(p,u,"Salt"),A=A||"sha1";var _=new f(A,d,p.length),F=k.allocUnsafe(S),H=k.allocUnsafe(p.length+4);p.copy(H,0,0,p.length);for(var K=0,J=v[A],te=Math.ceil(S/J),ie=1;ie<=te;ie++){H.writeUInt32BE(ie,p.length);for(var ne=_.run(H,_.ipad1),ue=ne,Q=1;Q<g;Q++){ue=_.run(ue,_.ipad2);for(var C=0;C<J;C++)ne[C]^=ue[C]}ne.copy(F,K),K+=J}return F}b.exports=E},7777:(b,z,y)=>{var R=y(9509).Buffer;b.exports=function(O,N,k){if(R.isBuffer(O))return O;if(typeof O=="string")return R.from(O,N);if(ArrayBuffer.isView(O))return R.from(O.buffer);throw new TypeError(k+" must be a string, a Buffer, a typed array or a DataView")}},4155:b=>{var z=b.exports={},y,R;function O(){throw new Error("setTimeout has not been defined")}function N(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?y=setTimeout:y=O}catch(p){y=O}try{typeof clearTimeout=="function"?R=clearTimeout:R=N}catch(p){R=N}})();function k(p){if(y===setTimeout)return setTimeout(p,0);if((y===O||!y)&&setTimeout)return y=setTimeout,setTimeout(p,0);try{return y(p,0)}catch(g){try{return y.call(null,p,0)}catch(S){return y.call(this,p,0)}}}function o(p){if(R===clearTimeout)return clearTimeout(p);if((R===N||!R)&&clearTimeout)return R=clearTimeout,clearTimeout(p);try{return R(p)}catch(g){try{return R.call(null,p)}catch(S){return R.call(this,p)}}}var u=[],n=!1,c,v=-1;function f(){!n||!c||(n=!1,c.length?u=c.concat(u):v=-1,u.length&&l())}function l(){if(!n){var p=k(f);n=!0;for(var g=u.length;g;){for(c=u,u=[];++v<g;)c&&c[v].run();v=-1,g=u.length}c=null,n=!1,o(p)}}z.nextTick=function(p){var g=new Array(arguments.length-1);if(arguments.length>1)for(var S=1;S<arguments.length;S++)g[S-1]=arguments[S];u.push(new E(p,g)),u.length===1&&!n&&k(l)};function E(p,g){this.fun=p,this.array=g}E.prototype.run=function(){this.fun.apply(null,this.array)},z.title="browser",z.browser=!0,z.env={},z.argv=[],z.version="",z.versions={};function d(){}z.on=d,z.addListener=d,z.once=d,z.off=d,z.removeListener=d,z.removeAllListeners=d,z.emit=d,z.prependListener=d,z.prependOnceListener=d,z.listeners=function(p){return[]},z.binding=function(p){throw new Error("process.binding is not supported")},z.cwd=function(){return"/"},z.chdir=function(p){throw new Error("process.chdir is not supported")},z.umask=function(){return 0}},7900:(b,z,y)=>{z.publicEncrypt=y(6559),z.privateDecrypt=y(6138),z.privateEncrypt=function(O,N){return z.publicEncrypt(O,N,!0)},z.publicDecrypt=function(O,N){return z.privateDecrypt(O,N,!0)}},9199:(b,z,y)=>{var R=y(3482),O=y(9509).Buffer;b.exports=function(k,o){for(var u=O.alloc(0),n=0,c;u.length<o;)c=N(n++),u=O.concat([u,R("sha1").update(k).update(c).digest()]);return u.slice(0,o)};function N(k){var o=O.allocUnsafe(4);return o.writeUInt32BE(k,0),o}},6138:(b,z,y)=>{var R=y(980),O=y(9199),N=y(7859),k=y(3550),o=y(3663),u=y(3482),n=y(4818),c=y(9509).Buffer;b.exports=function(d,p,g){var S;d.padding?S=d.padding:g?S=1:S=4;var A=R(d),_=A.modulus.byteLength();if(p.length>_||new k(p).cmp(A.modulus)>=0)throw new Error("decryption error");var F;g?F=n(new k(p),A):F=o(p,A);var H=c.alloc(_-F.length);if(F=c.concat([H,F],_),S===4)return v(A,F);if(S===1)return f(A,F,g);if(S===3)return F;throw new Error("unknown padding")};function v(E,d){var p=E.modulus.byteLength(),g=u("sha1").update(c.alloc(0)).digest(),S=g.length;if(d[0]!==0)throw new Error("decryption error");var A=d.slice(1,S+1),_=d.slice(S+1),F=N(A,O(_,S)),H=N(_,O(F,p-S-1));if(l(g,H.slice(0,S)))throw new Error("decryption error");for(var K=S;H[K]===0;)K++;if(H[K++]!==1)throw new Error("decryption error");return H.slice(K)}function f(E,d,p){for(var g=d.slice(0,2),S=2,A=0;d[S++]!==0;)if(S>=d.length){A++;break}var _=d.slice(2,S-1);if((g.toString("hex")!=="0002"&&!p||g.toString("hex")!=="0001"&&p)&&A++,_.length<8&&A++,A)throw new Error("decryption error");return d.slice(S)}function l(E,d){E=c.from(E),d=c.from(d);var p=0,g=E.length;E.length!==d.length&&(p++,g=Math.min(E.length,d.length));for(var S=-1;++S<g;)p+=E[S]^d[S];return p}},6559:(b,z,y)=>{var R=y(980),O=y(1798),N=y(3482),k=y(9199),o=y(7859),u=y(3550),n=y(4818),c=y(3663),v=y(9509).Buffer;b.exports=function(p,g,S){var A;p.padding?A=p.padding:S?A=1:A=4;var _=R(p),F;if(A===4)F=f(_,g);else if(A===1)F=l(_,g,S);else if(A===3){if(F=new u(g),F.cmp(_.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return S?c(F,_):n(F,_)};function f(d,p){var g=d.modulus.byteLength(),S=p.length,A=N("sha1").update(v.alloc(0)).digest(),_=A.length,F=2*_;if(S>g-F-2)throw new Error("message too long");var H=v.alloc(g-S-F-2),K=g-_-1,J=O(_),te=o(v.concat([A,H,v.alloc(1,1),p],K),k(J,K)),ie=o(J,k(te,_));return new u(v.concat([v.alloc(1),ie,te],g))}function l(d,p,g){var S=p.length,A=d.modulus.byteLength();if(S>A-11)throw new Error("message too long");var _;return g?_=v.alloc(A-S-3,255):_=E(A-S-3),new u(v.concat([v.from([0,g?1:2]),_,v.alloc(1),p],A))}function E(d){for(var p=v.allocUnsafe(d),g=0,S=O(d*2),A=0,_;g<d;)A===S.length&&(S=O(d*2),A=0),_=S[A++],_&&(p[g++]=_);return p}},4818:(b,z,y)=>{var R=y(3550),O=y(9509).Buffer;function N(k,o){return O.from(k.toRed(R.mont(o.modulus)).redPow(new R(o.publicExponent)).fromRed().toArray())}b.exports=N},7859:b=>{b.exports=function(y,R){for(var O=y.length,N=-1;++N<O;)y[N]^=R[N];return y}},1798:(b,z,y)=>{"use strict";var R=y(4155),O=65536,N=4294967295;function k(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var o=y(9509).Buffer,u=y.g.crypto||y.g.msCrypto;u&&u.getRandomValues?b.exports=n:b.exports=k;function n(c,v){if(c>N)throw new RangeError("requested too many random bytes");var f=o.allocUnsafe(c);if(c>0)if(c>O)for(var l=0;l<c;l+=O)u.getRandomValues(f.slice(l,l+O));else u.getRandomValues(f);return typeof v=="function"?R.nextTick(function(){v(null,f)}):f}},7963:(b,z,y)=>{"use strict";var R=y(4155);function O(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var N=y(9509),k=y(1798),o=N.Buffer,u=N.kMaxLength,n=y.g.crypto||y.g.msCrypto,c=Math.pow(2,32)-1;function v(p,g){if(typeof p!="number"||p!==p)throw new TypeError("offset must be a number");if(p>c||p<0)throw new TypeError("offset must be a uint32");if(p>u||p>g)throw new RangeError("offset out of range")}function f(p,g,S){if(typeof p!="number"||p!==p)throw new TypeError("size must be a number");if(p>c||p<0)throw new TypeError("size must be a uint32");if(p+g>S||p>u)throw new RangeError("buffer too small")}n&&n.getRandomValues||!R.browser?(z.randomFill=l,z.randomFillSync=d):(z.randomFill=O,z.randomFillSync=O);function l(p,g,S,A){if(!o.isBuffer(p)&&!(p instanceof y.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof g=="function")A=g,g=0,S=p.length;else if(typeof S=="function")A=S,S=p.length-g;else if(typeof A!="function")throw new TypeError('"cb" argument must be a function');return v(g,p.length),f(S,g,p.length),E(p,g,S,A)}function E(p,g,S,A){if(R.browser){var _=p.buffer,F=new Uint8Array(_,g,S);if(n.getRandomValues(F),A){R.nextTick(function(){A(null,p)});return}return p}if(A){k(S,function(K,J){if(K)return A(K);J.copy(p,g),A(null,p)});return}var H=k(S);return H.copy(p,g),p}function d(p,g,S){if(typeof g=="undefined"&&(g=0),!o.isBuffer(p)&&!(p instanceof y.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return v(g,p.length),S===void 0&&(S=p.length-g),f(S,g,p.length),E(p,g,S)}},9785:(b,z,y)=>{"use strict";var R=y(8764).Buffer,O=y(5717),N=y(3349),k=new Array(16),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],n=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],c=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],v=[0,1518500249,1859775393,2400959708,2840853838],f=[1352829926,1548603684,1836072691,2053994217,0];function l(){N.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}O(l,N),l.prototype._update=function(){for(var _=k,F=0;F<16;++F)_[F]=this._block.readInt32LE(F*4);for(var H=this._a|0,K=this._b|0,J=this._c|0,te=this._d|0,ie=this._e|0,ne=this._a|0,ue=this._b|0,Q=this._c|0,C=this._d|0,U=this._e|0,M=0;M<80;M+=1){var s,m;M<16?(s=d(H,K,J,te,ie,_[o[M]],v[0],n[M]),m=A(ne,ue,Q,C,U,_[u[M]],f[0],c[M])):M<32?(s=p(H,K,J,te,ie,_[o[M]],v[1],n[M]),m=S(ne,ue,Q,C,U,_[u[M]],f[1],c[M])):M<48?(s=g(H,K,J,te,ie,_[o[M]],v[2],n[M]),m=g(ne,ue,Q,C,U,_[u[M]],f[2],c[M])):M<64?(s=S(H,K,J,te,ie,_[o[M]],v[3],n[M]),m=p(ne,ue,Q,C,U,_[u[M]],f[3],c[M])):(s=A(H,K,J,te,ie,_[o[M]],v[4],n[M]),m=d(ne,ue,Q,C,U,_[u[M]],f[4],c[M])),H=ie,ie=te,te=E(J,10),J=K,K=s,ne=U,U=C,C=E(Q,10),Q=ue,ue=m}var T=this._b+J+C|0;this._b=this._c+te+U|0,this._c=this._d+ie+ne|0,this._d=this._e+H+ue|0,this._e=this._a+K+Q|0,this._a=T},l.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var _=R.alloc?R.alloc(20):new R(20);return _.writeInt32LE(this._a,0),_.writeInt32LE(this._b,4),_.writeInt32LE(this._c,8),_.writeInt32LE(this._d,12),_.writeInt32LE(this._e,16),_};function E(_,F){return _<<F|_>>>32-F}function d(_,F,H,K,J,te,ie,ne){return E(_+(F^H^K)+te+ie|0,ne)+J|0}function p(_,F,H,K,J,te,ie,ne){return E(_+(F&H|~F&K)+te+ie|0,ne)+J|0}function g(_,F,H,K,J,te,ie,ne){return E(_+((F|~H)^K)+te+ie|0,ne)+J|0}function S(_,F,H,K,J,te,ie,ne){return E(_+(F&K|H&~K)+te+ie|0,ne)+J|0}function A(_,F,H,K,J,te,ie,ne){return E(_+(F^(H|~K))+te+ie|0,ne)+J|0}b.exports=l},9509:(b,z,y)=>{/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var R=y(8764),O=R.Buffer;function N(o,u){for(var n in o)u[n]=o[n]}O.from&&O.alloc&&O.allocUnsafe&&O.allocUnsafeSlow?b.exports=R:(N(R,z),z.Buffer=k);function k(o,u,n){return O(o,u,n)}k.prototype=Object.create(O.prototype),N(O,k),k.from=function(o,u,n){if(typeof o=="number")throw new TypeError("Argument must not be a number");return O(o,u,n)},k.alloc=function(o,u,n){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=O(o);return u!==void 0?typeof n=="string"?c.fill(u,n):c.fill(u):c.fill(0),c},k.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return O(o)},k.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return R.SlowBuffer(o)}},2399:(b,z,y)=>{"use strict";var R=y(4155),O=y(8764),N=O.Buffer,k={},o;for(o in O)!O.hasOwnProperty(o)||o==="SlowBuffer"||o==="Buffer"||(k[o]=O[o]);var u=k.Buffer={};for(o in N)!N.hasOwnProperty(o)||o==="allocUnsafe"||o==="allocUnsafeSlow"||(u[o]=N[o]);if(k.Buffer.prototype=N.prototype,(!u.from||u.from===Uint8Array.from)&&(u.from=function(n,c,v){if(typeof n=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof n);if(n&&typeof n.length=="undefined")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n);return N(n,c,v)}),u.alloc||(u.alloc=function(n,c,v){if(typeof n!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof n);if(n<0||n>=2*(1<<30))throw new RangeError('The value "'+n+'" is invalid for option "size"');var f=N(n);return!c||c.length===0?f.fill(0):typeof v=="string"?f.fill(c,v):f.fill(c),f}),!k.kStringMaxLength)try{k.kStringMaxLength=R.binding("buffer").kStringMaxLength}catch(n){}k.constants||(k.constants={MAX_LENGTH:k.kMaxLength},k.kStringMaxLength&&(k.constants.MAX_STRING_LENGTH=k.kStringMaxLength)),b.exports=k},4189:(b,z,y)=>{var R=y(9509).Buffer;function O(N,k){this._block=R.alloc(N),this._finalSize=k,this._blockSize=N,this._len=0}O.prototype.update=function(N,k){typeof N=="string"&&(k=k||"utf8",N=R.from(N,k));for(var o=this._block,u=this._blockSize,n=N.length,c=this._len,v=0;v<n;){for(var f=c%u,l=Math.min(n-v,u-f),E=0;E<l;E++)o[f+E]=N[v+E];c+=l,v+=l,c%u==0&&this._update(o)}return this._len+=n,this},O.prototype.digest=function(N){var k=this._len%this._blockSize;this._block[k]=128,this._block.fill(0,k+1),k>=this._finalSize&&(this._update(this._block),this._block.fill(0));var o=this._len*8;if(o<=4294967295)this._block.writeUInt32BE(o,this._blockSize-4);else{var u=(o&4294967295)>>>0,n=(o-u)/4294967296;this._block.writeUInt32BE(n,this._blockSize-8),this._block.writeUInt32BE(u,this._blockSize-4)}this._update(this._block);var c=this._hash();return N?c.toString(N):c},O.prototype._update=function(){throw new Error("_update must be implemented by subclass")},b.exports=O},9072:(b,z,y)=>{var R=b.exports=function(N){N=N.toLowerCase();var k=R[N];if(!k)throw new Error(N+" is not supported (we accept pull requests)");return new k};R.sha=y(4448),R.sha1=y(8336),R.sha224=y(8432),R.sha256=y(7499),R.sha384=y(1686),R.sha512=y(7816)},4448:(b,z,y)=>{var R=y(5717),O=y(4189),N=y(9509).Buffer,k=[1518500249,1859775393,2400959708|0,3395469782|0],o=new Array(80);function u(){this.init(),this._w=o,O.call(this,64,56)}R(u,O),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function n(f){return f<<5|f>>>27}function c(f){return f<<30|f>>>2}function v(f,l,E,d){return f===0?l&E|~l&d:f===2?l&E|l&d|E&d:l^E^d}u.prototype._update=function(f){for(var l=this._w,E=this._a|0,d=this._b|0,p=this._c|0,g=this._d|0,S=this._e|0,A=0;A<16;++A)l[A]=f.readInt32BE(A*4);for(;A<80;++A)l[A]=l[A-3]^l[A-8]^l[A-14]^l[A-16];for(var _=0;_<80;++_){var F=~~(_/20),H=n(E)+v(F,d,p,g)+S+l[_]+k[F]|0;S=g,g=p,p=c(d),d=E,E=H}this._a=E+this._a|0,this._b=d+this._b|0,this._c=p+this._c|0,this._d=g+this._d|0,this._e=S+this._e|0},u.prototype._hash=function(){var f=N.allocUnsafe(20);return f.writeInt32BE(this._a|0,0),f.writeInt32BE(this._b|0,4),f.writeInt32BE(this._c|0,8),f.writeInt32BE(this._d|0,12),f.writeInt32BE(this._e|0,16),f},b.exports=u},8336:(b,z,y)=>{var R=y(5717),O=y(4189),N=y(9509).Buffer,k=[1518500249,1859775393,2400959708|0,3395469782|0],o=new Array(80);function u(){this.init(),this._w=o,O.call(this,64,56)}R(u,O),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function n(l){return l<<1|l>>>31}function c(l){return l<<5|l>>>27}function v(l){return l<<30|l>>>2}function f(l,E,d,p){return l===0?E&d|~E&p:l===2?E&d|E&p|d&p:E^d^p}u.prototype._update=function(l){for(var E=this._w,d=this._a|0,p=this._b|0,g=this._c|0,S=this._d|0,A=this._e|0,_=0;_<16;++_)E[_]=l.readInt32BE(_*4);for(;_<80;++_)E[_]=n(E[_-3]^E[_-8]^E[_-14]^E[_-16]);for(var F=0;F<80;++F){var H=~~(F/20),K=c(d)+f(H,p,g,S)+A+E[F]+k[H]|0;A=S,S=g,g=v(p),p=d,d=K}this._a=d+this._a|0,this._b=p+this._b|0,this._c=g+this._c|0,this._d=S+this._d|0,this._e=A+this._e|0},u.prototype._hash=function(){var l=N.allocUnsafe(20);return l.writeInt32BE(this._a|0,0),l.writeInt32BE(this._b|0,4),l.writeInt32BE(this._c|0,8),l.writeInt32BE(this._d|0,12),l.writeInt32BE(this._e|0,16),l},b.exports=u},8432:(b,z,y)=>{var R=y(5717),O=y(7499),N=y(4189),k=y(9509).Buffer,o=new Array(64);function u(){this.init(),this._w=o,N.call(this,64,56)}R(u,O),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var n=k.allocUnsafe(28);return n.writeInt32BE(this._a,0),n.writeInt32BE(this._b,4),n.writeInt32BE(this._c,8),n.writeInt32BE(this._d,12),n.writeInt32BE(this._e,16),n.writeInt32BE(this._f,20),n.writeInt32BE(this._g,24),n},b.exports=u},7499:(b,z,y)=>{var R=y(5717),O=y(4189),N=y(9509).Buffer,k=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=new Array(64);function u(){this.init(),this._w=o,O.call(this,64,56)}R(u,O),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function n(d,p,g){return g^d&(p^g)}function c(d,p,g){return d&p|g&(d|p)}function v(d){return(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10)}function f(d){return(d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7)}function l(d){return(d>>>7|d<<25)^(d>>>18|d<<14)^d>>>3}function E(d){return(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10}u.prototype._update=function(d){for(var p=this._w,g=this._a|0,S=this._b|0,A=this._c|0,_=this._d|0,F=this._e|0,H=this._f|0,K=this._g|0,J=this._h|0,te=0;te<16;++te)p[te]=d.readInt32BE(te*4);for(;te<64;++te)p[te]=E(p[te-2])+p[te-7]+l(p[te-15])+p[te-16]|0;for(var ie=0;ie<64;++ie){var ne=J+f(F)+n(F,H,K)+k[ie]+p[ie]|0,ue=v(g)+c(g,S,A)|0;J=K,K=H,H=F,F=_+ne|0,_=A,A=S,S=g,g=ne+ue|0}this._a=g+this._a|0,this._b=S+this._b|0,this._c=A+this._c|0,this._d=_+this._d|0,this._e=F+this._e|0,this._f=H+this._f|0,this._g=K+this._g|0,this._h=J+this._h|0},u.prototype._hash=function(){var d=N.allocUnsafe(32);return d.writeInt32BE(this._a,0),d.writeInt32BE(this._b,4),d.writeInt32BE(this._c,8),d.writeInt32BE(this._d,12),d.writeInt32BE(this._e,16),d.writeInt32BE(this._f,20),d.writeInt32BE(this._g,24),d.writeInt32BE(this._h,28),d},b.exports=u},1686:(b,z,y)=>{var R=y(5717),O=y(7816),N=y(4189),k=y(9509).Buffer,o=new Array(160);function u(){this.init(),this._w=o,N.call(this,128,112)}R(u,O),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var n=k.allocUnsafe(48);function c(v,f,l){n.writeInt32BE(v,l),n.writeInt32BE(f,l+4)}return c(this._ah,this._al,0),c(this._bh,this._bl,8),c(this._ch,this._cl,16),c(this._dh,this._dl,24),c(this._eh,this._el,32),c(this._fh,this._fl,40),n},b.exports=u},7816:(b,z,y)=>{var R=y(5717),O=y(4189),N=y(9509).Buffer,k=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],o=new Array(160);function u(){this.init(),this._w=o,O.call(this,128,112)}R(u,O),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function n(S,A,_){return _^S&(A^_)}function c(S,A,_){return S&A|_&(S|A)}function v(S,A){return(S>>>28|A<<4)^(A>>>2|S<<30)^(A>>>7|S<<25)}function f(S,A){return(S>>>14|A<<18)^(S>>>18|A<<14)^(A>>>9|S<<23)}function l(S,A){return(S>>>1|A<<31)^(S>>>8|A<<24)^S>>>7}function E(S,A){return(S>>>1|A<<31)^(S>>>8|A<<24)^(S>>>7|A<<25)}function d(S,A){return(S>>>19|A<<13)^(A>>>29|S<<3)^S>>>6}function p(S,A){return(S>>>19|A<<13)^(A>>>29|S<<3)^(S>>>6|A<<26)}function g(S,A){return S>>>0<A>>>0?1:0}u.prototype._update=function(S){for(var A=this._w,_=this._ah|0,F=this._bh|0,H=this._ch|0,K=this._dh|0,J=this._eh|0,te=this._fh|0,ie=this._gh|0,ne=this._hh|0,ue=this._al|0,Q=this._bl|0,C=this._cl|0,U=this._dl|0,M=this._el|0,s=this._fl|0,m=this._gl|0,T=this._hl|0,I=0;I<32;I+=2)A[I]=S.readInt32BE(I*4),A[I+1]=S.readInt32BE(I*4+4);for(;I<160;I+=2){var D=A[I-15*2],P=A[I-15*2+1],V=l(D,P),G=E(P,D);D=A[I-2*2],P=A[I-2*2+1];var w=d(D,P),Y=p(P,D),me=A[I-7*2],ge=A[I-7*2+1],_e=A[I-16*2],xe=A[I-16*2+1],ee=G+ge|0,X=V+me+g(ee,G)|0;ee=ee+Y|0,X=X+w+g(ee,Y)|0,ee=ee+xe|0,X=X+_e+g(ee,xe)|0,A[I]=X,A[I+1]=ee}for(var ce=0;ce<160;ce+=2){X=A[ce],ee=A[ce+1];var he=c(_,F,H),ve=c(ue,Q,C),q=v(_,ue),L=v(ue,_),ae=f(J,M),pe=f(M,J),Se=k[ce],ye=k[ce+1],Ne=n(J,te,ie),Ae=n(M,s,m),Me=T+pe|0,ut=ne+ae+g(Me,T)|0;Me=Me+Ae|0,ut=ut+Ne+g(Me,Ae)|0,Me=Me+ye|0,ut=ut+Se+g(Me,ye)|0,Me=Me+ee|0,ut=ut+X+g(Me,ee)|0;var qe=L+ve|0,Fe=q+he+g(qe,L)|0;ne=ie,T=m,ie=te,m=s,te=J,s=M,M=U+Me|0,J=K+ut+g(M,U)|0,K=H,U=C,H=F,C=Q,F=_,Q=ue,ue=Me+qe|0,_=ut+Fe+g(ue,Me)|0}this._al=this._al+ue|0,this._bl=this._bl+Q|0,this._cl=this._cl+C|0,this._dl=this._dl+U|0,this._el=this._el+M|0,this._fl=this._fl+s|0,this._gl=this._gl+m|0,this._hl=this._hl+T|0,this._ah=this._ah+_+g(this._al,ue)|0,this._bh=this._bh+F+g(this._bl,Q)|0,this._ch=this._ch+H+g(this._cl,C)|0,this._dh=this._dh+K+g(this._dl,U)|0,this._eh=this._eh+J+g(this._el,M)|0,this._fh=this._fh+te+g(this._fl,s)|0,this._gh=this._gh+ie+g(this._gl,m)|0,this._hh=this._hh+ne+g(this._hl,T)|0},u.prototype._hash=function(){var S=N.allocUnsafe(64);function A(_,F,H){S.writeInt32BE(_,H),S.writeInt32BE(F,H+4)}return A(this._ah,this._al,0),A(this._bh,this._bl,8),A(this._ch,this._cl,16),A(this._dh,this._dl,24),A(this._eh,this._el,32),A(this._fh,this._fl,40),A(this._gh,this._gl,48),A(this._hh,this._hl,56),S},b.exports=u},2830:(b,z,y)=>{b.exports=N;var R=y(7187).EventEmitter,O=y(5717);O(N,R),N.Readable=y(6577),N.Writable=y(323),N.Duplex=y(8656),N.Transform=y(4473),N.PassThrough=y(2366),N.finished=y(1086),N.pipeline=y(6472),N.Stream=N;function N(){R.call(this)}N.prototype.pipe=function(k,o){var u=this;function n(p){k.writable&&k.write(p)===!1&&u.pause&&u.pause()}u.on("data",n);function c(){u.readable&&u.resume&&u.resume()}k.on("drain",c),!k._isStdio&&(!o||o.end!==!1)&&(u.on("end",f),u.on("close",l));var v=!1;function f(){v||(v=!0,k.end())}function l(){v||(v=!0,typeof k.destroy=="function"&&k.destroy())}function E(p){if(d(),R.listenerCount(this,"error")===0)throw p}u.on("error",E),k.on("error",E);function d(){u.removeListener("data",n),k.removeListener("drain",c),u.removeListener("end",f),u.removeListener("close",l),u.removeListener("error",E),k.removeListener("error",E),u.removeListener("end",d),u.removeListener("close",d),k.removeListener("close",d)}return u.on("end",d),u.on("close",d),k.on("close",d),k.emit("pipe",u),k}},8106:b=>{"use strict";function z(u,n){u.prototype=Object.create(n.prototype),u.prototype.constructor=u,u.__proto__=n}var y={};function R(u,n,c){c||(c=Error);function v(l,E,d){return typeof n=="string"?n:n(l,E,d)}var f=function(l){z(E,l);function E(d,p,g){return l.call(this,v(d,p,g))||this}return E}(c);f.prototype.name=c.name,f.prototype.code=u,y[u]=f}function O(u,n){if(Array.isArray(u)){var c=u.length;return u=u.map(function(v){return String(v)}),c>2?"one of ".concat(n," ").concat(u.slice(0,c-1).join(", "),", or ")+u[c-1]:c===2?"one of ".concat(n," ").concat(u[0]," or ").concat(u[1]):"of ".concat(n," ").concat(u[0])}else return"of ".concat(n," ").concat(String(u))}function N(u,n,c){return u.substr(!c||c<0?0:+c,n.length)===n}function k(u,n,c){return(c===void 0||c>u.length)&&(c=u.length),u.substring(c-n.length,c)===n}function o(u,n,c){return typeof c!="number"&&(c=0),c+n.length>u.length?!1:u.indexOf(n,c)!==-1}R("ERR_INVALID_OPT_VALUE",function(u,n){return'The value "'+n+'" is invalid for option "'+u+'"'},TypeError),R("ERR_INVALID_ARG_TYPE",function(u,n,c){var v;typeof n=="string"&&N(n,"not ")?(v="must not be",n=n.replace(/^not /,"")):v="must be";var f;if(k(u," argument"))f="The ".concat(u," ").concat(v," ").concat(O(n,"type"));else{var l=o(u,".")?"property":"argument";f='The "'.concat(u,'" ').concat(l," ").concat(v," ").concat(O(n,"type"))}return f+=". Received type ".concat(typeof c),f},TypeError),R("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),R("ERR_METHOD_NOT_IMPLEMENTED",function(u){return"The "+u+" method is not implemented"}),R("ERR_STREAM_PREMATURE_CLOSE","Premature close"),R("ERR_STREAM_DESTROYED",function(u){return"Cannot call "+u+" after a stream was destroyed"}),R("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),R("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),R("ERR_STREAM_WRITE_AFTER_END","write after end"),R("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),R("ERR_UNKNOWN_ENCODING",function(u){return"Unknown encoding: "+u},TypeError),R("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),b.exports.q=y},8656:(b,z,y)=>{"use strict";var R=y(4155),O=Object.keys||function(l){var E=[];for(var d in l)E.push(d);return E};b.exports=c;var N=y(6577),k=y(323);y(5717)(c,N);for(var o=O(k.prototype),u=0;u<o.length;u++){var n=o[u];c.prototype[n]||(c.prototype[n]=k.prototype[n])}function c(l){if(!(this instanceof c))return new c(l);N.call(this,l),k.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",v)))}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function v(){this._writableState.ended||R.nextTick(f,this)}function f(l){l.end()}Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(E){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=E,this._writableState.destroyed=E)}})},2366:(b,z,y)=>{"use strict";b.exports=O;var R=y(4473);y(5717)(O,R);function O(N){if(!(this instanceof O))return new O(N);R.call(this,N)}O.prototype._transform=function(N,k,o){o(null,N)}},6577:(b,z,y)=>{"use strict";var R=y(4155);b.exports=C;var O;C.ReadableState=Q;var N=y(7187).EventEmitter,k=function(L,ae){return L.listeners(ae).length},o=y(3194),u=y(8764).Buffer,n=y.g.Uint8Array||function(){};function c(q){return u.from(q)}function v(q){return u.isBuffer(q)||q instanceof n}var f=y(964),l;f&&f.debuglog?l=f.debuglog("stream"):l=function(){};var E=y(9686),d=y(1029),p=y(94),g=p.getHighWaterMark,S=y(8106).q,A=S.ERR_INVALID_ARG_TYPE,_=S.ERR_STREAM_PUSH_AFTER_EOF,F=S.ERR_METHOD_NOT_IMPLEMENTED,H=S.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,K,J,te;y(5717)(C,o);var ie=d.errorOrDestroy,ne=["error","close","destroy","pause","resume"];function ue(q,L,ae){if(typeof q.prependListener=="function")return q.prependListener(L,ae);!q._events||!q._events[L]?q.on(L,ae):Array.isArray(q._events[L])?q._events[L].unshift(ae):q._events[L]=[ae,q._events[L]]}function Q(q,L,ae){O=O||y(8656),q=q||{},typeof ae!="boolean"&&(ae=L instanceof O),this.objectMode=!!q.objectMode,ae&&(this.objectMode=this.objectMode||!!q.readableObjectMode),this.highWaterMark=g(this,q,"readableHighWaterMark",ae),this.buffer=new E,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=q.emitClose!==!1,this.autoDestroy=!!q.autoDestroy,this.destroyed=!1,this.defaultEncoding=q.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,q.encoding&&(K||(K=y(4729).s),this.decoder=new K(q.encoding),this.encoding=q.encoding)}function C(q){if(O=O||y(8656),!(this instanceof C))return new C(q);var L=this instanceof O;this._readableState=new Q(q,this,L),this.readable=!0,q&&(typeof q.read=="function"&&(this._read=q.read),typeof q.destroy=="function"&&(this._destroy=q.destroy)),o.call(this)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(L){!this._readableState||(this._readableState.destroyed=L)}}),C.prototype.destroy=d.destroy,C.prototype._undestroy=d.undestroy,C.prototype._destroy=function(q,L){L(q)},C.prototype.push=function(q,L){var ae=this._readableState,pe;return ae.objectMode?pe=!0:typeof q=="string"&&(L=L||ae.defaultEncoding,L!==ae.encoding&&(q=u.from(q,L),L=""),pe=!0),U(this,q,L,!1,pe)},C.prototype.unshift=function(q){return U(this,q,null,!0,!1)};function U(q,L,ae,pe,Se){l("readableAddChunk",L);var ye=q._readableState;if(L===null)ye.reading=!1,D(q,ye);else{var Ne;if(Se||(Ne=s(ye,L)),Ne)ie(q,Ne);else if(ye.objectMode||L&&L.length>0)if(typeof L!="string"&&!ye.objectMode&&Object.getPrototypeOf(L)!==u.prototype&&(L=c(L)),pe)ye.endEmitted?ie(q,new H):M(q,ye,L,!0);else if(ye.ended)ie(q,new _);else{if(ye.destroyed)return!1;ye.reading=!1,ye.decoder&&!ae?(L=ye.decoder.write(L),ye.objectMode||L.length!==0?M(q,ye,L,!1):G(q,ye)):M(q,ye,L,!1)}else pe||(ye.reading=!1,G(q,ye))}return!ye.ended&&(ye.length<ye.highWaterMark||ye.length===0)}function M(q,L,ae,pe){L.flowing&&L.length===0&&!L.sync?(L.awaitDrain=0,q.emit("data",ae)):(L.length+=L.objectMode?1:ae.length,pe?L.buffer.unshift(ae):L.buffer.push(ae),L.needReadable&&P(q)),G(q,L)}function s(q,L){var ae;return!v(L)&&typeof L!="string"&&L!==void 0&&!q.objectMode&&(ae=new A("chunk",["string","Buffer","Uint8Array"],L)),ae}C.prototype.isPaused=function(){return this._readableState.flowing===!1},C.prototype.setEncoding=function(q){K||(K=y(4729).s);var L=new K(q);this._readableState.decoder=L,this._readableState.encoding=this._readableState.decoder.encoding;for(var ae=this._readableState.buffer.head,pe="";ae!==null;)pe+=L.write(ae.data),ae=ae.next;return this._readableState.buffer.clear(),pe!==""&&this._readableState.buffer.push(pe),this._readableState.length=pe.length,this};var m=1073741824;function T(q){return q>=m?q=m:(q--,q|=q>>>1,q|=q>>>2,q|=q>>>4,q|=q>>>8,q|=q>>>16,q++),q}function I(q,L){return q<=0||L.length===0&&L.ended?0:L.objectMode?1:q!==q?L.flowing&&L.length?L.buffer.head.data.length:L.length:(q>L.highWaterMark&&(L.highWaterMark=T(q)),q<=L.length?q:L.ended?L.length:(L.needReadable=!0,0))}C.prototype.read=function(q){l("read",q),q=parseInt(q,10);var L=this._readableState,ae=q;if(q!==0&&(L.emittedReadable=!1),q===0&&L.needReadable&&((L.highWaterMark!==0?L.length>=L.highWaterMark:L.length>0)||L.ended))return l("read: emitReadable",L.length,L.ended),L.length===0&&L.ended?ce(this):P(this),null;if(q=I(q,L),q===0&&L.ended)return L.length===0&&ce(this),null;var pe=L.needReadable;l("need readable",pe),(L.length===0||L.length-q<L.highWaterMark)&&(pe=!0,l("length less than watermark",pe)),L.ended||L.reading?(pe=!1,l("reading or ended",pe)):pe&&(l("do read"),L.reading=!0,L.sync=!0,L.length===0&&(L.needReadable=!0),this._read(L.highWaterMark),L.sync=!1,L.reading||(q=I(ae,L)));var Se;return q>0?Se=X(q,L):Se=null,Se===null?(L.needReadable=L.length<=L.highWaterMark,q=0):(L.length-=q,L.awaitDrain=0),L.length===0&&(L.ended||(L.needReadable=!0),ae!==q&&L.ended&&ce(this)),Se!==null&&this.emit("data",Se),Se};function D(q,L){if(l("onEofChunk"),!L.ended){if(L.decoder){var ae=L.decoder.end();ae&&ae.length&&(L.buffer.push(ae),L.length+=L.objectMode?1:ae.length)}L.ended=!0,L.sync?P(q):(L.needReadable=!1,L.emittedReadable||(L.emittedReadable=!0,V(q)))}}function P(q){var L=q._readableState;l("emitReadable",L.needReadable,L.emittedReadable),L.needReadable=!1,L.emittedReadable||(l("emitReadable",L.flowing),L.emittedReadable=!0,R.nextTick(V,q))}function V(q){var L=q._readableState;l("emitReadable_",L.destroyed,L.length,L.ended),!L.destroyed&&(L.length||L.ended)&&(q.emit("readable"),L.emittedReadable=!1),L.needReadable=!L.flowing&&!L.ended&&L.length<=L.highWaterMark,ee(q)}function G(q,L){L.readingMore||(L.readingMore=!0,R.nextTick(w,q,L))}function w(q,L){for(;!L.reading&&!L.ended&&(L.length<L.highWaterMark||L.flowing&&L.length===0);){var ae=L.length;if(l("maybeReadMore read 0"),q.read(0),ae===L.length)break}L.readingMore=!1}C.prototype._read=function(q){ie(this,new F("_read()"))},C.prototype.pipe=function(q,L){var ae=this,pe=this._readableState;switch(pe.pipesCount){case 0:pe.pipes=q;break;case 1:pe.pipes=[pe.pipes,q];break;default:pe.pipes.push(q);break}pe.pipesCount+=1,l("pipe count=%d opts=%j",pe.pipesCount,L);var Se=(!L||L.end!==!1)&&q!==R.stdout&&q!==R.stderr,ye=Se?Ae:Z;pe.endEmitted?R.nextTick(ye):ae.once("end",ye),q.on("unpipe",Ne);function Ne(oe,fe){l("onunpipe"),oe===ae&&fe&&fe.hasUnpiped===!1&&(fe.hasUnpiped=!0,qe())}function Ae(){l("onend"),q.end()}var Me=Y(ae);q.on("drain",Me);var ut=!1;function qe(){l("cleanup"),q.removeListener("close",se),q.removeListener("finish",j),q.removeListener("drain",Me),q.removeListener("error",ht),q.removeListener("unpipe",Ne),ae.removeListener("end",Ae),ae.removeListener("end",Z),ae.removeListener("data",Fe),ut=!0,pe.awaitDrain&&(!q._writableState||q._writableState.needDrain)&&Me()}ae.on("data",Fe);function Fe(oe){l("ondata");var fe=q.write(oe);l("dest.write",fe),fe===!1&&((pe.pipesCount===1&&pe.pipes===q||pe.pipesCount>1&&ve(pe.pipes,q)!==-1)&&!ut&&(l("false write response, pause",pe.awaitDrain),pe.awaitDrain++),ae.pause())}function ht(oe){l("onerror",oe),Z(),q.removeListener("error",ht),k(q,"error")===0&&ie(q,oe)}ue(q,"error",ht);function se(){q.removeListener("finish",j),Z()}q.once("close",se);function j(){l("onfinish"),q.removeListener("close",se),Z()}q.once("finish",j);function Z(){l("unpipe"),ae.unpipe(q)}return q.emit("pipe",ae),pe.flowing||(l("pipe resume"),ae.resume()),q};function Y(q){return function(){var ae=q._readableState;l("pipeOnDrain",ae.awaitDrain),ae.awaitDrain&&ae.awaitDrain--,ae.awaitDrain===0&&k(q,"data")&&(ae.flowing=!0,ee(q))}}C.prototype.unpipe=function(q){var L=this._readableState,ae={hasUnpiped:!1};if(L.pipesCount===0)return this;if(L.pipesCount===1)return q&&q!==L.pipes?this:(q||(q=L.pipes),L.pipes=null,L.pipesCount=0,L.flowing=!1,q&&q.emit("unpipe",this,ae),this);if(!q){var pe=L.pipes,Se=L.pipesCount;L.pipes=null,L.pipesCount=0,L.flowing=!1;for(var ye=0;ye<Se;ye++)pe[ye].emit("unpipe",this,{hasUnpiped:!1});return this}var Ne=ve(L.pipes,q);return Ne===-1?this:(L.pipes.splice(Ne,1),L.pipesCount-=1,L.pipesCount===1&&(L.pipes=L.pipes[0]),q.emit("unpipe",this,ae),this)},C.prototype.on=function(q,L){var ae=o.prototype.on.call(this,q,L),pe=this._readableState;return q==="data"?(pe.readableListening=this.listenerCount("readable")>0,pe.flowing!==!1&&this.resume()):q==="readable"&&!pe.endEmitted&&!pe.readableListening&&(pe.readableListening=pe.needReadable=!0,pe.flowing=!1,pe.emittedReadable=!1,l("on readable",pe.length,pe.reading),pe.length?P(this):pe.reading||R.nextTick(ge,this)),ae},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(q,L){var ae=o.prototype.removeListener.call(this,q,L);return q==="readable"&&R.nextTick(me,this),ae},C.prototype.removeAllListeners=function(q){var L=o.prototype.removeAllListeners.apply(this,arguments);return(q==="readable"||q===void 0)&&R.nextTick(me,this),L};function me(q){var L=q._readableState;L.readableListening=q.listenerCount("readable")>0,L.resumeScheduled&&!L.paused?L.flowing=!0:q.listenerCount("data")>0&&q.resume()}function ge(q){l("readable nexttick read 0"),q.read(0)}C.prototype.resume=function(){var q=this._readableState;return q.flowing||(l("resume"),q.flowing=!q.readableListening,_e(this,q)),q.paused=!1,this};function _e(q,L){L.resumeScheduled||(L.resumeScheduled=!0,R.nextTick(xe,q,L))}function xe(q,L){l("resume",L.reading),L.reading||q.read(0),L.resumeScheduled=!1,q.emit("resume"),ee(q),L.flowing&&!L.reading&&q.read(0)}C.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ee(q){var L=q._readableState;for(l("flow",L.flowing);L.flowing&&q.read()!==null;);}C.prototype.wrap=function(q){var L=this,ae=this._readableState,pe=!1;q.on("end",function(){if(l("wrapped end"),ae.decoder&&!ae.ended){var Ne=ae.decoder.end();Ne&&Ne.length&&L.push(Ne)}L.push(null)}),q.on("data",function(Ne){if(l("wrapped data"),ae.decoder&&(Ne=ae.decoder.write(Ne)),!(ae.objectMode&&Ne==null)&&!(!ae.objectMode&&(!Ne||!Ne.length))){var Ae=L.push(Ne);Ae||(pe=!0,q.pause())}});for(var Se in q)this[Se]===void 0&&typeof q[Se]=="function"&&(this[Se]=function(Ae){return function(){return q[Ae].apply(q,arguments)}}(Se));for(var ye=0;ye<ne.length;ye++)q.on(ne[ye],this.emit.bind(this,ne[ye]));return this._read=function(Ne){l("wrapped _read",Ne),pe&&(pe=!1,q.resume())},this},typeof Symbol=="function"&&(C.prototype[Symbol.asyncIterator]=function(){return J===void 0&&(J=y(828)),J(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(L){this._readableState&&(this._readableState.flowing=L)}}),C._fromList=X,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function X(q,L){if(L.length===0)return null;var ae;return L.objectMode?ae=L.buffer.shift():!q||q>=L.length?(L.decoder?ae=L.buffer.join(""):L.buffer.length===1?ae=L.buffer.first():ae=L.buffer.concat(L.length),L.buffer.clear()):ae=L.buffer.consume(q,L.decoder),ae}function ce(q){var L=q._readableState;l("endReadable",L.endEmitted),L.endEmitted||(L.ended=!0,R.nextTick(he,L,q))}function he(q,L){if(l("endReadableNT",q.endEmitted,q.length),!q.endEmitted&&q.length===0&&(q.endEmitted=!0,L.readable=!1,L.emit("end"),q.autoDestroy)){var ae=L._writableState;(!ae||ae.autoDestroy&&ae.finished)&&L.destroy()}}typeof Symbol=="function"&&(C.from=function(q,L){return te===void 0&&(te=y(1265)),te(C,q,L)});function ve(q,L){for(var ae=0,pe=q.length;ae<pe;ae++)if(q[ae]===L)return ae;return-1}},4473:(b,z,y)=>{"use strict";b.exports=c;var R=y(8106).q,O=R.ERR_METHOD_NOT_IMPLEMENTED,N=R.ERR_MULTIPLE_CALLBACK,k=R.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=R.ERR_TRANSFORM_WITH_LENGTH_0,u=y(8656);y(5717)(c,u);function n(l,E){var d=this._transformState;d.transforming=!1;var p=d.writecb;if(p===null)return this.emit("error",new N);d.writechunk=null,d.writecb=null,E!=null&&this.push(E),p(l);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function c(l){if(!(this instanceof c))return new c(l);u.call(this,l),this._transformState={afterTransform:n.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",v)}function v(){var l=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(E,d){f(l,E,d)}):f(this,null,null)}c.prototype.push=function(l,E){return this._transformState.needTransform=!1,u.prototype.push.call(this,l,E)},c.prototype._transform=function(l,E,d){d(new O("_transform()"))},c.prototype._write=function(l,E,d){var p=this._transformState;if(p.writecb=d,p.writechunk=l,p.writeencoding=E,!p.transforming){var g=this._readableState;(p.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},c.prototype._read=function(l){var E=this._transformState;E.writechunk!==null&&!E.transforming?(E.transforming=!0,this._transform(E.writechunk,E.writeencoding,E.afterTransform)):E.needTransform=!0},c.prototype._destroy=function(l,E){u.prototype._destroy.call(this,l,function(d){E(d)})};function f(l,E,d){if(E)return l.emit("error",E);if(d!=null&&l.push(d),l._writableState.length)throw new o;if(l._transformState.transforming)throw new k;return l.push(null)}},323:(b,z,y)=>{"use strict";var R=y(4155);b.exports=Q;function O(ee,X,ce){this.chunk=ee,this.encoding=X,this.callback=ce,this.next=null}function N(ee){var X=this;this.next=null,this.entry=null,this.finish=function(){xe(X,ee)}}var k;Q.WritableState=ne;var o={deprecate:y(4927)},u=y(3194),n=y(8764).Buffer,c=y.g.Uint8Array||function(){};function v(ee){return n.from(ee)}function f(ee){return n.isBuffer(ee)||ee instanceof c}var l=y(1029),E=y(94),d=E.getHighWaterMark,p=y(8106).q,g=p.ERR_INVALID_ARG_TYPE,S=p.ERR_METHOD_NOT_IMPLEMENTED,A=p.ERR_MULTIPLE_CALLBACK,_=p.ERR_STREAM_CANNOT_PIPE,F=p.ERR_STREAM_DESTROYED,H=p.ERR_STREAM_NULL_VALUES,K=p.ERR_STREAM_WRITE_AFTER_END,J=p.ERR_UNKNOWN_ENCODING,te=l.errorOrDestroy;y(5717)(Q,u);function ie(){}function ne(ee,X,ce){k=k||y(8656),ee=ee||{},typeof ce!="boolean"&&(ce=X instanceof k),this.objectMode=!!ee.objectMode,ce&&(this.objectMode=this.objectMode||!!ee.writableObjectMode),this.highWaterMark=d(this,ee,"writableHighWaterMark",ce),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var he=ee.decodeStrings===!1;this.decodeStrings=!he,this.defaultEncoding=ee.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ve){D(X,ve)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ee.emitClose!==!1,this.autoDestroy=!!ee.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new N(this)}ne.prototype.getBuffer=function(){for(var X=this.bufferedRequest,ce=[];X;)ce.push(X),X=X.next;return ce},function(){try{Object.defineProperty(ne.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(ee){}}();var ue;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ue=Function.prototype[Symbol.hasInstance],Object.defineProperty(Q,Symbol.hasInstance,{value:function(X){return ue.call(this,X)?!0:this!==Q?!1:X&&X._writableState instanceof ne}})):ue=function(X){return X instanceof this};function Q(ee){k=k||y(8656);var X=this instanceof k;if(!X&&!ue.call(Q,this))return new Q(ee);this._writableState=new ne(ee,this,X),this.writable=!0,ee&&(typeof ee.write=="function"&&(this._write=ee.write),typeof ee.writev=="function"&&(this._writev=ee.writev),typeof ee.destroy=="function"&&(this._destroy=ee.destroy),typeof ee.final=="function"&&(this._final=ee.final)),u.call(this)}Q.prototype.pipe=function(){te(this,new _)};function C(ee,X){var ce=new K;te(ee,ce),R.nextTick(X,ce)}function U(ee,X,ce,he){var ve;return ce===null?ve=new H:typeof ce!="string"&&!X.objectMode&&(ve=new g("chunk",["string","Buffer"],ce)),ve?(te(ee,ve),R.nextTick(he,ve),!1):!0}Q.prototype.write=function(ee,X,ce){var he=this._writableState,ve=!1,q=!he.objectMode&&f(ee);return q&&!n.isBuffer(ee)&&(ee=v(ee)),typeof X=="function"&&(ce=X,X=null),q?X="buffer":X||(X=he.defaultEncoding),typeof ce!="function"&&(ce=ie),he.ending?C(this,ce):(q||U(this,he,ee,ce))&&(he.pendingcb++,ve=s(this,he,q,ee,X,ce)),ve},Q.prototype.cork=function(){this._writableState.corked++},Q.prototype.uncork=function(){var ee=this._writableState;ee.corked&&(ee.corked--,!ee.writing&&!ee.corked&&!ee.bufferProcessing&&ee.bufferedRequest&&G(this,ee))},Q.prototype.setDefaultEncoding=function(X){if(typeof X=="string"&&(X=X.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((X+"").toLowerCase())>-1))throw new J(X);return this._writableState.defaultEncoding=X,this},Object.defineProperty(Q.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function M(ee,X,ce){return!ee.objectMode&&ee.decodeStrings!==!1&&typeof X=="string"&&(X=n.from(X,ce)),X}Object.defineProperty(Q.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function s(ee,X,ce,he,ve,q){if(!ce){var L=M(X,he,ve);he!==L&&(ce=!0,ve="buffer",he=L)}var ae=X.objectMode?1:he.length;X.length+=ae;var pe=X.length<X.highWaterMark;if(pe||(X.needDrain=!0),X.writing||X.corked){var Se=X.lastBufferedRequest;X.lastBufferedRequest={chunk:he,encoding:ve,isBuf:ce,callback:q,next:null},Se?Se.next=X.lastBufferedRequest:X.bufferedRequest=X.lastBufferedRequest,X.bufferedRequestCount+=1}else m(ee,X,!1,ae,he,ve,q);return pe}function m(ee,X,ce,he,ve,q,L){X.writelen=he,X.writecb=L,X.writing=!0,X.sync=!0,X.destroyed?X.onwrite(new F("write")):ce?ee._writev(ve,X.onwrite):ee._write(ve,q,X.onwrite),X.sync=!1}function T(ee,X,ce,he,ve){--X.pendingcb,ce?(R.nextTick(ve,he),R.nextTick(ge,ee,X),ee._writableState.errorEmitted=!0,te(ee,he)):(ve(he),ee._writableState.errorEmitted=!0,te(ee,he),ge(ee,X))}function I(ee){ee.writing=!1,ee.writecb=null,ee.length-=ee.writelen,ee.writelen=0}function D(ee,X){var ce=ee._writableState,he=ce.sync,ve=ce.writecb;if(typeof ve!="function")throw new A;if(I(ce),X)T(ee,ce,he,X,ve);else{var q=w(ce)||ee.destroyed;!q&&!ce.corked&&!ce.bufferProcessing&&ce.bufferedRequest&&G(ee,ce),he?R.nextTick(P,ee,ce,q,ve):P(ee,ce,q,ve)}}function P(ee,X,ce,he){ce||V(ee,X),X.pendingcb--,he(),ge(ee,X)}function V(ee,X){X.length===0&&X.needDrain&&(X.needDrain=!1,ee.emit("drain"))}function G(ee,X){X.bufferProcessing=!0;var ce=X.bufferedRequest;if(ee._writev&&ce&&ce.next){var he=X.bufferedRequestCount,ve=new Array(he),q=X.corkedRequestsFree;q.entry=ce;for(var L=0,ae=!0;ce;)ve[L]=ce,ce.isBuf||(ae=!1),ce=ce.next,L+=1;ve.allBuffers=ae,m(ee,X,!0,X.length,ve,"",q.finish),X.pendingcb++,X.lastBufferedRequest=null,q.next?(X.corkedRequestsFree=q.next,q.next=null):X.corkedRequestsFree=new N(X),X.bufferedRequestCount=0}else{for(;ce;){var pe=ce.chunk,Se=ce.encoding,ye=ce.callback,Ne=X.objectMode?1:pe.length;if(m(ee,X,!1,Ne,pe,Se,ye),ce=ce.next,X.bufferedRequestCount--,X.writing)break}ce===null&&(X.lastBufferedRequest=null)}X.bufferedRequest=ce,X.bufferProcessing=!1}Q.prototype._write=function(ee,X,ce){ce(new S("_write()"))},Q.prototype._writev=null,Q.prototype.end=function(ee,X,ce){var he=this._writableState;return typeof ee=="function"?(ce=ee,ee=null,X=null):typeof X=="function"&&(ce=X,X=null),ee!=null&&this.write(ee,X),he.corked&&(he.corked=1,this.uncork()),he.ending||_e(this,he,ce),this},Object.defineProperty(Q.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function w(ee){return ee.ending&&ee.length===0&&ee.bufferedRequest===null&&!ee.finished&&!ee.writing}function Y(ee,X){ee._final(function(ce){X.pendingcb--,ce&&te(ee,ce),X.prefinished=!0,ee.emit("prefinish"),ge(ee,X)})}function me(ee,X){!X.prefinished&&!X.finalCalled&&(typeof ee._final=="function"&&!X.destroyed?(X.pendingcb++,X.finalCalled=!0,R.nextTick(Y,ee,X)):(X.prefinished=!0,ee.emit("prefinish")))}function ge(ee,X){var ce=w(X);if(ce&&(me(ee,X),X.pendingcb===0&&(X.finished=!0,ee.emit("finish"),X.autoDestroy))){var he=ee._readableState;(!he||he.autoDestroy&&he.endEmitted)&&ee.destroy()}return ce}function _e(ee,X,ce){X.ending=!0,ge(ee,X),ce&&(X.finished?R.nextTick(ce):ee.once("finish",ce)),X.ended=!0,ee.writable=!1}function xe(ee,X,ce){var he=ee.entry;for(ee.entry=null;he;){var ve=he.callback;X.pendingcb--,ve(ce),he=he.next}X.corkedRequestsFree.next=ee}Object.defineProperty(Q.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(X){!this._writableState||(this._writableState.destroyed=X)}}),Q.prototype.destroy=l.destroy,Q.prototype._undestroy=l.undestroy,Q.prototype._destroy=function(ee,X){X(ee)}},828:(b,z,y)=>{"use strict";var R=y(4155),O;function N(F,H,K){return H in F?Object.defineProperty(F,H,{value:K,enumerable:!0,configurable:!0,writable:!0}):F[H]=K,F}var k=y(1086),o=Symbol("lastResolve"),u=Symbol("lastReject"),n=Symbol("error"),c=Symbol("ended"),v=Symbol("lastPromise"),f=Symbol("handlePromise"),l=Symbol("stream");function E(F,H){return{value:F,done:H}}function d(F){var H=F[o];if(H!==null){var K=F[l].read();K!==null&&(F[v]=null,F[o]=null,F[u]=null,H(E(K,!1)))}}function p(F){R.nextTick(d,F)}function g(F,H){return function(K,J){F.then(function(){if(H[c]){K(E(void 0,!0));return}H[f](K,J)},J)}}var S=Object.getPrototypeOf(function(){}),A=Object.setPrototypeOf((O={get stream(){return this[l]},next:function(){var H=this,K=this[n];if(K!==null)return Promise.reject(K);if(this[c])return Promise.resolve(E(void 0,!0));if(this[l].destroyed)return new Promise(function(ne,ue){R.nextTick(function(){H[n]?ue(H[n]):ne(E(void 0,!0))})});var J=this[v],te;if(J)te=new Promise(g(J,this));else{var ie=this[l].read();if(ie!==null)return Promise.resolve(E(ie,!1));te=new Promise(this[f])}return this[v]=te,te}},N(O,Symbol.asyncIterator,function(){return this}),N(O,"return",function(){var H=this;return new Promise(function(K,J){H[l].destroy(null,function(te){if(te){J(te);return}K(E(void 0,!0))})})}),O),S),_=function(H){var K,J=Object.create(A,(K={},N(K,l,{value:H,writable:!0}),N(K,o,{value:null,writable:!0}),N(K,u,{value:null,writable:!0}),N(K,n,{value:null,writable:!0}),N(K,c,{value:H._readableState.endEmitted,writable:!0}),N(K,f,{value:function(ie,ne){var ue=J[l].read();ue?(J[v]=null,J[o]=null,J[u]=null,ie(E(ue,!1))):(J[o]=ie,J[u]=ne)},writable:!0}),K));return J[v]=null,k(H,function(te){if(te&&te.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ie=J[u];ie!==null&&(J[v]=null,J[o]=null,J[u]=null,ie(te)),J[n]=te;return}var ne=J[o];ne!==null&&(J[v]=null,J[o]=null,J[u]=null,ne(E(void 0,!0))),J[c]=!0}),H.on("readable",p.bind(null,J)),J};b.exports=_},9686:(b,z,y)=>{"use strict";function R(d,p){var g=Object.keys(d);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(d);p&&(S=S.filter(function(A){return Object.getOwnPropertyDescriptor(d,A).enumerable})),g.push.apply(g,S)}return g}function O(d){for(var p=1;p<arguments.length;p++){var g=arguments[p]!=null?arguments[p]:{};p%2?R(Object(g),!0).forEach(function(S){N(d,S,g[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(g)):R(Object(g)).forEach(function(S){Object.defineProperty(d,S,Object.getOwnPropertyDescriptor(g,S))})}return d}function N(d,p,g){return p in d?Object.defineProperty(d,p,{value:g,enumerable:!0,configurable:!0,writable:!0}):d[p]=g,d}function k(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function o(d,p){for(var g=0;g<p.length;g++){var S=p[g];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(d,S.key,S)}}function u(d,p,g){return p&&o(d.prototype,p),g&&o(d,g),d}var n=y(8764),c=n.Buffer,v=y(9862),f=v.inspect,l=f&&f.custom||"inspect";function E(d,p,g){c.prototype.copy.call(d,p,g)}b.exports=function(){function d(){k(this,d),this.head=null,this.tail=null,this.length=0}return u(d,[{key:"push",value:function(g){var S={data:g,next:null};this.length>0?this.tail.next=S:this.head=S,this.tail=S,++this.length}},{key:"unshift",value:function(g){var S={data:g,next:this.head};this.length===0&&(this.tail=S),this.head=S,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var S=this.head,A=""+S.data;S=S.next;)A+=g+S.data;return A}},{key:"concat",value:function(g){if(this.length===0)return c.alloc(0);for(var S=c.allocUnsafe(g>>>0),A=this.head,_=0;A;)E(A.data,S,_),_+=A.data.length,A=A.next;return S}},{key:"consume",value:function(g,S){var A;return g<this.head.data.length?(A=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):g===this.head.data.length?A=this.shift():A=S?this._getString(g):this._getBuffer(g),A}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var S=this.head,A=1,_=S.data;for(g-=_.length;S=S.next;){var F=S.data,H=g>F.length?F.length:g;if(H===F.length?_+=F:_+=F.slice(0,g),g-=H,g===0){H===F.length?(++A,S.next?this.head=S.next:this.head=this.tail=null):(this.head=S,S.data=F.slice(H));break}++A}return this.length-=A,_}},{key:"_getBuffer",value:function(g){var S=c.allocUnsafe(g),A=this.head,_=1;for(A.data.copy(S),g-=A.data.length;A=A.next;){var F=A.data,H=g>F.length?F.length:g;if(F.copy(S,S.length-g,0,H),g-=H,g===0){H===F.length?(++_,A.next?this.head=A.next:this.head=this.tail=null):(this.head=A,A.data=F.slice(H));break}++_}return this.length-=_,S}},{key:l,value:function(g,S){return f(this,O({},S,{depth:0,customInspect:!1}))}}]),d}()},1029:(b,z,y)=>{"use strict";var R=y(4155);function O(c,v){var f=this,l=this._readableState&&this._readableState.destroyed,E=this._writableState&&this._writableState.destroyed;return l||E?(v?v(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,R.nextTick(u,this,c)):R.nextTick(u,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,function(d){!v&&d?f._writableState?f._writableState.errorEmitted?R.nextTick(k,f):(f._writableState.errorEmitted=!0,R.nextTick(N,f,d)):R.nextTick(N,f,d):v?(R.nextTick(k,f),v(d)):R.nextTick(k,f)}),this)}function N(c,v){u(c,v),k(c)}function k(c){c._writableState&&!c._writableState.emitClose||c._readableState&&!c._readableState.emitClose||c.emit("close")}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function u(c,v){c.emit("error",v)}function n(c,v){var f=c._readableState,l=c._writableState;f&&f.autoDestroy||l&&l.autoDestroy?c.destroy(v):c.emit("error",v)}b.exports={destroy:O,undestroy:o,errorOrDestroy:n}},1086:(b,z,y)=>{"use strict";var R=y(8106).q.ERR_STREAM_PREMATURE_CLOSE;function O(u){var n=!1;return function(){if(!n){n=!0;for(var c=arguments.length,v=new Array(c),f=0;f<c;f++)v[f]=arguments[f];u.apply(this,v)}}}function N(){}function k(u){return u.setHeader&&typeof u.abort=="function"}function o(u,n,c){if(typeof n=="function")return o(u,null,n);n||(n={}),c=O(c||N);var v=n.readable||n.readable!==!1&&u.readable,f=n.writable||n.writable!==!1&&u.writable,l=function(){u.writable||d()},E=u._writableState&&u._writableState.finished,d=function(){f=!1,E=!0,v||c.call(u)},p=u._readableState&&u._readableState.endEmitted,g=function(){v=!1,p=!0,f||c.call(u)},S=function(H){c.call(u,H)},A=function(){var H;if(v&&!p)return(!u._readableState||!u._readableState.ended)&&(H=new R),c.call(u,H);if(f&&!E)return(!u._writableState||!u._writableState.ended)&&(H=new R),c.call(u,H)},_=function(){u.req.on("finish",d)};return k(u)?(u.on("complete",d),u.on("abort",A),u.req?_():u.on("request",_)):f&&!u._writableState&&(u.on("end",l),u.on("close",l)),u.on("end",g),u.on("finish",d),n.error!==!1&&u.on("error",S),u.on("close",A),function(){u.removeListener("complete",d),u.removeListener("abort",A),u.removeListener("request",_),u.req&&u.req.removeListener("finish",d),u.removeListener("end",l),u.removeListener("close",l),u.removeListener("finish",d),u.removeListener("end",g),u.removeListener("error",S),u.removeListener("close",A)}}b.exports=o},1265:b=>{b.exports=function(){throw new Error("Readable.from is not available in the browser")}},6472:(b,z,y)=>{"use strict";var R;function O(d){var p=!1;return function(){p||(p=!0,d.apply(void 0,arguments))}}var N=y(8106).q,k=N.ERR_MISSING_ARGS,o=N.ERR_STREAM_DESTROYED;function u(d){if(d)throw d}function n(d){return d.setHeader&&typeof d.abort=="function"}function c(d,p,g,S){S=O(S);var A=!1;d.on("close",function(){A=!0}),R===void 0&&(R=y(1086)),R(d,{readable:p,writable:g},function(F){if(F)return S(F);A=!0,S()});var _=!1;return function(F){if(!A&&!_){if(_=!0,n(d))return d.abort();if(typeof d.destroy=="function")return d.destroy();S(F||new o("pipe"))}}}function v(d){d()}function f(d,p){return d.pipe(p)}function l(d){return!d.length||typeof d[d.length-1]!="function"?u:d.pop()}function E(){for(var d=arguments.length,p=new Array(d),g=0;g<d;g++)p[g]=arguments[g];var S=l(p);if(Array.isArray(p[0])&&(p=p[0]),p.length<2)throw new k("streams");var A,_=p.map(function(F,H){var K=H<p.length-1,J=H>0;return c(F,K,J,function(te){A||(A=te),te&&_.forEach(v),!K&&(_.forEach(v),S(A))})});return p.reduce(f)}b.exports=E},94:(b,z,y)=>{"use strict";var R=y(8106).q.ERR_INVALID_OPT_VALUE;function O(k,o,u){return k.highWaterMark!=null?k.highWaterMark:o?k[u]:null}function N(k,o,u,n){var c=O(o,n,u);if(c!=null){if(!(isFinite(c)&&Math.floor(c)===c)||c<0){var v=n?u:"highWaterMark";throw new R(v,c)}return Math.floor(c)}return k.objectMode?16:16*1024}b.exports={getHighWaterMark:N}},3194:(b,z,y)=>{b.exports=y(7187).EventEmitter},4729:(b,z,y)=>{"use strict";var R=y(9509).Buffer,O=R.isEncoding||function(_){switch(_=""+_,_&&_.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function N(_){if(!_)return"utf8";for(var F;;)switch(_){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return _;default:if(F)return;_=(""+_).toLowerCase(),F=!0}}function k(_){var F=N(_);if(typeof F!="string"&&(R.isEncoding===O||!O(_)))throw new Error("Unknown encoding: "+_);return F||_}z.s=o;function o(_){this.encoding=k(_);var F;switch(this.encoding){case"utf16le":this.text=E,this.end=d,F=4;break;case"utf8":this.fillLast=v,F=4;break;case"base64":this.text=p,this.end=g,F=3;break;default:this.write=S,this.end=A;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=R.allocUnsafe(F)}o.prototype.write=function(_){if(_.length===0)return"";var F,H;if(this.lastNeed){if(F=this.fillLast(_),F===void 0)return"";H=this.lastNeed,this.lastNeed=0}else H=0;return H<_.length?F?F+this.text(_,H):this.text(_,H):F||""},o.prototype.end=l,o.prototype.text=f,o.prototype.fillLast=function(_){if(this.lastNeed<=_.length)return _.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,this.lastTotal-this.lastNeed,0,_.length),this.lastNeed-=_.length};function u(_){return _<=127?0:_>>5==6?2:_>>4==14?3:_>>3==30?4:_>>6==2?-1:-2}function n(_,F,H){var K=F.length-1;if(K<H)return 0;var J=u(F[K]);return J>=0?(J>0&&(_.lastNeed=J-1),J):--K<H||J===-2?0:(J=u(F[K]),J>=0?(J>0&&(_.lastNeed=J-2),J):--K<H||J===-2?0:(J=u(F[K]),J>=0?(J>0&&(J===2?J=0:_.lastNeed=J-3),J):0))}function c(_,F,H){if((F[0]&192)!=128)return _.lastNeed=0,"\uFFFD";if(_.lastNeed>1&&F.length>1){if((F[1]&192)!=128)return _.lastNeed=1,"\uFFFD";if(_.lastNeed>2&&F.length>2&&(F[2]&192)!=128)return _.lastNeed=2,"\uFFFD"}}function v(_){var F=this.lastTotal-this.lastNeed,H=c(this,_,F);if(H!==void 0)return H;if(this.lastNeed<=_.length)return _.copy(this.lastChar,F,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,F,0,_.length),this.lastNeed-=_.length}function f(_,F){var H=n(this,_,F);if(!this.lastNeed)return _.toString("utf8",F);this.lastTotal=H;var K=_.length-(H-this.lastNeed);return _.copy(this.lastChar,0,K),_.toString("utf8",F,K)}function l(_){var F=_&&_.length?this.write(_):"";return this.lastNeed?F+"\uFFFD":F}function E(_,F){if((_.length-F)%2==0){var H=_.toString("utf16le",F);if(H){var K=H.charCodeAt(H.length-1);if(K>=55296&&K<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1],H.slice(0,-1)}return H}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=_[_.length-1],_.toString("utf16le",F,_.length-1)}function d(_){var F=_&&_.length?this.write(_):"";if(this.lastNeed){var H=this.lastTotal-this.lastNeed;return F+this.lastChar.toString("utf16le",0,H)}return F}function p(_,F){var H=(_.length-F)%3;return H===0?_.toString("base64",F):(this.lastNeed=3-H,this.lastTotal=3,H===1?this.lastChar[0]=_[_.length-1]:(this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1]),_.toString("base64",F,_.length-H))}function g(_){var F=_&&_.length?this.write(_):"";return this.lastNeed?F+this.lastChar.toString("base64",0,3-this.lastNeed):F}function S(_){return _.toString(this.encoding)}function A(_){return _&&_.length?this.write(_):""}},2553:(b,z,y)=>{"use strict";var R=y(396).Buffer,O=R.isEncoding||function(_){switch(_=""+_,_&&_.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function N(_){if(!_)return"utf8";for(var F;;)switch(_){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return _;default:if(F)return;_=(""+_).toLowerCase(),F=!0}}function k(_){var F=N(_);if(typeof F!="string"&&(R.isEncoding===O||!O(_)))throw new Error("Unknown encoding: "+_);return F||_}z.s=o;function o(_){this.encoding=k(_);var F;switch(this.encoding){case"utf16le":this.text=E,this.end=d,F=4;break;case"utf8":this.fillLast=v,F=4;break;case"base64":this.text=p,this.end=g,F=3;break;default:this.write=S,this.end=A;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=R.allocUnsafe(F)}o.prototype.write=function(_){if(_.length===0)return"";var F,H;if(this.lastNeed){if(F=this.fillLast(_),F===void 0)return"";H=this.lastNeed,this.lastNeed=0}else H=0;return H<_.length?F?F+this.text(_,H):this.text(_,H):F||""},o.prototype.end=l,o.prototype.text=f,o.prototype.fillLast=function(_){if(this.lastNeed<=_.length)return _.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,this.lastTotal-this.lastNeed,0,_.length),this.lastNeed-=_.length};function u(_){return _<=127?0:_>>5==6?2:_>>4==14?3:_>>3==30?4:_>>6==2?-1:-2}function n(_,F,H){var K=F.length-1;if(K<H)return 0;var J=u(F[K]);return J>=0?(J>0&&(_.lastNeed=J-1),J):--K<H||J===-2?0:(J=u(F[K]),J>=0?(J>0&&(_.lastNeed=J-2),J):--K<H||J===-2?0:(J=u(F[K]),J>=0?(J>0&&(J===2?J=0:_.lastNeed=J-3),J):0))}function c(_,F,H){if((F[0]&192)!=128)return _.lastNeed=0,"\uFFFD";if(_.lastNeed>1&&F.length>1){if((F[1]&192)!=128)return _.lastNeed=1,"\uFFFD";if(_.lastNeed>2&&F.length>2&&(F[2]&192)!=128)return _.lastNeed=2,"\uFFFD"}}function v(_){var F=this.lastTotal-this.lastNeed,H=c(this,_,F);if(H!==void 0)return H;if(this.lastNeed<=_.length)return _.copy(this.lastChar,F,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,F,0,_.length),this.lastNeed-=_.length}function f(_,F){var H=n(this,_,F);if(!this.lastNeed)return _.toString("utf8",F);this.lastTotal=H;var K=_.length-(H-this.lastNeed);return _.copy(this.lastChar,0,K),_.toString("utf8",F,K)}function l(_){var F=_&&_.length?this.write(_):"";return this.lastNeed?F+"\uFFFD":F}function E(_,F){if((_.length-F)%2==0){var H=_.toString("utf16le",F);if(H){var K=H.charCodeAt(H.length-1);if(K>=55296&&K<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1],H.slice(0,-1)}return H}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=_[_.length-1],_.toString("utf16le",F,_.length-1)}function d(_){var F=_&&_.length?this.write(_):"";if(this.lastNeed){var H=this.lastTotal-this.lastNeed;return F+this.lastChar.toString("utf16le",0,H)}return F}function p(_,F){var H=(_.length-F)%3;return H===0?_.toString("base64",F):(this.lastNeed=3-H,this.lastTotal=3,H===1?this.lastChar[0]=_[_.length-1]:(this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1]),_.toString("base64",F,_.length-H))}function g(_){var F=_&&_.length?this.write(_):"";return this.lastNeed?F+this.lastChar.toString("base64",0,3-this.lastNeed):F}function S(_){return _.toString(this.encoding)}function A(_){return _&&_.length?this.write(_):""}},396:(b,z,y)=>{var R=y(8764),O=R.Buffer;function N(o,u){for(var n in o)u[n]=o[n]}O.from&&O.alloc&&O.allocUnsafe&&O.allocUnsafeSlow?b.exports=R:(N(R,z),z.Buffer=k);function k(o,u,n){return O(o,u,n)}N(O,k),k.from=function(o,u,n){if(typeof o=="number")throw new TypeError("Argument must not be a number");return O(o,u,n)},k.alloc=function(o,u,n){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=O(o);return u!==void 0?typeof n=="string"?c.fill(u,n):c.fill(u):c.fill(0),c},k.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return O(o)},k.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return R.SlowBuffer(o)}},7121:(b,z,y)=>{"use strict";y.d(z,{Z:()=>k});function R(o){var u,n=o.Symbol;return typeof n=="function"?n.observable?u=n.observable:(u=n("observable"),n.observable=u):u="@@observable",u}b=y.hmd(b);var O;typeof self!="undefined"?O=self:typeof window!="undefined"?O=window:typeof y.g!="undefined"?O=y.g:O=b;var N=R(O);const k=N},4802:(b,z,y)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});var R=y(6363);z.ExperimentationService=R.ExperimentationService},6363:(b,z,y)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const R=y(4067),O=y(4234),N=y(5975);class k extends N.ExperimentationServiceAutoPolling{constructor(u){super(u.telemetry,u.filterProviders||[],u.refetchInterval!=null?u.refetchInterval:0,u.featuresTelemetryPropertyName,u.assignmentContextTelemetryPropertyName,u.telemetryEventName,u.storageKey,u.keyValueStorage);this.options=u,this.invokeInit()}init(){this.featureProviders=[],this.addFeatureProvider(new R.TasApiFeatureProvider(new O.AxiosHttpClient(this.options.endpoint),this.telemetry,this.filterProviders)),super.init()}}z.ExperimentationService=k,k.REFRESH_RATE_IN_MINUTES=30},5975:(b,z,y)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const R=y(7987),O=y(3334);class N extends R.ExperimentationServiceBase{constructor(o,u,n,c,v,f,l,E){super(o,c,v,f,l,E);if(this.telemetry=o,this.filterProviders=u,this.refreshRateMs=n,this.featuresTelemetryPropertyName=c,this.assignmentContextTelemetryPropertyName=v,this.telemetryEventName=f,this.storageKey=l,this.storage=E,n<1e3&&n!==0)throw new Error("The minimum refresh rate for polling is 1000 ms (1 second). If you wish to deactivate this auto-polling use value of 0.");n>0&&(this.pollingService=new O.PollingService(n),this.pollingService.OnPollTick(async()=>{await super.getFeaturesAsync()}))}init(){this.pollingService?this.pollingService.StartPolling(!0):super.getFeaturesAsync()}async getFeaturesAsync(o=!1){if(this.pollingService){this.pollingService.StopPolling();let u=await super.getFeaturesAsync(o);return this.pollingService.StartPolling(),u}else return await super.getFeaturesAsync(o)}}z.ExperimentationServiceAutoPolling=N},7987:(b,z,y)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const R=y(7002);class O{constructor(k,o,u,n,c,v){this.telemetry=k,this.featuresTelemetryPropertyName=o,this.assignmentContextTelemetryPropertyName=u,this.telemetryEventName=n,this.storageKey=c,this.storage=v,this.featuresConsumed=!1,this.initializePromise=this.loadCachePromise,this.cachedTelemetryEvents=[],this._features={features:[],assignmentContext:"",configs:[]},this.storageKey||(this.storageKey="ABExp.Features"),this.storage||(v=new R.MemoryKeyValueStorage),this.loadCachePromise=this.loadCachedFeatureData()}get features(){return this._features}set features(k){this._features=k,this.telemetry&&(this.telemetry.setSharedProperty(this.featuresTelemetryPropertyName,this.features.features.join(";")),this.telemetry.setSharedProperty(this.assignmentContextTelemetryPropertyName,this.features.assignmentContext))}async getFeaturesAsync(k=!1){if(this.fetchPromise!=null)return await this.fetchPromise,this.features;if(!this.featureProviders||this.featureProviders.length===0)return Promise.resolve({features:[],assignmentContext:"",configs:[]});this.fetchPromise=Promise.all(this.featureProviders.map(async u=>await u.getFeatures()));let o=await this.fetchPromise;return this.fetchPromise=void 0,this.updateFeatures(o,k),this.features}updateFeatures(k,o=!1){let u={features:[],assignmentContext:"",configs:[]};for(let n of k){for(let c of n.features)u.features.includes(c)||u.features.push(c);for(let c of n.configs){const v=u.configs.find(f=>f.Id===c.Id);v?v.Parameters=Object.assign(Object.assign({},v.Parameters),c.Parameters):u.configs.push(c)}u.assignmentContext+=n.assignmentContext}(o||!this.featuresConsumed)&&(this.features=u),this.storage&&this.storage.setValue(this.storageKey,u)}async loadCachedFeatureData(){let k;this.storage&&(k=await this.storage.getValue(this.storageKey),k!==void 0&&k.configs===void 0&&(k.configs=[])),this.features.features.length===0&&(this.features=k||{features:[],assignmentContext:"",configs:[]})}isFlightEnabled(k){return this.featuresConsumed=!0,this.PostEventToTelemetry(k),this.features.features.includes(k)}async isCachedFlightEnabled(k){return await this.loadCachePromise,this.featuresConsumed=!0,this.PostEventToTelemetry(k),this.features.features.includes(k)}async isFlightEnabledAsync(k){const o=await this.getFeaturesAsync(!0);return this.featuresConsumed=!0,this.PostEventToTelemetry(k),o.features.includes(k)}getTreatmentVariable(k,o){var u;return this.featuresConsumed=!0,this.PostEventToTelemetry(`${k}.${o}`),(u=this.features.configs.find(c=>c.Id===k))===null||u===void 0?void 0:u.Parameters[o]}async getTreatmentVariableAsync(k,o){return await this.getFeaturesAsync(!0),this.getTreatmentVariable(k,o)}PostEventToTelemetry(k){this.cachedTelemetryEvents.includes(k)||(this.telemetry.postEvent(this.telemetryEventName,new Map([["ABExp.queriedFeature",k]])),this.cachedTelemetryEvents.push(k))}invokeInit(){this.init()}addFeatureProvider(...k){if(!(k==null||this.featureProviders==null))for(let o of k)this.featureProviders.push(o)}}z.ExperimentationServiceBase=O},69:(b,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});class y{constructor(O){this.telemetry=O,this.isFetching=!1}async getFeatures(){if(this.isFetching&&this.fetchPromise)return this.fetchPromise;this.fetchPromise=this.fetch();let O=await this.fetchPromise;return this.isFetching=!1,this.fetchPromise=void 0,O}}z.BaseFeatureProvider=y},4e3:(b,z,y)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const R=y(69);class O extends R.BaseFeatureProvider{constructor(k,o){super(k);this.telemetry=k,this.filterProviders=o,this.cachedTelemetryEvents=[]}getFilters(){let k=new Map;for(let o of this.filterProviders){let u=o.getFilters();for(let n of u.keys()){let c=u.get(n);k.set(n,c)}}return k}PostEventToTelemetry(k){if(this.cachedTelemetryEvents.includes(k))return;const o=JSON.stringify(k);this.telemetry.postEvent("report-headers",new Map([["ABExp.headers",o]])),this.cachedTelemetryEvents.push(k)}}z.FilteredFeatureProvider=O},4067:(b,z,y)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const R=y(4e3);class O extends R.FilteredFeatureProvider{constructor(k,o,u){super(o,u);this.httpClient=k,this.telemetry=o,this.filterProviders=u}async fetch(){let k=this.getFilters(),o={};for(let f of k.keys()){const l=k.get(f);o[f]=l}let u=await this.httpClient.get({headers:o});k.keys.length>0&&this.PostEventToTelemetry(o);let n=u.data,c=n.Configs,v=[];for(let f of c)if(!!f.Parameters)for(let l of Object.keys(f.Parameters)){const E=l+(f.Parameters[l]?"":"cf");v.includes(E)||v.push(E)}return{features:v,assignmentContext:n.AssignmentContext,configs:c}}}z.TasApiFeatureProvider=O},4234:(b,z,y)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const R=y(9669);class O{constructor(k){this.endpoint=k}get(k){return R.default.get(this.endpoint,Object.assign(Object.assign({},k),{proxy:!1}))}}z.AxiosHttpClient=O},7002:(b,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});class y{constructor(){this.storage=new Map}async getValue(O,N){return this.storage.has(O)?await Promise.resolve(this.storage.get(O)):await Promise.resolve(N||void 0)}setValue(O,N){this.storage.set(O,N)}}z.MemoryKeyValueStorage=y},3334:(b,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});class y{constructor(O){this.fetchInterval=O}StopPolling(){clearInterval(this.intervalHandle),this.intervalHandle=void 0}OnPollTick(O){this.onTick=O}StartPolling(O=!1){this.intervalHandle&&this.StopPolling(),this.onTick!=null&&(O&&this.onTick().then(()=>{}).catch(()=>{}),this.intervalHandle=setInterval(async()=>{await this.onTick()},this.fetchInterval),this.intervalHandle.unref&&this.intervalHandle.unref())}}z.PollingService=y},4927:(b,z,y)=>{b.exports=R;function R(N,k){if(O("noDeprecation"))return N;var o=!1;function u(){if(!o){if(O("throwDeprecation"))throw new Error(k);O("traceDeprecation")?console.trace(k):console.warn(k),o=!0}return N.apply(this,arguments)}return u}function O(N){try{if(!y.g.localStorage)return!1}catch(o){return!1}var k=y.g.localStorage[N];return k==null?!1:String(k).toLowerCase()==="true"}},9035:(b,z,y)=>{"use strict";var R;R={value:!0};var O=y(5654);z.X7=O.getExperimentationService,R=O.getExperimentationServiceAsync;var N=y(2560);z.aU=N.TargetPopulation},5708:(b,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});class y{constructor(O){this.mementoGlobalStorage=O}async getValue(O,N){return await this.mementoGlobalStorage.get(O)||N}setValue(O,N){this.mementoGlobalStorage.update(O,N)}}z.MementoKeyValueStorage=y},2560:(b,z,y)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const R=y(7549);class O{constructor(u,n,c){this.extensionName=u,this.extensionVersion=n,this.targetPopulation=c}static trimVersionSuffix(u){const n=/\-[a-zA-Z0-9]+$/;return u.split(n)[0]}getFilterValue(u){switch(u){case N.ApplicationVersion:return O.trimVersionSuffix(R.version);case N.Build:return R.env.appName;case N.ClientId:return R.env.machineId;case N.ExtensionName:return this.extensionName;case N.ExtensionVersion:return O.trimVersionSuffix(this.extensionVersion);case N.Language:return R.env.language;case N.TargetPopulation:return this.targetPopulation;default:return""}}getFilters(){let u=new Map,n=Object.values(N);for(let c of n)u.set(c,this.getFilterValue(c));return u}}z.VSCodeFilterProvider=O;var N;(function(o){o.Market="X-MSEdge-Market",o.CorpNet="X-FD-Corpnet",o.ApplicationVersion="X-VSCode-AppVersion",o.Build="X-VSCode-Build",o.ClientId="X-MSEdge-ClientId",o.ExtensionName="X-VSCode-ExtensionName",o.ExtensionVersion="X-VSCode-ExtensionVersion",o.Language="X-VSCode-Language",o.TargetPopulation="X-VSCode-TargetPopulation"})(N=z.Filters||(z.Filters={}));var k;(function(o){o.Team="team",o.Internal="internal",o.Insiders="insider",o.Public="public"})(k=z.TargetPopulation||(z.TargetPopulation={}))},5654:(b,z,y)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const R=y(2560),O=y(4802),N=y(5708),k="https://default.exp-tas.com/vscode/ab",o="query-expfeature",u="VSCode.ABExp.Features",n="abexp.assignmentcontext",c="VSCode.ABExp.FeatureData",v=1e3*60*30;function f(E,d,p,g,S,...A){if(!S)throw new Error("Memento storage was not provided.");const F=[new R.VSCodeFilterProvider(E,d,p),...A],H=new N.MementoKeyValueStorage(S);return new O.ExperimentationService({filterProviders:F,telemetry:g,storageKey:c,keyValueStorage:H,featuresTelemetryPropertyName:u,assignmentContextTelemetryPropertyName:n,telemetryEventName:o,endpoint:k,refetchInterval:v})}z.getExperimentationService=f;async function l(E,d,p,g,S,...A){const _=f(E,d,p,g,S,...A);return await _.initializePromise,_}z.getExperimentationServiceAsync=l},2479:b=>{b.exports=z;function z(y,R){if(y&&R)return z(y)(R);if(typeof y!="function")throw new TypeError("need wrapper function");return Object.keys(y).forEach(function(N){O[N]=y[N]}),O;function O(){for(var N=new Array(arguments.length),k=0;k<N.length;k++)N[k]=arguments[k];var o=y.apply(this,N),u=N[N.length-1];return typeof o=="function"&&o!==u&&Object.keys(u).forEach(function(n){o[n]=u[n]}),o}}},9602:b=>{"use strict";b.exports=function(z){z.prototype[Symbol.iterator]=function*(){for(let y=this.head;y;y=y.next)yield y.value}}},4411:(b,z,y)=>{"use strict";b.exports=R,R.Node=o,R.create=R;function R(u){var n=this;if(n instanceof R||(n=new R),n.tail=null,n.head=null,n.length=0,u&&typeof u.forEach=="function")u.forEach(function(f){n.push(f)});else if(arguments.length>0)for(var c=0,v=arguments.length;c<v;c++)n.push(arguments[c]);return n}R.prototype.removeNode=function(u){if(u.list!==this)throw new Error("removing node which does not belong to this list");var n=u.next,c=u.prev;return n&&(n.prev=c),c&&(c.next=n),u===this.head&&(this.head=n),u===this.tail&&(this.tail=c),u.list.length--,u.next=null,u.prev=null,u.list=null,n},R.prototype.unshiftNode=function(u){if(u!==this.head){u.list&&u.list.removeNode(u);var n=this.head;u.list=this,u.next=n,n&&(n.prev=u),this.head=u,this.tail||(this.tail=u),this.length++}},R.prototype.pushNode=function(u){if(u!==this.tail){u.list&&u.list.removeNode(u);var n=this.tail;u.list=this,u.prev=n,n&&(n.next=u),this.tail=u,this.head||(this.head=u),this.length++}},R.prototype.push=function(){for(var u=0,n=arguments.length;u<n;u++)N(this,arguments[u]);return this.length},R.prototype.unshift=function(){for(var u=0,n=arguments.length;u<n;u++)k(this,arguments[u]);return this.length},R.prototype.pop=function(){if(!!this.tail){var u=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,u}},R.prototype.shift=function(){if(!!this.head){var u=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,u}},R.prototype.forEach=function(u,n){n=n||this;for(var c=this.head,v=0;c!==null;v++)u.call(n,c.value,v,this),c=c.next},R.prototype.forEachReverse=function(u,n){n=n||this;for(var c=this.tail,v=this.length-1;c!==null;v--)u.call(n,c.value,v,this),c=c.prev},R.prototype.get=function(u){for(var n=0,c=this.head;c!==null&&n<u;n++)c=c.next;if(n===u&&c!==null)return c.value},R.prototype.getReverse=function(u){for(var n=0,c=this.tail;c!==null&&n<u;n++)c=c.prev;if(n===u&&c!==null)return c.value},R.prototype.map=function(u,n){n=n||this;for(var c=new R,v=this.head;v!==null;)c.push(u.call(n,v.value,this)),v=v.next;return c},R.prototype.mapReverse=function(u,n){n=n||this;for(var c=new R,v=this.tail;v!==null;)c.push(u.call(n,v.value,this)),v=v.prev;return c},R.prototype.reduce=function(u,n){var c,v=this.head;if(arguments.length>1)c=n;else if(this.head)v=this.head.next,c=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var f=0;v!==null;f++)c=u(c,v.value,f),v=v.next;return c},R.prototype.reduceReverse=function(u,n){var c,v=this.tail;if(arguments.length>1)c=n;else if(this.tail)v=this.tail.prev,c=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var f=this.length-1;v!==null;f--)c=u(c,v.value,f),v=v.prev;return c},R.prototype.toArray=function(){for(var u=new Array(this.length),n=0,c=this.head;c!==null;n++)u[n]=c.value,c=c.next;return u},R.prototype.toArrayReverse=function(){for(var u=new Array(this.length),n=0,c=this.tail;c!==null;n++)u[n]=c.value,c=c.prev;return u},R.prototype.slice=function(u,n){n=n||this.length,n<0&&(n+=this.length),u=u||0,u<0&&(u+=this.length);var c=new R;if(n<u||n<0)return c;u<0&&(u=0),n>this.length&&(n=this.length);for(var v=0,f=this.head;f!==null&&v<u;v++)f=f.next;for(;f!==null&&v<n;v++,f=f.next)c.push(f.value);return c},R.prototype.sliceReverse=function(u,n){n=n||this.length,n<0&&(n+=this.length),u=u||0,u<0&&(u+=this.length);var c=new R;if(n<u||n<0)return c;u<0&&(u=0),n>this.length&&(n=this.length);for(var v=this.length,f=this.tail;f!==null&&v>n;v--)f=f.prev;for(;f!==null&&v>u;v--,f=f.prev)c.push(f.value);return c},R.prototype.splice=function(u,n,...c){u>this.length&&(u=this.length-1),u<0&&(u=this.length+u);for(var v=0,f=this.head;f!==null&&v<u;v++)f=f.next;for(var l=[],v=0;f&&v<n;v++)l.push(f.value),f=this.removeNode(f);f===null&&(f=this.tail),f!==this.head&&f!==this.tail&&(f=f.prev);for(var v=0;v<c.length;v++)f=O(this,f,c[v]);return l},R.prototype.reverse=function(){for(var u=this.head,n=this.tail,c=u;c!==null;c=c.prev){var v=c.prev;c.prev=c.next,c.next=v}return this.head=n,this.tail=u,this};function O(u,n,c){var v=n===u.head?new o(c,null,n,u):new o(c,n,n.next,u);return v.next===null&&(u.tail=v),v.prev===null&&(u.head=v),u.length++,v}function N(u,n){u.tail=new o(n,u.tail,null,u),u.head||(u.head=u.tail),u.length++}function k(u,n){u.head=new o(n,null,u.head,u),u.tail||(u.tail=u.head),u.length++}function o(u,n,c,v){if(!(this instanceof o))return new o(u,n,c,v);this.list=v,this.value=u,n?(n.next=this,this.prev=n):this.prev=null,c?(c.prev=this,this.next=c):this.next=null}try{y(9602)(R)}catch(u){}},9329:(b,z,y)=>{b.exports=y(516).Observable},516:(b,z)=>{"use strict";var y;y={value:!0},z.Observable=void 0;function R(te,ie){if(!(te instanceof ie))throw new TypeError("Cannot call a class as a function")}function O(te,ie){for(var ne=0;ne<ie.length;ne++){var ue=ie[ne];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty(te,ue.key,ue)}}function N(te,ie,ne){return ie&&O(te.prototype,ie),ne&&O(te,ne),te}var k=function(){return typeof Symbol=="function"},o=function(te){return k()&&Boolean(Symbol[te])},u=function(te){return o(te)?Symbol[te]:"@@"+te};k()&&!o("observable")&&(Symbol.observable=Symbol("observable"));var n=u("iterator"),c=u("observable"),v=u("species");function f(te,ie){var ne=te[ie];if(ne!=null){if(typeof ne!="function")throw new TypeError(ne+" is not a function");return ne}}function l(te){var ie=te.constructor;return ie!==void 0&&(ie=ie[v],ie===null&&(ie=void 0)),ie!==void 0?ie:J}function E(te){return te instanceof J}function d(te){d.log?d.log(te):setTimeout(function(){throw te})}function p(te){Promise.resolve().then(function(){try{te()}catch(ie){d(ie)}})}function g(te){var ie=te._cleanup;if(ie!==void 0&&(te._cleanup=void 0,!!ie))try{if(typeof ie=="function")ie();else{var ne=f(ie,"unsubscribe");ne&&ne.call(ie)}}catch(ue){d(ue)}}function S(te){te._observer=void 0,te._queue=void 0,te._state="closed"}function A(te){var ie=te._queue;if(!!ie){te._queue=void 0,te._state="ready";for(var ne=0;ne<ie.length&&(_(te,ie[ne].type,ie[ne].value),te._state!=="closed");++ne);}}function _(te,ie,ne){te._state="running";var ue=te._observer;try{var Q=f(ue,ie);switch(ie){case"next":Q&&Q.call(ue,ne);break;case"error":if(S(te),Q)Q.call(ue,ne);else throw ne;break;case"complete":S(te),Q&&Q.call(ue);break}}catch(C){d(C)}te._state==="closed"?g(te):te._state==="running"&&(te._state="ready")}function F(te,ie,ne){if(te._state!=="closed"){if(te._state==="buffering"){te._queue.push({type:ie,value:ne});return}if(te._state!=="ready"){te._state="buffering",te._queue=[{type:ie,value:ne}],p(function(){return A(te)});return}_(te,ie,ne)}}var H=function(){function te(ie,ne){R(this,te),this._cleanup=void 0,this._observer=ie,this._queue=void 0,this._state="initializing";var ue=new K(this);try{this._cleanup=ne.call(void 0,ue)}catch(Q){ue.error(Q)}this._state==="initializing"&&(this._state="ready")}return N(te,[{key:"unsubscribe",value:function(){this._state!=="closed"&&(S(this),g(this))}},{key:"closed",get:function(){return this._state==="closed"}}]),te}(),K=function(){function te(ie){R(this,te),this._subscription=ie}return N(te,[{key:"next",value:function(ne){F(this._subscription,"next",ne)}},{key:"error",value:function(ne){F(this._subscription,"error",ne)}},{key:"complete",value:function(){F(this._subscription,"complete")}},{key:"closed",get:function(){return this._subscription._state==="closed"}}]),te}(),J=function(){function te(ie){if(R(this,te),!(this instanceof te))throw new TypeError("Observable cannot be called as a function");if(typeof ie!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=ie}return N(te,[{key:"subscribe",value:function(ne){return(typeof ne!="object"||ne===null)&&(ne={next:ne,error:arguments[1],complete:arguments[2]}),new H(ne,this._subscriber)}},{key:"forEach",value:function(ne){var ue=this;return new Promise(function(Q,C){if(typeof ne!="function"){C(new TypeError(ne+" is not a function"));return}function U(){M.unsubscribe(),Q()}var M=ue.subscribe({next:function(s){try{ne(s,U)}catch(m){C(m),M.unsubscribe()}},error:C,complete:Q})})}},{key:"map",value:function(ne){var ue=this;if(typeof ne!="function")throw new TypeError(ne+" is not a function");var Q=l(this);return new Q(function(C){return ue.subscribe({next:function(U){try{U=ne(U)}catch(M){return C.error(M)}C.next(U)},error:function(U){C.error(U)},complete:function(){C.complete()}})})}},{key:"filter",value:function(ne){var ue=this;if(typeof ne!="function")throw new TypeError(ne+" is not a function");var Q=l(this);return new Q(function(C){return ue.subscribe({next:function(U){try{if(!ne(U))return}catch(M){return C.error(M)}C.next(U)},error:function(U){C.error(U)},complete:function(){C.complete()}})})}},{key:"reduce",value:function(ne){var ue=this;if(typeof ne!="function")throw new TypeError(ne+" is not a function");var Q=l(this),C=arguments.length>1,U=!1,M=arguments[1],s=M;return new Q(function(m){return ue.subscribe({next:function(T){var I=!U;if(U=!0,!I||C)try{s=ne(s,T)}catch(D){return m.error(D)}else s=T},error:function(T){m.error(T)},complete:function(){if(!U&&!C)return m.error(new TypeError("Cannot reduce an empty sequence"));m.next(s),m.complete()}})})}},{key:"concat",value:function(){for(var ne=this,ue=arguments.length,Q=new Array(ue),C=0;C<ue;C++)Q[C]=arguments[C];var U=l(this);return new U(function(M){var s,m=0;function T(I){s=I.subscribe({next:function(D){M.next(D)},error:function(D){M.error(D)},complete:function(){m===Q.length?(s=void 0,M.complete()):T(U.from(Q[m++]))}})}return T(ne),function(){s&&(s.unsubscribe(),s=void 0)}})}},{key:"flatMap",value:function(ne){var ue=this;if(typeof ne!="function")throw new TypeError(ne+" is not a function");var Q=l(this);return new Q(function(C){var U=[],M=ue.subscribe({next:function(m){if(ne)try{m=ne(m)}catch(I){return C.error(I)}var T=Q.from(m).subscribe({next:function(I){C.next(I)},error:function(I){C.error(I)},complete:function(){var I=U.indexOf(T);I>=0&&U.splice(I,1),s()}});U.push(T)},error:function(m){C.error(m)},complete:function(){s()}});function s(){M.closed&&U.length===0&&C.complete()}return function(){U.forEach(function(m){return m.unsubscribe()}),M.unsubscribe()}})}},{key:c,value:function(){return this}}],[{key:"from",value:function(ne){var ue=typeof this=="function"?this:te;if(ne==null)throw new TypeError(ne+" is not an object");var Q=f(ne,c);if(Q){var C=Q.call(ne);if(Object(C)!==C)throw new TypeError(C+" is not an object");return E(C)&&C.constructor===ue?C:new ue(function(U){return C.subscribe(U)})}if(o("iterator")&&(Q=f(ne,n),Q))return new ue(function(U){p(function(){if(!U.closed){var M=!0,s=!1,m=void 0;try{for(var T=Q.call(ne)[Symbol.iterator](),I;!(M=(I=T.next()).done);M=!0){var D=I.value;if(U.next(D),U.closed)return}}catch(P){s=!0,m=P}finally{try{!M&&T.return!=null&&T.return()}finally{if(s)throw m}}U.complete()}})});if(Array.isArray(ne))return new ue(function(U){p(function(){if(!U.closed){for(var M=0;M<ne.length;++M)if(U.next(ne[M]),U.closed)return;U.complete()}})});throw new TypeError(ne+" is not observable")}},{key:"of",value:function(){for(var ne=arguments.length,ue=new Array(ne),Q=0;Q<ne;Q++)ue[Q]=arguments[Q];var C=typeof this=="function"?this:te;return new C(function(U){p(function(){if(!U.closed){for(var M=0;M<ue.length;++M)if(U.next(ue[M]),U.closed)return;U.complete()}})})}},{key:v,get:function(){return this}}]),te}();z.Observable=J,k()&&Object.defineProperty(J,Symbol("extensions"),{value:{symbol:c,hostReportError:d},configurable:!0})},3730:(b,z)=>{"use strict";var y;y={value:!0};let R=function(){function O(N,k,o){}return O.prototype.updateUserOptIn=function(N){},O.prototype.createAppInsightsClient=function(N){},O.prototype.getCommonProperties=function(){},O.prototype.sendTelemetryEvent=function(N,k,o){},O.prototype.dispose=function(){},O.TELEMETRY_CONFIG_ID="telemetry",O.TELEMETRY_CONFIG_ENABLED_ID="enableTelemetry",O}();z.Z=R},7549:b=>{"use strict";b.exports=require("vscode")},6601:()=>{},9214:()=>{},1922:()=>{},2363:()=>{},6419:()=>{},6353:()=>{},9386:()=>{},1616:()=>{},9862:()=>{},964:()=>{},1336:()=>{}},ta={};function nt(b){var z=ta[b];if(z!==void 0)return z.exports;var y=ta[b]={id:b,loaded:!1,exports:{}};return Zl[b].call(y.exports,y,y.exports,nt),y.loaded=!0,y.exports}(()=>{nt.n=b=>{var z=b&&b.__esModule?()=>b.default:()=>b;return nt.d(z,{a:z}),z}})(),(()=>{nt.d=(b,z)=>{for(var y in z)nt.o(z,y)&&!nt.o(b,y)&&Object.defineProperty(b,y,{enumerable:!0,get:z[y]})}})(),(()=>{nt.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(b){if(typeof window=="object")return window}}()})(),(()=>{nt.hmd=b=>(b=Object.create(b),b.children||(b.children=[]),Object.defineProperty(b,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+b.id)}}),b)})(),(()=>{nt.o=(b,z)=>Object.prototype.hasOwnProperty.call(b,z)})(),(()=>{nt.r=b=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(b,"__esModule",{value:!0})}})(),(()=>{nt.nmd=b=>(b.paths=[],b.children||(b.children=[]),b)})();var Dn={};(()=>{"use strict";nt.r(Dn),nt.d(Dn,{activate:()=>Zp,deactivate:()=>Xp});var b=nt(7549),z=nt(3730),y=Object.defineProperty,R=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?y(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r),O;(function(t){t[t.Info=0]="Info",t[t.Debug=1]="Debug",t[t.Off=2]="Off"})(O||(O={}));const N="githubPullRequests",k="logLevel";class o{constructor(){R(this,"_outputChannel"),R(this,"_logLevel"),R(this,"_disposable"),this._outputChannel=b.window.createOutputChannel("GitHub Pull Request"),this._disposable=b.workspace.onDidChangeConfiguration(()=>{this.getLogLevel()}),this.getLogLevel()}appendLine(e,r){switch(this._logLevel){case 2:return;case 1:const a=`${new Date().getTime()/1e3}s`,h=r?`${r}> ${e}`:`${e}`;this._outputChannel.appendLine(`[Debug ${a}] ${h}`);return;case 0:default:this._outputChannel.appendLine("[Info] "+(r?`${r}> ${e}`:`${e}`));return}}debug(e,r){this._logLevel===1&&this.appendLine(e,r)}dispose(){this._disposable&&this._disposable.dispose()}getLogLevel(){switch(b.workspace.getConfiguration(N).get(k)){case"debug":this._logLevel=1;break;case"off":this._logLevel=2;break;case"info":default:this._logLevel=0;break}}}const n=new o;var c=nt(6470),v=nt(7484),f=nt.n(v),l=nt(4110),E=nt.n(l),d=nt(660),p=nt.n(d),g=Object.defineProperty,S=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?g(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);f().extend(E(),{thresholds:[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:6,d:"day"},{l:"w",r:7},{l:"ww",r:3,d:"week"},{l:"M",r:4},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}]}),f().extend(p()),f().updateLocale("en",{relativeTime:{future:"in %s",past:"%s ago",s:"seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}});function A(t,e){const r=Object.create(null);return t.filter(i=>{const a=e(i);return r[a]?!1:(r[a]=!0,!0)})}function _(t){return t.forEach(e=>e.dispose()),[]}function F(t){return{dispose:t}}function H(t){return F(()=>_(t))}function K(...t){return(e,r=null,i)=>{const a=H(t.map(h=>h(x=>e.call(r,x))));return i&&i.push(a),a}}function J(t,e){return(r,i=null,a)=>t(h=>e(h)&&r.call(i,h),null,a)}function te(t){return(e,r=null,i)=>{const a=t(h=>(a.dispose(),e.call(r,h)),null,i);return a}}function ie(t){return/^[a-zA-Z]:\\/.test(t)}function ne(t,e){return t===e?!0:(t.charAt(t.length-1)!==sep&&(t+=sep),ie(t)&&(t=t.toLowerCase(),e=e.toLowerCase()),e.startsWith(t))}function ue(t,e){return t.reduce((r,i)=>{const a=e(i);return r[a]=[...r[a]||[],i],r},Object.create(null))}function Q(t){return!!t.errors}function C(t){let e=!0;if(!!t.errors&&Array.isArray(t.errors)){for(const r of t.errors)if(!r.field||!r.value||!r.code){e=!1;break}}else e=!1;return e}function U(t){if(!(t instanceof Error))return typeof t=="string"?t:t.gitErrorCode?`${t.message}. Please check git output for more details`:t.stderr?`${t.stderr}. Please check git output for more details`:"Error";let e=t.message,r;if(t.message==="Validation Failed"&&C(t))r=t.errors.map(i=>`Value "${i.value}" cannot be set for field ${i.field} (code: ${i.code})`).join(", ");else if(Q(t)&&t.errors)return t.errors.map(i=>typeof i=="string"?i:i.message).join(", ");return r&&(e=`${e}: ${r}`),e}const M=(t,e)=>e(t);async function s(t,e=M){let r;return new Promise((i,a)=>r=t(h=>{try{Promise.resolve(e(h,i,a)).catch(a)}catch(x){a(x)}})).then(i=>(r.dispose(),i),i=>{throw r.dispose(),i})}function m(t){const e=dayjs(t),r=Date.now();return e.diff(r,"month"),e.diff(r,"month")<1?e.fromNow():e.diff(r,"year")<1?`on ${e.format("MMM D")}`:`on ${e.format("MMM D, YYYY")}`}var T;(function(t){t[t.Period=46]="Period",t[t.Slash=47]="Slash",t[t.A=65]="A",t[t.Z=90]="Z",t[t.Backslash=92]="Backslash",t[t.a=97]="a",t[t.z=122]="z"})(T||(T={}));function I(t,e){return t<e?-1:t>e?1:0}function D(t,e,r=0,i=t.length,a=0,h=e.length){for(;r<i&&a<h;r++,a++){const $=t.charCodeAt(r),W=e.charCodeAt(a);if($<W)return-1;if($>W)return 1}const x=i-r,B=h-a;return x<B?-1:x>B?1:0}function P(t,e){return V(t,e,0,t.length,0,e.length)}function V(t,e,r=0,i=t.length,a=0,h=e.length){for(;r<i&&a<h;r++,a++){let $=t.charCodeAt(r),W=e.charCodeAt(a);if($===W)continue;const re=$-W;if(!(re===32&&w(W))&&!(re===-32&&w($)))return G($)&&G(W)?re:D(t.toLowerCase(),e.toLowerCase(),r,i,a,h)}const x=i-r,B=h-a;return x<B?-1:x>B?1:0}function G(t){return t>=97&&t<=122}function w(t){return t>=65&&t<=90}class Y{constructor(){S(this,"_value",""),S(this,"_pos",0)}reset(e){return this._value=e,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(e){const r=e.charCodeAt(0),i=this._value.charCodeAt(this._pos);return r-i}value(){return this._value[this._pos]}}class me{constructor(e=!0){this._caseSensitive=e,S(this,"_value"),S(this,"_from"),S(this,"_to")}reset(e){return this._value=e,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(e)this._from++;else break;else e=!1;return this}cmp(e){return this._caseSensitive?D(e,this._value,0,e.length,this._from,this._to):V(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class ge{constructor(e=!0,r=!0){this._splitOnBackslash=e,this._caseSensitive=r,S(this,"_value"),S(this,"_from"),S(this,"_to")}reset(e){return this._value=e.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++){const r=this._value.charCodeAt(this._to);if(r===47||this._splitOnBackslash&&r===92)if(e)this._from++;else break;else e=!1}return this}cmp(e){return this._caseSensitive?D(e,this._value,0,e.length,this._from,this._to):V(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}var _e;(function(t){t[t.Scheme=1]="Scheme",t[t.Authority=2]="Authority",t[t.Path=3]="Path",t[t.Query=4]="Query",t[t.Fragment=5]="Fragment"})(_e||(_e={}));class xe{constructor(e){this._ignorePathCasing=e,S(this,"_pathIterator"),S(this,"_value"),S(this,"_states",[]),S(this,"_stateIdx",0)}reset(e){return this._value=e,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new ge(!1,!this._ignorePathCasing(e)),this._pathIterator.reset(e.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(e){if(this._states[this._stateIdx]===1)return P(e,this._value.scheme);if(this._states[this._stateIdx]===2)return P(e,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(e);if(this._states[this._stateIdx]===4)return I(e,this._value.query);if(this._states[this._stateIdx]===5)return I(e,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}class ee{constructor(){S(this,"segment"),S(this,"value"),S(this,"key"),S(this,"left"),S(this,"mid"),S(this,"right")}isEmpty(){return!this.left&&!this.mid&&!this.right&&!this.value}}class X{constructor(e){S(this,"_iter"),S(this,"_root"),this._iter=e}static forUris(e=()=>!1){return new X(new xe(e))}static forPaths(){return new X(new ge)}static forStrings(){return new X(new Y)}static forConfigKeys(){return new X(new me)}clear(){this._root=void 0}set(e,r){const i=this._iter.reset(e);let a;for(this._root||(this._root=new ee,this._root.segment=i.value()),a=this._root;;){const x=i.cmp(a.segment);if(x>0)a.left||(a.left=new ee,a.left.segment=i.value()),a=a.left;else if(x<0)a.right||(a.right=new ee,a.right.segment=i.value()),a=a.right;else if(i.hasNext())i.next(),a.mid||(a.mid=new ee,a.mid.segment=i.value()),a=a.mid;else break}const h=a.value;return a.value=r,a.key=e,h}get(e){var r;return(r=this._getNode(e))==null?void 0:r.value}_getNode(e){const r=this._iter.reset(e);let i=this._root;for(;i;){const a=r.cmp(i.segment);if(a>0)i=i.left;else if(a<0)i=i.right;else if(r.hasNext())r.next(),i=i.mid;else break}return i}has(e){const r=this._getNode(e);return!((r==null?void 0:r.value)===void 0&&(r==null?void 0:r.mid)===void 0)}delete(e){return this._delete(e,!1)}deleteSuperstr(e){return this._delete(e,!0)}_delete(e,r){const i=this._iter.reset(e),a=[];let h=this._root;for(;h;){const x=i.cmp(h.segment);if(x>0)a.push([1,h]),h=h.left;else if(x<0)a.push([-1,h]),h=h.right;else if(i.hasNext())i.next(),a.push([0,h]),h=h.mid;else{for(r?(h.left=void 0,h.mid=void 0,h.right=void 0):h.value=void 0;a.length>0&&h.isEmpty();){let[B,$]=a.pop();switch(B){case 1:$.left=void 0;break;case 0:$.mid=void 0;break;case-1:$.right=void 0;break}h=$}break}}}findSubstr(e){const r=this._iter.reset(e);let i=this._root,a;for(;i;){const h=r.cmp(i.segment);if(h>0)i=i.left;else if(h<0)i=i.right;else if(r.hasNext())r.next(),a=i.value||a,i=i.mid;else break}return i&&i.value||a}findSuperstr(e){const r=this._iter.reset(e);let i=this._root;for(;i;){const a=r.cmp(i.segment);if(a>0)i=i.left;else if(a<0)i=i.right;else if(r.hasNext())r.next(),i=i.mid;else return i.mid?this._entries(i.mid):void 0}}forEach(e){for(const[r,i]of this)e(i,r)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(e){e&&(yield*this._entries(e.left),e.value&&(yield[e.key,e.value]),yield*this._entries(e.mid),yield*this._entries(e.right))}}var ce=Object.defineProperty,he=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?ce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r),ve;(function(t){t[t.Head=0]="Head",t[t.RemoteHead=1]="RemoteHead",t[t.Tag=2]="Tag"})(ve||(ve={}));var q;(function(t){t.BadConfigFile="BadConfigFile",t.AuthenticationFailed="AuthenticationFailed",t.NoUserNameConfigured="NoUserNameConfigured",t.NoUserEmailConfigured="NoUserEmailConfigured",t.NoRemoteRepositorySpecified="NoRemoteRepositorySpecified",t.NotAGitRepository="NotAGitRepository",t.NotAtRepositoryRoot="NotAtRepositoryRoot",t.Conflict="Conflict",t.StashConflict="StashConflict",t.UnmergedChanges="UnmergedChanges",t.PushRejected="PushRejected",t.RemoteConnectionError="RemoteConnectionError",t.DirtyWorkTree="DirtyWorkTree",t.CantOpenResource="CantOpenResource",t.GitNotFound="GitNotFound",t.CantCreatePipe="CantCreatePipe",t.CantAccessRemote="CantAccessRemote",t.RepositoryNotFound="RepositoryNotFound",t.RepositoryIsLocked="RepositoryIsLocked",t.BranchNotFullyMerged="BranchNotFullyMerged",t.NoRemoteReference="NoRemoteReference",t.InvalidBranchName="InvalidBranchName",t.BranchAlreadyExists="BranchAlreadyExists",t.NoLocalChanges="NoLocalChanges",t.NoStashFound="NoStashFound",t.LocalChangesOverwritten="LocalChangesOverwritten",t.NoUpstreamBranch="NoUpstreamBranch",t.IsInSubmodule="IsInSubmodule",t.WrongCase="WrongCase",t.CantLockRef="CantLockRef",t.CantRebaseMultipleBranches="CantRebaseMultipleBranches",t.PatchDoesNotApply="PatchDoesNotApply"})(q||(q={}));const L=class{constructor(){he(this,"_providers",new Map),he(this,"_onDidOpenRepository",new b.EventEmitter),he(this,"onDidOpenRepository",this._onDidOpenRepository.event),he(this,"_onDidCloseRepository",new b.EventEmitter),he(this,"onDidCloseRepository",this._onDidCloseRepository.event),he(this,"_onDidChangeState",new b.EventEmitter),he(this,"onDidChangeState",this._onDidChangeState.event),he(this,"_onDidPublish",new b.EventEmitter),he(this,"onDidPublish",this._onDidPublish.event),he(this,"_disposables"),this._disposables=[]}get repositories(){const t=[];return this._providers.forEach(({repositories:e})=>{e&&t.push(...e)}),t}get state(){if(this._providers.size!==0){for(const[,{state:t}]of this._providers)if(t!=="initialized")return"uninitialized";return"initialized"}}registerGitProvider(t){n.appendLine("Registering git provider");const e=this._nextHandle();return this._providers.set(e,t),this._disposables.push(t.onDidCloseRepository(r=>this._onDidCloseRepository.fire(r))),this._disposables.push(t.onDidOpenRepository(r=>{n.appendLine(`Repository ${r.rootUri} has been opened`),this._onDidOpenRepository.fire(r)})),t.onDidChangeState&&this._disposables.push(t.onDidChangeState(r=>this._onDidChangeState.fire(r))),t.onDidPublish&&this._disposables.push(t.onDidPublish(r=>this._onDidPublish.fire(r))),t.repositories.forEach(r=>{this._onDidOpenRepository.fire(r)}),{dispose:()=>{const r=t==null?void 0:t.repositories;r&&r.length>0&&r.forEach(i=>this._onDidCloseRepository.fire(i)),this._providers.delete(e)}}}getGitProvider(t){const e=X.forUris();return this._providers.forEach(r=>{const i=r.repositories;if(i&&i.length>0)for(const a of i)e.set(a.rootUri,r)}),e.findSubstr(t)}_nextHandle(){return L._handlePool++}dispose(){this._disposables.forEach(t=>t.dispose())}};let ae=L;he(ae,"_handlePool",0);const pe=new Map;function Se(t,e){pe.set(t,e)}function ye(t){pe.delete(t)}function Ne(t){for(const e of pe.values())if(e.hasCommentThread(t))return e;n.appendLine(`Unable to find handler for comment thread ${t.threadId}`)}function Ae(t){return JSON.parse(t)}function Me(t){try{return JSON.parse(t.query)}catch(e){}}function ut(t){try{return JSON.parse(t.query)}catch(e){}}const qe=["image/png","image/gif","image/jpeg","image/webp","image/tiff","image/bmp"],Fe=b.Uri.parse("data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==");async function ht(t,e){try{const{commit:r,baseCommit:i,headCommit:a,isBase:h}=JSON.parse(t.query),x=t.scheme==="review"?r:h?i:a,{size:B,object:$}=await e.getObjectDetails(x,t.fsPath),{mimetype:W}=await e.detectObjectType($);if(W==="text/plain")return;if(qe.indexOf(W)>-1){const re=await e.buffer(x,t.fsPath);return b.Uri.parse(`data:${W};label:${c.basename(t.fsPath)};description:${x};size:${B};base64,${re.toString("base64")}`)}}catch(r){return}}function se(t,e,r,i,a,h,x){const B={path:e||t.path,ref:r,commit:i,base:h.base,isOutdated:a,rootPath:x.path};let $=t.path;return h.replaceFileExtension&&($=`${$}.git`),t.with({scheme:"review",path:$,query:JSON.stringify(B)})}function j(t,e,r,i){const a={prNumber:e,fileName:r,status:i};return t.with({scheme:"filechange",query:JSON.stringify(a)})}function Z(t){try{return t.query?JSON.parse(t.query):void 0}catch(e){}}function oe(t,e,r,i,a,h,x){const B={baseCommit:r,headCommit:i,isBase:h,fileName:a,prNumber:e.number,status:x,remoteName:e.githubRepository.remote.remoteName},$=t.path;return t.with({scheme:"pr",path:$,query:JSON.stringify(B)})}class fe extends b.EventEmitter{handleUri(e){this.fire(e)}}const ke=new fe,be="GitHub.vscode-pull-request-github",Pe="git",ct="ghpr",Oe="initialize",Be="statechange",at="github:focusedReview";var Ke=nt(4063),Ye=nt.n(Ke),pt;(function(t){t.LEFT="LEFT",t.RIGHT="RIGHT"})(pt||(pt={}));var $e;(function(t){t.DISMISSED="DISMISSED",t.VIEWED="VIEWED",t.UNVIEWED="UNVIEWED"})($e||($e={}));var Ce;(function(t){t[t.ADD=0]="ADD",t[t.COPY=1]="COPY",t[t.DELETE=2]="DELETE",t[t.MODIFY=3]="MODIFY",t[t.RENAME=4]="RENAME",t[t.TYPE=5]="TYPE",t[t.UNKNOWN=6]="UNKNOWN",t[t.UNMERGED=7]="UNMERGED"})(Ce||(Ce={}));class ur{constructor(e,r,i,a,h,x,B,$){this.baseCommit=e,this.status=r,this.fileName=i,this.previousFileName=a,this.patch=h,this.diffHunks=x,this.isPartial=B,this.blobUrl=$}}class ze{constructor(e,r,i,a,h){this.baseCommit=e,this.blobUrl=r,this.status=i,this.fileName=a,this.previousFileName=h}}var Ze=Object.defineProperty,yr=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Ze(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r),He;(function(t){t[t.Context=0]="Context",t[t.Add=1]="Add",t[t.Delete=2]="Delete",t[t.Control=3]="Control"})(He||(He={}));class We{constructor(e,r,i,a,h,x=!0){this.type=e,this.oldLineNumber=r,this.newLineNumber=i,this.positionInHunk=a,this._raw=h,this.endwithLineBreak=x}get raw(){return this._raw}get text(){return this._raw.substr(1)}}function wr(t){switch(t[0]){case" ":return 0;case"+":return 1;case"-":return 2;default:return 3}}class Je{constructor(e,r,i,a,h){this.oldLineNumber=e,this.oldLength=r,this.newLineNumber=i,this.newLength=a,this.positionInHunk=h,yr(this,"diffLines",[])}}const Qe=/^@@ \-(\d+)(,(\d+))?( \+(\d+)(,(\d+)?)?)? @@/;function _r(t){let e=0,r=0;for(;(r=t.indexOf("\r",r))!==-1;)r++,e++;return e}function*Xe(t){let e=0;for(;e!==-1&&e<t.length;){const r=e;e=t.indexOf(`
`,e);let a=(e!==-1?e:t.length)-r;e!==-1&&(e>0&&t[e-1]==="\r"&&a--,e++),yield t.substr(r,a)}}function*Ve(t){const e=Xe(t);let r=e.next(),i,a=-1,h=-1,x=-1;for(;!r.done;){const B=r.value;if(Qe.test(B)){i&&(yield i,i=void 0),a===-1&&(a=0);const $=Qe.exec(B),W=h=Number($[1]),re=Number($[3])||1,le=x=Number($[5]),de=Number($[7])||1;i=new Je(W,re,le,de,a),i.diffLines.push(new We(3,-1,-1,a,B))}else if(i){const $=wr(B);if($===3)i.diffLines&&i.diffLines.length&&(i.diffLines[i.diffLines.length-1].endwithLineBreak=!1);else{i.diffLines.push(new We($,$!==1?h:-1,$!==2?x:-1,a,B));const W=1+_r(B);switch($){case 0:h+=W,x+=W;break;case 2:h+=W;break;case 1:x+=W;break}}}a!==-1&&++a,r=e.next()}i&&(yield i)}function ir(t){const e=Ve(t);let r=e.next();const i=[],a=[];for(;!r.done;){const h=r.value;i.push(h);for(let x=0;x<h.diffLines.length;x++){const B=h.diffLines[x];if(!(B.type===2||B.type===3))if(B.type===1)a.push(B.text);else{const $=B.text;a.push($)}}r=e.next()}return i}function et(t,e){const r=t.split(/\r?\n/),i=Ve(e);let a=i.next();const h=[],x=[];let B=0;for(;!a.done;){const $=a.value;h.push($);const W=$.oldLineNumber;for(let re=B+1;re<W;re++)x.push(r[re-1]);B=W+$.oldLength-1;for(let re=0;re<$.diffLines.length;re++){const le=$.diffLines[re];if(!(le.type===2||le.type===3))if(le.type===1)x.push(le.text);else{const de=le.text;x.push(de)}}a=i.next()}if(B<r.length)for(let $=B+1;$<=r.length;$++)x.push(r[$-1]);return x.join(`
`)}function je(t){switch(t){case"removed":return Ce.DELETE;case"added":return Ce.ADD;case"renamed":return Ce.RENAME;case"modified":return Ce.MODIFY;default:return Ce.UNKNOWN}}async function nr(t,e,r){const i=[];for(let a=0;a<t.length;a++){const h=t[a],x=je(h.status);if(!h.patch){i.push(new ze(r,h.blob_url,x,h.filename,h.previous_filename));continue}let B=!1;switch(x){case Ce.DELETE:case Ce.MODIFY:try{await e.getObjectDetails(r,h.filename),B=!0}catch(re){}break;case Ce.RENAME:try{await e.getObjectDetails(r,h.previous_filename),B=!0}catch(re){}break}const $=ir(h.patch),W=!B&&x!==Ce.ADD;i.push(new ur(r,x,h.filename,h.previous_filename,h.patch,$,W,h.blob_url))}return i}const tt=t=>{};var rt=Object.defineProperty,$t=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?rt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r),st;(function(t){t[t.Local=0]="Local",t[t.HTTP=1]="HTTP",t[t.SSH=2]="SSH",t[t.GIT=3]="GIT",t[t.OTHER=4]="OTHER"})(st||(st={}));class it{constructor(e){if($t(this,"type",4),$t(this,"host",""),$t(this,"owner",""),$t(this,"repositoryName",""),$t(this,"url"),!this.parseSshProtocol(e))try{this.url=b.Uri.parse(e),this.type=this.getType(this.url.scheme),this.host=this.getHostName(this.url.authority),this.host&&(this.repositoryName=this.getRepositoryName(this.url.path)||"",this.owner=this.getOwnerName(this.url.path)||"")}catch(r){n.appendLine(`Failed to parse '${e}'`),b.window.showWarningMessage(`Unable to parse remote '${e}'. Please check that it is correctly formatted.`)}}get nameWithOwner(){return this.owner?`${this.owner}/${this.repositoryName}`:this.repositoryName}getType(e){switch(e){case"file":return 0;case"http":case"https":return 1;case"git":return 3;case"ssh":return 2;default:return 4}}parseSshProtocol(e){const r=tt(e);if(!r)return!1;const{Hostname:i,HostName:a,path:h}=r;return this.host=a||i,this.owner=this.getOwnerName(h)||"",this.repositoryName=this.getRepositoryName(h)||"",this.type=2,!0}getHostName(e){const r=/^(?:.*:?@)?([^:]*)(?::.*)?$/.exec(e);return r&&r.length>=2?r[1].toLocaleLowerCase()==="www.github.com"?"github.com":r[1]:""}getRepositoryName(e){let r=e.replace(/\\/g,"/");r.endsWith("/")&&(r=r.substr(0,r.length-1));const i=r.lastIndexOf("/"),a=r.substr(i+1);if(!(a===""||a==="/"))return a.replace(/\/$/,"").replace(/\.git$/,"")}getOwnerName(e){let r=e.replace(/\\/g,"/");r.endsWith("/")&&(r=r.substr(0,r.length-1));const i=r.split("/");if(i.length>1)return i[i.length-2]}normalizeUri(){if(this.type===4&&!this.url)return;if(this.type===0)return this.url;let e="https";this.url&&(this.url.scheme==="http"||this.url.scheme==="https")&&(e=this.url.scheme);try{return b.Uri.parse(`${e}://${this.host.toLocaleLowerCase()}/${this.nameWithOwner.toLocaleLowerCase()}`)}catch(r){return}}toString(){if(this.type===2)return`git@${this.host}:${this.owner}/${this.repositoryName}`;if(this.type===3)return`git://git@${this.host}:${this.owner}/${this.repositoryName}`;const e=this.normalizeUri();if(e)return e.toString()}update(e){return e.type&&(this.type=e.type),e.host&&(this.host=e.host),e.owner&&(this.owner=e.owner),e.repositoryName&&(this.repositoryName=e.repositoryName),this}equals(e){const r=this.normalizeUri();if(!r)return!1;const i=e.normalizeUri();return i?r.toString().toLocaleLowerCase()===i.toString().toLocaleLowerCase():!1}}var Qt=Object.defineProperty,Kt=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Qt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class jt{constructor(e,r,i,a){this.ref=e,this.label=r,this.sha=i,Kt(this,"repositoryCloneUrl"),this.repositoryCloneUrl=new it(a)}}var mt;(function(t){t[t.Committed=0]="Committed",t[t.Mentioned=1]="Mentioned",t[t.Subscribed=2]="Subscribed",t[t.Commented=3]="Commented",t[t.Reviewed=4]="Reviewed",t[t.Labeled=5]="Labeled",t[t.Milestoned=6]="Milestoned",t[t.Assigned=7]="Assigned",t[t.HeadRefDeleted=8]="HeadRefDeleted",t[t.Merged=9]="Merged",t[t.Other=10]="Other"})(mt||(mt={}));function Ht(t){return t.event===4}function Yt(t){return t.event===0}function Zt(t){return t.event===3}function sr(t){return t.event===9}function ar(t){return t.event===7}function or(t){return t.event===8}function Jt(t){return!!t.conclusion}var gt;(function(t){t[t.Query=0]="Query",t[t.All=1]="All",t[t.LocalPullRequest=2]="LocalPullRequest"})(gt||(gt={}));var Et;(function(t){t.Approve="APPROVE",t.RequestChanges="REQUEST_CHANGES",t.Comment="COMMENT"})(Et||(Et={}));var dt;(function(t){t[t.Open=0]="Open",t[t.Merged=1]="Merged",t[t.Closed=2]="Closed"})(dt||(dt={}));var Ct;(function(t){t[t.Mergeable=0]="Mergeable",t[t.NotMergeable=1]="NotMergeable",t[t.Unknown=2]="Unknown"})(Ct||(Ct={}));var Xt=nt(5835),Cr=Object.defineProperty,Nr=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Cr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const kr=class{static initialize(t){kr.icons={reactions:{THUMBS_UP:t.asAbsolutePath(c.join("resources","icons","reactions","thumbs_up.png")),THUMBS_DOWN:t.asAbsolutePath(c.join("resources","icons","reactions","thumbs_down.png")),CONFUSED:t.asAbsolutePath(c.join("resources","icons","reactions","confused.png")),EYES:t.asAbsolutePath(c.join("resources","icons","reactions","eyes.png")),HEART:t.asAbsolutePath(c.join("resources","icons","reactions","heart.png")),HOORAY:t.asAbsolutePath(c.join("resources","icons","reactions","hooray.png")),LAUGH:t.asAbsolutePath(c.join("resources","icons","reactions","laugh.png")),ROCKET:t.asAbsolutePath(c.join("resources","icons","reactions","rocket.png"))}}}};let Sr=kr;Nr(Sr,"icons");var Ri=nt(4155);function Xi(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof Ri=="object"&&"version"in Ri?`Node.js/${Ri.version.substr(1)} (${Ri.platform}; ${Ri.arch})`:"<environment undetectable>"}var Jl=nt(5186);/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function ra(t){return Object.prototype.toString.call(t)==="[object Object]"}function ia(t){var e,r;return ra(t)===!1?!1:(e=t.constructor,e===void 0?!0:(r=e.prototype,!(ra(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)))}function Xl(t){return t?Object.keys(t).reduce((e,r)=>(e[r.toLowerCase()]=t[r],e),{}):{}}function na(t,e){const r=Object.assign({},t);return Object.keys(e).forEach(i=>{ia(e[i])?i in t?r[i]=na(t[i],e[i]):Object.assign(r,{[i]:e[i]}):Object.assign(r,{[i]:e[i]})}),r}function sa(t){for(const e in t)t[e]===void 0&&delete t[e];return t}function Fn(t,e,r){if(typeof e=="string"){let[a,h]=e.split(" ");r=Object.assign(h?{method:a,url:h}:{url:a},r)}else r=Object.assign({},e);r.headers=Xl(r.headers),sa(r),sa(r.headers);const i=na(t||{},r);return t&&t.mediaType.previews.length&&(i.mediaType.previews=t.mediaType.previews.filter(a=>!i.mediaType.previews.includes(a)).concat(i.mediaType.previews)),i.mediaType.previews=i.mediaType.previews.map(a=>a.replace(/-preview/,"")),i}function eu(t,e){const r=/\?/.test(t)?"&":"?",i=Object.keys(e);return i.length===0?t:t+r+i.map(a=>a==="q"?"q="+e.q.split("+").map(encodeURIComponent).join("+"):`${a}=${encodeURIComponent(e[a])}`).join("&")}const tu=/\{[^}]+\}/g;function ru(t){return t.replace(/^\W+|\W+$/g,"").split(/,/)}function iu(t){const e=t.match(tu);return e?e.map(ru).reduce((r,i)=>r.concat(i),[]):[]}function aa(t,e){return Object.keys(t).filter(r=>!e.includes(r)).reduce((r,i)=>(r[i]=t[i],r),{})}function oa(t){return t.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")),e}).join("")}function ri(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function xi(t,e,r){return e=t==="+"||t==="#"?oa(e):ri(e),r?ri(r)+"="+e:e}function ii(t){return t!=null}function On(t){return t===";"||t==="&"||t==="?"}function nu(t,e,r,i){var a=t[r],h=[];if(ii(a)&&a!=="")if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")a=a.toString(),i&&i!=="*"&&(a=a.substring(0,parseInt(i,10))),h.push(xi(e,a,On(e)?r:""));else if(i==="*")Array.isArray(a)?a.filter(ii).forEach(function(x){h.push(xi(e,x,On(e)?r:""))}):Object.keys(a).forEach(function(x){ii(a[x])&&h.push(xi(e,a[x],x))});else{const x=[];Array.isArray(a)?a.filter(ii).forEach(function(B){x.push(xi(e,B))}):Object.keys(a).forEach(function(B){ii(a[B])&&(x.push(ri(B)),x.push(xi(e,a[B].toString())))}),On(e)?h.push(ri(r)+"="+x.join(",")):x.length!==0&&h.push(x.join(","))}else e===";"?ii(a)&&h.push(ri(r)):a===""&&(e==="&"||e==="?")?h.push(ri(r)+"="):a===""&&h.push("");return h}function su(t){return{expand:au.bind(null,t)}}function au(t,e){var r=["+","#",".","/",";","?","&"];return t.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(i,a,h){if(a){let B="";const $=[];if(r.indexOf(a.charAt(0))!==-1&&(B=a.charAt(0),a=a.substr(1)),a.split(/,/g).forEach(function(W){var re=/([^:\*]*)(?::(\d+)|(\*))?/.exec(W);$.push(nu(e,B,re[1],re[2]||re[3]))}),B&&B!=="+"){var x=",";return B==="?"?x="&":B!=="#"&&(x=B),($.length!==0?B:"")+$.join(x)}else return $.join(",")}else return oa(h)})}function la(t){let e=t.method.toUpperCase(),r=(t.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),i=Object.assign({},t.headers),a,h=aa(t,["method","baseUrl","url","headers","request","mediaType"]);const x=iu(r);r=su(r).expand(h),/^http/.test(r)||(r=t.baseUrl+r);const B=Object.keys(t).filter(re=>x.includes(re)).concat("baseUrl"),$=aa(h,B);if(!/application\/octet-stream/i.test(i.accept)&&(t.mediaType.format&&(i.accept=i.accept.split(/,/).map(re=>re.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${t.mediaType.format}`)).join(",")),t.mediaType.previews.length)){const re=i.accept.match(/[\w-]+(?=-preview)/g)||[];i.accept=re.concat(t.mediaType.previews).map(le=>{const de=t.mediaType.format?`.${t.mediaType.format}`:"+json";return`application/vnd.github.${le}-preview${de}`}).join(",")}return["GET","HEAD"].includes(e)?r=eu(r,$):"data"in $?a=$.data:Object.keys($).length?a=$:i["content-length"]=0,!i["content-type"]&&typeof a!="undefined"&&(i["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(e)&&typeof a=="undefined"&&(a=""),Object.assign({method:e,url:r,headers:i},typeof a!="undefined"?{body:a}:null,t.request?{request:t.request}:null)}function ou(t,e,r){return la(Fn(t,e,r))}function ua(t,e){const r=Fn(t,e),i=ou.bind(null,r);return Object.assign(i,{DEFAULTS:r,defaults:ua.bind(null,r),merge:Fn.bind(null,r),parse:la})}const lu=`octokit-endpoint.js/6.0.11 ${Xi()}`,uu=ua(null,{method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":lu},mediaType:{format:"",previews:[]}});var cu=nt(4098),Bn=nt.n(cu);class du extends Error{constructor(e){super(e);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="Deprecation"}}var fu=nt(447),hu=nt.n(fu);const pu=hu()(t=>console.warn(t));class Mi extends Error{constructor(e,r,i){super(e);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=r,Object.defineProperty(this,"code",{get(){return pu(new du("[@octokit/request-error] `error.code` is deprecated, use `error.status`.")),r}}),this.headers=i.headers||{};const a=Object.assign({},i.request);i.request.headers.authorization&&(a.headers=Object.assign({},i.request.headers,{authorization:i.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),a.url=a.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=a}}const mu="5.4.14";function vu(t){return t.arrayBuffer()}function ca(t){(ia(t.body)||Array.isArray(t.body))&&(t.body=JSON.stringify(t.body));let e={},r,i;return(t.request&&t.request.fetch||Bn())(t.url,Object.assign({method:t.method,body:t.body,headers:t.headers,redirect:t.redirect},t.request)).then(h=>{i=h.url,r=h.status;for(const B of h.headers)e[B[0]]=B[1];if(r===204||r===205)return;if(t.method==="HEAD"){if(r<400)return;throw new Mi(h.statusText,r,{headers:e,request:t})}if(r===304)throw new Mi("Not modified",r,{headers:e,request:t});if(r>=400)return h.text().then(B=>{const $=new Mi(B,r,{headers:e,request:t});try{let W=JSON.parse($.message);Object.assign($,W);let re=W.errors;$.message=$.message+": "+re.map(JSON.stringify).join(", ")}catch(W){}throw $});const x=h.headers.get("content-type");return/application\/json/.test(x)?h.json():!x||/^text\/|charset=utf-8$/.test(x)?h.text():vu(h)}).then(h=>({status:r,url:i,headers:e,data:h})).catch(h=>{throw h instanceof Mi?h:new Mi(h.message,500,{headers:e,request:t})})}function Ln(t,e){const r=t.defaults(e);return Object.assign(function(a,h){const x=r.merge(a,h);if(!x.request||!x.request.hook)return ca(r.parse(x));const B=($,W)=>ca(r.parse(r.merge($,W)));return Object.assign(B,{endpoint:r,defaults:Ln.bind(null,r)}),x.request.hook(B,x)},{endpoint:r,defaults:Ln.bind(null,r)})}const en=Ln(uu,{headers:{"user-agent":`octokit-request.js/${mu} ${Xi()}`}}),gu="4.6.1";class bu extends Error{constructor(e,r){const i=r.data.errors[0].message;super(i);Object.assign(this,r.data),Object.assign(this,{headers:r.headers}),this.name="GraphqlError",this.request=e,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}const yu=["method","baseUrl","url","headers","request","query","mediaType"],wu=["query","method","url"],da=/\/api\/v3\/?$/;function _u(t,e,r){if(r){if(typeof e=="string"&&"query"in r)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const x in r)if(!!wu.includes(x))return Promise.reject(new Error(`[@octokit/graphql] "${x}" cannot be used as variable name`))}const i=typeof e=="string"?Object.assign({query:e},r):e,a=Object.keys(i).reduce((x,B)=>yu.includes(B)?(x[B]=i[B],x):(x.variables||(x.variables={}),x.variables[B]=i[B],x),{}),h=i.baseUrl||t.endpoint.DEFAULTS.baseUrl;return da.test(h)&&(a.url=h.replace(da,"/api/graphql")),t(a).then(x=>{if(x.data.errors){const B={};for(const $ of Object.keys(x.headers))B[$]=x.headers[$];throw new bu(a,{headers:B,data:x.data})}return x.data.data})}function Un(t,e){const r=t.defaults(e);return Object.assign((a,h)=>_u(r,a,h),{defaults:Un.bind(null,r),endpoint:en.endpoint})}const rm=Un(en,{headers:{"user-agent":`octokit-graphql.js/${gu} ${Xi()}`},method:"POST",url:"/graphql"});function ku(t){return Un(t,{method:"POST",url:"/graphql"})}async function Su(t){const e=t.split(/\./).length===3?"app":/^v\d+\./.test(t)?"installation":"oauth";return{type:"token",token:t,tokenType:e}}function Eu(t){return t.split(/\./).length===3?`bearer ${t}`:`token ${t}`}async function Ru(t,e,r,i){const a=e.endpoint.merge(r,i);return a.headers.authorization=Eu(t),e(a)}const xu=function(e){if(!e)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof e!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return e=e.replace(/^(token|bearer) +/i,""),Object.assign(Su.bind(null,e),{hook:Ru.bind(null,e)})},fa="3.3.1";class qn{constructor(e={}){const r=new Jl.Collection,i={baseUrl:en.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},e.request,{hook:r.bind(null,"request")}),mediaType:{previews:[],format:""}};if(i.headers["user-agent"]=[e.userAgent,`octokit-core.js/${fa} ${Xi()}`].filter(Boolean).join(" "),e.baseUrl&&(i.baseUrl=e.baseUrl),e.previews&&(i.mediaType.previews=e.previews),e.timeZone&&(i.headers["time-zone"]=e.timeZone),this.request=en.defaults(i),this.graphql=ku(this.request).defaults(i),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},e.log),this.hook=r,e.authStrategy){const{authStrategy:h,...x}=e,B=h(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:x},e.auth));r.wrap("request",B.hook),this.auth=B}else if(!e.auth)this.auth=async()=>({type:"unauthenticated"});else{const h=xu(e.auth);r.wrap("request",h.hook),this.auth=h}this.constructor.plugins.forEach(h=>{Object.assign(this,h(this,e))})}static defaults(e){return class extends this{constructor(...i){const a=i[0]||{};if(typeof e=="function"){super(e(a));return}super(Object.assign({},e,a,a.userAgent&&e.userAgent?{userAgent:`${a.userAgent} ${e.userAgent}`}:null))}}}static plugin(...e){var r;const i=this.plugins;return r=class extends this{},r.plugins=i.concat(e.filter(h=>!i.includes(h))),r}}qn.VERSION=fa,qn.plugins=[];const Mu="1.0.3";function ha(t){t.hook.wrap("request",(e,r)=>{t.log.debug("request",r);const i=Date.now(),a=t.request.endpoint.parse(r),h=a.url.replace(r.baseUrl,"");return e(r).then(x=>(t.log.info(`${a.method} ${h} - ${x.status} in ${Date.now()-i}ms`),x)).catch(x=>{throw t.log.info(`${a.method} ${h} - ${x.status} in ${Date.now()-i}ms`),x})})}ha.VERSION=Mu;const Tu="2.13.2";function Cu(t){if(!("total_count"in t.data&&!("url"in t.data)))return t;const r=t.data.incomplete_results,i=t.data.repository_selection,a=t.data.total_count;delete t.data.incomplete_results,delete t.data.repository_selection,delete t.data.total_count;const h=Object.keys(t.data)[0],x=t.data[h];return t.data=x,typeof r!="undefined"&&(t.data.incomplete_results=r),typeof i!="undefined"&&(t.data.repository_selection=i),t.data.total_count=a,t}function $n(t,e,r){const i=typeof e=="function"?e.endpoint(r):t.request.endpoint(e,r),a=typeof e=="function"?e:t.request,h=i.method,x=i.headers;let B=i.url;return{[Symbol.asyncIterator]:()=>({async next(){if(!B)return{done:!0};const $=await a({method:h,url:B,headers:x}),W=Cu($);return B=((W.headers.link||"").match(/<([^>]+)>;\s*rel="next"/)||[])[1],{value:W}}})}}function pa(t,e,r,i){return typeof r=="function"&&(i=r,r=void 0),ma(t,[],$n(t,e,r)[Symbol.asyncIterator](),i)}function ma(t,e,r,i){return r.next().then(a=>{if(a.done)return e;let h=!1;function x(){h=!0}return e=e.concat(i?i(a.value,x):a.value.data),h?e:ma(t,e,r,i)})}const im=Object.assign(pa,{iterator:$n}),Nu=null;function nm(t){return typeof t=="string"?Nu.includes(t):!1}function va(t){return{paginate:Object.assign(pa.bind(null,t),{iterator:$n.bind(null,t)})}}va.VERSION=Tu;const Pu={actions:{addSelectedRepoToOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],cancelWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/cancel"],createOrUpdateOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/actions/secrets/{secret_name}"],createRegistrationTokenForOrg:["POST /orgs/{org}/actions/runners/registration-token"],createRegistrationTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/registration-token"],createRemoveTokenForOrg:["POST /orgs/{org}/actions/runners/remove-token"],createRemoveTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/remove-token"],createWorkflowDispatch:["POST /repos/{owner}/{repo}/actions/workflows/{workflow_id}/dispatches"],deleteArtifact:["DELETE /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],deleteOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/actions/secrets/{secret_name}"],deleteSelfHostedRunnerFromOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}"],deleteSelfHostedRunnerFromRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}"],deleteWorkflowRun:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}"],deleteWorkflowRunLogs:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],disableSelectedRepositoryGithubActionsOrganization:["DELETE /orgs/{org}/actions/permissions/repositories/{repository_id}"],disableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/disable"],downloadArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}/{archive_format}"],downloadJobLogsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}/logs"],downloadWorkflowRunLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],enableSelectedRepositoryGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories/{repository_id}"],enableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/enable"],getAllowedActionsOrganization:["GET /orgs/{org}/actions/permissions/selected-actions"],getAllowedActionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/selected-actions"],getArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],getGithubActionsPermissionsOrganization:["GET /orgs/{org}/actions/permissions"],getGithubActionsPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions"],getJobForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}"],getOrgPublicKey:["GET /orgs/{org}/actions/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}"],getRepoPermissions:["GET /repos/{owner}/{repo}/actions/permissions",{},{renamed:["actions","getGithubActionsPermissionsRepository"]}],getRepoPublicKey:["GET /repos/{owner}/{repo}/actions/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/actions/secrets/{secret_name}"],getSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}"],getSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}"],getWorkflow:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}"],getWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}"],getWorkflowRunUsage:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/timing"],getWorkflowUsage:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/timing"],listArtifactsForRepo:["GET /repos/{owner}/{repo}/actions/artifacts"],listJobsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/jobs"],listOrgSecrets:["GET /orgs/{org}/actions/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/actions/secrets"],listRepoWorkflows:["GET /repos/{owner}/{repo}/actions/workflows"],listRunnerApplicationsForOrg:["GET /orgs/{org}/actions/runners/downloads"],listRunnerApplicationsForRepo:["GET /repos/{owner}/{repo}/actions/runners/downloads"],listSelectedReposForOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}/repositories"],listSelectedRepositoriesEnabledGithubActionsOrganization:["GET /orgs/{org}/actions/permissions/repositories"],listSelfHostedRunnersForOrg:["GET /orgs/{org}/actions/runners"],listSelfHostedRunnersForRepo:["GET /repos/{owner}/{repo}/actions/runners"],listWorkflowRunArtifacts:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/artifacts"],listWorkflowRuns:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/runs"],listWorkflowRunsForRepo:["GET /repos/{owner}/{repo}/actions/runs"],reRunWorkflow:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],setAllowedActionsOrganization:["PUT /orgs/{org}/actions/permissions/selected-actions"],setAllowedActionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/selected-actions"],setGithubActionsPermissionsOrganization:["PUT /orgs/{org}/actions/permissions"],setGithubActionsPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories"],setSelectedRepositoriesEnabledGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories"]},activity:{checkRepoIsStarredByAuthenticatedUser:["GET /user/starred/{owner}/{repo}"],deleteRepoSubscription:["DELETE /repos/{owner}/{repo}/subscription"],deleteThreadSubscription:["DELETE /notifications/threads/{thread_id}/subscription"],getFeeds:["GET /feeds"],getRepoSubscription:["GET /repos/{owner}/{repo}/subscription"],getThread:["GET /notifications/threads/{thread_id}"],getThreadSubscriptionForAuthenticatedUser:["GET /notifications/threads/{thread_id}/subscription"],listEventsForAuthenticatedUser:["GET /users/{username}/events"],listNotificationsForAuthenticatedUser:["GET /notifications"],listOrgEventsForAuthenticatedUser:["GET /users/{username}/events/orgs/{org}"],listPublicEvents:["GET /events"],listPublicEventsForRepoNetwork:["GET /networks/{owner}/{repo}/events"],listPublicEventsForUser:["GET /users/{username}/events/public"],listPublicOrgEvents:["GET /orgs/{org}/events"],listReceivedEventsForUser:["GET /users/{username}/received_events"],listReceivedPublicEventsForUser:["GET /users/{username}/received_events/public"],listRepoEvents:["GET /repos/{owner}/{repo}/events"],listRepoNotificationsForAuthenticatedUser:["GET /repos/{owner}/{repo}/notifications"],listReposStarredByAuthenticatedUser:["GET /user/starred"],listReposStarredByUser:["GET /users/{username}/starred"],listReposWatchedByUser:["GET /users/{username}/subscriptions"],listStargazersForRepo:["GET /repos/{owner}/{repo}/stargazers"],listWatchedReposForAuthenticatedUser:["GET /user/subscriptions"],listWatchersForRepo:["GET /repos/{owner}/{repo}/subscribers"],markNotificationsAsRead:["PUT /notifications"],markRepoNotificationsAsRead:["PUT /repos/{owner}/{repo}/notifications"],markThreadAsRead:["PATCH /notifications/threads/{thread_id}"],setRepoSubscription:["PUT /repos/{owner}/{repo}/subscription"],setThreadSubscription:["PUT /notifications/threads/{thread_id}/subscription"],starRepoForAuthenticatedUser:["PUT /user/starred/{owner}/{repo}"],unstarRepoForAuthenticatedUser:["DELETE /user/starred/{owner}/{repo}"]},apps:{addRepoToInstallation:["PUT /user/installations/{installation_id}/repositories/{repository_id}"],checkToken:["POST /applications/{client_id}/token"],createContentAttachment:["POST /content_references/{content_reference_id}/attachments",{mediaType:{previews:["corsair"]}}],createFromManifest:["POST /app-manifests/{code}/conversions"],createInstallationAccessToken:["POST /app/installations/{installation_id}/access_tokens"],deleteAuthorization:["DELETE /applications/{client_id}/grant"],deleteInstallation:["DELETE /app/installations/{installation_id}"],deleteToken:["DELETE /applications/{client_id}/token"],getAuthenticated:["GET /app"],getBySlug:["GET /apps/{app_slug}"],getInstallation:["GET /app/installations/{installation_id}"],getOrgInstallation:["GET /orgs/{org}/installation"],getRepoInstallation:["GET /repos/{owner}/{repo}/installation"],getSubscriptionPlanForAccount:["GET /marketplace_listing/accounts/{account_id}"],getSubscriptionPlanForAccountStubbed:["GET /marketplace_listing/stubbed/accounts/{account_id}"],getUserInstallation:["GET /users/{username}/installation"],getWebhookConfigForApp:["GET /app/hook/config"],listAccountsForPlan:["GET /marketplace_listing/plans/{plan_id}/accounts"],listAccountsForPlanStubbed:["GET /marketplace_listing/stubbed/plans/{plan_id}/accounts"],listInstallationReposForAuthenticatedUser:["GET /user/installations/{installation_id}/repositories"],listInstallations:["GET /app/installations"],listInstallationsForAuthenticatedUser:["GET /user/installations"],listPlans:["GET /marketplace_listing/plans"],listPlansStubbed:["GET /marketplace_listing/stubbed/plans"],listReposAccessibleToInstallation:["GET /installation/repositories"],listSubscriptionsForAuthenticatedUser:["GET /user/marketplace_purchases"],listSubscriptionsForAuthenticatedUserStubbed:["GET /user/marketplace_purchases/stubbed"],removeRepoFromInstallation:["DELETE /user/installations/{installation_id}/repositories/{repository_id}"],resetToken:["PATCH /applications/{client_id}/token"],revokeInstallationAccessToken:["DELETE /installation/token"],scopeToken:["POST /applications/{client_id}/token/scoped"],suspendInstallation:["PUT /app/installations/{installation_id}/suspended"],unsuspendInstallation:["DELETE /app/installations/{installation_id}/suspended"],updateWebhookConfigForApp:["PATCH /app/hook/config"]},billing:{getGithubActionsBillingOrg:["GET /orgs/{org}/settings/billing/actions"],getGithubActionsBillingUser:["GET /users/{username}/settings/billing/actions"],getGithubPackagesBillingOrg:["GET /orgs/{org}/settings/billing/packages"],getGithubPackagesBillingUser:["GET /users/{username}/settings/billing/packages"],getSharedStorageBillingOrg:["GET /orgs/{org}/settings/billing/shared-storage"],getSharedStorageBillingUser:["GET /users/{username}/settings/billing/shared-storage"]},checks:{create:["POST /repos/{owner}/{repo}/check-runs"],createSuite:["POST /repos/{owner}/{repo}/check-suites"],get:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}"],getSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}"],listAnnotations:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}/annotations"],listForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-runs"],listForSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}/check-runs"],listSuitesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-suites"],rerequestSuite:["POST /repos/{owner}/{repo}/check-suites/{check_suite_id}/rerequest"],setSuitesPreferences:["PATCH /repos/{owner}/{repo}/check-suites/preferences"],update:["PATCH /repos/{owner}/{repo}/check-runs/{check_run_id}"]},codeScanning:{deleteAnalysis:["DELETE /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}{?confirm_delete}"],getAlert:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}",{},{renamedParameters:{alert_id:"alert_number"}}],getAnalysis:["GET /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}"],getSarif:["GET /repos/{owner}/{repo}/code-scanning/sarifs/{sarif_id}"],listAlertsForRepo:["GET /repos/{owner}/{repo}/code-scanning/alerts"],listAlertsInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances"],listRecentAnalyses:["GET /repos/{owner}/{repo}/code-scanning/analyses"],updateAlert:["PATCH /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}"],uploadSarif:["POST /repos/{owner}/{repo}/code-scanning/sarifs"]},codesOfConduct:{getAllCodesOfConduct:["GET /codes_of_conduct",{mediaType:{previews:["scarlet-witch"]}}],getConductCode:["GET /codes_of_conduct/{key}",{mediaType:{previews:["scarlet-witch"]}}],getForRepo:["GET /repos/{owner}/{repo}/community/code_of_conduct",{mediaType:{previews:["scarlet-witch"]}}]},emojis:{get:["GET /emojis"]},enterpriseAdmin:{disableSelectedOrganizationGithubActionsEnterprise:["DELETE /enterprises/{enterprise}/actions/permissions/organizations/{org_id}"],enableSelectedOrganizationGithubActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/organizations/{org_id}"],getAllowedActionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions/selected-actions"],getGithubActionsPermissionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions"],listSelectedOrganizationsEnabledGithubActionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions/organizations"],setAllowedActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/selected-actions"],setGithubActionsPermissionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions"],setSelectedOrganizationsEnabledGithubActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/organizations"]},gists:{checkIsStarred:["GET /gists/{gist_id}/star"],create:["POST /gists"],createComment:["POST /gists/{gist_id}/comments"],delete:["DELETE /gists/{gist_id}"],deleteComment:["DELETE /gists/{gist_id}/comments/{comment_id}"],fork:["POST /gists/{gist_id}/forks"],get:["GET /gists/{gist_id}"],getComment:["GET /gists/{gist_id}/comments/{comment_id}"],getRevision:["GET /gists/{gist_id}/{sha}"],list:["GET /gists"],listComments:["GET /gists/{gist_id}/comments"],listCommits:["GET /gists/{gist_id}/commits"],listForUser:["GET /users/{username}/gists"],listForks:["GET /gists/{gist_id}/forks"],listPublic:["GET /gists/public"],listStarred:["GET /gists/starred"],star:["PUT /gists/{gist_id}/star"],unstar:["DELETE /gists/{gist_id}/star"],update:["PATCH /gists/{gist_id}"],updateComment:["PATCH /gists/{gist_id}/comments/{comment_id}"]},git:{createBlob:["POST /repos/{owner}/{repo}/git/blobs"],createCommit:["POST /repos/{owner}/{repo}/git/commits"],createRef:["POST /repos/{owner}/{repo}/git/refs"],createTag:["POST /repos/{owner}/{repo}/git/tags"],createTree:["POST /repos/{owner}/{repo}/git/trees"],deleteRef:["DELETE /repos/{owner}/{repo}/git/refs/{ref}"],getBlob:["GET /repos/{owner}/{repo}/git/blobs/{file_sha}"],getCommit:["GET /repos/{owner}/{repo}/git/commits/{commit_sha}"],getRef:["GET /repos/{owner}/{repo}/git/ref/{ref}"],getTag:["GET /repos/{owner}/{repo}/git/tags/{tag_sha}"],getTree:["GET /repos/{owner}/{repo}/git/trees/{tree_sha}"],listMatchingRefs:["GET /repos/{owner}/{repo}/git/matching-refs/{ref}"],updateRef:["PATCH /repos/{owner}/{repo}/git/refs/{ref}"]},gitignore:{getAllTemplates:["GET /gitignore/templates"],getTemplate:["GET /gitignore/templates/{name}"]},interactions:{getRestrictionsForAuthenticatedUser:["GET /user/interaction-limits"],getRestrictionsForOrg:["GET /orgs/{org}/interaction-limits"],getRestrictionsForRepo:["GET /repos/{owner}/{repo}/interaction-limits"],getRestrictionsForYourPublicRepos:["GET /user/interaction-limits",{},{renamed:["interactions","getRestrictionsForAuthenticatedUser"]}],removeRestrictionsForAuthenticatedUser:["DELETE /user/interaction-limits"],removeRestrictionsForOrg:["DELETE /orgs/{org}/interaction-limits"],removeRestrictionsForRepo:["DELETE /repos/{owner}/{repo}/interaction-limits"],removeRestrictionsForYourPublicRepos:["DELETE /user/interaction-limits",{},{renamed:["interactions","removeRestrictionsForAuthenticatedUser"]}],setRestrictionsForAuthenticatedUser:["PUT /user/interaction-limits"],setRestrictionsForOrg:["PUT /orgs/{org}/interaction-limits"],setRestrictionsForRepo:["PUT /repos/{owner}/{repo}/interaction-limits"],setRestrictionsForYourPublicRepos:["PUT /user/interaction-limits",{},{renamed:["interactions","setRestrictionsForAuthenticatedUser"]}]},issues:{addAssignees:["POST /repos/{owner}/{repo}/issues/{issue_number}/assignees"],addLabels:["POST /repos/{owner}/{repo}/issues/{issue_number}/labels"],checkUserCanBeAssigned:["GET /repos/{owner}/{repo}/assignees/{assignee}"],create:["POST /repos/{owner}/{repo}/issues"],createComment:["POST /repos/{owner}/{repo}/issues/{issue_number}/comments"],createLabel:["POST /repos/{owner}/{repo}/labels"],createMilestone:["POST /repos/{owner}/{repo}/milestones"],deleteComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}"],deleteLabel:["DELETE /repos/{owner}/{repo}/labels/{name}"],deleteMilestone:["DELETE /repos/{owner}/{repo}/milestones/{milestone_number}"],get:["GET /repos/{owner}/{repo}/issues/{issue_number}"],getComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}"],getEvent:["GET /repos/{owner}/{repo}/issues/events/{event_id}"],getLabel:["GET /repos/{owner}/{repo}/labels/{name}"],getMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}"],list:["GET /issues"],listAssignees:["GET /repos/{owner}/{repo}/assignees"],listComments:["GET /repos/{owner}/{repo}/issues/{issue_number}/comments"],listCommentsForRepo:["GET /repos/{owner}/{repo}/issues/comments"],listEvents:["GET /repos/{owner}/{repo}/issues/{issue_number}/events"],listEventsForRepo:["GET /repos/{owner}/{repo}/issues/events"],listEventsForTimeline:["GET /repos/{owner}/{repo}/issues/{issue_number}/timeline",{mediaType:{previews:["mockingbird"]}}],listForAuthenticatedUser:["GET /user/issues"],listForOrg:["GET /orgs/{org}/issues"],listForRepo:["GET /repos/{owner}/{repo}/issues"],listLabelsForMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}/labels"],listLabelsForRepo:["GET /repos/{owner}/{repo}/labels"],listLabelsOnIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/labels"],listMilestones:["GET /repos/{owner}/{repo}/milestones"],lock:["PUT /repos/{owner}/{repo}/issues/{issue_number}/lock"],removeAllLabels:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels"],removeAssignees:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/assignees"],removeLabel:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels/{name}"],setLabels:["PUT /repos/{owner}/{repo}/issues/{issue_number}/labels"],unlock:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/lock"],update:["PATCH /repos/{owner}/{repo}/issues/{issue_number}"],updateComment:["PATCH /repos/{owner}/{repo}/issues/comments/{comment_id}"],updateLabel:["PATCH /repos/{owner}/{repo}/labels/{name}"],updateMilestone:["PATCH /repos/{owner}/{repo}/milestones/{milestone_number}"]},licenses:{get:["GET /licenses/{license}"],getAllCommonlyUsed:["GET /licenses"],getForRepo:["GET /repos/{owner}/{repo}/license"]},markdown:{render:["POST /markdown"],renderRaw:["POST /markdown/raw",{headers:{"content-type":"text/plain; charset=utf-8"}}]},meta:{get:["GET /meta"],getOctocat:["GET /octocat"],getZen:["GET /zen"],root:["GET /"]},migrations:{cancelImport:["DELETE /repos/{owner}/{repo}/import"],deleteArchiveForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/archive",{mediaType:{previews:["wyandotte"]}}],deleteArchiveForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/archive",{mediaType:{previews:["wyandotte"]}}],downloadArchiveForOrg:["GET /orgs/{org}/migrations/{migration_id}/archive",{mediaType:{previews:["wyandotte"]}}],getArchiveForAuthenticatedUser:["GET /user/migrations/{migration_id}/archive",{mediaType:{previews:["wyandotte"]}}],getCommitAuthors:["GET /repos/{owner}/{repo}/import/authors"],getImportStatus:["GET /repos/{owner}/{repo}/import"],getLargeFiles:["GET /repos/{owner}/{repo}/import/large_files"],getStatusForAuthenticatedUser:["GET /user/migrations/{migration_id}",{mediaType:{previews:["wyandotte"]}}],getStatusForOrg:["GET /orgs/{org}/migrations/{migration_id}",{mediaType:{previews:["wyandotte"]}}],listForAuthenticatedUser:["GET /user/migrations",{mediaType:{previews:["wyandotte"]}}],listForOrg:["GET /orgs/{org}/migrations",{mediaType:{previews:["wyandotte"]}}],listReposForOrg:["GET /orgs/{org}/migrations/{migration_id}/repositories",{mediaType:{previews:["wyandotte"]}}],listReposForUser:["GET /user/migrations/{migration_id}/repositories",{mediaType:{previews:["wyandotte"]}}],mapCommitAuthor:["PATCH /repos/{owner}/{repo}/import/authors/{author_id}"],setLfsPreference:["PATCH /repos/{owner}/{repo}/import/lfs"],startForAuthenticatedUser:["POST /user/migrations"],startForOrg:["POST /orgs/{org}/migrations"],startImport:["PUT /repos/{owner}/{repo}/import"],unlockRepoForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/repos/{repo_name}/lock",{mediaType:{previews:["wyandotte"]}}],unlockRepoForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/repos/{repo_name}/lock",{mediaType:{previews:["wyandotte"]}}],updateImport:["PATCH /repos/{owner}/{repo}/import"]},orgs:{blockUser:["PUT /orgs/{org}/blocks/{username}"],cancelInvitation:["DELETE /orgs/{org}/invitations/{invitation_id}"],checkBlockedUser:["GET /orgs/{org}/blocks/{username}"],checkMembershipForUser:["GET /orgs/{org}/members/{username}"],checkPublicMembershipForUser:["GET /orgs/{org}/public_members/{username}"],convertMemberToOutsideCollaborator:["PUT /orgs/{org}/outside_collaborators/{username}"],createInvitation:["POST /orgs/{org}/invitations"],createWebhook:["POST /orgs/{org}/hooks"],deleteWebhook:["DELETE /orgs/{org}/hooks/{hook_id}"],get:["GET /orgs/{org}"],getMembershipForAuthenticatedUser:["GET /user/memberships/orgs/{org}"],getMembershipForUser:["GET /orgs/{org}/memberships/{username}"],getWebhook:["GET /orgs/{org}/hooks/{hook_id}"],getWebhookConfigForOrg:["GET /orgs/{org}/hooks/{hook_id}/config"],list:["GET /organizations"],listAppInstallations:["GET /orgs/{org}/installations"],listBlockedUsers:["GET /orgs/{org}/blocks"],listFailedInvitations:["GET /orgs/{org}/failed_invitations"],listForAuthenticatedUser:["GET /user/orgs"],listForUser:["GET /users/{username}/orgs"],listInvitationTeams:["GET /orgs/{org}/invitations/{invitation_id}/teams"],listMembers:["GET /orgs/{org}/members"],listMembershipsForAuthenticatedUser:["GET /user/memberships/orgs"],listOutsideCollaborators:["GET /orgs/{org}/outside_collaborators"],listPendingInvitations:["GET /orgs/{org}/invitations"],listPublicMembers:["GET /orgs/{org}/public_members"],listWebhooks:["GET /orgs/{org}/hooks"],pingWebhook:["POST /orgs/{org}/hooks/{hook_id}/pings"],removeMember:["DELETE /orgs/{org}/members/{username}"],removeMembershipForUser:["DELETE /orgs/{org}/memberships/{username}"],removeOutsideCollaborator:["DELETE /orgs/{org}/outside_collaborators/{username}"],removePublicMembershipForAuthenticatedUser:["DELETE /orgs/{org}/public_members/{username}"],setMembershipForUser:["PUT /orgs/{org}/memberships/{username}"],setPublicMembershipForAuthenticatedUser:["PUT /orgs/{org}/public_members/{username}"],unblockUser:["DELETE /orgs/{org}/blocks/{username}"],update:["PATCH /orgs/{org}"],updateMembershipForAuthenticatedUser:["PATCH /user/memberships/orgs/{org}"],updateWebhook:["PATCH /orgs/{org}/hooks/{hook_id}"],updateWebhookConfigForOrg:["PATCH /orgs/{org}/hooks/{hook_id}/config"]},packages:{deletePackageForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}"],deletePackageForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}"],deletePackageVersionForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getAllPackageVersionsForAPackageOwnedByAnOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForAPackageOwnedByTheAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions"],getPackageForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}"],getPackageForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}"],getPackageForUser:["GET /users/{username}/packages/{package_type}/{package_name}"],getPackageVersionForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],restorePackageForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/restore"],restorePackageForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/restore"],restorePackageVersionForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"]},projects:{addCollaborator:["PUT /projects/{project_id}/collaborators/{username}",{mediaType:{previews:["inertia"]}}],createCard:["POST /projects/columns/{column_id}/cards",{mediaType:{previews:["inertia"]}}],createColumn:["POST /projects/{project_id}/columns",{mediaType:{previews:["inertia"]}}],createForAuthenticatedUser:["POST /user/projects",{mediaType:{previews:["inertia"]}}],createForOrg:["POST /orgs/{org}/projects",{mediaType:{previews:["inertia"]}}],createForRepo:["POST /repos/{owner}/{repo}/projects",{mediaType:{previews:["inertia"]}}],delete:["DELETE /projects/{project_id}",{mediaType:{previews:["inertia"]}}],deleteCard:["DELETE /projects/columns/cards/{card_id}",{mediaType:{previews:["inertia"]}}],deleteColumn:["DELETE /projects/columns/{column_id}",{mediaType:{previews:["inertia"]}}],get:["GET /projects/{project_id}",{mediaType:{previews:["inertia"]}}],getCard:["GET /projects/columns/cards/{card_id}",{mediaType:{previews:["inertia"]}}],getColumn:["GET /projects/columns/{column_id}",{mediaType:{previews:["inertia"]}}],getPermissionForUser:["GET /projects/{project_id}/collaborators/{username}/permission",{mediaType:{previews:["inertia"]}}],listCards:["GET /projects/columns/{column_id}/cards",{mediaType:{previews:["inertia"]}}],listCollaborators:["GET /projects/{project_id}/collaborators",{mediaType:{previews:["inertia"]}}],listColumns:["GET /projects/{project_id}/columns",{mediaType:{previews:["inertia"]}}],listForOrg:["GET /orgs/{org}/projects",{mediaType:{previews:["inertia"]}}],listForRepo:["GET /repos/{owner}/{repo}/projects",{mediaType:{previews:["inertia"]}}],listForUser:["GET /users/{username}/projects",{mediaType:{previews:["inertia"]}}],moveCard:["POST /projects/columns/cards/{card_id}/moves",{mediaType:{previews:["inertia"]}}],moveColumn:["POST /projects/columns/{column_id}/moves",{mediaType:{previews:["inertia"]}}],removeCollaborator:["DELETE /projects/{project_id}/collaborators/{username}",{mediaType:{previews:["inertia"]}}],update:["PATCH /projects/{project_id}",{mediaType:{previews:["inertia"]}}],updateCard:["PATCH /projects/columns/cards/{card_id}",{mediaType:{previews:["inertia"]}}],updateColumn:["PATCH /projects/columns/{column_id}",{mediaType:{previews:["inertia"]}}]},pulls:{checkIfMerged:["GET /repos/{owner}/{repo}/pulls/{pull_number}/merge"],create:["POST /repos/{owner}/{repo}/pulls"],createReplyForReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments/{comment_id}/replies"],createReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],createReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments"],deletePendingReview:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],deleteReviewComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}"],dismissReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/dismissals"],get:["GET /repos/{owner}/{repo}/pulls/{pull_number}"],getReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],getReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}"],list:["GET /repos/{owner}/{repo}/pulls"],listCommentsForReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/comments"],listCommits:["GET /repos/{owner}/{repo}/pulls/{pull_number}/commits"],listFiles:["GET /repos/{owner}/{repo}/pulls/{pull_number}/files"],listRequestedReviewers:["GET /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],listReviewComments:["GET /repos/{owner}/{repo}/pulls/{pull_number}/comments"],listReviewCommentsForRepo:["GET /repos/{owner}/{repo}/pulls/comments"],listReviews:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],merge:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/merge"],removeRequestedReviewers:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],requestReviewers:["POST /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],submitReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/events"],update:["PATCH /repos/{owner}/{repo}/pulls/{pull_number}"],updateBranch:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/update-branch",{mediaType:{previews:["lydian"]}}],updateReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],updateReviewComment:["PATCH /repos/{owner}/{repo}/pulls/comments/{comment_id}"]},rateLimit:{get:["GET /rate_limit"]},reactions:{createForCommitComment:["POST /repos/{owner}/{repo}/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForIssue:["POST /repos/{owner}/{repo}/issues/{issue_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForIssueComment:["POST /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForPullRequestReviewComment:["POST /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForTeamDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForTeamDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],deleteForCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForIssue:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForIssueComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForPullRequestComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForTeamDiscussion:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForTeamDiscussionComment:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteLegacy:["DELETE /reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}},{deprecated:"octokit.reactions.deleteLegacy() is deprecated, see https://docs.github.com/v3/reactions/#delete-a-reaction-legacy"}],listForCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForIssueComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForPullRequestReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForTeamDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForTeamDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}]},repos:{acceptInvitation:["PATCH /user/repository_invitations/{invitation_id}"],addAppAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],addCollaborator:["PUT /repos/{owner}/{repo}/collaborators/{username}"],addStatusCheckContexts:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],addTeamAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],addUserAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],checkCollaborator:["GET /repos/{owner}/{repo}/collaborators/{username}"],checkVulnerabilityAlerts:["GET /repos/{owner}/{repo}/vulnerability-alerts",{mediaType:{previews:["dorian"]}}],compareCommits:["GET /repos/{owner}/{repo}/compare/{base}...{head}"],createCommitComment:["POST /repos/{owner}/{repo}/commits/{commit_sha}/comments"],createCommitSignatureProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures",{mediaType:{previews:["zzzax"]}}],createCommitStatus:["POST /repos/{owner}/{repo}/statuses/{sha}"],createDeployKey:["POST /repos/{owner}/{repo}/keys"],createDeployment:["POST /repos/{owner}/{repo}/deployments"],createDeploymentStatus:["POST /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],createDispatchEvent:["POST /repos/{owner}/{repo}/dispatches"],createForAuthenticatedUser:["POST /user/repos"],createFork:["POST /repos/{owner}/{repo}/forks"],createInOrg:["POST /orgs/{org}/repos"],createOrUpdateFileContents:["PUT /repos/{owner}/{repo}/contents/{path}"],createPagesSite:["POST /repos/{owner}/{repo}/pages",{mediaType:{previews:["switcheroo"]}}],createRelease:["POST /repos/{owner}/{repo}/releases"],createUsingTemplate:["POST /repos/{template_owner}/{template_repo}/generate",{mediaType:{previews:["baptiste"]}}],createWebhook:["POST /repos/{owner}/{repo}/hooks"],declineInvitation:["DELETE /user/repository_invitations/{invitation_id}"],delete:["DELETE /repos/{owner}/{repo}"],deleteAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],deleteAdminBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],deleteBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection"],deleteCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}"],deleteCommitSignatureProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures",{mediaType:{previews:["zzzax"]}}],deleteDeployKey:["DELETE /repos/{owner}/{repo}/keys/{key_id}"],deleteDeployment:["DELETE /repos/{owner}/{repo}/deployments/{deployment_id}"],deleteFile:["DELETE /repos/{owner}/{repo}/contents/{path}"],deleteInvitation:["DELETE /repos/{owner}/{repo}/invitations/{invitation_id}"],deletePagesSite:["DELETE /repos/{owner}/{repo}/pages",{mediaType:{previews:["switcheroo"]}}],deletePullRequestReviewProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],deleteRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}"],deleteReleaseAsset:["DELETE /repos/{owner}/{repo}/releases/assets/{asset_id}"],deleteWebhook:["DELETE /repos/{owner}/{repo}/hooks/{hook_id}"],disableAutomatedSecurityFixes:["DELETE /repos/{owner}/{repo}/automated-security-fixes",{mediaType:{previews:["london"]}}],disableVulnerabilityAlerts:["DELETE /repos/{owner}/{repo}/vulnerability-alerts",{mediaType:{previews:["dorian"]}}],downloadArchive:["GET /repos/{owner}/{repo}/zipball/{ref}",{},{renamed:["repos","downloadZipballArchive"]}],downloadTarballArchive:["GET /repos/{owner}/{repo}/tarball/{ref}"],downloadZipballArchive:["GET /repos/{owner}/{repo}/zipball/{ref}"],enableAutomatedSecurityFixes:["PUT /repos/{owner}/{repo}/automated-security-fixes",{mediaType:{previews:["london"]}}],enableVulnerabilityAlerts:["PUT /repos/{owner}/{repo}/vulnerability-alerts",{mediaType:{previews:["dorian"]}}],get:["GET /repos/{owner}/{repo}"],getAccessRestrictions:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],getAdminBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],getAllStatusCheckContexts:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts"],getAllTopics:["GET /repos/{owner}/{repo}/topics",{mediaType:{previews:["mercy"]}}],getAppsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps"],getBranch:["GET /repos/{owner}/{repo}/branches/{branch}"],getBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection"],getClones:["GET /repos/{owner}/{repo}/traffic/clones"],getCodeFrequencyStats:["GET /repos/{owner}/{repo}/stats/code_frequency"],getCollaboratorPermissionLevel:["GET /repos/{owner}/{repo}/collaborators/{username}/permission"],getCombinedStatusForRef:["GET /repos/{owner}/{repo}/commits/{ref}/status"],getCommit:["GET /repos/{owner}/{repo}/commits/{ref}"],getCommitActivityStats:["GET /repos/{owner}/{repo}/stats/commit_activity"],getCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}"],getCommitSignatureProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures",{mediaType:{previews:["zzzax"]}}],getCommunityProfileMetrics:["GET /repos/{owner}/{repo}/community/profile"],getContent:["GET /repos/{owner}/{repo}/contents/{path}"],getContributorsStats:["GET /repos/{owner}/{repo}/stats/contributors"],getDeployKey:["GET /repos/{owner}/{repo}/keys/{key_id}"],getDeployment:["GET /repos/{owner}/{repo}/deployments/{deployment_id}"],getDeploymentStatus:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses/{status_id}"],getLatestPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/latest"],getLatestRelease:["GET /repos/{owner}/{repo}/releases/latest"],getPages:["GET /repos/{owner}/{repo}/pages"],getPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/{build_id}"],getParticipationStats:["GET /repos/{owner}/{repo}/stats/participation"],getPullRequestReviewProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],getPunchCardStats:["GET /repos/{owner}/{repo}/stats/punch_card"],getReadme:["GET /repos/{owner}/{repo}/readme"],getRelease:["GET /repos/{owner}/{repo}/releases/{release_id}"],getReleaseAsset:["GET /repos/{owner}/{repo}/releases/assets/{asset_id}"],getReleaseByTag:["GET /repos/{owner}/{repo}/releases/tags/{tag}"],getStatusChecksProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],getTeamsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams"],getTopPaths:["GET /repos/{owner}/{repo}/traffic/popular/paths"],getTopReferrers:["GET /repos/{owner}/{repo}/traffic/popular/referrers"],getUsersWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users"],getViews:["GET /repos/{owner}/{repo}/traffic/views"],getWebhook:["GET /repos/{owner}/{repo}/hooks/{hook_id}"],getWebhookConfigForRepo:["GET /repos/{owner}/{repo}/hooks/{hook_id}/config"],listBranches:["GET /repos/{owner}/{repo}/branches"],listBranchesForHeadCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/branches-where-head",{mediaType:{previews:["groot"]}}],listCollaborators:["GET /repos/{owner}/{repo}/collaborators"],listCommentsForCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/comments"],listCommitCommentsForRepo:["GET /repos/{owner}/{repo}/comments"],listCommitStatusesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/statuses"],listCommits:["GET /repos/{owner}/{repo}/commits"],listContributors:["GET /repos/{owner}/{repo}/contributors"],listDeployKeys:["GET /repos/{owner}/{repo}/keys"],listDeploymentStatuses:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],listDeployments:["GET /repos/{owner}/{repo}/deployments"],listForAuthenticatedUser:["GET /user/repos"],listForOrg:["GET /orgs/{org}/repos"],listForUser:["GET /users/{username}/repos"],listForks:["GET /repos/{owner}/{repo}/forks"],listInvitations:["GET /repos/{owner}/{repo}/invitations"],listInvitationsForAuthenticatedUser:["GET /user/repository_invitations"],listLanguages:["GET /repos/{owner}/{repo}/languages"],listPagesBuilds:["GET /repos/{owner}/{repo}/pages/builds"],listPublic:["GET /repositories"],listPullRequestsAssociatedWithCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/pulls",{mediaType:{previews:["groot"]}}],listReleaseAssets:["GET /repos/{owner}/{repo}/releases/{release_id}/assets"],listReleases:["GET /repos/{owner}/{repo}/releases"],listTags:["GET /repos/{owner}/{repo}/tags"],listTeams:["GET /repos/{owner}/{repo}/teams"],listWebhooks:["GET /repos/{owner}/{repo}/hooks"],merge:["POST /repos/{owner}/{repo}/merges"],pingWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/pings"],removeAppAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],removeCollaborator:["DELETE /repos/{owner}/{repo}/collaborators/{username}"],removeStatusCheckContexts:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],removeStatusCheckProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],removeTeamAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],removeUserAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],renameBranch:["POST /repos/{owner}/{repo}/branches/{branch}/rename"],replaceAllTopics:["PUT /repos/{owner}/{repo}/topics",{mediaType:{previews:["mercy"]}}],requestPagesBuild:["POST /repos/{owner}/{repo}/pages/builds"],setAdminBranchProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],setAppAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],setStatusCheckContexts:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],setTeamAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],setUserAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],testPushWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/tests"],transfer:["POST /repos/{owner}/{repo}/transfer"],update:["PATCH /repos/{owner}/{repo}"],updateBranchProtection:["PUT /repos/{owner}/{repo}/branches/{branch}/protection"],updateCommitComment:["PATCH /repos/{owner}/{repo}/comments/{comment_id}"],updateInformationAboutPagesSite:["PUT /repos/{owner}/{repo}/pages"],updateInvitation:["PATCH /repos/{owner}/{repo}/invitations/{invitation_id}"],updatePullRequestReviewProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],updateRelease:["PATCH /repos/{owner}/{repo}/releases/{release_id}"],updateReleaseAsset:["PATCH /repos/{owner}/{repo}/releases/assets/{asset_id}"],updateStatusCheckPotection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks",{},{renamed:["repos","updateStatusCheckProtection"]}],updateStatusCheckProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],updateWebhook:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}"],updateWebhookConfigForRepo:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}/config"],uploadReleaseAsset:["POST /repos/{owner}/{repo}/releases/{release_id}/assets{?name,label}",{baseUrl:"https://uploads.github.com"}]},search:{code:["GET /search/code"],commits:["GET /search/commits",{mediaType:{previews:["cloak"]}}],issuesAndPullRequests:["GET /search/issues"],labels:["GET /search/labels"],repos:["GET /search/repositories"],topics:["GET /search/topics",{mediaType:{previews:["mercy"]}}],users:["GET /search/users"]},secretScanning:{getAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"],listAlertsForRepo:["GET /repos/{owner}/{repo}/secret-scanning/alerts"],updateAlert:["PATCH /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"]},teams:{addOrUpdateMembershipForUserInOrg:["PUT /orgs/{org}/teams/{team_slug}/memberships/{username}"],addOrUpdateProjectPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/projects/{project_id}",{mediaType:{previews:["inertia"]}}],addOrUpdateRepoPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],checkPermissionsForProjectInOrg:["GET /orgs/{org}/teams/{team_slug}/projects/{project_id}",{mediaType:{previews:["inertia"]}}],checkPermissionsForRepoInOrg:["GET /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],create:["POST /orgs/{org}/teams"],createDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],createDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions"],deleteDiscussionCommentInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],deleteDiscussionInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],deleteInOrg:["DELETE /orgs/{org}/teams/{team_slug}"],getByName:["GET /orgs/{org}/teams/{team_slug}"],getDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],getDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],getMembershipForUserInOrg:["GET /orgs/{org}/teams/{team_slug}/memberships/{username}"],list:["GET /orgs/{org}/teams"],listChildInOrg:["GET /orgs/{org}/teams/{team_slug}/teams"],listDiscussionCommentsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],listDiscussionsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions"],listForAuthenticatedUser:["GET /user/teams"],listMembersInOrg:["GET /orgs/{org}/teams/{team_slug}/members"],listPendingInvitationsInOrg:["GET /orgs/{org}/teams/{team_slug}/invitations"],listProjectsInOrg:["GET /orgs/{org}/teams/{team_slug}/projects",{mediaType:{previews:["inertia"]}}],listReposInOrg:["GET /orgs/{org}/teams/{team_slug}/repos"],removeMembershipForUserInOrg:["DELETE /orgs/{org}/teams/{team_slug}/memberships/{username}"],removeProjectInOrg:["DELETE /orgs/{org}/teams/{team_slug}/projects/{project_id}"],removeRepoInOrg:["DELETE /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],updateDiscussionCommentInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],updateDiscussionInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],updateInOrg:["PATCH /orgs/{org}/teams/{team_slug}"]},users:{addEmailForAuthenticated:["POST /user/emails"],block:["PUT /user/blocks/{username}"],checkBlocked:["GET /user/blocks/{username}"],checkFollowingForUser:["GET /users/{username}/following/{target_user}"],checkPersonIsFollowedByAuthenticated:["GET /user/following/{username}"],createGpgKeyForAuthenticated:["POST /user/gpg_keys"],createPublicSshKeyForAuthenticated:["POST /user/keys"],deleteEmailForAuthenticated:["DELETE /user/emails"],deleteGpgKeyForAuthenticated:["DELETE /user/gpg_keys/{gpg_key_id}"],deletePublicSshKeyForAuthenticated:["DELETE /user/keys/{key_id}"],follow:["PUT /user/following/{username}"],getAuthenticated:["GET /user"],getByUsername:["GET /users/{username}"],getContextForUser:["GET /users/{username}/hovercard"],getGpgKeyForAuthenticated:["GET /user/gpg_keys/{gpg_key_id}"],getPublicSshKeyForAuthenticated:["GET /user/keys/{key_id}"],list:["GET /users"],listBlockedByAuthenticated:["GET /user/blocks"],listEmailsForAuthenticated:["GET /user/emails"],listFollowedByAuthenticated:["GET /user/following"],listFollowersForAuthenticatedUser:["GET /user/followers"],listFollowersForUser:["GET /users/{username}/followers"],listFollowingForUser:["GET /users/{username}/following"],listGpgKeysForAuthenticated:["GET /user/gpg_keys"],listGpgKeysForUser:["GET /users/{username}/gpg_keys"],listPublicEmailsForAuthenticated:["GET /user/public_emails"],listPublicKeysForUser:["GET /users/{username}/keys"],listPublicSshKeysForAuthenticated:["GET /user/keys"],setPrimaryEmailVisibilityForAuthenticated:["PATCH /user/email/visibility"],unblock:["DELETE /user/blocks/{username}"],unfollow:["DELETE /user/following/{username}"],updateAuthenticated:["PATCH /user"]}},Au="4.12.0";function Iu(t,e){const r={};for(const[i,a]of Object.entries(e))for(const[h,x]of Object.entries(a)){const[B,$,W]=x,[re,le]=B.split(/ /),de=Object.assign({method:re,url:le},$);r[i]||(r[i]={});const we=r[i];if(W){we[h]=Du(t,i,h,de,W);continue}we[h]=t.request.defaults(de)}return r}function Du(t,e,r,i,a){const h=t.request.defaults(i);function x(...B){let $=h.endpoint.merge(...B);if(a.mapToData)return $=Object.assign({},$,{data:$[a.mapToData],[a.mapToData]:void 0}),h($);if(a.renamed){const[W,re]=a.renamed;t.log.warn(`octokit.${e}.${r}() has been renamed to octokit.${W}.${re}()`)}if(a.deprecated&&t.log.warn(a.deprecated),a.renamedParameters){const W=h.endpoint.merge(...B);for(const[re,le]of Object.entries(a.renamedParameters))re in W&&(t.log.warn(`"${re}" parameter is deprecated for "octokit.${e}.${r}()". Use "${le}" instead`),le in W||(W[le]=W[re]),delete W[re]);return h(W)}return h(...B)}return Object.assign(x,h)}function ga(t){return Iu(t,Pu)}ga.VERSION=Au;const Fu="18.2.0",Ou=qn.plugin(ha,ga,va).defaults({userAgent:`octokit-rest.js/${Fu}`});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Hn=function(t,e){return Hn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},Hn(t,e)};function Pr(t,e){Hn(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var De=function(){return De=Object.assign||function(e){for(var r,i=1,a=arguments.length;i<a;i++){r=arguments[i];for(var h in r)Object.prototype.hasOwnProperty.call(r,h)&&(e[h]=r[h])}return e},De.apply(this,arguments)};function ba(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(r[i[a]]=t[i[a]]);return r}function sm(t,e,r,i){var a=arguments.length,h=a<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,r):i,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(t,e,r,i);else for(var B=t.length-1;B>=0;B--)(x=t[B])&&(h=(a<3?x(h):a>3?x(e,r,h):x(e,r))||h);return a>3&&h&&Object.defineProperty(e,r,h),h}function am(t,e){return function(r,i){e(r,i,t)}}function om(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Br(t,e,r,i){function a(h){return h instanceof r?h:new r(function(x){x(h)})}return new(r||(r=Promise))(function(h,x){function B(re){try{W(i.next(re))}catch(le){x(le)}}function $(re){try{W(i.throw(re))}catch(le){x(le)}}function W(re){re.done?h(re.value):a(re.value).then(B,$)}W((i=i.apply(t,e||[])).next())})}function Lr(t,e){var r={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},i,a,h,x;return x={next:B(0),throw:B(1),return:B(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function B(W){return function(re){return $([W,re])}}function $(W){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,a&&(h=W[0]&2?a.return:W[0]?a.throw||((h=a.return)&&h.call(a),0):a.next)&&!(h=h.call(a,W[1])).done)return h;switch(a=0,h&&(W=[W[0]&2,h.value]),W[0]){case 0:case 1:h=W;break;case 4:return r.label++,{value:W[1],done:!1};case 5:r.label++,a=W[1],W=[0];continue;case 7:W=r.ops.pop(),r.trys.pop();continue;default:if(h=r.trys,!(h=h.length>0&&h[h.length-1])&&(W[0]===6||W[0]===2)){r=0;continue}if(W[0]===3&&(!h||W[1]>h[0]&&W[1]<h[3])){r.label=W[1];break}if(W[0]===6&&r.label<h[1]){r.label=h[1],h=W;break}if(h&&r.label<h[2]){r.label=h[2],r.ops.push(W);break}h[2]&&r.ops.pop(),r.trys.pop();continue}W=e.call(t,r)}catch(re){W=[6,re],a=0}finally{i=h=0}if(W[0]&5)throw W[1];return{value:W[0]?W[1]:void 0,done:!0}}}function lm(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}function um(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function ya(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Bu(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var i=r.call(t),a,h=[],x;try{for(;(e===void 0||e-- >0)&&!(a=i.next()).done;)h.push(a.value)}catch(B){x={error:B}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(x)throw x.error}}return h}function cm(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Bu(arguments[e]));return t}function Gn(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var i=Array(t),a=0,e=0;e<r;e++)for(var h=arguments[e],x=0,B=h.length;x<B;x++,a++)i[a]=h[x];return i}function tn(t){return this instanceof tn?(this.v=t,this):new tn(t)}function dm(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(t,e||[]),a,h=[];return a={},x("next"),x("throw"),x("return"),a[Symbol.asyncIterator]=function(){return this},a;function x(de){i[de]&&(a[de]=function(we){return new Promise(function(Re,Ee){h.push([de,we,Re,Ee])>1||B(de,we)})})}function B(de,we){try{$(i[de](we))}catch(Re){le(h[0][3],Re)}}function $(de){de.value instanceof tn?Promise.resolve(de.value.v).then(W,re):le(h[0][2],de)}function W(de){B("next",de)}function re(de){B("throw",de)}function le(de,we){de(we),h.shift(),h.length&&B(h[0][0],h[0][1])}}function fm(t){var e,r;return e={},i("next"),i("throw",function(a){throw a}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(a,h){e[a]=t[a]?function(x){return(r=!r)?{value:tn(t[a](x)),done:a==="return"}:h?h(x):x}:h}}function hm(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof ya=="function"?ya(t):t[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(h){r[h]=t[h]&&function(x){return new Promise(function(B,$){x=t[h](x),a(B,$,x.done,x.value)})}}function a(h,x,B,$){Promise.resolve($).then(function(W){h({value:W,done:B})},x)}}function pm(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function mm(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function vm(t){return t&&t.__esModule?t:{default:t}}function gm(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function bm(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}var Ar=nt(285),wa=nt(4155),Vn="Invariant Violation",_a=Object.setPrototypeOf,Lu=_a===void 0?function(t,e){return t.__proto__=e,t}:_a,Dt=function(t){Pr(e,t);function e(r){r===void 0&&(r=Vn);var i=t.call(this,typeof r=="number"?Vn+": "+r+" (see https://github.com/apollographql/invariant-packages)":r)||this;return i.framesToPop=1,i.name=Vn,Lu(i,e.prototype),i}return e}(Error);function ft(t,e){if(!t)throw new Dt(e)}function ka(t){return function(){return console[t].apply(console,arguments)}}(function(t){t.warn=ka("warn"),t.error=ka("error")})(ft||(ft={}));var Sa={env:{}};if(typeof wa=="object")Sa=wa;else try{Function("stub","process = stub")(Sa)}catch(t){}var ym=null;const wm=null;var Uu=nt(5035),qu=nt.n(Uu),Ea=Object.prototype,Ra=Ea.toString,$u=Ea.hasOwnProperty,jn=new Map;function cr(t,e){try{return zn(t,e)}finally{jn.clear()}}function zn(t,e){if(t===e)return!0;var r=Ra.call(t),i=Ra.call(e);if(r!==i)return!1;switch(r){case"[object Array]":if(t.length!==e.length)return!1;case"[object Object]":{if(xa(t,e))return!0;var a=Object.keys(t),h=Object.keys(e),x=a.length;if(x!==h.length)return!1;for(var B=0;B<x;++B)if(!$u.call(e,a[B]))return!1;for(var B=0;B<x;++B){var $=a[B];if(!zn(t[$],e[$]))return!1}return!0}case"[object Error]":return t.name===e.name&&t.message===e.message;case"[object Number]":if(t!==t)return e!==e;case"[object Boolean]":case"[object Date]":return+t==+e;case"[object RegExp]":case"[object String]":return t==""+e;case"[object Map]":case"[object Set]":{if(t.size!==e.size)return!1;if(xa(t,e))return!0;for(var W=t.entries(),re=r==="[object Map]";;){var le=W.next();if(le.done)break;var de=le.value,we=de[0],Re=de[1];if(!e.has(we)||re&&!zn(Re,e.get(we)))return!1}return!0}}return!1}function xa(t,e){var r=jn.get(t);if(r){if(r.has(e))return!0}else jn.set(t,r=new Set);return r.add(e),!1}const _m=null;var Hu=nt(4155);function km(t){return["StringValue","BooleanValue","EnumValue"].indexOf(t.kind)>-1}function Sm(t){return["IntValue","FloatValue"].indexOf(t.kind)>-1}function Gu(t){return t.kind==="StringValue"}function Vu(t){return t.kind==="BooleanValue"}function ju(t){return t.kind==="IntValue"}function zu(t){return t.kind==="FloatValue"}function Wu(t){return t.kind==="Variable"}function Qu(t){return t.kind==="ObjectValue"}function Ku(t){return t.kind==="ListValue"}function Yu(t){return t.kind==="EnumValue"}function Zu(t){return t.kind==="NullValue"}function ni(t,e,r,i){if(ju(r)||zu(r))t[e.value]=Number(r.value);else if(Vu(r)||Gu(r))t[e.value]=r.value;else if(Qu(r)){var a={};r.fields.map(function(x){return ni(a,x.name,x.value,i)}),t[e.value]=a}else if(Wu(r)){var h=(i||{})[r.name.value];t[e.value]=h}else if(Ku(r))t[e.value]=r.values.map(function(x){var B={};return ni(B,e,x,i),B[e.value]});else if(Yu(r))t[e.value]=r.value;else if(Zu(r))t[e.value]=null;else throw new Dt(17)}function Ju(t,e){var r=null;t.directives&&(r={},t.directives.forEach(function(a){r[a.name.value]={},a.arguments&&a.arguments.forEach(function(h){var x=h.name,B=h.value;return ni(r[a.name.value],x,B,e)})}));var i=null;return t.arguments&&t.arguments.length&&(i={},t.arguments.forEach(function(a){var h=a.name,x=a.value;return ni(i,h,x,e)})),Ma(t.name.value,i,r)}var Xu=["connection","include","skip","client","rest","export"];function Ma(t,e,r){if(r&&r.connection&&r.connection.key)if(r.connection.filter&&r.connection.filter.length>0){var i=r.connection.filter?r.connection.filter:[];i.sort();var a=e,h={};return i.forEach(function($){h[$]=a[$]}),r.connection.key+"("+JSON.stringify(h)+")"}else return r.connection.key;var x=t;if(e){var B=qu()(e);x+="("+B+")"}return r&&Object.keys(r).forEach(function($){Xu.indexOf($)===-1&&(r[$]&&Object.keys(r[$]).length?x+="@"+$+"("+JSON.stringify(r[$])+")":x+="@"+$)}),x}function Wn(t,e){if(t.arguments&&t.arguments.length){var r={};return t.arguments.forEach(function(i){var a=i.name,h=i.value;return ni(r,a,h,e)}),r}return null}function Ti(t){return t.alias?t.alias.value:t.name.value}function Ur(t){return t.kind==="Field"}function rn(t){return t.kind==="InlineFragment"}function nn(t){return t&&t.type==="id"&&typeof t.generated=="boolean"}function sn(t,e){return e===void 0&&(e=!1),De({type:"id",generated:e},typeof t=="string"?{id:t,typename:void 0}:t)}function ec(t){return t!=null&&typeof t=="object"&&t.type==="json"}function tc(t){throw new InvariantError(18)}function Ta(t,e){switch(e===void 0&&(e=tc),t.kind){case"Variable":return e(t);case"NullValue":return null;case"IntValue":return parseInt(t.value,10);case"FloatValue":return parseFloat(t.value);case"ListValue":return t.values.map(function(x){return Ta(x,e)});case"ObjectValue":{for(var r={},i=0,a=t.fields;i<a.length;i++){var h=a[i];r[h.name.value]=Ta(h.value,e)}return r}default:return t.value}}function rc(t,e){if(t.directives&&t.directives.length){var r={};return t.directives.forEach(function(i){r[i.name.value]=Wn(i,e)}),r}return null}function Qn(t,e){return e===void 0&&(e={}),ac(t.directives).every(function(r){var i=r.directive,a=r.ifArgument,h=!1;return a.value.kind==="Variable"?(h=e[a.value.name.value],ft(h!==void 0,13)):h=a.value.value,i.name.value==="skip"?!h:h})}function ic(t){var e=[];return(0,Ar.visit)(t,{Directive:function(r){e.push(r.name.value)}}),e}function an(t,e){return ic(e).some(function(r){return t.indexOf(r)>-1})}function nc(t){return t&&an(["client"],t)&&an(["export"],t)}function sc(t){var e=t.name.value;return e==="skip"||e==="include"}function ac(t){return t?t.filter(sc).map(function(e){var r=e.arguments,i=e.name.value;ft(r&&r.length===1,14);var a=r[0];ft(a.name&&a.name.value==="if",15);var h=a.value;return ft(h&&(h.kind==="Variable"||h.kind==="BooleanValue"),16),{directive:e,ifArgument:a}}):[]}function Ca(t,e){var r=e,i=[];t.definitions.forEach(function(h){if(h.kind==="OperationDefinition")throw new Dt(11);h.kind==="FragmentDefinition"&&i.push(h)}),typeof r=="undefined"&&(ft(i.length===1,12),r=i[0].name.value);var a=De(De({},t),{definitions:Gn([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:r}}]}}],t.definitions)});return a}function Kn(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.forEach(function(i){typeof i=="undefined"||i===null||Object.keys(i).forEach(function(a){t[a]=i[a]})}),t}function Em(t){jr(t);var e=t.definitions.filter(function(r){return r.kind==="OperationDefinition"&&r.operation==="mutation"})[0];return invariant(e,1),e}function jr(t){ft(t&&t.kind==="Document",2);var e=t.definitions.filter(function(r){return r.kind!=="FragmentDefinition"}).map(function(r){if(r.kind!=="OperationDefinition")throw new Dt(3);return r});return ft(e.length<=1,4),t}function si(t){return jr(t),t.definitions.filter(function(e){return e.kind==="OperationDefinition"})[0]}function Rm(t){var e=si(t);return invariant(e,5),e}function Yn(t){return t.definitions.filter(function(e){return e.kind==="OperationDefinition"&&e.name}).map(function(e){return e.name.value})[0]||null}function on(t){return t.definitions.filter(function(e){return e.kind==="FragmentDefinition"})}function oc(t){var e=si(t);return ft(e&&e.operation==="query",6),e}function lc(t){ft(t.kind==="Document",7),ft(t.definitions.length<=1,8);var e=t.definitions[0];return ft(e.kind==="FragmentDefinition",9),e}function Zn(t){jr(t);for(var e,r=0,i=t.definitions;r<i.length;r++){var a=i[r];if(a.kind==="OperationDefinition"){var h=a.operation;if(h==="query"||h==="mutation"||h==="subscription")return a}a.kind==="FragmentDefinition"&&!e&&(e=a)}if(e)return e;throw new Dt(10)}function ln(t){t===void 0&&(t=[]);var e={};return t.forEach(function(r){e[r.name.value]=r}),e}function Jn(t){if(t&&t.variableDefinitions&&t.variableDefinitions.length){var e=t.variableDefinitions.filter(function(r){var i=r.defaultValue;return i}).map(function(r){var i=r.variable,a=r.defaultValue,h={};return ni(h,i.name,a),h});return Kn.apply(void 0,Gn([{}],e))}return{}}function xm(t){var e=new Set;if(t.variableDefinitions)for(var r=0,i=t.variableDefinitions;r<i.length;r++){var a=i[r];e.add(a.variable.name.value)}return e}function Na(t,e,r){var i=0;return t.forEach(function(a,h){e.call(this,a,h,t)&&(t[i++]=a)},r),t.length=i,t}var uc={kind:"Field",name:{kind:"Name",value:"__typename"}};function Pa(t,e){return t.selectionSet.selections.every(function(r){return r.kind==="FragmentSpread"&&Pa(e[r.name.value],e)})}function un(t){return Pa(si(t)||lc(t),ln(on(t)))?null:t}function Xn(t){return function(r){return t.some(function(i){return i.name&&i.name===r.name.value||i.test&&i.test(r)})}}function Aa(t,e){var r=Object.create(null),i=[],a=Object.create(null),h=[],x=un((0,Ar.visit)(e,{Variable:{enter:function(B,$,W){W.kind!=="VariableDefinition"&&(r[B.name.value]=!0)}},Field:{enter:function(B){if(t&&B.directives){var $=t.some(function(W){return W.remove});if($&&B.directives&&B.directives.some(Xn(t)))return B.arguments&&B.arguments.forEach(function(W){W.value.kind==="Variable"&&i.push({name:W.value.name.value})}),B.selectionSet&&Fa(B.selectionSet).forEach(function(W){h.push({name:W.name.value})}),null}}},FragmentSpread:{enter:function(B){a[B.name.value]=!0}},Directive:{enter:function(B){if(Xn(t)(B))return null}}}));return x&&Na(i,function(B){return!r[B.name]}).length&&(x=pc(i,x)),x&&Na(h,function(B){return!a[B.name]}).length&&(x=mc(h,x)),x}function cc(t){return(0,Ar.visit)(jr(t),{SelectionSet:{enter:function(e,r,i){if(!(i&&i.kind==="OperationDefinition")){var a=e.selections;if(!!a){var h=a.some(function(B){return Ur(B)&&(B.name.value==="__typename"||B.name.value.lastIndexOf("__",0)===0)});if(!h){var x=i;if(!(Ur(x)&&x.directives&&x.directives.some(function(B){return B.name.value==="export"})))return De(De({},e),{selections:Gn(a,[uc])})}}}}}})}var dc={test:function(t){var e=t.name.value==="connection";return e&&(!t.arguments||!t.arguments.some(function(r){return r.name.value==="key"})),e}};function fc(t){return Aa([dc],jr(t))}function Ia(t,e,r){return r===void 0&&(r=!0),e&&e.selections&&e.selections.some(function(i){return Da(t,i,r)})}function Da(t,e,r){return r===void 0&&(r=!0),Ur(e)?e.directives?e.directives.some(Xn(t))||r&&Ia(t,e.selectionSet,r):!1:!0}function Mm(t,e){jr(e);var r;return un(visit(e,{SelectionSet:{enter:function(i,a,h,x){var B=x.join("-");if(!r||B===r||!B.startsWith(r))if(i.selections){var $=i.selections.filter(function(W){return Da(t,W)});return Ia(t,i,!1)&&(r=B),__assign(__assign({},i),{selections:$})}else return null}}}))}function hc(t){return function(r){return t.some(function(i){return r.value&&r.value.kind==="Variable"&&r.value.name&&(i.name===r.value.name.value||i.test&&i.test(r))})}}function pc(t,e){var r=hc(t);return un((0,Ar.visit)(e,{OperationDefinition:{enter:function(i){return De(De({},i),{variableDefinitions:i.variableDefinitions.filter(function(a){return!t.some(function(h){return h.name===a.variable.name.value})})})}},Field:{enter:function(i){var a=t.some(function(x){return x.remove});if(a){var h=0;if(i.arguments.forEach(function(x){r(x)&&(h+=1)}),h===1)return null}}},Argument:{enter:function(i){if(r(i))return null}}}))}function mc(t,e){function r(i){if(t.some(function(a){return a.name===i.name.value}))return null}return un((0,Ar.visit)(e,{FragmentSpread:{enter:r},FragmentDefinition:{enter:r}}))}function Fa(t){var e=[];return t.selections.forEach(function(r){(Ur(r)||rn(r))&&r.selectionSet?Fa(r.selectionSet).forEach(function(i){return e.push(i)}):r.kind==="FragmentSpread"&&e.push(r)}),e}function vc(t){var e=Zn(t),r=e.operation;if(r==="query")return t;var i=(0,Ar.visit)(t,{OperationDefinition:{enter:function(a){return De(De({},a),{operation:"query"})}}});return i}function gc(t){jr(t);var e=Aa([{test:function(r){return r.name.value==="client"},remove:!0}],t);return e&&(e=(0,Ar.visit)(e,{FragmentDefinition:{enter:function(r){if(r.selectionSet){var i=r.selectionSet.selections.every(function(a){return Ur(a)&&a.name.value==="__typename"});if(i)return null}}}})),e}var es=typeof WeakMap=="function"&&!(typeof navigator=="object"&&navigator.product==="ReactNative"),bc=Object.prototype.toString;function yc(t){return ts(t,new Map)}function ts(t,e){switch(bc.call(t)){case"[object Array]":{if(e.has(t))return e.get(t);var r=t.slice(0);return e.set(t,r),r.forEach(function(a,h){r[h]=ts(a,e)}),r}case"[object Object]":{if(e.has(t))return e.get(t);var i=Object.create(Object.getPrototypeOf(t));return e.set(t,i),Object.keys(t).forEach(function(a){i[a]=ts(t[a],e)}),i}default:return t}}function wc(){return typeof Hu!="undefined"?"production":"development"}function rs(t){return wc()===t}function Oa(){return rs("production")===!0}function _c(){return rs("development")===!0}function is(){return rs("test")===!0}function ns(t){try{return t()}catch(e){console.error&&console.error(e)}}function zr(t){return t.errors&&t.errors.length}function Ba(t){return Object.freeze(t),Object.getOwnPropertyNames(t).forEach(function(e){t[e]!==null&&(typeof t[e]=="object"||typeof t[e]=="function")&&!Object.isFrozen(t[e])&&Ba(t[e])}),t}function Tm(t){if(_c()||is()){var e=typeof Symbol=="function"&&typeof Symbol("")=="string";if(!e)return Ba(t)}return t}var kc=Object.prototype.hasOwnProperty;function La(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ss(t)}function ss(t){var e=t[0]||{},r=t.length;if(r>1){var i=[];e=as(e,i);for(var a=1;a<r;++a)e=qa(e,t[a],i)}return e}function Ua(t){return t!==null&&typeof t=="object"}function qa(t,e,r){return Ua(e)&&Ua(t)?(Object.isExtensible&&!Object.isExtensible(t)&&(t=as(t,r)),Object.keys(e).forEach(function(i){var a=e[i];if(kc.call(t,i)){var h=t[i];a!==h&&(t[i]=qa(as(h,r),a,r))}else t[i]=a}),t):e}function as(t,e){return t!==null&&typeof t=="object"&&e.indexOf(t)<0&&(Array.isArray(t)?t=t.slice(0):t=De({__proto__:Object.getPrototypeOf(t)},t),e.push(t)),t}var $a=Object.create({});function Cm(t,e){e===void 0&&(e="warn"),!Oa()&&!$a[t]&&(is()||($a[t]=!0),e==="error"?console.error(t):console.warn(t))}function Nm(t){return JSON.parse(JSON.stringify(t))}var Sc=nt(9329),Ec=nt.n(Sc),Rc=Ec();const Gt=Rc;function xc(t){for(var e=["query","operationName","variables","extensions","context"],r=0,i=Object.keys(t);r<i.length;r++){var a=i[r];if(e.indexOf(a)<0)throw new Dt(2)}return t}var Pm=function(t){Pr(e,t);function e(r,i){var a=t.call(this,r)||this;return a.link=i,a}return e}(Error);function cn(t){return t.request.length<=1}function Am(t){var e=!1;return new Promise(function(r,i){t.subscribe({next:function(a){e||(e=!0,r(a))},error:i})})}var Im=null;function Dm(t){return new Observable(function(e){t.then(function(r){e.next(r),e.complete()}).catch(e.error.bind(e))})}function Ha(t){return new Gt(function(e){e.error(t)})}function Mc(t){var e={variables:t.variables||{},extensions:t.extensions||{},operationName:t.operationName,query:t.query};return e.operationName||(e.operationName=typeof e.query!="string"?Yn(e.query):""),e}function Tc(t,e){var r=De({},t),i=function(h){typeof h=="function"?r=De({},r,h(r)):r=De({},r,h)},a=function(){return De({},r)};return Object.defineProperty(e,"setContext",{enumerable:!1,value:i}),Object.defineProperty(e,"getContext",{enumerable:!1,value:a}),Object.defineProperty(e,"toKey",{enumerable:!1,value:function(){return Cc(e)}}),e}function Cc(t){var e=t.query,r=t.variables,i=t.operationName;return JSON.stringify([i,e,r])}function Ga(t,e){return e?e(t):Gt.of()}function Ci(t){return typeof t=="function"?new dr(t):t}function Va(){return new dr(function(){return Gt.of()})}function Nc(t){return t.length===0?Va():t.map(Ci).reduce(function(e,r){return e.concat(r)})}function ja(t,e,r){var i=Ci(e),a=Ci(r||new dr(Ga));return cn(i)&&cn(a)?new dr(function(h){return t(h)?i.request(h)||Gt.of():a.request(h)||Gt.of()}):new dr(function(h,x){return t(h)?i.request(h,x)||Gt.of():a.request(h,x)||Gt.of()})}var Pc=function(t,e){var r=Ci(t);if(cn(r))return r;var i=Ci(e);return cn(i)?new dr(function(a){return r.request(a,function(h){return i.request(h)||Gt.of()})||Gt.of()}):new dr(function(a,h){return r.request(a,function(x){return i.request(x,h)||Gt.of()})||Gt.of()})},dr=function(){function t(e){e&&(this.request=e)}return t.prototype.split=function(e,r,i){return this.concat(ja(e,r,i||new t(Ga)))},t.prototype.concat=function(e){return Pc(this,e)},t.prototype.request=function(e,r){throw new Dt(1)},t.empty=Va,t.from=Nc,t.split=ja,t.execute=dn,t}();function dn(t,e){return t.request(Tc(e.context,Mc(xc(e))))||Gt.of()}var Ac=nt(7121),St;(function(t){t[t.loading=1]="loading",t[t.setVariables=2]="setVariables",t[t.fetchMore=3]="fetchMore",t[t.refetch=4]="refetch",t[t.poll=6]="poll",t[t.ready=7]="ready",t[t.error=8]="error"})(St||(St={}));function za(t){return t<7}var Ni=function(t){Pr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype[Ac.Z]=function(){return this},e.prototype["@@observable"]=function(){return this},e}(Gt);function ai(t){return Array.isArray(t)&&t.length>0}function Ic(t){return t.hasOwnProperty("graphQLErrors")}var Dc=function(t){var e="";return ai(t.graphQLErrors)&&t.graphQLErrors.forEach(function(r){var i=r?r.message:"Error message not found.";e+="GraphQL error: "+i+`
`}),t.networkError&&(e+="Network error: "+t.networkError.message+`
`),e=e.replace(/\n$/,""),e},qr=function(t){Pr(e,t);function e(r){var i=r.graphQLErrors,a=r.networkError,h=r.errorMessage,x=r.extraInfo,B=t.call(this,h)||this;return B.graphQLErrors=i||[],B.networkError=a||null,h?B.message=h:B.message=Dc(B),B.extraInfo=x,B.__proto__=e.prototype,B}return e}(Error),Wr;(function(t){t[t.normal=1]="normal",t[t.refetch=2]="refetch",t[t.poll=3]="poll"})(Wr||(Wr={}));var Fc=function(t,e){return e===void 0&&(e="none"),t&&(t.networkError||e==="none"&&ai(t.graphQLErrors))},Oc=function(t){Pr(e,t);function e(r){var i=r.queryManager,a=r.options,h=r.shouldSubscribe,x=h===void 0?!0:h,B=t.call(this,function(W){return B.onSubscribe(W)})||this;B.observers=new Set,B.subscriptions=new Set,B.isTornDown=!1,B.options=a,B.variables=a.variables||{},B.queryId=i.generateQueryId(),B.shouldSubscribe=x;var $=si(a.query);return B.queryName=$&&$.name&&$.name.value,B.queryManager=i,B}return e.prototype.result=function(){var r=this;return new Promise(function(i,a){var h={next:function(B){i(B),r.observers.delete(h),r.observers.size||r.queryManager.removeQuery(r.queryId),setTimeout(function(){x.unsubscribe()},0)},error:a},x=r.subscribe(h)})},e.prototype.currentResult=function(){var r=this.getCurrentResult();return r.data===void 0&&(r.data={}),r},e.prototype.getCurrentResult=function(){if(this.isTornDown){var r=this.lastResult;return{data:!this.lastError&&r&&r.data||void 0,error:this.lastError,loading:!1,networkStatus:St.error}}var i=this.queryManager.getCurrentQueryResult(this),a=i.data,h=i.partial,x=this.queryManager.queryStore.get(this.queryId),B,$=this.options.fetchPolicy,W=$==="network-only"||$==="no-cache";if(x){var re=x.networkStatus;if(Fc(x,this.options.errorPolicy))return{data:void 0,loading:!1,networkStatus:re,error:new qr({graphQLErrors:x.graphQLErrors,networkError:x.networkError})};x.variables&&(this.options.variables=De(De({},this.options.variables),x.variables),this.variables=this.options.variables),B={data:a,loading:za(re),networkStatus:re},x.graphQLErrors&&this.options.errorPolicy==="all"&&(B.errors=x.graphQLErrors)}else{var le=W||h&&$!=="cache-only";B={data:a,loading:le,networkStatus:le?St.loading:St.ready}}return h||this.updateLastResult(De(De({},B),{stale:!1})),De(De({},B),{partial:h})},e.prototype.isDifferentFromLastResult=function(r){var i=this.lastResultSnapshot;return!(i&&r&&i.networkStatus===r.networkStatus&&i.stale===r.stale&&cr(i.data,r.data))},e.prototype.getLastResult=function(){return this.lastResult},e.prototype.getLastError=function(){return this.lastError},e.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastResultSnapshot,delete this.lastError,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){var r=this.queryManager.queryStore.get(this.queryId);r&&(r.networkError=null,r.graphQLErrors=[])},e.prototype.refetch=function(r){var i=this.options.fetchPolicy;return i==="cache-only"?Promise.reject(new Dt(1)):(i!=="no-cache"&&i!=="cache-and-network"&&(i="network-only"),cr(this.variables,r)||(this.variables=De(De({},this.variables),r)),cr(this.options.variables,this.variables)||(this.options.variables=De(De({},this.options.variables),this.variables)),this.queryManager.fetchQuery(this.queryId,De(De({},this.options),{fetchPolicy:i}),Wr.refetch))},e.prototype.fetchMore=function(r){var i=this;ft(r.updateQuery,2);var a=De(De({},r.query?r:De(De(De({},this.options),r),{variables:De(De({},this.variables),r.variables)})),{fetchPolicy:"network-only"}),h=this.queryManager.generateQueryId();return this.queryManager.fetchQuery(h,a,Wr.normal,this.queryId).then(function(x){return i.updateQuery(function(B){return r.updateQuery(B,{fetchMoreResult:x.data,variables:a.variables})}),i.queryManager.stopQuery(h),x},function(x){throw i.queryManager.stopQuery(h),x})},e.prototype.subscribeToMore=function(r){var i=this,a=this.queryManager.startGraphQLSubscription({query:r.document,variables:r.variables}).subscribe({next:function(h){var x=r.updateQuery;x&&i.updateQuery(function(B,$){var W=$.variables;return x(B,{subscriptionData:h,variables:W})})},error:function(h){if(r.onError){r.onError(h);return}}});return this.subscriptions.add(a),function(){i.subscriptions.delete(a)&&a.unsubscribe()}},e.prototype.setOptions=function(r){var i=this.options.fetchPolicy;this.options=De(De({},this.options),r),r.pollInterval?this.startPolling(r.pollInterval):r.pollInterval===0&&this.stopPolling();var a=r.fetchPolicy;return this.setVariables(this.options.variables,i!==a&&(i==="cache-only"||i==="standby"||a==="network-only"),r.fetchResults)},e.prototype.setVariables=function(r,i,a){return i===void 0&&(i=!1),a===void 0&&(a=!0),this.isTornDown=!1,r=r||this.variables,!i&&cr(r,this.variables)?this.observers.size&&a?this.result():Promise.resolve():(this.variables=this.options.variables=r,this.observers.size?this.queryManager.fetchQuery(this.queryId,this.options):Promise.resolve())},e.prototype.updateQuery=function(r){var i=this.queryManager,a=i.getQueryWithPreviousResult(this.queryId),h=a.previousResult,x=a.variables,B=a.document,$=ns(function(){return r(h,{variables:x})});$&&(i.dataStore.markUpdateQueryResult(B,x,$),i.broadcastQueries())},e.prototype.stopPolling=function(){this.queryManager.stopPollingQuery(this.queryId),this.options.pollInterval=void 0},e.prototype.startPolling=function(r){Wa(this),this.options.pollInterval=r,this.queryManager.startPollingQuery(this.options,this.queryId)},e.prototype.updateLastResult=function(r){var i=this.lastResult;return this.lastResult=r,this.lastResultSnapshot=this.queryManager.assumeImmutableResults?r:yc(r),i},e.prototype.onSubscribe=function(r){var i=this;try{var a=r._subscription._observer;a&&!a.error&&(a.error=Bc)}catch(x){}var h=!this.observers.size;return this.observers.add(r),r.next&&this.lastResult&&r.next(this.lastResult),r.error&&this.lastError&&r.error(this.lastError),h&&this.setUpQuery(),function(){i.observers.delete(r)&&!i.observers.size&&i.tearDownQuery()}},e.prototype.setUpQuery=function(){var r=this,i=this,a=i.queryManager,h=i.queryId;this.shouldSubscribe&&a.addObservableQuery(h,this),this.options.pollInterval&&(Wa(this),a.startPollingQuery(this.options,h));var x=function(B){r.updateLastResult(De(De({},r.lastResult),{errors:B.graphQLErrors,networkStatus:St.error,loading:!1})),os(r.observers,"error",r.lastError=B)};a.observeQuery(h,this.options,{next:function(B){if(r.lastError||r.isDifferentFromLastResult(B)){var $=r.updateLastResult(B),W=r.options,re=W.query,le=W.variables,de=W.fetchPolicy;a.transform(re).hasClientExports?a.getLocalState().addExportedVariables(re,le).then(function(we){var Re=r.variables;r.variables=r.options.variables=we,!B.loading&&$&&de!=="cache-only"&&a.transform(re).serverQuery&&!cr(Re,we)?r.refetch():os(r.observers,"next",B)}):os(r.observers,"next",B)}},error:x}).catch(x)},e.prototype.tearDownQuery=function(){var r=this.queryManager;this.isTornDown=!0,r.stopPollingQuery(this.queryId),this.subscriptions.forEach(function(i){return i.unsubscribe()}),this.subscriptions.clear(),r.removeObservableQuery(this.queryId),r.stopQuery(this.queryId),this.observers.clear()},e}(Ni);function Bc(t){}function os(t,e,r){var i=[];t.forEach(function(a){return a[e]&&i.push(a)}),i.forEach(function(a){return a[e](r)})}function Wa(t){var e=t.options.fetchPolicy;ft(e!=="cache-first"&&e!=="cache-only",3)}var Lc=function(){function t(){this.store={}}return t.prototype.getStore=function(){return this.store},t.prototype.get=function(e){return this.store[e]},t.prototype.initMutation=function(e,r,i){this.store[e]={mutation:r,variables:i||{},loading:!0,error:null}},t.prototype.markMutationError=function(e,r){var i=this.store[e];i&&(i.loading=!1,i.error=r)},t.prototype.markMutationResult=function(e){var r=this.store[e];r&&(r.loading=!1,r.error=null)},t.prototype.reset=function(){this.store={}},t}(),Uc=function(){function t(){this.store={}}return t.prototype.getStore=function(){return this.store},t.prototype.get=function(e){return this.store[e]},t.prototype.initQuery=function(e){var r=this.store[e.queryId];ft(!r||r.document===e.document||cr(r.document,e.document),19);var i=!1,a=null;e.storePreviousVariables&&r&&r.networkStatus!==St.loading&&(cr(r.variables,e.variables)||(i=!0,a=r.variables));var h;i?h=St.setVariables:e.isPoll?h=St.poll:e.isRefetch?h=St.refetch:h=St.loading;var x=[];r&&r.graphQLErrors&&(x=r.graphQLErrors),this.store[e.queryId]={document:e.document,variables:e.variables,previousVariables:a,networkError:null,graphQLErrors:x,networkStatus:h,metadata:e.metadata},typeof e.fetchMoreForQueryId=="string"&&this.store[e.fetchMoreForQueryId]&&(this.store[e.fetchMoreForQueryId].networkStatus=St.fetchMore)},t.prototype.markQueryResult=function(e,r,i){!this.store||!this.store[e]||(this.store[e].networkError=null,this.store[e].graphQLErrors=ai(r.errors)?r.errors:[],this.store[e].previousVariables=null,this.store[e].networkStatus=St.ready,typeof i=="string"&&this.store[i]&&(this.store[i].networkStatus=St.ready))},t.prototype.markQueryError=function(e,r,i){!this.store||!this.store[e]||(this.store[e].networkError=r,this.store[e].networkStatus=St.error,typeof i=="string"&&this.markQueryResultClient(i,!0))},t.prototype.markQueryResultClient=function(e,r){var i=this.store&&this.store[e];i&&(i.networkError=null,i.previousVariables=null,r&&(i.networkStatus=St.ready))},t.prototype.stopQuery=function(e){delete this.store[e]},t.prototype.reset=function(e){var r=this;Object.keys(this.store).forEach(function(i){e.indexOf(i)<0?r.stopQuery(i):r.store[i].networkStatus=St.loading})},t}();function qc(t){return t.charAt(0).toUpperCase()+t.slice(1)}var Qa=function(){function t(e){var r=e.cache,i=e.client,a=e.resolvers,h=e.fragmentMatcher;this.cache=r,i&&(this.client=i),a&&this.addResolvers(a),h&&this.setFragmentMatcher(h)}return t.prototype.addResolvers=function(e){var r=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(i){r.resolvers=La(r.resolvers,i)}):this.resolvers=La(this.resolvers,e)},t.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},t.prototype.getResolvers=function(){return this.resolvers||{}},t.prototype.runResolvers=function(e){var r=e.document,i=e.remoteResult,a=e.context,h=e.variables,x=e.onlyRunForcedResolvers,B=x===void 0?!1:x;return Br(this,void 0,void 0,function(){return Lr(this,function($){return r?[2,this.resolveDocument(r,i.data,a,h,this.fragmentMatcher,B).then(function(W){return De(De({},i),{data:W.result})})]:[2,i]})})},t.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},t.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},t.prototype.clientQuery=function(e){return an(["client"],e)&&this.resolvers?e:null},t.prototype.serverQuery=function(e){return this.resolvers?gc(e):e},t.prototype.prepareContext=function(e){e===void 0&&(e={});var r=this.cache,i=De(De({},e),{cache:r,getCacheKey:function(a){if(r.config)return r.config.dataIdFromObject(a);ft(!1,6)}});return i},t.prototype.addExportedVariables=function(e,r,i){return r===void 0&&(r={}),i===void 0&&(i={}),Br(this,void 0,void 0,function(){return Lr(this,function(a){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,r)||{},this.prepareContext(i),r).then(function(h){return De(De({},r),h.exportedVariables)})]:[2,De({},r)]})})},t.prototype.shouldForceResolvers=function(e){var r=!1;return(0,Ar.visit)(e,{Directive:{enter:function(i){if(i.name.value==="client"&&i.arguments&&(r=i.arguments.some(function(a){return a.name.value==="always"&&a.value.kind==="BooleanValue"&&a.value.value===!0}),r))return Ar.BREAK}}}),r},t.prototype.buildRootValueFromCache=function(e,r){return this.cache.diff({query:vc(e),variables:r,returnPartialData:!0,optimistic:!1}).result},t.prototype.resolveDocument=function(e,r,i,a,h,x){return i===void 0&&(i={}),a===void 0&&(a={}),h===void 0&&(h=function(){return!0}),x===void 0&&(x=!1),Br(this,void 0,void 0,function(){var B,$,W,re,le,de,we,Re,Ee;return Lr(this,function(Te){return B=Zn(e),$=on(e),W=ln($),re=B.operation,le=re?qc(re):"Query",de=this,we=de.cache,Re=de.client,Ee={fragmentMap:W,context:De(De({},i),{cache:we,client:Re}),variables:a,fragmentMatcher:h,defaultOperationType:le,exportedVariables:{},onlyRunForcedResolvers:x},[2,this.resolveSelectionSet(B.selectionSet,r,Ee).then(function(Ie){return{result:Ie,exportedVariables:Ee.exportedVariables}})]})})},t.prototype.resolveSelectionSet=function(e,r,i){return Br(this,void 0,void 0,function(){var a,h,x,B,$,W=this;return Lr(this,function(re){return a=i.fragmentMap,h=i.context,x=i.variables,B=[r],$=function(le){return Br(W,void 0,void 0,function(){var de,we;return Lr(this,function(Re){return Qn(le,x)?Ur(le)?[2,this.resolveField(le,r,i).then(function(Ee){var Te;typeof Ee!="undefined"&&B.push((Te={},Te[Ti(le)]=Ee,Te))})]:(rn(le)?de=le:(de=a[le.name.value],ft(de,7)),de&&de.typeCondition&&(we=de.typeCondition.name.value,i.fragmentMatcher(r,we,h))?[2,this.resolveSelectionSet(de.selectionSet,r,i).then(function(Ee){B.push(Ee)})]:[2]):[2]})})},[2,Promise.all(e.selections.map($)).then(function(){return ss(B)})]})})},t.prototype.resolveField=function(e,r,i){return Br(this,void 0,void 0,function(){var a,h,x,B,$,W,re,le,de,we=this;return Lr(this,function(Re){return a=i.variables,h=e.name.value,x=Ti(e),B=h!==x,$=r[x]||r[h],W=Promise.resolve($),(!i.onlyRunForcedResolvers||this.shouldForceResolvers(e))&&(re=r.__typename||i.defaultOperationType,le=this.resolvers&&this.resolvers[re],le&&(de=le[B?h:x],de&&(W=Promise.resolve(de(r,Wn(e,a),i.context,{field:e,fragmentMap:i.fragmentMap}))))),[2,W.then(function(Ee){if(Ee===void 0&&(Ee=$),e.directives&&e.directives.forEach(function(Te){Te.name.value==="export"&&Te.arguments&&Te.arguments.forEach(function(Ie){Ie.name.value==="as"&&Ie.value.kind==="StringValue"&&(i.exportedVariables[Ie.value.value]=Ee)})}),!e.selectionSet||Ee==null)return Ee;if(Array.isArray(Ee))return we.resolveSubSelectedArray(e,Ee,i);if(e.selectionSet)return we.resolveSelectionSet(e.selectionSet,Ee,i)})]})})},t.prototype.resolveSubSelectedArray=function(e,r,i){var a=this;return Promise.all(r.map(function(h){if(h===null)return null;if(Array.isArray(h))return a.resolveSubSelectedArray(e,h,i);if(e.selectionSet)return a.resolveSelectionSet(e.selectionSet,h,i)}))},t}();function Ka(t){var e=new Set,r=null;return new Ni(function(i){return e.add(i),r=r||t.subscribe({next:function(a){e.forEach(function(h){return h.next&&h.next(a)})},error:function(a){e.forEach(function(h){return h.error&&h.error(a)})},complete:function(){e.forEach(function(a){return a.complete&&a.complete()})}}),function(){e.delete(i)&&!e.size&&r&&(r.unsubscribe(),r=null)}})}function $c(t,e){return new Ni(function(r){var i=r.next,a=r.error,h=r.complete,x=0,B=!1,$={next:function(re){++x,new Promise(function(le){le(e(re))}).then(function(le){--x,i&&i.call(r,le),B&&$.complete()},function(le){--x,a&&a.call(r,le)})},error:function(re){a&&a.call(r,re)},complete:function(){B=!0,x||h&&h.call(r)}},W=t.subscribe($);return function(){return W.unsubscribe()}})}var Hc=Object.prototype.hasOwnProperty,Gc=function(){function t(e){var r=e.link,i=e.queryDeduplication,a=i===void 0?!1:i,h=e.store,x=e.onBroadcast,B=x===void 0?function(){}:x,$=e.ssrMode,W=$===void 0?!1:$,re=e.clientAwareness,le=re===void 0?{}:re,de=e.localState,we=e.assumeImmutableResults;this.mutationStore=new Lc,this.queryStore=new Uc,this.clientAwareness={},this.idCounter=1,this.queries=new Map,this.fetchQueryRejectFns=new Map,this.transformCache=new(es?WeakMap:Map),this.inFlightLinkObservables=new Map,this.pollingInfoByQueryId=new Map,this.link=r,this.queryDeduplication=a,this.dataStore=h,this.onBroadcast=B,this.clientAwareness=le,this.localState=de||new Qa({cache:h.getCache()}),this.ssrMode=W,this.assumeImmutableResults=!!we}return t.prototype.stop=function(){var e=this;this.queries.forEach(function(r,i){e.stopQueryNoBroadcast(i)}),this.fetchQueryRejectFns.forEach(function(r){r(new Dt(8))})},t.prototype.mutate=function(e){var r=e.mutation,i=e.variables,a=e.optimisticResponse,h=e.updateQueries,x=e.refetchQueries,B=x===void 0?[]:x,$=e.awaitRefetchQueries,W=$===void 0?!1:$,re=e.update,le=e.errorPolicy,de=le===void 0?"none":le,we=e.fetchPolicy,Re=e.context,Ee=Re===void 0?{}:Re;return Br(this,void 0,void 0,function(){var Te,Ie,Le,Ge=this;return Lr(this,function(Ue){switch(Ue.label){case 0:return ft(r,9),ft(!we||we==="no-cache",10),Te=this.generateQueryId(),r=this.transform(r).document,this.setQuery(Te,function(){return{document:r}}),i=this.getVariables(r,i),this.transform(r).hasClientExports?[4,this.localState.addExportedVariables(r,i,Ee)]:[3,2];case 1:i=Ue.sent(),Ue.label=2;case 2:return Ie=function(){var lt={};return h&&Ge.queries.forEach(function(kt,wt){var Tt=kt.observableQuery;if(Tt){var bt=Tt.queryName;bt&&Hc.call(h,bt)&&(lt[wt]={updater:h[bt],query:Ge.queryStore.get(wt)})}}),lt},this.mutationStore.initMutation(Te,r,i),this.dataStore.markMutationInit({mutationId:Te,document:r,variables:i,updateQueries:Ie(),update:re,optimisticResponse:a}),this.broadcastQueries(),Le=this,[2,new Promise(function(lt,kt){var wt,Tt;Le.getObservableFromLink(r,De(De({},Ee),{optimisticResponse:a}),i,!1).subscribe({next:function(bt){if(zr(bt)&&de==="none"){Tt=new qr({graphQLErrors:bt.errors});return}Le.mutationStore.markMutationResult(Te),we!=="no-cache"&&Le.dataStore.markMutationResult({mutationId:Te,result:bt,document:r,variables:i,updateQueries:Ie(),update:re}),wt=bt},error:function(bt){Le.mutationStore.markMutationError(Te,bt),Le.dataStore.markMutationComplete({mutationId:Te,optimisticResponse:a}),Le.broadcastQueries(),Le.setQuery(Te,function(){return{document:null}}),kt(new qr({networkError:bt}))},complete:function(){if(Tt&&Le.mutationStore.markMutationError(Te,Tt),Le.dataStore.markMutationComplete({mutationId:Te,optimisticResponse:a}),Le.broadcastQueries(),Tt){kt(Tt);return}typeof B=="function"&&(B=B(wt));var bt=[];ai(B)&&B.forEach(function(Vr){if(typeof Vr=="string")Le.queries.forEach(function(br){var qt=br.observableQuery;qt&&qt.queryName===Vr&&bt.push(qt.refetch())});else{var Zi={query:Vr.query,variables:Vr.variables,fetchPolicy:"network-only"};Vr.context&&(Zi.context=Vr.context),bt.push(Le.query(Zi))}}),Promise.all(W?bt:[]).then(function(){Le.setQuery(Te,function(){return{document:null}}),de==="ignore"&&wt&&zr(wt)&&delete wt.errors,lt(wt)})}})})]}})})},t.prototype.fetchQuery=function(e,r,i,a){return Br(this,void 0,void 0,function(){var h,x,B,$,W,re,le,de,we,Re,Ee,Te,Ie,Le,Ge,Ue,lt,kt,wt=this;return Lr(this,function(Tt){switch(Tt.label){case 0:return h=r.metadata,x=h===void 0?null:h,B=r.fetchPolicy,$=B===void 0?"cache-first":B,W=r.context,re=W===void 0?{}:W,le=this.transform(r.query).document,de=this.getVariables(le,r.variables),this.transform(le).hasClientExports?[4,this.localState.addExportedVariables(le,de,re)]:[3,2];case 1:de=Tt.sent(),Tt.label=2;case 2:if(r=De(De({},r),{variables:de}),Re=$==="network-only"||$==="no-cache",Ee=Re,Re||(Te=this.dataStore.getCache().diff({query:le,variables:de,returnPartialData:!0,optimistic:!1}),Ie=Te.complete,Le=Te.result,Ee=!Ie||$==="cache-and-network",we=Le),Ge=Ee&&$!=="cache-only"&&$!=="standby",an(["live"],le)&&(Ge=!0),Ue=this.idCounter++,lt=$!=="no-cache"?this.updateQueryWatch(e,le,r):void 0,this.setQuery(e,function(){return{document:le,lastRequestId:Ue,invalidated:!0,cancel:lt}}),this.invalidate(a),this.queryStore.initQuery({queryId:e,document:le,storePreviousVariables:Ge,variables:de,isPoll:i===Wr.poll,isRefetch:i===Wr.refetch,metadata:x,fetchMoreForQueryId:a}),this.broadcastQueries(),Ge){if(kt=this.fetchRequest({requestId:Ue,queryId:e,document:le,options:r,fetchMoreForQueryId:a}).catch(function(bt){throw Ic(bt)?bt:(Ue>=wt.getQuery(e).lastRequestId&&(wt.queryStore.markQueryError(e,bt,a),wt.invalidate(e),wt.invalidate(a),wt.broadcastQueries()),new qr({networkError:bt}))}),$!=="cache-and-network")return[2,kt];kt.catch(function(){})}return this.queryStore.markQueryResultClient(e,!Ge),this.invalidate(e),this.invalidate(a),this.transform(le).hasForcedResolvers?[2,this.localState.runResolvers({document:le,remoteResult:{data:we},context:re,variables:de,onlyRunForcedResolvers:!0}).then(function(bt){return wt.markQueryResult(e,bt,r,a),wt.broadcastQueries(),bt})]:(this.broadcastQueries(),[2,{data:we}])}})})},t.prototype.markQueryResult=function(e,r,i,a){var h=i.fetchPolicy,x=i.variables,B=i.errorPolicy;h==="no-cache"?this.setQuery(e,function(){return{newData:{result:r.data,complete:!0}}}):this.dataStore.markQueryResult(r,this.getQuery(e).document,x,a,B==="ignore"||B==="all")},t.prototype.queryListenerForObserver=function(e,r,i){var a=this;function h(x,B){if(i[x])try{i[x](B)}catch($){}}return function(x,B){if(a.invalidate(e,!1),!!x){var $=a.getQuery(e),W=$.observableQuery,re=$.document,le=W?W.options.fetchPolicy:r.fetchPolicy;if(le!=="standby"){var de=za(x.networkStatus),we=W&&W.getLastResult(),Re=!!(we&&we.networkStatus!==x.networkStatus),Ee=r.returnPartialData||!B&&x.previousVariables||Re&&r.notifyOnNetworkStatusChange||le==="cache-only"||le==="cache-and-network";if(!(de&&!Ee)){var Te=ai(x.graphQLErrors),Ie=W&&W.options.errorPolicy||r.errorPolicy||"none";if(Ie==="none"&&Te||x.networkError)return h("error",new qr({graphQLErrors:x.graphQLErrors,networkError:x.networkError}));try{var Le=void 0,Ge=void 0;if(B)le!=="no-cache"&&le!=="network-only"&&a.setQuery(e,function(){return{newData:null}}),Le=B.result,Ge=!B.complete;else{var Ue=W&&W.getLastError(),lt=Ie!=="none"&&(Ue&&Ue.graphQLErrors)!==x.graphQLErrors;if(we&&we.data&&!lt)Le=we.data,Ge=!1;else{var kt=a.dataStore.getCache().diff({query:re,variables:x.previousVariables||x.variables,returnPartialData:!0,optimistic:!0});Le=kt.result,Ge=!kt.complete}}var wt=Ge&&!(r.returnPartialData||le==="cache-only"),Tt={data:wt?we&&we.data:Le,loading:de,networkStatus:x.networkStatus,stale:wt};Ie==="all"&&Te&&(Tt.errors=x.graphQLErrors),h("next",Tt)}catch(bt){h("error",new qr({networkError:bt}))}}}}}},t.prototype.transform=function(e){var r=this.transformCache;if(!r.has(e)){var i=this.dataStore.getCache(),a=i.transformDocument(e),h=fc(i.transformForLink(a)),x=this.localState.clientQuery(a),B=this.localState.serverQuery(h),$={document:a,hasClientExports:nc(a),hasForcedResolvers:this.localState.shouldForceResolvers(a),clientQuery:x,serverQuery:B,defaultVars:Jn(si(a))},W=function(re){re&&!r.has(re)&&r.set(re,$)};W(e),W(a),W(x),W(B)}return r.get(e)},t.prototype.getVariables=function(e,r){return De(De({},this.transform(e).defaultVars),r)},t.prototype.watchQuery=function(e,r){r===void 0&&(r=!0),ft(e.fetchPolicy!=="standby",11),e.variables=this.getVariables(e.query,e.variables),typeof e.notifyOnNetworkStatusChange=="undefined"&&(e.notifyOnNetworkStatusChange=!1);var i=De({},e);return new Oc({queryManager:this,options:i,shouldSubscribe:r})},t.prototype.query=function(e){var r=this;return ft(e.query,12),ft(e.query.kind==="Document",13),ft(!e.returnPartialData,14),ft(!e.pollInterval,15),new Promise(function(i,a){var h=r.watchQuery(e,!1);r.fetchQueryRejectFns.set("query:"+h.queryId,a),h.result().then(i,a).then(function(){return r.fetchQueryRejectFns.delete("query:"+h.queryId)})})},t.prototype.generateQueryId=function(){return String(this.idCounter++)},t.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryInStoreNoBroadcast=function(e){this.stopPollingQuery(e),this.queryStore.stopQuery(e),this.invalidate(e)},t.prototype.addQueryListener=function(e,r){this.setQuery(e,function(i){var a=i.listeners;return a.add(r),{invalidated:!1}})},t.prototype.updateQueryWatch=function(e,r,i){var a=this,h=this.getQuery(e).cancel;h&&h();var x=function(){var B=null,$=a.getQuery(e).observableQuery;if($){var W=$.getLastResult();W&&(B=W.data)}return B};return this.dataStore.getCache().watch({query:r,variables:i.variables,optimistic:!0,previousResult:x,callback:function(B){a.setQuery(e,function(){return{invalidated:!0,newData:B}})}})},t.prototype.addObservableQuery=function(e,r){this.setQuery(e,function(){return{observableQuery:r}})},t.prototype.removeObservableQuery=function(e){var r=this.getQuery(e).cancel;this.setQuery(e,function(){return{observableQuery:null}}),r&&r()},t.prototype.clearStore=function(){this.fetchQueryRejectFns.forEach(function(r){r(new Dt(16))});var e=[];return this.queries.forEach(function(r,i){var a=r.observableQuery;a&&e.push(i)}),this.queryStore.reset(e),this.mutationStore.reset(),this.dataStore.reset()},t.prototype.resetStore=function(){var e=this;return this.clearStore().then(function(){return e.reFetchObservableQueries()})},t.prototype.reFetchObservableQueries=function(e){var r=this;e===void 0&&(e=!1);var i=[];return this.queries.forEach(function(a,h){var x=a.observableQuery;if(x){var B=x.options.fetchPolicy;x.resetLastResults(),B!=="cache-only"&&(e||B!=="standby")&&i.push(x.refetch()),r.setQuery(h,function(){return{newData:null}}),r.invalidate(h)}}),this.broadcastQueries(),Promise.all(i)},t.prototype.observeQuery=function(e,r,i){return this.addQueryListener(e,this.queryListenerForObserver(e,r,i)),this.fetchQuery(e,r)},t.prototype.startQuery=function(e,r,i){return this.addQueryListener(e,i),this.fetchQuery(e,r).catch(function(){}),e},t.prototype.startGraphQLSubscription=function(e){var r=this,i=e.query,a=e.fetchPolicy,h=e.variables;i=this.transform(i).document,h=this.getVariables(i,h);var x=function($){return r.getObservableFromLink(i,{},$,!1).map(function(W){if((!a||a!=="no-cache")&&(r.dataStore.markSubscriptionResult(W,i,$),r.broadcastQueries()),zr(W))throw new qr({graphQLErrors:W.errors});return W})};if(this.transform(i).hasClientExports){var B=this.localState.addExportedVariables(i,h).then(x);return new Ni(function($){var W=null;return B.then(function(re){return W=re.subscribe($)},$.error),function(){return W&&W.unsubscribe()}})}return x(h)},t.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},t.prototype.removeQuery=function(e){this.fetchQueryRejectFns.delete("query:"+e),this.fetchQueryRejectFns.delete("fetchRequest:"+e),this.getQuery(e).subscriptions.forEach(function(r){return r.unsubscribe()}),this.queries.delete(e)},t.prototype.getCurrentQueryResult=function(e,r){r===void 0&&(r=!0);var i=e.options,a=i.variables,h=i.query,x=i.fetchPolicy,B=i.returnPartialData,$=e.getLastResult(),W=this.getQuery(e.queryId).newData;if(W&&W.complete)return{data:W.result,partial:!1};if(x==="no-cache"||x==="network-only")return{data:void 0,partial:!1};var re=this.dataStore.getCache().diff({query:h,variables:a,previousResult:$?$.data:void 0,returnPartialData:!0,optimistic:r}),le=re.result,de=re.complete;return{data:de||B?le:void 0,partial:!de}},t.prototype.getQueryWithPreviousResult=function(e){var r;if(typeof e=="string"){var i=this.getQuery(e).observableQuery;ft(i,17),r=i}else r=e;var a=r.options,h=a.variables,x=a.query;return{previousResult:this.getCurrentQueryResult(r,!1).data,variables:h,document:x}},t.prototype.broadcastQueries=function(){var e=this;this.onBroadcast(),this.queries.forEach(function(r,i){r.invalidated&&r.listeners.forEach(function(a){a&&a(e.queryStore.get(i),r.newData)})})},t.prototype.getLocalState=function(){return this.localState},t.prototype.getObservableFromLink=function(e,r,i,a){var h=this;a===void 0&&(a=this.queryDeduplication);var x,B=this.transform(e).serverQuery;if(B){var $=this,W=$.inFlightLinkObservables,re=$.link,le={query:B,variables:i,operationName:Yn(B)||void 0,context:this.prepareContext(De(De({},r),{forceFetch:!a}))};if(r=le.context,a){var de=W.get(B)||new Map;W.set(B,de);var we=JSON.stringify(i);if(x=de.get(we),!x){de.set(we,x=Ka(dn(re,le)));var Re=function(){de.delete(we),de.size||W.delete(B),Ee.unsubscribe()},Ee=x.subscribe({next:Re,error:Re,complete:Re})}}else x=Ka(dn(re,le))}else x=Ni.of({data:{}}),r=this.prepareContext(r);var Te=this.transform(e).clientQuery;return Te&&(x=$c(x,function(Ie){return h.localState.runResolvers({document:Te,remoteResult:Ie,context:r,variables:i})})),x},t.prototype.fetchRequest=function(e){var r=this,i=e.requestId,a=e.queryId,h=e.document,x=e.options,B=e.fetchMoreForQueryId,$=x.variables,W=x.errorPolicy,re=W===void 0?"none":W,le=x.fetchPolicy,de,we;return new Promise(function(Re,Ee){var Te=r.getObservableFromLink(h,x.context,$),Ie="fetchRequest:"+a;r.fetchQueryRejectFns.set(Ie,Ee);var Le=function(){r.fetchQueryRejectFns.delete(Ie),r.setQuery(a,function(Ue){var lt=Ue.subscriptions;lt.delete(Ge)})},Ge=Te.map(function(Ue){if(i>=r.getQuery(a).lastRequestId&&(r.markQueryResult(a,Ue,x,B),r.queryStore.markQueryResult(a,Ue,B),r.invalidate(a),r.invalidate(B),r.broadcastQueries()),re==="none"&&ai(Ue.errors))return Ee(new qr({graphQLErrors:Ue.errors}));if(re==="all"&&(we=Ue.errors),B||le==="no-cache")de=Ue.data;else{var lt=r.dataStore.getCache().diff({variables:$,query:h,optimistic:!1,returnPartialData:!0}),kt=lt.result,wt=lt.complete;(wt||x.returnPartialData)&&(de=kt)}}).subscribe({error:function(Ue){Le(),Ee(Ue)},complete:function(){Le(),Re({data:de,errors:we,loading:!1,networkStatus:St.ready,stale:!1})}});r.setQuery(a,function(Ue){var lt=Ue.subscriptions;lt.add(Ge)})})},t.prototype.getQuery=function(e){return this.queries.get(e)||{listeners:new Set,invalidated:!1,document:null,newData:null,lastRequestId:1,observableQuery:null,subscriptions:new Set}},t.prototype.setQuery=function(e,r){var i=this.getQuery(e),a=De(De({},i),r(i));this.queries.set(e,a)},t.prototype.invalidate=function(e,r){r===void 0&&(r=!0),e&&this.setQuery(e,function(){return{invalidated:r}})},t.prototype.prepareContext=function(e){e===void 0&&(e={});var r=this.localState.prepareContext(e);return De(De({},r),{clientAwareness:this.clientAwareness})},t.prototype.checkInFlight=function(e){var r=this.queryStore.get(e);return r&&r.networkStatus!==St.ready&&r.networkStatus!==St.error},t.prototype.startPollingQuery=function(e,r,i){var a=this,h=e.pollInterval;if(ft(h,18),!this.ssrMode){var x=this.pollingInfoByQueryId.get(r);x||this.pollingInfoByQueryId.set(r,x={}),x.interval=h,x.options=De(De({},e),{fetchPolicy:"network-only"});var B=function(){var W=a.pollingInfoByQueryId.get(r);W&&(a.checkInFlight(r)?$():a.fetchQuery(r,W.options,Wr.poll).then($,$))},$=function(){var W=a.pollingInfoByQueryId.get(r);W&&(clearTimeout(W.timeout),W.timeout=setTimeout(B,W.interval))};i&&this.addQueryListener(r,i),$()}return r},t.prototype.stopPollingQuery=function(e){this.pollingInfoByQueryId.delete(e)},t}(),Vc=function(){function t(e){this.cache=e}return t.prototype.getCache=function(){return this.cache},t.prototype.markQueryResult=function(e,r,i,a,h){h===void 0&&(h=!1);var x=!zr(e);h&&zr(e)&&e.data&&(x=!0),!a&&x&&this.cache.write({result:e.data,dataId:"ROOT_QUERY",query:r,variables:i})},t.prototype.markSubscriptionResult=function(e,r,i){zr(e)||this.cache.write({result:e.data,dataId:"ROOT_SUBSCRIPTION",query:r,variables:i})},t.prototype.markMutationInit=function(e){var r=this;if(e.optimisticResponse){var i;typeof e.optimisticResponse=="function"?i=e.optimisticResponse(e.variables):i=e.optimisticResponse,this.cache.recordOptimisticTransaction(function(a){var h=r.cache;r.cache=a;try{r.markMutationResult({mutationId:e.mutationId,result:{data:i},document:e.document,variables:e.variables,updateQueries:e.updateQueries,update:e.update})}finally{r.cache=h}},e.mutationId)}},t.prototype.markMutationResult=function(e){var r=this;if(!zr(e.result)){var i=[{result:e.result.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}],a=e.updateQueries;a&&Object.keys(a).forEach(function(h){var x=a[h],B=x.query,$=x.updater,W=r.cache.diff({query:B.document,variables:B.variables,returnPartialData:!0,optimistic:!1}),re=W.result,le=W.complete;if(le){var de=ns(function(){return $(re,{mutationResult:e.result,queryName:Yn(B.document)||void 0,queryVariables:B.variables})});de&&i.push({result:de,dataId:"ROOT_QUERY",query:B.document,variables:B.variables})}}),this.cache.performTransaction(function(h){i.forEach(function(B){return h.write(B)});var x=e.update;x&&ns(function(){return x(h,e.result)})})}},t.prototype.markMutationComplete=function(e){var r=e.mutationId,i=e.optimisticResponse;i&&this.cache.removeOptimistic(r)},t.prototype.markUpdateQueryResult=function(e,r,i){this.cache.write({result:i,dataId:"ROOT_QUERY",variables:r,query:e})},t.prototype.reset=function(){return this.cache.reset()},t}(),jc="2.6.10",zc=!1,Wc=function(){function t(e){var r=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var i=e.cache,a=e.ssrMode,h=a===void 0?!1:a,x=e.ssrForceFetchDelay,B=x===void 0?0:x,$=e.connectToDevTools,W=e.queryDeduplication,re=W===void 0?!0:W,le=e.defaultOptions,de=e.assumeImmutableResults,we=de===void 0?!1:de,Re=e.resolvers,Ee=e.typeDefs,Te=e.fragmentMatcher,Ie=e.name,Le=e.version,Ge=e.link;if(!Ge&&Re&&(Ge=dr.empty()),!Ge||!i)throw new Dt(4);this.link=Ge,this.cache=i,this.store=new Vc(i),this.disableNetworkFetches=h||B>0,this.queryDeduplication=re,this.defaultOptions=le||{},this.typeDefs=Ee,B&&setTimeout(function(){return r.disableNetworkFetches=!1},B),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this);var Ue=!1;(typeof $=="undefined"?Ue:$&&typeof window!="undefined")&&(window.__APOLLO_CLIENT__=this),this.version=jc,this.localState=new Qa({cache:i,client:this,resolvers:Re,fragmentMatcher:Te}),this.queryManager=new Gc({link:this.link,store:this.store,queryDeduplication:re,ssrMode:h,clientAwareness:{name:Ie,version:Le},localState:this.localState,assumeImmutableResults:we,onBroadcast:function(){r.devToolsHookCb&&r.devToolsHookCb({action:{},state:{queries:r.queryManager.queryStore.getStore(),mutations:r.queryManager.mutationStore.getStore()},dataWithOptimisticResults:r.cache.extract(!0)})}})}return t.prototype.stop=function(){this.queryManager.stop()},t.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=De(De({},this.defaultOptions.watchQuery),e)),this.disableNetworkFetches&&(e.fetchPolicy==="network-only"||e.fetchPolicy==="cache-and-network")&&(e=De(De({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},t.prototype.query=function(e){return this.defaultOptions.query&&(e=De(De({},this.defaultOptions.query),e)),ft(e.fetchPolicy!=="cache-and-network",5),this.disableNetworkFetches&&e.fetchPolicy==="network-only"&&(e=De(De({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},t.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=De(De({},this.defaultOptions.mutate),e)),this.queryManager.mutate(e)},t.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},t.prototype.readQuery=function(e,r){return r===void 0&&(r=!1),this.cache.readQuery(e,r)},t.prototype.readFragment=function(e,r){return r===void 0&&(r=!1),this.cache.readFragment(e,r)},t.prototype.writeQuery=function(e){var r=this.cache.writeQuery(e);return this.queryManager.broadcastQueries(),r},t.prototype.writeFragment=function(e){var r=this.cache.writeFragment(e);return this.queryManager.broadcastQueries(),r},t.prototype.writeData=function(e){var r=this.cache.writeData(e);return this.queryManager.broadcastQueries(),r},t.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},t.prototype.__requestRaw=function(e){return dn(this.link,e)},t.prototype.initQueryManager=function(){return this.queryManager},t.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore()}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(r){return r()}))}).then(function(){return e.reFetchObservableQueries()})},t.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore()}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(r){return r()}))})},t.prototype.onResetStore=function(e){var r=this;return this.resetStoreCallbacks.push(e),function(){r.resetStoreCallbacks=r.resetStoreCallbacks.filter(function(i){return i!==e})}},t.prototype.onClearStore=function(e){var r=this;return this.clearStoreCallbacks.push(e),function(){r.clearStoreCallbacks=r.clearStoreCallbacks.filter(function(i){return i!==e})}},t.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},t.prototype.extract=function(e){return this.cache.extract(e)},t.prototype.restore=function(e){return this.cache.restore(e)},t.prototype.addResolvers=function(e){this.localState.addResolvers(e)},t.prototype.setResolvers=function(e){this.localState.setResolvers(e)},t.prototype.getResolvers=function(){return this.localState.getResolvers()},t.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},t}();const Fm=null;function Qc(t){var e={kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:fn(t)},r={kind:"Document",definitions:[e]};return r}function Kc(t,e){var r={kind:"FragmentDefinition",typeCondition:{kind:"NamedType",name:{kind:"Name",value:e||"__FakeType"}},name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:fn(t)},i={kind:"Document",definitions:[r]};return i}function fn(t){if(typeof t=="number"||typeof t=="boolean"||typeof t=="string"||typeof t=="undefined"||t===null)return null;if(Array.isArray(t))return fn(t[0]);var e=[];Object.keys(t).forEach(function(i){var a=fn(t[i]),h={kind:"Field",name:{kind:"Name",value:i},selectionSet:a||void 0};e.push(h)});var r={kind:"SelectionSet",selections:e};return r}var Yc={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:null,variableDefinitions:null,directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"__typename"},arguments:[],directives:[],selectionSet:null}]}}]},Zc=function(){function t(){}return t.prototype.transformDocument=function(e){return e},t.prototype.transformForLink=function(e){return e},t.prototype.readQuery=function(e,r){return r===void 0&&(r=!1),this.read({query:e.query,variables:e.variables,optimistic:r})},t.prototype.readFragment=function(e,r){return r===void 0&&(r=!1),this.read({query:Ca(e.fragment,e.fragmentName),variables:e.variables,rootId:e.id,optimistic:r})},t.prototype.writeQuery=function(e){this.write({dataId:"ROOT_QUERY",result:e.data,query:e.query,variables:e.variables})},t.prototype.writeFragment=function(e){this.write({dataId:e.id,result:e.data,variables:e.variables,query:Ca(e.fragment,e.fragmentName)})},t.prototype.writeData=function(e){var r=e.id,i=e.data;if(typeof r!="undefined"){var a=null;try{a=this.read({rootId:r,optimistic:!1,query:Yc})}catch(B){}var h=a&&a.__typename||"__ClientData",x=Object.assign({__typename:h},i);this.writeFragment({id:r,fragment:Kc(x,h),data:x})}else this.writeQuery({query:Qc(i),data:i})},t}(),Ya;(function(t){})(Ya||(Ya={}));var Ft=null,Za={},Jc=1,Xc=function(){return function(){function t(){this.id=["slot",Jc++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return t.prototype.hasValue=function(){for(var e=Ft;e;e=e.parent)if(this.id in e.slots){var r=e.slots[this.id];if(r===Za)break;return e!==Ft&&(Ft.slots[this.id]=r),!0}return Ft&&(Ft.slots[this.id]=Za),!1},t.prototype.getValue=function(){if(this.hasValue())return Ft.slots[this.id]},t.prototype.withValue=function(e,r,i,a){var h,x=(h={__proto__:null},h[this.id]=e,h),B=Ft;Ft={parent:B,slots:x};try{return r.apply(a,i)}finally{Ft=B}},t.bind=function(e){var r=Ft;return function(){var i=Ft;try{return Ft=r,e.apply(this,arguments)}finally{Ft=i}}},t.noContext=function(e,r,i){if(Ft){var a=Ft;try{return Ft=null,e.apply(i,r)}finally{Ft=a}}else return e.apply(i,r)},t}()},ls="@wry/context:Slot",us=Array,cs=us[ls]||function(){var t=Xc();try{Object.defineProperty(us,ls,{value:us[ls]=t,enumerable:!1,writable:!1,configurable:!1})}finally{return t}}(),ds=cs.bind,ed=cs.noContext;function Om(t,e){return setTimeout(ds(t),e)}function Bm(t){return function(){var e=t.apply(this,arguments),r=ds(e.next),i=ds(e.throw);return new Promise(function(a,h){function x(W,re){try{var le=W.call(e,re)}catch(we){return h(we)}var de=le.done?a:B;td(le.value)?le.value.then(de,le.done?h:$):de(le.value)}var B=function(W){return x(r,W)},$=function(W){return x(i,W)};B()})}}function td(t){return t&&typeof t.then=="function"}var Ja=null;function Lm(t){if(Ja.indexOf(t)<0){var e=function(r,i){var a=r[i];r[i]=function(){return ed(a,arguments,this)}};e(t,"yield"),e(t.prototype,"run"),e(t.prototype,"throwInto"),Ja.push(t)}return t}function rd(){}var id=function(){function t(e,r){e===void 0&&(e=Infinity),r===void 0&&(r=rd),this.max=e,this.dispose=r,this.map=new Map,this.newest=null,this.oldest=null}return t.prototype.has=function(e){return this.map.has(e)},t.prototype.get=function(e){var r=this.getEntry(e);return r&&r.value},t.prototype.getEntry=function(e){var r=this.map.get(e);if(r&&r!==this.newest){var i=r.older,a=r.newer;a&&(a.older=i),i&&(i.newer=a),r.older=this.newest,r.older.newer=r,r.newer=null,this.newest=r,r===this.oldest&&(this.oldest=a)}return r},t.prototype.set=function(e,r){var i=this.getEntry(e);return i?i.value=r:(i={key:e,value:r,newer:null,older:this.newest},this.newest&&(this.newest.newer=i),this.newest=i,this.oldest=this.oldest||i,this.map.set(e,i),i.value)},t.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},t.prototype.delete=function(e){var r=this.map.get(e);return r?(r===this.newest&&(this.newest=r.older),r===this.oldest&&(this.oldest=r.newer),r.newer&&(r.newer.older=r.older),r.older&&(r.older.newer=r.newer),this.map.delete(e),this.dispose(r.value,e),!0):!1},t}(),hn=new cs,nd=[],fs=[],sd=100;function oi(t,e){if(!t)throw new Error(e||"assertion failure")}function ad(t,e){var r=t.length;return r>0&&r===e.length&&t[r-1]===e[r-1]}function Xa(t){switch(t.length){case 0:throw new Error("unknown value");case 1:return t[0];case 2:throw t[1]}}function od(t){return t.slice(0)}var ld=function(){function t(e,r){this.fn=e,this.args=r,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],++t.count}return t.prototype.recompute=function(){if(oi(!this.recomputing,"already recomputing"),!(!ud(this)&&hs(this)))return li(this)?cd(this):Xa(this.value)},t.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,eo(this),ps(this))},t.prototype.dispose=function(){var e=this;so(this).forEach(hs),ps(this),this.parents.forEach(function(r){r.setDirty(),ao(r,e)})},t.count=0,t}();function ud(t){var e=hn.getValue();if(e)return t.parents.add(e),e.childValues.has(t)||e.childValues.set(t,[]),li(t)?ro(e,t):io(e,t),e}function cd(t){var e=so(t);return hn.withValue(t,dd,[t]),hd(t)&&fd(t),e.forEach(hs),Xa(t.value)}function dd(t){t.recomputing=!0,t.value.length=0;try{t.value[0]=t.fn.apply(null,t.args)}catch(e){t.value[1]=e}t.recomputing=!1}function li(t){return t.dirty||!!(t.dirtyChildren&&t.dirtyChildren.size)}function fd(t){t.dirty=!1,!li(t)&&to(t)}function eo(t){t.parents.forEach(function(e){return ro(e,t)})}function to(t){t.parents.forEach(function(e){return io(e,t)})}function ro(t,e){if(oi(t.childValues.has(e)),oi(li(e)),!t.dirtyChildren)t.dirtyChildren=fs.pop()||new Set;else if(t.dirtyChildren.has(e))return;t.dirtyChildren.add(e),eo(t)}function io(t,e){oi(t.childValues.has(e)),oi(!li(e));var r=t.childValues.get(e);r.length===0?t.childValues.set(e,od(e.value)):ad(r,e.value)||t.setDirty(),no(t,e),!li(t)&&to(t)}function no(t,e){var r=t.dirtyChildren;r&&(r.delete(e),r.size===0&&(fs.length<sd&&fs.push(r),t.dirtyChildren=null))}function hs(t){return t.parents.size===0&&typeof t.reportOrphan=="function"&&t.reportOrphan()===!0}function so(t){var e=nd;return t.childValues.size>0&&(e=[],t.childValues.forEach(function(r,i){ao(t,i),e.push(i)})),oi(t.dirtyChildren===null),e}function ao(t,e){e.parents.delete(t),t.childValues.delete(e),no(t,e)}function hd(t){if(typeof t.subscribe=="function")try{ps(t),t.unsubscribe=t.subscribe.apply(null,t.args)}catch(e){return t.setDirty(),!1}return!0}function ps(t){var e=t.unsubscribe;typeof e=="function"&&(t.unsubscribe=void 0,e())}var ms=function(){function t(e){this.weakness=e}return t.prototype.lookup=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this.lookupArray(e)},t.prototype.lookupArray=function(e){var r=this;return e.forEach(function(i){return r=r.getChildTrie(i)}),r.data||(r.data=Object.create(null))},t.prototype.getChildTrie=function(e){var r=this.weakness&&pd(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),i=r.get(e);return i||r.set(e,i=new t(this.weakness)),i},t}();function pd(t){switch(typeof t){case"object":if(t===null)break;case"function":return!0}return!1}var md=new ms(typeof WeakMap=="function");function vd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return md.lookupArray(t)}var vs=new Set;function Pi(t,e){e===void 0&&(e=Object.create(null));var r=new id(e.max||Math.pow(2,16),function(x){return x.dispose()}),i=!!e.disposable,a=e.makeCacheKey||vd;function h(){if(!(i&&!hn.hasValue())){var x=a.apply(null,arguments);if(x===void 0)return t.apply(null,arguments);var B=Array.prototype.slice.call(arguments),$=r.get(x);$?$.args=B:($=new ld(t,B),r.set(x,$),$.subscribe=e.subscribe,i&&($.reportOrphan=function(){return r.delete(x)}));var W=$.recompute();return r.set(x,$),vs.add(r),hn.hasValue()||(vs.forEach(function(re){return re.clean()}),vs.clear()),i?void 0:W}}return h.dirty=function(){var x=a.apply(null,arguments),B=x!==void 0&&r.get(x);B&&B.setDirty()},h}var oo=!1;function lo(){var t=!oo;return is()||(oo=!0),t}var gd=function(){function t(){}return t.prototype.ensureReady=function(){return Promise.resolve()},t.prototype.canBypassInit=function(){return!0},t.prototype.match=function(e,r,i){var a=i.store.get(e.id),h=e.id==="ROOT_QUERY";if(!a)return h;var x=a.__typename,B=x===void 0?h&&"Query":x;return B&&B===r?!0:(lo(),"heuristic")},t}(),Um=function(){function t(e){e&&e.introspectionQueryResultData?(this.possibleTypesMap=this.parseIntrospectionResult(e.introspectionQueryResultData),this.isReady=!0):this.isReady=!1,this.match=this.match.bind(this)}return t.prototype.match=function(e,r,i){ft(this.isReady,1);var a=i.store.get(e.id),h=e.id==="ROOT_QUERY";if(!a)return h;var x=a.__typename,B=x===void 0?h&&"Query":x;if(ft(B,2),B===r)return!0;var $=this.possibleTypesMap[r];return!!(B&&$&&$.indexOf(B)>-1)},t.prototype.parseIntrospectionResult=function(e){var r={};return e.__schema.types.forEach(function(i){(i.kind==="UNION"||i.kind==="INTERFACE")&&(r[i.name]=i.possibleTypes.map(function(a){return a.name}))}),r},t}(),uo=Object.prototype.hasOwnProperty,ui=function(){function t(e){var r=this;e===void 0&&(e=Object.create(null)),this.data=e,this.depend=Pi(function(i){return r.data[i]},{disposable:!0,makeCacheKey:function(i){return i}})}return t.prototype.toObject=function(){return this.data},t.prototype.get=function(e){return this.depend(e),this.data[e]},t.prototype.set=function(e,r){var i=this.data[e];r!==i&&(this.data[e]=r,this.depend.dirty(e))},t.prototype.delete=function(e){uo.call(this.data,e)&&(delete this.data[e],this.depend.dirty(e))},t.prototype.clear=function(){this.replace(null)},t.prototype.replace=function(e){var r=this;e?(Object.keys(e).forEach(function(i){r.set(i,e[i])}),Object.keys(this.data).forEach(function(i){uo.call(e,i)||r.delete(i)})):Object.keys(this.data).forEach(function(i){r.delete(i)})},t}();function co(t){return new ui(t)}var bd=function(){function t(e){var r=this,i=e===void 0?{}:e,a=i.cacheKeyRoot,h=a===void 0?new ms(es):a,x=i.freezeResults,B=x===void 0?!1:x,$=this,W=$.executeStoreQuery,re=$.executeSelectionSet,le=$.executeSubSelectedArray;this.freezeResults=B,this.executeStoreQuery=Pi(function(de){return W.call(r,de)},{makeCacheKey:function(de){var we=de.query,Re=de.rootValue,Ee=de.contextValue,Te=de.variableValues,Ie=de.fragmentMatcher;if(Ee.store instanceof ui)return h.lookup(Ee.store,we,Ie,JSON.stringify(Te),Re.id)}}),this.executeSelectionSet=Pi(function(de){return re.call(r,de)},{makeCacheKey:function(de){var we=de.selectionSet,Re=de.rootValue,Ee=de.execContext;if(Ee.contextValue.store instanceof ui)return h.lookup(Ee.contextValue.store,we,Ee.fragmentMatcher,JSON.stringify(Ee.variableValues),Re.id)}}),this.executeSubSelectedArray=Pi(function(de){return le.call(r,de)},{makeCacheKey:function(de){var we=de.field,Re=de.array,Ee=de.execContext;if(Ee.contextValue.store instanceof ui)return h.lookup(Ee.contextValue.store,we,Re,JSON.stringify(Ee.variableValues))}})}return t.prototype.readQueryFromStore=function(e){return this.diffQueryAgainstStore(De(De({},e),{returnPartialData:!1})).result},t.prototype.diffQueryAgainstStore=function(e){var r=e.store,i=e.query,a=e.variables,h=e.previousResult,x=e.returnPartialData,B=x===void 0?!0:x,$=e.rootId,W=$===void 0?"ROOT_QUERY":$,re=e.fragmentMatcherFunction,le=e.config,de=oc(i);a=Kn({},Jn(de),a);var we={store:r,dataIdFromObject:le&&le.dataIdFromObject,cacheRedirects:le&&le.cacheRedirects||{}},Re=this.executeStoreQuery({query:i,rootValue:{type:"id",id:W,generated:!0,typename:"Query"},contextValue:we,variableValues:a,fragmentMatcher:re}),Ee=Re.missing&&Re.missing.length>0;return Ee&&!B&&Re.missing.forEach(function(Te){if(!Te.tolerable)throw new Dt(8)}),h&&cr(h,Re.result)&&(Re.result=h),{result:Re.result,complete:!Ee}},t.prototype.executeStoreQuery=function(e){var r=e.query,i=e.rootValue,a=e.contextValue,h=e.variableValues,x=e.fragmentMatcher,B=x===void 0?yd:x,$=Zn(r),W=on(r),re=ln(W),le={query:r,fragmentMap:re,contextValue:a,variableValues:h,fragmentMatcher:B};return this.executeSelectionSet({selectionSet:$.selectionSet,rootValue:i,execContext:le})},t.prototype.executeSelectionSet=function(e){var r=this,i=e.selectionSet,a=e.rootValue,h=e.execContext,x=h.fragmentMap,B=h.contextValue,$=h.variableValues,W={result:null},re=[],le=B.store.get(a.id),de=le&&le.__typename||a.id==="ROOT_QUERY"&&"Query"||void 0;function we(Re){var Ee;return Re.missing&&(W.missing=W.missing||[],(Ee=W.missing).push.apply(Ee,Re.missing)),Re.result}return i.selections.forEach(function(Re){var Ee;if(!!Qn(Re,$))if(Ur(Re)){var Te=we(r.executeField(le,de,Re,h));typeof Te!="undefined"&&re.push((Ee={},Ee[Ti(Re)]=Te,Ee))}else{var Ie=void 0;if(rn(Re))Ie=Re;else if(Ie=x[Re.name.value],!Ie)throw new Dt(9);var Le=Ie.typeCondition&&Ie.typeCondition.name.value,Ge=!Le||h.fragmentMatcher(a,Le,B);if(Ge){var Ue=r.executeSelectionSet({selectionSet:Ie.selectionSet,rootValue:a,execContext:h});Ge==="heuristic"&&Ue.missing&&(Ue=De(De({},Ue),{missing:Ue.missing.map(function(lt){return De(De({},lt),{tolerable:!0})})})),re.push(we(Ue))}}}),W.result=ss(re),this.freezeResults,W},t.prototype.executeField=function(e,r,i,a){var h=a.variableValues,x=a.contextValue,B=i.name.value,$=Wn(i,h),W={resultKey:Ti(i),directives:rc(i,h)},re=wd(e,r,B,$,x,W);return Array.isArray(re.result)?this.combineExecResults(re,this.executeSubSelectedArray({field:i,array:re.result,execContext:a})):i.selectionSet?re.result==null?re:this.combineExecResults(re,this.executeSelectionSet({selectionSet:i.selectionSet,rootValue:re.result,execContext:a})):(fo(i,re.result),this.freezeResults,re)},t.prototype.combineExecResults=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i;return e.forEach(function(a){a.missing&&(i=i||[],i.push.apply(i,a.missing))}),{result:e.pop().result,missing:i}},t.prototype.executeSubSelectedArray=function(e){var r=this,i=e.field,a=e.array,h=e.execContext,x;function B($){return $.missing&&(x=x||[],x.push.apply(x,$.missing)),$.result}return a=a.map(function($){return $===null?null:Array.isArray($)?B(r.executeSubSelectedArray({field:i,array:$,execContext:h})):i.selectionSet?B(r.executeSelectionSet({selectionSet:i.selectionSet,rootValue:$,execContext:h})):(fo(i,$),$)}),this.freezeResults,{result:a,missing:x}},t}();function fo(t,e){if(!t.selectionSet&&nn(e))throw new Dt(10)}function yd(){return!0}function qm(t){invariant(isIdValue(t),11)}function wd(t,e,r,i,a,h){var x=h.resultKey,B=h.directives,$=r;(i||B)&&($=Ma($,i,B));var W=void 0;if(t&&(W=t[$],typeof W=="undefined"&&a.cacheRedirects&&typeof e=="string")){var re=a.cacheRedirects[e];if(re){var le=re[r];le&&(W=le(t,i,{getCacheKey:function(de){var we=a.dataIdFromObject(de);return we&&sn({id:we,typename:de.__typename})}}))}}return typeof W=="undefined"?{result:W,missing:[{object:t,fieldName:$,tolerable:!1}]}:(ec(W)&&(W=W.json),{result:W})}var pn=function(){function t(e){e===void 0&&(e=Object.create(null)),this.data=e}return t.prototype.toObject=function(){return this.data},t.prototype.get=function(e){return this.data[e]},t.prototype.set=function(e,r){this.data[e]=r},t.prototype.delete=function(e){this.data[e]=void 0},t.prototype.clear=function(){this.data=Object.create(null)},t.prototype.replace=function(e){this.data=e||Object.create(null)},t}();function $m(t){return new pn(t)}var _d=function(t){Pr(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="WriteError",r}return e}(Error);function kd(t,e){var r=new _d(`Error writing result to store for query:
 `+JSON.stringify(e));return r.message+=`
`+t.message,r.stack=t.stack,r}var Sd=function(){function t(){}return t.prototype.writeQueryToStore=function(e){var r=e.query,i=e.result,a=e.store,h=a===void 0?co():a,x=e.variables,B=e.dataIdFromObject,$=e.fragmentMatcherFunction;return this.writeResultToStore({dataId:"ROOT_QUERY",result:i,document:r,store:h,variables:x,dataIdFromObject:B,fragmentMatcherFunction:$})},t.prototype.writeResultToStore=function(e){var r=e.dataId,i=e.result,a=e.document,h=e.store,x=h===void 0?co():h,B=e.variables,$=e.dataIdFromObject,W=e.fragmentMatcherFunction,re=si(a);try{return this.writeSelectionSetToStore({result:i,dataId:r,selectionSet:re.selectionSet,context:{store:x,processedData:{},variables:Kn({},Jn(re),B),dataIdFromObject:$,fragmentMap:ln(on(a)),fragmentMatcherFunction:W}})}catch(le){throw kd(le,a)}},t.prototype.writeSelectionSetToStore=function(e){var r=this,i=e.result,a=e.dataId,h=e.selectionSet,x=e.context,B=x.variables,$=x.store,W=x.fragmentMap;return h.selections.forEach(function(re){var le;if(!!Qn(re,B))if(Ur(re)){var de=Ti(re),we=i[de];if(typeof we!="undefined")r.writeFieldToStore({dataId:a,value:we,field:re,context:x});else{var Re=!1,Ee=!1;re.directives&&re.directives.length&&(Re=re.directives.some(function(kt){return kt.name&&kt.name.value==="defer"}),Ee=re.directives.some(function(kt){return kt.name&&kt.name.value==="client"})),!Re&&!Ee&&x.fragmentMatcherFunction}}else{var Te=void 0;rn(re)?Te=re:(Te=(W||{})[re.name.value],ft(Te,3));var Ie=!0;if(x.fragmentMatcherFunction&&Te.typeCondition){var Le=a||"self",Ge=sn({id:Le,typename:void 0}),Ue={store:new pn((le={},le[Le]=i,le)),cacheRedirects:{}},lt=x.fragmentMatcherFunction(Ge,Te.typeCondition.name.value,Ue);!Oa()&&lt==="heuristic",Ie=!!lt}Ie&&r.writeSelectionSetToStore({result:i,selectionSet:Te.selectionSet,dataId:a,context:x})}}),$},t.prototype.writeFieldToStore=function(e){var r,i=e.field,a=e.value,h=e.dataId,x=e.context,B=x.variables,$=x.dataIdFromObject,W=x.store,re,le,de=Ju(i,B);if(!i.selectionSet||a===null)re=a!=null&&typeof a=="object"?{type:"json",json:a}:a;else if(Array.isArray(a)){var we=h+"."+de;re=this.processArrayValue(a,we,i.selectionSet,x)}else{var Re=h+"."+de,Ee=!0;if(gs(Re)||(Re="$"+Re),$){var Te=$(a);ft(!Te||!gs(Te),4),(Te||typeof Te=="number"&&Te===0)&&(Re=Te,Ee=!1)}po(Re,i,x.processedData)||this.writeSelectionSetToStore({dataId:Re,result:a,selectionSet:i.selectionSet,context:x});var Ie=a.__typename;re=sn({id:Re,typename:Ie},Ee),le=W.get(h);var Le=le&&le[de];if(Le!==re&&nn(Le)){var Ge=Le.typename!==void 0,Ue=Ie!==void 0,lt=Ge&&Ue&&Le.typename!==Ie;ft(!Ee||Le.generated||lt,5),ft(!Ge||Ue,6),Le.generated&&(lt?Ee||W.delete(Le.id):ho(Le.id,re.id,W))}}le=W.get(h),(!le||!cr(re,le[de]))&&W.set(h,De(De({},le),(r={},r[de]=re,r)))},t.prototype.processArrayValue=function(e,r,i,a){var h=this;return e.map(function(x,B){if(x===null)return null;var $=r+"."+B;if(Array.isArray(x))return h.processArrayValue(x,$,i,a);var W=!0;if(a.dataIdFromObject){var re=a.dataIdFromObject(x);re&&($=re,W=!1)}return po($,i,a.processedData)||h.writeSelectionSetToStore({dataId:$,result:x,selectionSet:i,context:a}),sn({id:$,typename:x.__typename},W)})},t}();function gs(t){return t[0]==="$"}function ho(t,e,r){if(t===e)return!1;var i=r.get(t),a=r.get(e),h=!1;Object.keys(i).forEach(function(B){var $=i[B],W=a[B];nn($)&&gs($.id)&&nn(W)&&!cr($,W)&&ho($.id,W.id,r)&&(h=!0)}),r.delete(t);var x=De(De({},i),a);return cr(x,a)?h:(r.set(e,x),!0)}function po(t,e,r){if(!r)return!1;if(r[t]){if(r[t].indexOf(e)>=0)return!0;r[t].push(e)}else r[t]=[e];return!1}var Ed={fragmentMatcher:new gd,dataIdFromObject:Rd,addTypename:!0,resultCaching:!0,freezeResults:!1};function Rd(t){if(t.__typename){if(t.id!==void 0)return t.__typename+":"+t.id;if(t._id!==void 0)return t.__typename+":"+t._id}return null}var xd=Object.prototype.hasOwnProperty,mo=function(t){Pr(e,t);function e(r,i,a){var h=t.call(this,Object.create(null))||this;return h.optimisticId=r,h.parent=i,h.transaction=a,h}return e.prototype.toObject=function(){return De(De({},this.parent.toObject()),this.data)},e.prototype.get=function(r){return xd.call(this.data,r)?this.data[r]:this.parent.get(r)},e}(pn),Md=function(t){Pr(e,t);function e(r){r===void 0&&(r={});var i=t.call(this)||this;i.watches=new Set,i.typenameDocumentCache=new Map,i.cacheKeyRoot=new ms(es),i.silenceBroadcast=!1,i.config=De(De({},Ed),r),i.config.customResolvers&&(i.config.cacheRedirects=i.config.customResolvers),i.config.cacheResolvers&&(i.config.cacheRedirects=i.config.cacheResolvers),i.addTypename=!!i.config.addTypename,i.data=i.config.resultCaching?new ui:new pn,i.optimisticData=i.data,i.storeWriter=new Sd,i.storeReader=new bd({cacheKeyRoot:i.cacheKeyRoot,freezeResults:r.freezeResults});var a=i,h=a.maybeBroadcastWatch;return i.maybeBroadcastWatch=Pi(function(x){return h.call(i,x)},{makeCacheKey:function(x){if(!x.optimistic&&!x.previousResult&&a.data instanceof ui)return a.cacheKeyRoot.lookup(x.query,JSON.stringify(x.variables))}}),i}return e.prototype.restore=function(r){return r&&this.data.replace(r),this},e.prototype.extract=function(r){return r===void 0&&(r=!1),(r?this.optimisticData:this.data).toObject()},e.prototype.read=function(r){if(typeof r.rootId=="string"&&typeof this.data.get(r.rootId)=="undefined")return null;var i=this.config.fragmentMatcher,a=i&&i.match;return this.storeReader.readQueryFromStore({store:r.optimistic?this.optimisticData:this.data,query:this.transformDocument(r.query),variables:r.variables,rootId:r.rootId,fragmentMatcherFunction:a,previousResult:r.previousResult,config:this.config})||null},e.prototype.write=function(r){var i=this.config.fragmentMatcher,a=i&&i.match;this.storeWriter.writeResultToStore({dataId:r.dataId,result:r.result,variables:r.variables,document:this.transformDocument(r.query),store:this.data,dataIdFromObject:this.config.dataIdFromObject,fragmentMatcherFunction:a}),this.broadcastWatches()},e.prototype.diff=function(r){var i=this.config.fragmentMatcher,a=i&&i.match;return this.storeReader.diffQueryAgainstStore({store:r.optimistic?this.optimisticData:this.data,query:this.transformDocument(r.query),variables:r.variables,returnPartialData:r.returnPartialData,previousResult:r.previousResult,fragmentMatcherFunction:a,config:this.config})},e.prototype.watch=function(r){var i=this;return this.watches.add(r),function(){i.watches.delete(r)}},e.prototype.evict=function(r){throw new Dt(7)},e.prototype.reset=function(){return this.data.clear(),this.broadcastWatches(),Promise.resolve()},e.prototype.removeOptimistic=function(r){for(var i=[],a=0,h=this.optimisticData;h instanceof mo;)h.optimisticId===r?++a:i.push(h),h=h.parent;if(a>0){for(this.optimisticData=h;i.length>0;){var x=i.pop();this.performTransaction(x.transaction,x.optimisticId)}this.broadcastWatches()}},e.prototype.performTransaction=function(r,i){var a=this,h=a.data,x=a.silenceBroadcast;this.silenceBroadcast=!0,typeof i=="string"&&(this.data=this.optimisticData=new mo(i,this.optimisticData,r));try{r(this)}finally{this.silenceBroadcast=x,this.data=h}this.broadcastWatches()},e.prototype.recordOptimisticTransaction=function(r,i){return this.performTransaction(r,i)},e.prototype.transformDocument=function(r){if(this.addTypename){var i=this.typenameDocumentCache.get(r);return i||(i=cc(r),this.typenameDocumentCache.set(r,i),this.typenameDocumentCache.set(i,i)),i}return r},e.prototype.broadcastWatches=function(){var r=this;this.silenceBroadcast||this.watches.forEach(function(i){return r.maybeBroadcastWatch(i)})},e.prototype.maybeBroadcastWatch=function(r){r.callback(this.diff({query:r.query,variables:r.variables,previousResult:r.previousResult&&r.previousResult(),optimistic:r.optimistic}))},e}(Zc);function Td(t){return new dr(function(e,r){var i=ba(e,[]);return new Gt(function(a){var h;return Promise.resolve(i).then(function(x){return t(x,e.getContext())}).then(e.setContext).then(function(){h=r(e).subscribe({next:a.next.bind(a),error:a.error.bind(a),complete:a.complete.bind(a)})}).catch(a.error.bind(a)),function(){h&&h.unsubscribe()}})})}var Cd=nt(3033),Nd={includeQuery:!0,includeExtensions:!1},Pd={accept:"*/*","content-type":"application/json"},Ad={method:"POST"},Id={http:Nd,headers:Pd,options:Ad},vo=function(t,e,r){var i=new Error(r);throw i.name="ServerError",i.response=t,i.statusCode=t.status,i.result=e,i},Dd=function(t){return function(e){return e.text().then(function(r){try{return JSON.parse(r)}catch(a){var i=a;return i.name="ServerParseError",i.response=e,i.statusCode=e.status,i.bodyText=r,Promise.reject(i)}}).then(function(r){return e.status>=300&&vo(e,r,"Response not successful: Received status code "+e.status),!Array.isArray(r)&&!r.hasOwnProperty("data")&&!r.hasOwnProperty("errors")&&vo(e,r,"Server response was missing for query '"+(Array.isArray(t)?t.map(function(i){return i.operationName}):t.operationName)+"'."),r})}},Fd=function(t){if(!t&&typeof fetch=="undefined"){var e="unfetch";throw typeof window=="undefined"&&(e="node-fetch"),new Dt(1)}},Od=function(){if(typeof AbortController=="undefined")return{controller:!1,signal:!1};var t=new AbortController,e=t.signal;return{controller:t,signal:e}},Bd=function(t,e){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var a=De({},e.options,{headers:e.headers,credentials:e.credentials}),h=e.http;r.forEach(function(le){a=De({},a,le.options,{headers:De({},a.headers,le.headers)}),le.credentials&&(a.credentials=le.credentials),h=De({},h,le.http)});var x=t.operationName,B=t.extensions,$=t.variables,W=t.query,re={operationName:x,variables:$};return h.includeExtensions&&(re.extensions=B),h.includeQuery&&(re.query=(0,Cd.S)(W)),{options:a,body:re}},bs=function(t,e){var r;try{r=JSON.stringify(t)}catch(a){var i=new Dt(2);throw i.parseError=a,i}return r},Ld=function(t,e){var r=t.getContext(),i=r.uri;return i||(typeof e=="function"?e(t):e||"/graphql")},go=function(t){t===void 0&&(t={});var e=t.uri,r=e===void 0?"/graphql":e,i=t.fetch,a=t.includeExtensions,h=t.useGETForQueries,x=ba(t,["uri","fetch","includeExtensions","useGETForQueries"]);Fd(i),i||(i=fetch);var B={http:{includeExtensions:a},options:x.fetchOptions,credentials:x.credentials,headers:x.headers};return new dr(function($){var W=Ld($,r),re=$.getContext(),le={};if(re.clientAwareness){var de=re.clientAwareness,we=de.name,Re=de.version;we&&(le["apollographql-client-name"]=we),Re&&(le["apollographql-client-version"]=Re)}var Ee=De({},le,re.headers),Te={http:re.http,options:re.fetchOptions,credentials:re.credentials,headers:Ee},Ie=Bd($,Id,B,Te),Le=Ie.options,Ge=Ie.body,Ue;if(!Le.signal){var lt=Od(),kt=lt.controller,wt=lt.signal;Ue=kt,Ue&&(Le.signal=wt)}var Tt=function(br){return br.kind==="OperationDefinition"&&br.operation==="mutation"};if(h&&!$.query.definitions.some(Tt)&&(Le.method="GET"),Le.method==="GET"){var bt=Ud(W,Ge),Vr=bt.newURI,Zi=bt.parseError;if(Zi)return Ha(Zi);W=Vr}else try{Le.body=bs(Ge,"Payload")}catch(br){return Ha(br)}return new Gt(function(br){return i(W,Le).then(function(qt){return $.setContext({response:qt}),qt}).then(Dd($)).then(function(qt){return br.next(qt),br.complete(),qt}).catch(function(qt){qt.name!=="AbortError"&&(qt.result&&qt.result.errors&&qt.result.data&&br.next(qt.result),br.error(qt))}),function(){Ue&&Ue.abort()}})})};function Ud(t,e){var r=[],i=function(le,de){r.push(le+"="+encodeURIComponent(de))};if("query"in e&&i("query",e.query),e.operationName&&i("operationName",e.operationName),e.variables){var a=void 0;try{a=bs(e.variables,"Variables map")}catch(le){return{parseError:le}}i("variables",a)}if(e.extensions){var h=void 0;try{h=bs(e.extensions,"Extensions map")}catch(le){return{parseError:le}}i("extensions",h)}var x="",B=t,$=t.indexOf("#");$!==-1&&(x=t.substr($),B=t.substr(0,$));var W=B.indexOf("?")===-1?"?":"&",re=B+W+r.join("&")+x;return{newURI:re}}var Hm=function(t){Pr(e,t);function e(r){return t.call(this,go(r).request)||this}return e}(dr);let Ai;const qd={};function $d(t){Ai=t.globalState}const bo=(t,e)=>{if(!Ai)throw new Error("Persistent store not initialized.");return Ai.get(t+":"+e,qd)},yo=(t,e,r)=>{if(!Ai)throw new Error("Persistent store not initialized.");return Ai.update(t+":"+e,r)},wo=void 0;var Hd=Object.defineProperty,Qr=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Hd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const _o="Try again?",Gd="Cancel",ko="Sign in",Vd="Don't show again",So="prompt for sign in",Eo="login",Ro=["read:user","user:email","repo"];var vt;(function(t){t.github="github",t["github-enterprise"]="github-enterprise"})(vt||(vt={}));class jd{constructor(e){this._telemetry=e,Qr(this,"_githubAPI"),Qr(this,"_sessionId"),Qr(this,"_githubEnterpriseAPI"),Qr(this,"_enterpriseSessionId"),Qr(this,"_disposables"),Qr(this,"_onDidInitialize",new b.EventEmitter),Qr(this,"onDidInitialize",this._onDidInitialize.event),this._disposables=[],this._disposables.push(b.authentication.onDidChangeSessions(()=>{this.isAuthenticated(vt.github)||this.initialize(vt.github),!this.isAuthenticated(vt["github-enterprise"])&&Fi()&&this.initialize(vt["github-enterprise"])}))}async initialize(e){if(e===vt["github-enterprise"]&&!Fi()){n.debug("GitHub Enterprise provider selected without URI.","Authentication");return}const r=await b.authentication.getSession(e,Ro,{createIfNone:!1});if(r){e===vt.github?this._sessionId=r.id:this._enterpriseSessionId=r.id;const i=await this.createHub(r.accessToken,e);e===vt.github?this._githubAPI=i:this._githubEnterpriseAPI=i,await this.setCurrentUser(i),this._onDidInitialize.fire()}else n.debug(`No GitHub${ys(e)} token found.`,"Authentication")}async reset(){this._githubAPI=void 0,this._githubEnterpriseAPI=void 0,await this.initialize(vt.github),Fi()&&await this.initialize(vt["github-enterprise"])}isAuthenticated(e){return e===vt.github?!!this._githubAPI:!!this._githubEnterpriseAPI}getHub(e){return e===vt.github?this._githubAPI:this._githubEnterpriseAPI}async getHubOrLogin(e){var r,i;return e===vt.github?(r=this._githubAPI)!=null?r:await this.login(e):(i=this._githubEnterpriseAPI)!=null?i:await this.login(e)}async showSignInNotification(e){if(bo(So,Eo)===!1)return;if(await b.window.showInformationMessage(`In order to use the Pull Requests functionality, you must sign in to GitHub${ys(e)}`,ko,Vd)===ko)return await this.login(e);yo(So,Eo,!1),this._telemetry.sendTelemetryEvent("auth.cancel")}async logout(){this._sessionId&&b.authentication.logout(vt.github,this._sessionId),this._enterpriseSessionId&&b.authentication.logout(vt["github-enterprise"],this._enterpriseSessionId)}async login(e){this._telemetry.sendTelemetryEvent("auth.start");const r=`Error signing in to GitHub${ys(e)}`;let i=!0,a;for(;i;){try{const h=await this.getSessionOrLogin(e);a=await this.createHub(h,e)}catch(h){n.appendLine(`${r}: ${h}`),h instanceof Error&&h.stack&&n.appendLine(h.stack)}a?i=!1:i=await b.window.showErrorMessage(r,_o,Gd)===_o}return a?(this._githubAPI=a,await this.setCurrentUser(a),this._telemetry.sendTelemetryEvent("auth.success")):this._telemetry.sendTelemetryEvent("auth.fail"),a}isCurrentUser(e){var r,i,a,h;return((i=(r=this._githubAPI)==null?void 0:r.currentUser)==null?void 0:i.login)===e||((h=(a=this._githubEnterpriseAPI)==null?void 0:a.currentUser)==null?void 0:h.login)==e}getCurrentUser(e){const r=this.getHub(e);return(r==null?void 0:r.octokit)&&(r==null?void 0:r.currentUser)}async setCurrentUser(e){const r=await e.octokit.users.getAuthenticated({});e.currentUser=r.data}async getSessionOrLogin(e){const r=await b.authentication.getSession(e,Ro,{createIfNone:!0});return e===vt.github?this._sessionId=r.id:this._enterpriseSessionId=r.id,r.accessToken}async createHub(e,r){let i="https://api.github.com",a;r===vt["github-enterprise"]&&(a=xs()),a&&(i=`${a.scheme}://${a.authority}/api/v3`);const h=new Ou({request:{agent:wo},userAgent:"GitHub VSCode Pull Requests",previews:["shadow-cat-preview"],auth:`${e||""}`,baseUrl:i});a&&(i=`${a.scheme}://${a.authority}/api`);const x=new Wc({link:zd(i,e||""),cache:new Md,defaultOptions:{query:{fetchPolicy:"no-cache"}}}),B={octokit:h,graphql:x};return await this.setCurrentUser(B),B}dispose(){this._disposables.forEach(e=>e.dispose())}}const zd=(t,e)=>Td((r,{headers:i})=>({headers:{...i,authorization:e?`Bearer ${e}`:"",Accept:"application/vnd.github.shadow-cat-preview+json, application/vnd.github.antiope-preview+json"}})).concat(go({uri:`${t}/graphql`,fetch:Bn()}));function ys(t){return t===vt.github?"":" Enterprise"}var Wd=Object.defineProperty,xo=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Wd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class mn extends Error{constructor(e){super(e);this.message=e,xo(this,"name"),xo(this,"stack")}}class vn{constructor(e,r,i){this.remoteName=e,this.url=r,this.gitProtocol=i}get host(){return this.gitProtocol.host}get owner(){return this.gitProtocol.owner}get repositoryName(){return this.gitProtocol.repositoryName}get normalizedHost(){const e=this.gitProtocol.normalizeUri();return`${e.scheme}://${e.authority}`}get authProviderId(){var e;return this.host===((e=xs())==null?void 0:e.authority)?vt["github-enterprise"]:vt.github}equals(e){return!(this.remoteName!==e.remoteName||this.host!==e.host||this.owner!==e.owner||this.repositoryName!==e.repositoryName)}}function Mo(t,e,r){if(!e)return null;const i=new it(e);return r&&i.update({type:r.type}),i.host?new vn(t,e,i):null}function ci(t){return t.state.remotes.map(e=>Mo(e.name,e.fetchUrl||e.pushUrl)).filter(e=>!!e)}var gn,Qd=new Uint8Array(16);function Kd(){if(!gn&&(gn=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!gn))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return gn(Qd)}const Yd=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Zd(t){return typeof t=="string"&&Yd.test(t)}const Jd=Zd;for(var Ot=[],ws=0;ws<256;++ws)Ot.push((ws+256).toString(16).substr(1));function Xd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(Ot[t[e+0]]+Ot[t[e+1]]+Ot[t[e+2]]+Ot[t[e+3]]+"-"+Ot[t[e+4]]+Ot[t[e+5]]+"-"+Ot[t[e+6]]+Ot[t[e+7]]+"-"+Ot[t[e+8]]+Ot[t[e+9]]+"-"+Ot[t[e+10]]+Ot[t[e+11]]+Ot[t[e+12]]+Ot[t[e+13]]+Ot[t[e+14]]+Ot[t[e+15]]).toLowerCase();if(!Jd(r))throw TypeError("Stringified UUID is invalid");return r}const ef=Xd;function tf(t,e,r){t=t||{};var i=t.random||(t.rng||Kd)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){r=r||0;for(var a=0;a<16;++a)e[r+a]=i[a];return e}return ef(i)}const To=tf;var rf=Object.defineProperty,Nt=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?rf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const bn=class{constructor(t,e,r,i,a){Nt(this,"commentId"),Nt(this,"id"),Nt(this,"parent"),Nt(this,"body"),Nt(this,"originalBody"),Nt(this,"mode"),Nt(this,"author"),Nt(this,"label"),Nt(this,"commentReactions"),Nt(this,"contextValue"),this.parent=t,this.body=new b.MarkdownString(e),this.mode=b.CommentMode.Preview,this.author={name:i.login,iconPath:i.avatarUrl?b.Uri.parse(`${i.avatarUrl}&s=64`):void 0},this.label=r?"Pending":void 0,this.contextValue="canEdit,canDelete",this.originalBody=a?a._rawComment.body:void 0,this.commentReactions=a?a.reactions:void 0,this.id=bn.idPool++}static is(t){return t.commentId===void 0}startEdit(){this.parent.comments=this.parent.comments.map(t=>(t instanceof bn&&t.id===this.id&&(t.mode=b.CommentMode.Editing),t))}cancelEdit(){this.parent.comments=this.parent.comments.map(t=>(t instanceof bn&&t.id===this.id&&(t.mode=b.CommentMode.Preview,t.body=t.originalBody||t.body),t))}};let er=bn;Nt(er,"idPool",0);class At{constructor(e,r){Nt(this,"commentId"),Nt(this,"parent"),Nt(this,"body"),Nt(this,"mode"),Nt(this,"author"),Nt(this,"label"),Nt(this,"reactions"),Nt(this,"_rawComment"),Nt(this,"contextValue"),this._rawComment=e,this.commentId=e.id.toString(),this.body=new b.MarkdownString(e.body),this.author={name:e.user.login,iconPath:e.user&&e.user.avatarUrl?b.Uri.parse(e.user.avatarUrl):void 0},gf(this,e.reactions),this.label=e.isDraft?"Pending":void 0;const i=[];e.canEdit&&i.push("canEdit"),e.canDelete&&i.push("canDelete"),this.contextValue=i.join(","),this.parent=r}static is(e){return e.commentId!==void 0}startEdit(){this.parent.comments=this.parent.comments.map(e=>(e instanceof At&&e.commentId===this.commentId&&(e.mode=b.CommentMode.Editing),e))}cancelEdit(){this.parent.comments=this.parent.comments.map(e=>(e instanceof At&&e.commentId===this.commentId&&(e.mode=b.CommentMode.Preview,e.body=e._rawComment.body),e))}}var nf=Object.defineProperty,Kr=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?nf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);function _s(){let t="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<32;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}class Co{constructor(){Kr(this,"_webview"),Kr(this,"_disposables",[]),Kr(this,"_waitForReady"),Kr(this,"_onIsReady",new b.EventEmitter),Kr(this,"MESSAGE_UNHANDLED","message not handled"),this._waitForReady=new Promise(e=>{const r=this._onIsReady.event(()=>{r.dispose(),e()})})}initialize(){var e;const r=(e=this._webview)==null?void 0:e.onDidReceiveMessage(async i=>{await this._onDidReceiveMessage(i)},null,this._disposables);r&&this._disposables.push(r)}async _onDidReceiveMessage(e){switch(e.command){case"ready":this._onIsReady.fire();return;default:return this.MESSAGE_UNHANDLED}}async _postMessage(e){var r;await this._waitForReady,(r=this._webview)==null||r.postMessage({res:e})}async _replyMessage(e,r){var i;const a={seq:e.req,res:r};(i=this._webview)==null||i.postMessage(a)}async _throwError(e,r){var i;const a={seq:e.req,err:r};(i=this._webview)==null||i.postMessage(a)}dispose(){this._disposables.forEach(e=>e.dispose())}}class No extends Co{constructor(){super(...arguments);Kr(this,"viewType"),Kr(this,"_view")}show(){this._view?this._view.show():b.commands.executeCommand(`${this.viewType}.focus`)}}var sf=nt(4155),af=Object.defineProperty,Ir=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?af(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const Er=class extends Co{constructor(t,e,r,i,a=Er._viewType){super();this._extensionUri=t,Ir(this,"_panel"),Ir(this,"_disposables",[]),Ir(this,"_descriptionNode"),Ir(this,"_item"),Ir(this,"_folderRepositoryManager"),Ir(this,"_scrollPosition",{x:0,y:0}),this._folderRepositoryManager=i,this._panel=b.window.createWebviewPanel(a,r,e,{enableScripts:!0,retainContextWhenHidden:!0,localResourceRoots:[b.Uri.joinPath(t,"dist")]}),this._webview=this._panel.webview,super.initialize(),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables),this._folderRepositoryManager.onDidChangeActiveIssue(h=>{if(this._folderRepositoryManager&&this._item){const x=this._item.equals(this._folderRepositoryManager.activeIssue);this._postMessage({command:"pr.update-checkout-status",isCurrentlyCheckedOut:x})}},null,this._disposables)}static async createOrShow(t,e,r,i=!1){const a=i?b.ViewColumn.Beside:b.window.activeTextEditor?b.window.activeTextEditor.viewColumn:b.ViewColumn.One;if(Er.currentPanel)Er.currentPanel._panel.reveal(a,!0);else{const h=`Issue #${r.number.toString()}`;Er.currentPanel=new Er(t,a||b.ViewColumn.Active,h,e)}await Er.currentPanel.update(e,r)}static refresh(){this.currentPanel&&this.currentPanel.refreshPanel()}async refreshPanel(){this._panel&&this._panel.visible&&this.update(this._folderRepositoryManager,this._item)}async updateIssue(t){return Promise.all([this._folderRepositoryManager.resolveIssue(t.remote.owner,t.remote.repositoryName,t.number),t.getIssueTimelineEvents(),this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(t)]).then(e=>{const[r,i,a]=e;if(!r)throw new Error(`Fail to resolve issue #${t.number} in ${t.remote.owner}/${t.remote.repositoryName}`);this._item=r,this._panel.title=`Pull Request #${t.number.toString()}`,n.debug("pr.initialize",Er.ID),this._postMessage({command:"pr.initialize",pullrequest:{number:this._item.number,title:this._item.title,url:this._item.html_url,createdAt:this._item.createdAt,body:this._item.body,bodyHTML:this._item.bodyHTML,labels:this._item.item.labels,author:{login:this._item.author.login,name:this._item.author.name,avatarUrl:this._item.userAvatar,url:this._item.author.url},state:this._item.state,events:i,repositoryDefaultBranch:a,canEdit:!0,status:{statuses:[]},isIssue:!0}})}).catch(e=>{b.window.showErrorMessage(U(e))})}async update(t,e){return this._folderRepositoryManager=t,this._postMessage({command:"set-scroll",scrollPosition:this._scrollPosition}),this._panel.webview.html=this.getHtmlForWebview(e.number.toString()),this.updateIssue(e)}async _onDidReceiveMessage(t){if(await super._onDidReceiveMessage(t)===this.MESSAGE_UNHANDLED)switch(t.command){case"alert":b.window.showErrorMessage(t.args);return;case"pr.close":return this.close(t);case"pr.comment":return this.createComment(t);case"scroll":this._scrollPosition=t.args;return;case"pr.edit-comment":return this.editComment(t);case"pr.delete-comment":return this.deleteComment(t);case"pr.edit-description":return this.editDescription(t);case"pr.edit-title":return this.editTitle(t);case"pr.refresh":this.refreshPanel();return;case"pr.add-labels":return this.addLabels(t);case"pr.remove-label":return this.removeLabel(t);case"pr.debug":return this.webviewDebug(t);default:return this.MESSAGE_UNHANDLED}}async addLabels(t){try{let e=[];async function r(a,h){return e=(await a.getLabels(h)).filter(B=>!h.item.labels.some($=>$.name===B.name)),e.map(B=>({label:B.name}))}const i=await b.window.showQuickPick(r(this._folderRepositoryManager,this._item),{canPickMany:!0});if(i&&i.length){await this._item.addLabels(i.map(h=>h.label));const a=i.map(h=>e.find(x=>x.name===h.label));this._item.item.labels=this._item.item.labels.concat(...a),this._replyMessage(t,{added:a})}}catch(e){b.window.showErrorMessage(U(e))}}async removeLabel(t){try{await this._item.removeLabel(t.args);const e=this._item.item.labels.findIndex(r=>r.name===t.args);this._item.item.labels.splice(e,1),this._replyMessage(t,{})}catch(e){b.window.showErrorMessage(U(e))}}webviewDebug(t){n.debug(t.args,Er.ID)}editDescription(t){this._item.edit({body:t.args.text}).then(e=>{this._replyMessage(t,{body:e.body,bodyHTML:e.bodyHTML})}).catch(e=>{this._throwError(t,e),b.window.showErrorMessage(`Editing description failed: ${U(e)}`)})}editTitle(t){this._item.edit({title:t.args.text}).then(e=>{this._replyMessage(t,{text:e.title})}).catch(e=>{this._throwError(t,e),b.window.showErrorMessage(`Editing title failed: ${U(e)}`)})}editCommentPromise(t,e){return this._item.editIssueComment(t,e)}editComment(t){this.editCommentPromise(t.args.comment,t.args.text).then(e=>{this._replyMessage(t,{body:e.body,bodyHTML:e.bodyHTML})}).catch(e=>{this._throwError(t,e),b.window.showErrorMessage(U(e))})}deleteCommentPromise(t){return this._item.deleteIssueComment(t.id.toString())}deleteComment(t){b.window.showWarningMessage("Are you sure you want to delete this comment?",{modal:!0},"Delete").then(e=>{e==="Delete"&&this.deleteCommentPromise(t.args).then(r=>{this._replyMessage(t,{})}).catch(r=>{this._throwError(t,r),b.window.showErrorMessage(U(r))})})}close(t){b.commands.executeCommand("pr.close",this._item,t.args).then(e=>{e?this._replyMessage(t,{value:e}):this._throwError(t,"Close cancelled")})}createComment(t){this._item.createIssueComment(t.args).then(e=>{this._replyMessage(t,{value:e})})}set _currentPanel(t){Er.currentPanel=t}dispose(){for(this._currentPanel=void 0,this._panel.dispose();this._disposables.length;){const t=this._disposables.pop();t&&t.dispose()}}getHtmlForWebview(t){const e=_s(),r=b.Uri.joinPath(this._extensionUri,"dist","webview-pr-description.js");return`<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src vscode-resource: https:; script-src 'nonce-${e}'; style-src vscode-resource: 'unsafe-inline' http: https: data:;">

		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Pull Request #${t}</title>
	</head>
	<body class="${sf.platform}">
		<div id=app></div>
		<script nonce="${e}" src="${this._webview.asWebviewUri(r).toString()}"></script>
	</body>
</html>`}getCurrentTitle(){return this._panel.title}};let yn=Er;Ir(yn,"ID","PullRequestOverviewPanel"),Ir(yn,"currentPanel"),Ir(yn,"_viewType","IssueOverview");var of=Object.defineProperty,di=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?of(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);function lf(t){return!!t.id&&!!t.milestone}const Rr=class extends yn{constructor(t,e,r,i){super(t,e,r,i,Rr._viewType);di(this,"_repositoryDefaultBranch"),di(this,"_existingReviewers",[]),di(this,"_changeActivePullRequestListener"),this.registerFolderRepositoryListener(),Cl(a=>{a&&this._item.update(a),this._postMessage({command:"update-state",state:this._item.state})},null,this._disposables),this._disposables.push(i.onDidMergePullRequest(a=>{this._postMessage({command:"update-state",state:dt.Merged})}))}static async createOrShow(t,e,r,i=!1){const a=i?b.ViewColumn.Beside:b.window.activeTextEditor?b.window.activeTextEditor.viewColumn:b.ViewColumn.One;if(Rr.currentPanel)Rr.currentPanel._panel.reveal(a,!0);else{const h=`Pull Request #${r.number.toString()}`;Rr.currentPanel=new Rr(t,a||b.ViewColumn.Active,h,e)}await Rr.currentPanel.update(e,r)}set _currentPanel(t){Rr.currentPanel=t}static refresh(){this.currentPanel&&this.currentPanel.refreshPanel()}static scrollToReview(){this.currentPanel&&this.currentPanel._postMessage({command:"pr.scrollToPendingReview"})}registerFolderRepositoryListener(){this._changeActivePullRequestListener=this._folderRepositoryManager.onDidChangeActivePullRequest(t=>{if(this._folderRepositoryManager&&this._item){const e=this._item.equals(this._folderRepositoryManager.activePullRequest);this._postMessage({command:"pr.update-checkout-status",isCurrentlyCheckedOut:e})}})}async updatePullRequest(t){return Promise.all([this._folderRepositoryManager.resolvePullRequest(t.remote.owner,t.remote.repositoryName,t.number),t.getTimelineEvents(),this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(t),t.getStatusChecks(),t.getReviewRequests(),this._folderRepositoryManager.getPullRequestRepositoryAccessAndMergeMethods(t),this._folderRepositoryManager.getBranchNameForPullRequest(t)]).then(e=>{var r,i;const[a,h,x,B,$,W,re]=e;if(!a)throw new Error(`Fail to resolve Pull Request #${t.number} in ${t.remote.owner}/${t.remote.repositoryName}`);this._item=a,this._repositoryDefaultBranch=x,this._panel.title=`Pull Request #${t.number.toString()}`;const le=t.equals(this._folderRepositoryManager.activePullRequest),de=W.hasWritePermission,we=W.mergeMethodsAvailability,Re=de||this._item.canEdit(),Ee=b.workspace.getConfiguration("githubPullRequests").get("defaultMergeMethod"),Te=Po(we,Ee);this._existingReviewers=jo($,h,a.author);const Ie=this._folderRepositoryManager.getCurrentUser(this._item),Ge=a.base&&a.head&&!a.base.repositoryCloneUrl.equals(a.head.repositoryCloneUrl)&&Rs();n.debug("pr.initialize",Rr.ID),this._postMessage({command:"pr.initialize",pullrequest:{number:a.number,title:a.title,url:a.html_url,createdAt:a.createdAt,body:a.body,bodyHTML:a.bodyHTML,labels:a.item.labels,author:{login:a.author.login,name:a.author.name,avatarUrl:a.userAvatar,url:a.author.url},state:a.state,events:h,isCurrentlyCheckedOut:le,isRemoteBaseDeleted:a.isRemoteBaseDeleted,base:a.base.label,isRemoteHeadDeleted:a.isRemoteHeadDeleted,isLocalHeadDeleted:!re,head:(i=(r=a.head)==null?void 0:r.label)!=null?i:"",repositoryDefaultBranch:x,canEdit:Re,hasWritePermission:de,status:B||{statuses:[]},mergeable:a.item.mergeable,reviewers:this._existingReviewers,isDraft:a.isDraft,mergeMethodsAvailability:we,defaultMergeMethod:Te,isIssue:!1,milestone:a.milestone,assignees:a.assignees,continueOnGitHub:Ge,isAuthor:Ie.login===a.author.login}})}).catch(e=>{b.window.showErrorMessage(U(e))})}async update(t,e){return this._folderRepositoryManager!==t&&(this._folderRepositoryManager=t,this._changeActivePullRequestListener&&(this._changeActivePullRequestListener.dispose(),this._changeActivePullRequestListener=void 0,this.registerFolderRepositoryListener())),this._postMessage({command:"set-scroll",scrollPosition:this._scrollPosition}),this._panel.webview.html=this.getHtmlForWebview(e.number.toString()),this.updatePullRequest(e)}async _onDidReceiveMessage(t){if(await super._onDidReceiveMessage(t)===this.MESSAGE_UNHANDLED)switch(t.command){case"pr.checkout":return this.checkoutPullRequest(t);case"pr.merge":return this.mergePullRequest(t);case"pr.deleteBranch":return this.deleteBranch(t);case"pr.readyForReview":return this.setReadyForReview(t);case"pr.approve":return this.approvePullRequest(t);case"pr.request-changes":return this.requestChanges(t);case"pr.submit":return this.submitReview(t);case"pr.checkout-default-branch":return this.checkoutDefaultBranch(t);case"pr.apply-patch":return this.applyPatch(t);case"pr.open-diff":return this.openDiff(t);case"pr.checkMergeability":return this._replyMessage(t,await this._item.getMergeability());case"pr.add-reviewers":return this.addReviewers(t);case"pr.remove-milestone":return this.removeMilestone(t);case"pr.add-milestone":return this.addMilestone(t);case"pr.add-assignees":return this.addAssignees(t);case"pr.remove-reviewer":return this.removeReviewer(t);case"pr.remove-assignee":return this.removeAssignee(t);case"pr.copy-prlink":return this.copyPrLink();case"pr.openOnGitHub":return Gi(this._item,this._item._telemetry)}}async getReviewersQuickPickItems(t){if(!t)return[];const r=(await this._folderRepositoryManager.getAssignableUsers())[this._item.remote.remoteName],i=new Set([this._item.author.login,...this._existingReviewers.map(h=>h.reviewer.login)]),a=[];for(const h of t){const{login:x,name:B,isAuthor:$,isCommenter:W}=h;if(i.has(x))continue;const re=$&&W?"Recently edited and reviewed changes to these files":$?"Recently edited these files":W?"Recently reviewed changes to these files":"Suggested reviewer";a.push({label:x,description:B,detail:re,reviewer:h}),i.add(x)}for(const h of r)i.has(h.login)||a.push({label:h.login,description:h.name,reviewer:h});return a}getAssigneesQuickPickItems(t,e){var r,i;if(!e)return[];const a=new Set([...(i=(r=this._item.assignees)==null?void 0:r.map(x=>x.login))!=null?i:[]]),h=[];for(const x of e){const{login:B,name:$,isAuthor:W,isCommenter:re}=x;if(a.has(B))continue;const le=W&&re?"Recently edited and reviewed changes to these files":W?"Recently edited these files":re?"Recently reviewed changes to these files":"Suggested reviewer";h.push({label:B,description:$,detail:le,assignee:x}),a.add(B)}for(const x of t)a.has(x.login)||h.push({label:x.login,description:x.name,assignee:x});return h}async addReviewers(t){try{const e=await b.window.showQuickPick(this.getReviewersQuickPickItems(this._item.suggestedReviewers),{canPickMany:!0,matchOnDescription:!0});if(e){await this._item.requestReview(e.map(i=>i.label));const r=e.map(i=>({reviewer:i.reviewer,state:"REQUESTED"}));this._existingReviewers=this._existingReviewers.concat(r),this._replyMessage(t,{added:r})}}catch(e){b.window.showErrorMessage(U(e))}}async addMilestone(t){try{async function e(i){const a=await i.getMilestones();return a.items.length?a.items.map(h=>({label:h.milestone.title,id:h.milestone.id,milestone:h.milestone})):[{label:"No milestones created for this repository."}]}const r=await b.window.showQuickPick(e(this._folderRepositoryManager),{canPickMany:!1});r&&lf(r)&&(await this._item.updateMilestone(r.id),this._replyMessage(t,{added:r.milestone}))}catch(e){b.window.showErrorMessage(U(e))}}async removeMilestone(t){try{await this._item.updateMilestone("null"),this._replyMessage(t,{})}catch(e){b.window.showErrorMessage(U(e))}}async addAssignees(t){var e;try{const i=(await this._folderRepositoryManager.getAssignableUsers())[this._item.remote.remoteName],a=await b.window.showQuickPick(this.getAssigneesQuickPickItems(i,[]),{canPickMany:!0,matchOnDescription:!0});if(a){const h=a.map(x=>x.assignee);this._item.assignees=(e=this._item.assignees)==null?void 0:e.concat(h),await this._item.updateAssignees(h.map(x=>x.login)),this._replyMessage(t,{added:h})}}catch(r){b.window.showErrorMessage(U(r))}}async removeReviewer(t){try{await this._item.deleteReviewRequest(t.args);const e=this._existingReviewers.findIndex(r=>r.reviewer.login===t.args);this._existingReviewers.splice(e,1),this._replyMessage(t,{})}catch(e){b.window.showErrorMessage(U(e))}}async removeAssignee(t){var e,r,i;try{await this._item.deleteAssignees(t.args);const a=(r=(e=this._item.assignees)==null?void 0:e.findIndex(h=>h.login===t.args))!=null?r:-1;(i=this._item.assignees)==null||i.splice(a,1),this._replyMessage(t,{})}catch(a){b.window.showErrorMessage(U(a))}}async applyPatch(t){try{const e=t.args.comment,i=/```diff\n([\s\S]*)\n```/g.exec(e.body),a=c.join(this._folderRepositoryManager.repository.rootUri.path,".git",`${e.id}.diff`),h=new TextEncoder,x=b.Uri.parse(a);await b.workspace.fs.writeFile(x,h.encode(i[1])),await this._folderRepositoryManager.repository.apply(a,!0),await b.workspace.fs.delete(x)}catch(e){n.appendLine(`Applying patch failed: ${e}`),b.window.showErrorMessage(`Applying patch failed: ${U(e)}`)}}async openDiff(t){try{const e=t.args.comment;return Dr.openDiffFromComment(this._folderRepositoryManager,this._item,e)}catch(e){n.appendLine(`Open diff view failed: ${U(e)}`,Rr.ID)}}checkoutPullRequest(t){b.commands.executeCommand("pr.pick",this._item).then(()=>{const e=this._item.equals(this._folderRepositoryManager.activePullRequest);this._replyMessage(t,{isCurrentlyCheckedOut:e})},()=>{const e=this._item.equals(this._folderRepositoryManager.activePullRequest);this._replyMessage(t,{isCurrentlyCheckedOut:e})})}mergePullRequest(t){const{title:e,description:r,method:i}=t.args;this._folderRepositoryManager.mergePullRequest(this._item,e,r,i).then(a=>{b.commands.executeCommand("pr.refreshList"),a.merged||b.window.showErrorMessage(`Merging PR failed: ${a.message}`),this._replyMessage(t,{state:a.merged?dt.Merged:dt.Open})}).catch(a=>{b.window.showErrorMessage(`Unable to merge pull request. ${U(a)}`),this._throwError(t,{})})}async deleteBranch(t){const e=await this._folderRepositoryManager.getBranchNameForPullRequest(this._item),r=[];if(this._item.isResolved()){const h=this._item.head.ref;!(this._repositoryDefaultBranch===this._item.head.ref)&&!this._item.isRemoteHeadDeleted&&r.push({label:`Delete remote branch ${this._item.remote.remoteName}/${h}`,description:`${this._item.remote.normalizedHost}/${this._item.remote.owner}/${this._item.remote.repositoryName}`,type:"upstream",picked:!0})}if(e){const h=b.workspace.getConfiguration("githubPullRequests").get("defaultDeletionMethod.selectLocalBranch");r.push({label:`Delete local branch ${e.branch}`,type:"local",picked:!!h});const x=b.workspace.getConfiguration("githubPullRequests").get("defaultDeletionMethod.selectRemote");e.remote&&e.createdForPullRequest&&!e.remoteInUse&&r.push({label:`Delete remote ${e.remote}, which is no longer used by any other branch`,type:"remote",picked:!!x})}if(b.env.remoteName==="codespaces"&&r.push({label:"Suspend Codespace",type:"suspend"}),!r.length){b.window.showWarningMessage(`There is no longer an upstream or local branch for Pull Request #${this._item.number}`),this._replyMessage(t,{cancelled:!0});return}const i=await b.window.showQuickPick(r,{canPickMany:!0,ignoreFocusOut:!0}),a=[];if(i){const h=this._item.equals(this._folderRepositoryManager.activePullRequest),x=i.map(async B=>{switch(B.type){case"upstream":return await this._folderRepositoryManager.deleteBranch(this._item),a.push(B.type),this._folderRepositoryManager.repository.fetch({prune:!0});case"local":if(h){if(this._folderRepositoryManager.repository.state.workingTreeChanges.length)if(await b.window.showWarningMessage("Your local changes will be lost, do you want to continue?",{modal:!0},"Yes")==="Yes")await b.commands.executeCommand("git.cleanAll");else return;await this._folderRepositoryManager.repository.checkout(this._repositoryDefaultBranch)}return await this._folderRepositoryManager.repository.deleteBranch(e.branch,!0),a.push(B.type);case"remote":return a.push(B.type),this._folderRepositoryManager.repository.removeRemote(e.remote);case"suspend":return a.push(B.type),b.commands.executeCommand("github.codespaces.disconnectSuspend")}});await Promise.all(x),this.refreshPanel(),b.commands.executeCommand("pr.refreshList"),this._postMessage({command:"pr.deleteBranch",branchTypes:a})}else this._replyMessage(t,{cancelled:!0})}setReadyForReview(t){this._item.setReadyForReview().then(e=>{b.commands.executeCommand("pr.refreshList"),this._replyMessage(t,{isDraft:e})}).catch(e=>{b.window.showErrorMessage(`Unable to set PR ready for review. ${U(e)}`),this._throwError(t,{})})}async checkoutDefaultBranch(t){try{await this._folderRepositoryManager.checkoutDefaultBranch(t.args)}finally{this._replyMessage(t,{})}}updateReviewers(t){if(t){const e=this._existingReviewers.find(r=>t.user.login===r.reviewer.login);e?e.state=t.state:this._existingReviewers.push({reviewer:t.user,state:t.state})}}approvePullRequest(t){this._item.approve(t.args).then(e=>{this.updateReviewers(e),this._replyMessage(t,{review:e,reviewers:this._existingReviewers}),b.commands.executeCommand("pr.refreshList")},e=>{b.window.showErrorMessage(`Approving pull request failed. ${U(e)}`),this._throwError(t,`${U(e)}`)})}requestChanges(t){this._item.requestChanges(t.args).then(e=>{this.updateReviewers(e),this._replyMessage(t,{review:e,reviewers:this._existingReviewers})},e=>{b.window.showErrorMessage(`Requesting changes failed. ${U(e)}`),this._throwError(t,`${U(e)}`)})}submitReview(t){this._item.submitReview(Et.Comment,t.args).then(e=>{this.updateReviewers(e),this._replyMessage(t,{review:e,reviewers:this._existingReviewers})},e=>{b.window.showErrorMessage(`Submitting review failed. ${U(e)}`),this._throwError(t,`${U(e)}`)})}async copyPrLink(){await b.env.clipboard.writeText(this._item.html_url),b.window.showInformationMessage(`Copied link to PR ${this._item.title}!`)}editCommentPromise(t,e){return this._item.editReviewComment(t,e)}deleteCommentPromise(t){return this._item.deleteReviewComment(t.id.toString())}dispose(){super.dispose(),this._changeActivePullRequestListener&&this._changeActivePullRequestListener.dispose()}};let lr=Rr;di(lr,"ID","PullRequestOverviewPanel"),di(lr,"currentPanel"),di(lr,"_viewType","PullRequestOverview");function Po(t,e){return e&&t.hasOwnProperty(e)&&t[e]?e:["merge","squash","rebase"].find(i=>t[i])}var uf=Object.defineProperty,Ii=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?uf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class cf{constructor(e,r,i){this.pullRequestModel=e,this._folderReposManager=r,this._commentController=i,Ii(this,"_pendingCommentThreadAdds",[]),Ii(this,"_commentHandlerId"),Ii(this,"_commentThreadCache",{}),Ii(this,"_openPREditors",[]),Ii(this,"_disposables",[]),this._commentHandlerId=To(),Se(this._commentHandlerId,this),this.initializeThreadsInOpenEditors(),this.registerListeners()}registerListeners(){this._disposables.push(this.pullRequestModel.onDidChangeReviewThreads(e=>this.onDidChangeReviewThreads(e))),this._disposables.push(b.window.onDidChangeVisibleTextEditors(async e=>{this.onDidChangeOpenEditors(e)})),this._disposables.push(this.pullRequestModel.onDidChangePendingReviewState(e=>{for(const r in this._commentThreadCache)this._commentThreadCache[r].forEach(i=>{Fo(i,e)})})),this._disposables.push(b.window.onDidChangeActiveTextEditor(e=>{this.refreshContextKey(e)}))}refreshContextKey(e){if(!e)return;const r=e.document.uri;if(r.scheme!=="pr")return;const i=Me(r);!i||i.prNumber!==this.pullRequestModel.number||this.setContextKey(this.pullRequestModel.hasPendingReview)}getPREditors(e){return e.filter(r=>{if(r.document.uri.scheme!=="pr")return!1;const i=Me(r.document.uri);return!(!i||i.prNumber!==this.pullRequestModel.number)})}getCommentThreadCacheKey(e,r){return`${e}-${r?"original":"modified"}`}addThreadsForEditors(e){const r=this.pullRequestModel.reviewThreadsCache,i=ue(r,a=>a.path);e.forEach(a=>{const{fileName:h,isBase:x}=Me(a.document.uri);i[h]&&(this._commentThreadCache[this.getCommentThreadCacheKey(h,x)]=i[h].filter(B=>B.diffSide===pt.LEFT&&x||B.diffSide===pt.RIGHT&&!x).map(B=>{const $=new b.Range(new b.Position(B.line-1,0),new b.Position(B.line-1,0));return Di(a.document.uri,$,B,this._commentController)}))})}initializeThreadsInOpenEditors(){const e=this.getPREditors(b.window.visibleTextEditors);this._openPREditors=e,this.addThreadsForEditors(e)}onDidChangeOpenEditors(e){const r=this.getPREditors(e),i=this._openPREditors.filter(h=>!r.includes(h)),a=r.filter(h=>!this._openPREditors.includes(h));this._openPREditors=r,i.forEach(h=>{const{fileName:x,isBase:B}=Me(h.document.uri),$=this.getCommentThreadCacheKey(x,B);(this._commentThreadCache[$]||[]).forEach(re=>re.dispose()),delete this._commentThreadCache[$]}),a.length&&this.addThreadsForEditors(a)}onDidChangeReviewThreads(e){e.added.forEach(r=>{const i=r.path,a=this._pendingCommentThreadAdds.findIndex(B=>{const $=this.gitRelativeRootPath(B.uri.path)===r.path,W=B.range.start.line+1===r.line;return $&&W});let h;if(a>-1)h=this._pendingCommentThreadAdds[a],h.threadId=r.id,h.comments=r.comments.map(B=>new At(B,h)),this._pendingCommentThreadAdds.splice(a,1);else{const $=this.getPREditors(b.window.visibleTextEditors).find(W=>{const re=Me(W.document.uri),le=r.diffSide===pt.RIGHT&&!(re==null?void 0:re.isBase)||r.diffSide===pt.LEFT&&(re==null?void 0:re.isBase);return(re==null?void 0:re.fileName)===i&&le});if($){const W=new b.Range(new b.Position(r.line-1,0),new b.Position(r.line-1,0));h=Di($.document.uri,W,r,this._commentController)}}if(!h)return;const x=this.getCommentThreadCacheKey(r.path,r.diffSide===pt.LEFT);this._commentThreadCache[x]?this._commentThreadCache[x].push(h):this._commentThreadCache[x]=[h]}),e.changed.forEach(r=>{const i=this.getCommentThreadCacheKey(r.path,r.diffSide===pt.LEFT),a=this._commentThreadCache[i].findIndex(h=>h.threadId===r.id);if(a>-1){const h=this._commentThreadCache[i][a];Do(h,r)}}),e.removed.forEach(async r=>{const i=this.getCommentThreadCacheKey(r.path,r.diffSide===pt.LEFT),a=this._commentThreadCache[i].findIndex(h=>h.threadId===r.id);if(a>-1){const h=this._commentThreadCache[i][a];this._commentThreadCache[i].splice(a,1),h.dispose()}})}hasCommentThread(e){if(e.uri.scheme!=="pr")return!1;const r=Me(e.uri);return!(!r||r.prNumber!==this.pullRequestModel.number)}getCommentSide(e){const r=Me(e.uri);return(r==null?void 0:r.isBase)?pt.LEFT:pt.RIGHT}async createOrReplyComment(e,r,i,a){const h=e.comments.length,x=i?!1:a!==void 0?a:this.pullRequestModel.hasPendingReview,B=this.optimisticallyAddComment(e,r,x);try{if(h)await this.reply(e,r,i);else{const $=this.gitRelativeRootPath(e.uri.path),W=this.getCommentSide(e);this._pendingCommentThreadAdds.push(e),await this.pullRequestModel.createReviewThread(r,$,e.range.start.line+1,W,i)}i&&await this.pullRequestModel.submitReview()}catch($){b.window.showErrorMessage(`Creating comment failed: ${$}`),e.comments=e.comments.map(W=>(W instanceof er&&W.id===B&&(W.mode=b.CommentMode.Editing),W))}}reply(e,r,i){const a=e.comments[0];if(a instanceof At)return this.pullRequestModel.createCommentReply(r,a._rawComment.graphNodeId,i);throw new Error("Cannot respond to temporary comment")}optimisticallyEditComment(e,r){const i=this._folderReposManager.getCurrentUser(this.pullRequestModel),a=new er(e,r.body instanceof b.MarkdownString?r.body.value:r.body,!!r.label,i,r);return e.comments=e.comments.map(h=>h instanceof At&&h.commentId===r.commentId?a:h),a.id}async editComment(e,r){if(r instanceof At){const i=this.optimisticallyEditComment(e,r);try{await this.pullRequestModel.editReviewComment(r._rawComment,r.body instanceof b.MarkdownString?r.body.value:r.body)}catch(a){b.window.showErrorMessage(`Editing comment failed ${a}`),e.comments=e.comments.map(h=>h instanceof er&&h.id===i?new At(r._rawComment,e):h)}}else this.createOrReplyComment(e,r.body instanceof b.MarkdownString?r.body.value:r.body,!1)}async deleteComment(e,r){r instanceof At?await this.pullRequestModel.deleteReviewComment(r.commentId):e.comments=e.comments.filter(i=>!(i instanceof er&&i.id===r.id)),await this.pullRequestModel.validateDraftMode()}gitRelativeRootPath(e){return c.relative(this._folderReposManager.repository.rootUri.path,e).replace(/\\/g,"/")}async startReview(e,r){const i=e.comments.length,a=this.optimisticallyAddComment(e,r,!0);try{if(i)await this.reply(e,r,!1);else{const h=this.gitRelativeRootPath(e.uri.path),x=this.getCommentSide(e);this._pendingCommentThreadAdds.push(e),await this.pullRequestModel.createReviewThread(r,h,e.range.start.line+1,x)}this.setContextKey(!0)}catch(h){b.window.showErrorMessage(`Starting a review failed: ${h}`),e.comments=e.comments.map(x=>(x instanceof er&&x.id===a&&(x.mode=b.CommentMode.Editing),x))}}async openReview(){await lr.createOrShow(this._folderReposManager.context.extensionUri,this._folderReposManager,this.pullRequestModel),lr.scrollToReview(),this._folderReposManager.telemetry.sendTelemetryEvent("pr.openDescription")}optimisticallyAddComment(e,r,i){const a=this._folderReposManager.getCurrentUser(this.pullRequestModel),h=new er(e,r,i,a);return this.updateCommentThreadComments(e,[...e.comments,h]),h.id}updateCommentThreadComments(e,r){e.comments=r,pi(e)}async createCommentOnResolve(e,r){const i=await this.pullRequestModel.getPendingReviewId();await this.createOrReplyComment(e,r,!i)}async resolveReviewThread(e,r){try{r&&await this.createCommentOnResolve(e,r),await this.pullRequestModel.resolveReviewThread(e.threadId)}catch(i){b.window.showErrorMessage(`Resolving conversation failed: ${i}`)}}async unresolveReviewThread(e,r){try{r&&await this.createCommentOnResolve(e,r),await this.pullRequestModel.unresolveReviewThread(e.threadId)}catch(i){b.window.showErrorMessage(`Unresolving conversation failed: ${i}`)}}async toggleReaction(e,r){e.parent.uri.scheme==="pr"&&(e.reactions&&!e.reactions.find(i=>i.label===r.label&&!!i.authorHasReacted)?await this.pullRequestModel.addCommentReaction(e._rawComment.graphNodeId,r):await this.pullRequestModel.deleteCommentReaction(e._rawComment.graphNodeId,r))}setContextKey(e){b.commands.executeCommand("setContext","prInDraft",e)}dispose(){Object.keys(this._commentThreadCache).forEach(e=>{this._commentThreadCache[e].forEach(r=>r.dispose())}),ye(this._commentHandlerId),this._disposables.forEach(e=>e.dispose())}}var df=Object.defineProperty,Ao=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?df(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class ff{constructor(e){this.commentsController=e,Ao(this,"_prCommentHandlers",{}),Ao(this,"_prCommentingRangeProviders",{}),this.commentsController.commentingRangeProvider=this,this.commentsController.reactionHandler=this.toggleReaction.bind(this)}async provideCommentingRanges(e,r){const i=e.uri,a=Me(i);return!a||!this._prCommentingRangeProviders[a.prNumber]?void 0:this._prCommentingRangeProviders[a.prNumber].provideCommentingRanges.bind(this._prCommentingRangeProviders[a.prNumber])(e,r)}async toggleReaction(e,r){const i=e.parent.uri,a=Me(i);return!a||!this._prCommentHandlers[a.prNumber]||!this._prCommentHandlers[a.prNumber].handler.toggleReaction?void 0:this._prCommentHandlers[a.prNumber].handler.toggleReaction.bind(this._prCommentHandlers[a.prNumber].handler)(e,r)}registerCommentController(e,r,i){if(this._prCommentHandlers[e])return this._prCommentHandlers[e].refCount+=1,this._prCommentHandlers[e];const a=new cf(r,i,this.commentsController);return this._prCommentHandlers[e]={handler:a,refCount:1,dispose:()=>{!this._prCommentHandlers[e]||(this._prCommentHandlers[e].refCount-=1,this._prCommentHandlers[e].refCount===0&&(this._prCommentHandlers[e].handler.dispose(),delete this._prCommentHandlers[e]))}},this._prCommentHandlers[e]}registerCommentingRangeProvider(e,r){return this._prCommentingRangeProviders[e]=r,{dispose:()=>{delete this._prCommentingRangeProviders[e]}}}dispose(){Object.keys(this._prCommentHandlers).forEach(e=>{this._prCommentHandlers[e].handler.dispose()}),this._prCommentingRangeProviders={},this._prCommentHandlers={}}}var hf=nt(9967),pf=nt.n(hf),mf=Object.defineProperty,fr=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?mf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const Io=20,fi="GraphQL";var zt;(function(t){t.Unknown="unknown",t.Admin="ADMIN",t.Maintain="MAINTAIN",t.Read="READ",t.Triage="TRIAGE",t.Write="WRITE"})(zt||(zt={}));const ot=class{constructor(t,e,r){this.remote=t,this._credentialStore=e,this._telemetry=r,fr(this,"_initialized",!1),fr(this,"_hub"),fr(this,"_metadata"),fr(this,"_toDispose",[]),fr(this,"commentsController"),fr(this,"commentsHandler"),fr(this,"_pullRequestModels",new Map),fr(this,"isGitHubDotCom"),fr(this,"query",async i=>{const a=this.hub&&this.hub.graphql;if(!a)return n.debug(`Not available for query: ${i}`,fi),{data:null,loading:!1,networkStatus:St.error,stale:!1};n.debug(`Request: ${JSON.stringify(i,null,2)}`,fi);const h=await a.query(i);return n.debug(`Response: ${JSON.stringify(h,null,2)}`,fi),h}),fr(this,"mutate",async i=>{const a=this.hub&&this.hub.graphql;if(!a)return n.debug(`Not available for query: ${i}`,fi),{data:null,loading:!1,networkStatus:St.error,stale:!1};n.debug(`Request: ${JSON.stringify(i,null,2)}`,fi);const h=await a.mutate(i);return n.debug(`Response: ${JSON.stringify(h,null,2)}`,fi),h}),this.isGitHubDotCom=t.host.toLowerCase()==="github.com"}get hub(){if(!this._hub)throw this._initialized?new mn("Not authenticated."):new Error("Call ensure() before accessing this property.");return this._hub}equals(t){return this.remote.equals(t.remote)}async ensureCommentsController(){try{if(this.commentsController)return;await this.ensure(),this.commentsController=b.comments.createCommentController(`github-browse-${this.remote.normalizedHost}`,`GitHub Pull Request for ${this.remote.normalizedHost}`),this.commentsHandler=new ff(this.commentsController),this._toDispose.push(this.commentsHandler),this._toDispose.push(this.commentsController)}catch(t){console.log(t)}}dispose(){this._toDispose.forEach(t=>t.dispose())}get octokit(){return this.hub&&this.hub.octokit}get schema(){return pf()}async getMetadata(){var t;if(n.debug("Fetch metadata - enter",ot.ID),this._metadata)return n.debug(`Fetch metadata ${(t=this._metadata.owner)==null?void 0:t.login}/${this._metadata.name} - done`,ot.ID),this._metadata;const{octokit:e,remote:r}=await this.ensure(),i=await e.repos.get({owner:r.owner,repo:r.repositoryName});return n.debug(`Fetch metadata ${r.owner}/${r.repositoryName} - done`,ot.ID),this._metadata={...i.data,currentUser:e.currentUser},this._metadata}async resolveRemote(){try{const{clone_url:t}=await this.getMetadata();this.remote=Mo(this.remote.remoteName,t,this.remote.gitProtocol)}catch(t){n.appendLine(`Unable to resolve remote: ${t}`)}}async ensure(){return this._initialized=!0,this._credentialStore.isAuthenticated(this.remote.authProviderId)?this._hub=this._credentialStore.getHub(this.remote.authProviderId):this._hub=await this._credentialStore.showSignInNotification(this.remote.authProviderId),this}async getDefaultBranch(){try{n.debug("Fetch default branch - enter",ot.ID);const{octokit:t,remote:e}=await this.ensure(),{data:r}=await t.repos.get({owner:e.owner,repo:e.repositoryName});return n.debug("Fetch default branch - done",ot.ID),r.default_branch}catch(t){n.appendLine(`GitHubRepository> Fetching default branch failed: ${t}`)}return"master"}async getRepoAccessAndMergeMethods(){var t,e,r,i,a;try{n.debug("Fetch repo permissions and available merge methods - enter",ot.ID);const{octokit:h,remote:x}=await this.ensure(),{data:B}=await h.repos.get({owner:x.owner,repo:x.repositoryName});return n.debug("Fetch repo permissions and available merge methods - done",ot.ID),{hasWritePermission:(e=(t=B.permissions)==null?void 0:t.push)!=null?e:!1,mergeMethodsAvailability:{merge:(r=B.allow_merge_commit)!=null?r:!1,squash:(i=B.allow_squash_merge)!=null?i:!1,rebase:(a=B.allow_rebase_merge)!=null?a:!1}}}catch(h){n.appendLine(`GitHubRepository> Fetching repo permissions and available merge methods failed: ${h}`)}return{hasWritePermission:!0,mergeMethodsAvailability:{merge:!0,squash:!0,rebase:!0}}}async getAllPullRequests(t){try{n.debug("Fetch all pull requests - enter",ot.ID);const{octokit:e,remote:r}=await this.ensure(),i=await e.pulls.list({owner:r.owner,repo:r.repositoryName,per_page:Io,page:t||1}),a=!!i.headers.link&&i.headers.link.indexOf('rel="next"')>-1;if(!i.data)return n.appendLine(`Warning: no result data for ${r.owner}/${r.repositoryName} Status: ${i.status}`),{items:[],hasMorePages:!1};const h=i.data.map(x=>x.head.repo?this.createOrUpdatePullRequestModel(Yr(x,this)):(n.appendLine("GitHubRepository> The remote branch for this PR was already deleted."),null)).filter(x=>x!==null);return n.debug("Fetch all pull requests - done",ot.ID),{items:h,hasMorePages:a}}catch(e){if(n.appendLine(`Fetching all pull requests failed: ${e}`,ot.ID),e.code===404)b.window.showWarningMessage(`Fetching pull requests for remote '${this.remote.remoteName}' failed, please check if the url ${this.remote.url} is valid.`);else throw e}}async getPullRequestForBranch(t){try{n.debug("Fetch pull requests for branch - enter",ot.ID);const{octokit:e,remote:r}=await this.ensure(),a=(await e.pulls.list({owner:r.owner,repo:r.repositoryName,head:`${r.owner}:${t}`})).data.map(h=>this.createOrUpdatePullRequestModel(Yr(h,this))).filter(h=>h!==null);return n.debug("Fetch pull requests for branch - done",ot.ID),a}catch(e){if(n.appendLine(`Fetching pull requests for branch failed: ${e}`,ot.ID),e.code===404)b.window.showWarningMessage(`Fetching pull requests for remote '${this.remote.remoteName}' failed, please check if the url ${this.remote.url} is valid.`);else throw e}}getRepoForIssue(t,e){if(e.repositoryName&&e.repositoryUrl&&(t.remote.owner!==e.repositoryOwner||t.remote.repositoryName!==e.repositoryName)){const r=new vn(e.repositoryName,e.repositoryUrl,new it(e.repositoryUrl));t=new ot(r,this._credentialStore,this._telemetry)}return t}async getIssuesForUserByMilestone(t){var e;try{n.debug("Fetch all issues - enter",ot.ID);const{query:r,remote:i,schema:a}=await this.ensure(),{data:h}=await r({query:a.GetMilestones,variables:{owner:i.owner,name:i.repositoryName,assignee:(e=this._credentialStore.getCurrentUser(i.authProviderId))==null?void 0:e.login}});n.debug("Fetch all issues - done",ot.ID);const x=[];let B=this;return h&&h.repository.milestones&&h.repository.milestones.nodes&&h.repository.milestones.nodes.forEach($=>{const W=ks($);if(W){const re=[];$.issues.edges.forEach(le=>{const de=Es(le.node,this);B=this.getRepoForIssue(B,de),re.push(new Bt(B,B.remote,de))}),x.push({milestone:W,issues:re})}}),{items:x,hasMorePages:h.repository.milestones.pageInfo.hasNextPage}}catch(r){n.appendLine(`GithubRepository> Unable to fetch issues: ${r}`);return}}async getIssuesWithoutMilestone(t){var e;try{n.debug("Fetch issues without milestone- enter",ot.ID);const{query:r,remote:i,schema:a}=await this.ensure(),{data:h}=await r({query:a.IssuesWithoutMilestone,variables:{owner:i.owner,name:i.repositoryName,assignee:(e=this._credentialStore.getCurrentUser(i.authProviderId))==null?void 0:e.login}});n.debug("Fetch issues without milestone - done",ot.ID);const x=[];let B=this;return h&&h.repository.issues.edges&&h.repository.issues.edges.forEach($=>{if($.node.id){const W=Es($.node,this);B=this.getRepoForIssue(B,W),x.push(new Bt(B,B.remote,W))}}),{items:x,hasMorePages:h.repository.issues.pageInfo.hasNextPage}}catch(r){n.appendLine(`GithubRepository> Unable to fetch issues without milestone: ${r}`);return}}async getIssues(t,e){try{n.debug("Fetch issues with query - enter",ot.ID);const{query:r,schema:i}=await this.ensure(),{data:a}=await r({query:i.Issues,variables:{query:`${e} type:issue`}});n.debug("Fetch issues with query - done",ot.ID);const h=[];let x=this;return a&&a.search.edges&&a.search.edges.forEach(B=>{if(B.node.id){const $=Es(B.node,this);x=this.getRepoForIssue(x,$),h.push(new Bt(x,x.remote,$))}}),{items:h,hasMorePages:a.search.pageInfo.hasNextPage}}catch(r){n.appendLine(`GithubRepository> Unable to fetch issues with query: ${r}`);return}}async getMaxIssue(){try{n.debug("Fetch max issue - enter",ot.ID);const{query:t,remote:e,schema:r}=await this.ensure(),{data:i}=await t({query:r.MaxIssue,variables:{owner:e.owner,name:e.repositoryName}});return n.debug("Fetch max issue - done",ot.ID),i&&i.repository.issues.edges.length===1?i.repository.issues.edges[0].node.number:void 0}catch(t){n.appendLine(`GithubRepository> Unable to fetch issues with query: ${t}`);return}}async getViewerPermission(){try{n.debug("Fetch viewer permission - enter",ot.ID);const{query:t,remote:e,schema:r}=await this.ensure(),{data:i}=await t({query:r.GetViewerPermission,variables:{owner:e.owner,name:e.repositoryName}});return n.debug("Fetch viewer permission - done",ot.ID),xf(i)}catch(t){return n.appendLine(`GithubRepository> Unable to fetch viewer permission: ${t}`),zt.Unknown}}async fork(){try{n.debug("Fork repository",ot.ID);const{octokit:t,remote:e}=await this.ensure();return(await t.repos.createFork({owner:e.owner,repo:e.repositoryName})).data.clone_url}catch(t){n.appendLine(`GitHubRepository> Forking repository failed: ${t}`);return}}async getRepositoryForkDetails(){try{n.debug("Fetch viewer permission - enter",ot.ID);const{query:t,remote:e,schema:r}=await this.ensure(),{data:i}=await t({query:r.GetViewerPermission,variables:{owner:e.owner,name:e.repositoryName}});return n.debug("Fetch viewer permission - done",ot.ID),i.repository}catch(t){n.appendLine(`GithubRepository> Unable to fetch viewer permission: ${t}`);return}}async getAuthenticatedUser(){const{octokit:t}=await this.ensure();return(await t.users.getAuthenticated({})).data.login}async getPullRequestsForCategory(t,e){try{n.debug(`Fetch pull request category ${t} - enter`,ot.ID);const{octokit:r,remote:i}=await this.ensure(),a=await r.users.getAuthenticated({}),h=await r.repos.get({owner:this.remote.owner,repo:this.remote.repositoryName}),{data:x,headers:B}=await r.search.issuesAndPullRequests({q:Mf(h.data.full_name,a.data.login,t),per_page:Io,page:e||1}),$=[];x.items.forEach(de=>{$.push(new Promise(async(we,Re)=>{const Ee=await r.pulls.get({owner:i.owner,repo:i.repositoryName,pull_number:de.number});we(Ee)}))});const W=!!B.link&&B.link.indexOf('rel="next"')>-1,le=(await Promise.all($)).map(de=>de.data.head.repo?this.createOrUpdatePullRequestModel(Yr(de.data,this)):(n.appendLine("GitHubRepository> The remote branch for this PR was already deleted."),null)).filter(de=>de!==null);return n.debug(`Fetch pull request category ${t} - done`,ot.ID),{items:le,hasMorePages:W}}catch(r){if(n.appendLine(`GitHubRepository> Fetching all pull requests failed: ${r}`),r.code===404)b.window.showWarningMessage(`Fetching pull requests for remote ${this.remote.remoteName}, please check if the url ${this.remote.url} is valid.`);else throw r}}createOrUpdatePullRequestModel(t){let e=this._pullRequestModels.get(t.number);return e?e.update(t):(e=new Dr(this._telemetry,this,this.remote,t),this._pullRequestModels.set(t.number,e)),e}async createPullRequest(t){const{octokit:e}=await this.ensure(),{data:r}=await e.pulls.create(t);return this.createOrUpdatePullRequestModel(Yr(r,this))}async getPullRequest(t){try{n.debug(`Fetch pull request ${t} - enter`,ot.ID);const{query:e,remote:r,schema:i}=await this.ensure(),{data:a}=await e({query:i.PullRequest,variables:{owner:r.owner,name:r.repositoryName,number:t}});return n.debug(`Fetch pull request ${t} - done`,ot.ID),this.createOrUpdatePullRequestModel(qo(a,this))}catch(e){n.appendLine(`GithubRepository> Unable to fetch PR: ${e}`);return}}async getIssue(t,e=!1){try{n.debug(`Fetch issue ${t} - enter`,ot.ID);const{query:r,remote:i,schema:a}=await this.ensure(),{data:h}=await r({query:e?a.IssueWithComments:a.Issue,variables:{owner:i.owner,name:i.repositoryName,number:t}});return n.debug(`Fetch issue ${t} - done`,ot.ID),new Bt(this,i,qo(h,this))}catch(r){n.appendLine(`GithubRepository> Unable to fetch PR: ${r}`);return}}async listBranches(t,e){const{octokit:r}=await this.ensure();n.debug(`List branches for ${t}/${e} - enter`,ot.ID);try{let i=[];const a=new Date().getTime();for await(const h of r.paginate.iterator("GET /repos/:owner/:repo/branches",{owner:t,repo:e,per_page:100}))if(i.push(...h.data.map(x=>x.name)),new Date().getTime()-a>5e3)break;return n.debug(`List branches for ${t}/${e} - done`,ot.ID),i}catch(i){throw n.debug(`List branches for ${t}/${e} failed`,ot.ID),i}}async deleteBranch(t){const{octokit:e}=await this.ensure();if(!!t.validatePullRequestModel("Unable to delete branch"))try{await e.git.deleteRef({owner:t.head.repositoryCloneUrl.owner,repo:t.head.repositoryCloneUrl.repositoryName,ref:`heads/${t.head.ref}`})}catch(r){n.appendLine(`GithubRepository> Unable to delete branch: ${r}`);return}}async getMentionableUsers(){n.debug("Fetch mentionable users - enter",ot.ID);const{query:t,remote:e,schema:r}=await this.ensure();let i=null,a=!1;const h=[];do try{const x=await t({query:r.GetMentionableUsers,variables:{owner:e.owner,name:e.repositoryName,first:100,after:i}});h.push(...x.data.repository.mentionableUsers.nodes.map(B=>({login:B.login,avatarUrl:B.avatarUrl,name:B.name,url:B.url,email:B.email}))),a=x.data.repository.mentionableUsers.pageInfo.hasNextPage,i=x.data.repository.mentionableUsers.pageInfo.endCursor}catch(x){return n.debug(`Unable to fetch mentionable users: ${x}`,ot.ID),h}while(a);return h}async getAssignableUsers(){n.debug("Fetch assignable users - enter",ot.ID);const{query:t,remote:e,schema:r}=await this.ensure();let i=null,a=!1;const h=[];do try{const x=await t({query:r.GetAssignableUsers,variables:{owner:e.owner,name:e.repositoryName,first:100,after:i}});h.push(...x.data.repository.assignableUsers.nodes.map(B=>({login:B.login,avatarUrl:B.avatarUrl,name:B.name,url:B.url,email:B.email}))),a=x.data.repository.assignableUsers.pageInfo.hasNextPage,i=x.data.repository.assignableUsers.pageInfo.endCursor}catch(x){return n.debug(`Unable to fetch assignable users: ${x}`,ot.ID),x.graphQLErrors&&x.graphQLErrors.length>0&&x.graphQLErrors[0].type==="INSUFFICIENT_SCOPES"&&b.window.showWarningMessage(`GitHub user features will not work. ${x.graphQLErrors[0].message}`),h}while(a);return h}async compareCommits(t,e){const{remote:r,octokit:i}=await this.ensure(),{data:a}=await i.repos.compareCommits({repo:r.repositoryName,owner:r.owner,base:t,head:e});return a}isCurrentUser(t){return this._credentialStore.isCurrentUser(t)}};let hi=ot;fr(hi,"ID","GitHubRepository");function Di(t,e,r,i){const a=i.createCommentThread(t,e,[]);return a.threadId=r.id,a.comments=r.comments.map(h=>new At(h,a)),a.isResolved=r.isResolved,r.viewerCanResolve&&!r.isResolved?a.contextValue="canResolve":r.viewerCanUnresolve&&r.isResolved&&(a.contextValue="canUnresolve"),pi(a),a.collapsibleState=r.isResolved?b.CommentThreadCollapsibleState.Collapsed:b.CommentThreadCollapsibleState.Expanded,a}function Do(t,e){e.viewerCanResolve&&!e.isResolved?t.contextValue="canResolve":e.viewerCanUnresolve&&e.isResolved&&(t.contextValue="canUnresolve"),t.isResolved!==e.isResolved&&(t.isResolved=e.isResolved,t.collapsibleState=e.isResolved?b.CommentThreadCollapsibleState.Collapsed:b.CommentThreadCollapsibleState.Expanded),t.comments=e.comments.map(r=>new At(r,t)),pi(t)}function pi(t){if(t.isResolved){t.label="This thread has been marked as resolved";return}if(t.comments.length){const e=A(t.comments,r=>r.author.name).map(r=>`@${r.author.name}`).join(", ");t.label=`Participants: ${e}`}else t.label="Start discussion"}function vf(t){return kn().map(e=>{if(!t)return{label:e.label,authorHasReacted:!1,count:0,iconPath:e.icon||""};const r=t.find(i=>i.label===e.label);return r?{label:r.label,authorHasReacted:r.viewerHasReacted,count:r.count,iconPath:e.icon||""}:{label:e.label,authorHasReacted:!1,count:0,iconPath:e.icon||""}})}function gf(t,e){t.reactions=vf(e)}function Fo(t,e){e||(t.comments=t.comments.map(r=>(r instanceof At&&(r._rawComment.isDraft=!1),r.label=void 0,r)))}function $r(t,e){var r;return{login:t.login,url:t.html_url,avatarUrl:Ms(t.avatar_url,(r=t.gravatar_id)!=null?r:void 0,e.remote.authProviderId)}}function Oo(t){return{label:t.label,ref:t.ref,sha:t.sha,repo:{cloneUrl:t.repo.clone_url}}}function Yr(t,e){const{number:r,body:i,title:a,html_url:h,user:x,state:B,assignees:$,created_at:W,updated_at:re,head:le,base:de,labels:we,node_id:Re,id:Ee,draft:Te}=t;return{id:Ee,graphNodeId:Re,number:r,body:i!=null?i:"",title:a,url:h,user:$r(x,e),state:B,merged:t.merged||!1,assignees:$?$.map(Le=>$r(Le,e)):void 0,createdAt:W,updatedAt:re,head:Oo(le),base:Oo(de),mergeable:t.mergeable?Ct.Mergeable:Ct.NotMergeable,labels:we.map(Le=>({name:"",color:"",...Le})),isDraft:Te,suggestedReviewers:[]}}function bf(t,e){const{number:r,body:i,title:a,html_url:h,user:x,state:B,assignees:$,created_at:W,updated_at:re,labels:le,node_id:de,id:we}=t;return{id:we,graphNodeId:de,number:r,body:i!=null?i:"",title:a,url:h,user:$r(x,e),state:B,assignees:$?$.map(Ee=>$r(Ee,e)):void 0,createdAt:W,updatedAt:re,labels:le.map(Ee=>{var Te,Ie;return typeof Ee=="string"?{name:Ee,color:""}:{name:(Te=Ee.name)!=null?Te:"",color:(Ie=Ee.color)!=null?Ie:""}}),suggestedReviewers:[]}}function yf(t,e){return{event:mt.Reviewed,comments:[],submittedAt:t.submitted_at,body:t.body,bodyHTML:t.body,htmlUrl:t.html_url,user:$r(t.user,e),authorAssociation:t.user.type,state:t.state,id:t.id}}function Bo(t){const e=[],r=Ve(t.diffHunk);let i=r.next();for(;!i.done;){const a=i.value;e.push(a),i=r.next()}return e}function Gm(t,e){var r;const i={url:t.url,id:t.id,pullRequestReviewId:(r=t.pull_request_review_id)!=null?r:void 0,diffHunk:t.diff_hunk,path:t.path,position:t.position,commitId:t.commit_id,originalPosition:t.original_position,originalCommitId:t.original_commit_id,user:$r(t.user,e),body:t.body,createdAt:t.created_at,htmlUrl:t.html_url,inReplyToId:t.in_reply_to_id,graphNodeId:t.node_id},a=Bo(i);return i.diffHunks=a,i}function wf(t){switch(t){case"PullRequestCommit":return mt.Committed;case"LabeledEvent":return mt.Labeled;case"MilestonedEvent":return mt.Milestoned;case"AssignedEvent":return mt.Assigned;case"HeadRefDeletedEvent":return mt.HeadRefDeleted;case"IssueComment":return mt.Commented;case"PullRequestReview":return mt.Reviewed;case"MergedEvent":return mt.Merged;default:return mt.Other}}function wn(t){return{id:t.id,isResolved:t.isResolved,viewerCanResolve:t.viewerCanResolve,viewerCanUnresolve:t.viewerCanUnresolve,path:t.path,line:t.line,originalLine:t.originalLine,diffSide:t.diffSide,isOutdated:t.isOutdated,comments:t.comments.nodes.map(e=>mi(e,t.isResolved))}}function mi(t,e){const r={id:t.databaseId,url:t.url,body:t.body,bodyHTML:t.bodyHTML,path:t.path,canEdit:t.viewerCanDelete,canDelete:t.viewerCanDelete,pullRequestReviewId:t.pullRequestReview&&t.pullRequestReview.databaseId,diffHunk:t.diffHunk,position:t.position,commitId:t.commit.oid,originalPosition:t.originalPosition,originalCommitId:t.originalCommit&&t.originalCommit.oid,user:t.author,createdAt:t.createdAt,htmlUrl:t.url,graphNodeId:t.id,isDraft:t.state==="PENDING",inReplyToId:t.replyTo&&t.replyTo.databaseId,reactions:Uo(t.reactionGroups),isResolved:e},i=Bo(r);return r.diffHunks=i,r}function Lo(t){return{id:t.databaseId,url:t.url,body:t.body,bodyHTML:t.bodyHTML,canEdit:t.viewerCanDelete,canDelete:t.viewerCanDelete,user:t.author,createdAt:t.createdAt,htmlUrl:t.url,graphNodeId:t.id,diffHunk:""}}function Uo(t){const e=kn().reduce((i,a)=>(i[a.title]=a,i),{});return t.filter(i=>i.users.totalCount>0).map(i=>({label:e[i.content].label,count:i.users.totalCount,icon:e[i.content].icon,viewerHasReacted:i.viewerHasReacted}))}function _n(t,e,r){if(!!r)return{label:`${r.owner.login}:${t}`,ref:t,sha:e,repo:{cloneUrl:r.url}}}function hr(t,e){return t?{login:t.login,url:t.url,avatarUrl:Ms(t.avatarUrl,void 0,e.remote.authProviderId),email:t.email}:{login:"",url:""}}function ks(t){if(!!t)return{title:t.title,dueOn:t.dueOn,createdAt:t.createdAt,id:t.id}}function Ss(t){switch(t){case"UNKNOWN":return Ct.Unknown;case"MERGEABLE":return Ct.Mergeable;case"CONFLICTING":return Ct.NotMergeable}}function qo(t,e){var r,i,a,h,x,B;const $=t.repository.pullRequest;return{id:$.databaseId,graphNodeId:$.id,url:$.url,number:$.number,state:$.state,body:$.body,bodyHTML:$.bodyHTML,title:$.title,createdAt:$.createdAt,updatedAt:$.updatedAt,isRemoteHeadDeleted:!$.headRef,head:_n((i=(r=$.headRef)==null?void 0:r.name)!=null?i:$.headRefName,$.headRefOid,$.headRepository),isRemoteBaseDeleted:!$.baseRef,base:_n((h=(a=$.baseRef)==null?void 0:a.name)!=null?h:$.baseRefName,$.baseRefOid,$.baseRepository),user:hr($.author,e),merged:$.merged,mergeable:Ss($.mergeable),labels:$.labels.nodes,isDraft:$.isDraft,suggestedReviewers:$o($.suggestedReviewers),comments:_f((x=$.comments)==null?void 0:x.nodes,e),milestone:ks($.milestone),assignees:(B=$.assignees)==null?void 0:B.nodes.map(W=>hr(W,e))}}function _f(t,e){if(!t)return;const r=[];for(const i of t)r.push({author:hr(i.author,e),body:i.body,databaseId:i.databaseId});return r}function Es(t,e){var r,i,a,h;return{id:t.databaseId,graphNodeId:t.id,url:t.url,number:t.number,state:t.state,body:t.body,bodyHTML:t.bodyHTML,title:t.title,createdAt:t.createdAt,updatedAt:t.updatedAt,assignees:(r=t.assignees)==null?void 0:r.nodes.map(x=>hr(x,e)),user:hr(t.author,e),labels:t.labels.nodes,repositoryName:(i=t.repository)==null?void 0:i.name,repositoryOwner:(a=t.repository)==null?void 0:a.owner.login,repositoryUrl:(h=t.repository)==null?void 0:h.url}}function Vm(t,e){var r,i,a,h;const x=t;return{id:x.databaseId,graphNodeId:x.id,url:x.url,number:x.number,state:x.state,body:x.body,bodyHTML:x.bodyHTML,title:x.title,createdAt:x.createdAt,updatedAt:x.updatedAt,isRemoteHeadDeleted:!x.headRef,head:_n((i=(r=x.headRef)==null?void 0:r.name)!=null?i:x.headRefName,x.headRefOid,x.headRepository),isRemoteBaseDeleted:!x.baseRef,base:_n((h=(a=x.baseRef)==null?void 0:a.name)!=null?h:x.baseRefName,x.baseRefOid,x.baseRepository),user:hr(x.author,e),merged:x.merged,mergeable:Ss(x.mergeable),labels:x.labels.nodes,isDraft:x.isDraft,suggestedReviewers:$o(x.suggestedReviewers),milestone:ks(x.milestone)}}function $o(t){return t?t.map(r=>({login:r.reviewer.login,avatarUrl:r.reviewer.avatarUrl,name:r.reviewer.name,url:r.reviewer.url,isAuthor:r.isAuthor,isCommenter:r.isCommenter})).sort(Ho):[]}function Ho(t,e){return t.login.localeCompare(e.login,"en",{sensitivity:"accent"})}function kf(t,e){return{event:mt.Reviewed,comments:t.comments.nodes.map(r=>mi(r,!1)).filter(r=>!r.inReplyToId),submittedAt:t.submittedAt,body:t.body,bodyHTML:t.bodyHTML,htmlUrl:t.url,user:hr(t.author,e),authorAssociation:t.authorAssociation,state:t.state,id:t.databaseId}}function Go(t,e){const r=[];return t.forEach(i=>{const a=wf(i.__typename);switch(a){case mt.Commented:const h=i;r.push({htmlUrl:h.url,body:h.body,bodyHTML:h.bodyHTML,user:hr(h.author,e),event:a,canEdit:h.viewerCanUpdate,canDelete:h.viewerCanDelete,id:h.databaseId,graphNodeId:h.id,createdAt:h.createdAt});return;case mt.Reviewed:const x=i;r.push({event:a,comments:[],submittedAt:x.submittedAt,body:x.body,bodyHTML:x.bodyHTML,htmlUrl:x.url,user:hr(x.author,e),authorAssociation:x.authorAssociation,state:x.state,id:x.databaseId});return;case mt.Committed:const B=i;r.push({id:B.databaseId,event:a,sha:B.commit.oid,author:B.commit.author.user?hr(B.commit.author.user,e):{login:B.commit.committer.name},htmlUrl:B.url,message:B.commit.message,authoredDate:new Date(B.commit.authoredDate)});return;case mt.Merged:const $=i;r.push({id:$.databaseId,event:a,user:hr($.actor,e),createdAt:$.createdAt,mergeRef:$.mergeRef.name,sha:$.commit.oid,commitUrl:$.commit.commitUrl,url:$.url,graphNodeId:$.id});return;case mt.Assigned:const W=i;r.push({id:W.databaseId,event:a,user:W.user,actor:W.actor});return;case mt.HeadRefDeleted:const re=i;r.push({id:re.id,event:a,actor:re.actor,createdAt:re.createdAt,headRef:re.headRefName});return;default:break}}),r}function Sf(t,e){return{login:t.user.login,name:t.user.name,avatarUrl:t.user.avatarUrl?Ms(t.user.avatarUrl,void 0,e.remote.authProviderId):void 0,url:t.user.url,bio:t.user.bio,company:t.user.company,location:t.user.location,commitContributions:Ef(t.user.contributionsCollection)}}function Ef(t){const e=[];return t.commitContributionsByRepository.forEach(r=>{r.contributions.nodes.forEach(i=>{e.push({createdAt:new Date(i.occurredAt),repoNameWithOwner:r.repository.nameWithOwner})})}),e}function kn(){return[{title:"THUMBS_UP",label:"\u{1F44D}",icon:Sr.icons.reactions.THUMBS_UP},{title:"THUMBS_DOWN",label:"\u{1F44E}",icon:Sr.icons.reactions.THUMBS_DOWN},{title:"LAUGH",label:"\u{1F604}",icon:Sr.icons.reactions.LAUGH},{title:"HOORAY",label:"\u{1F389}",icon:Sr.icons.reactions.HOORAY},{title:"CONFUSED",label:"\u{1F615}",icon:Sr.icons.reactions.CONFUSED},{title:"HEART",label:"\u2764\uFE0F",icon:Sr.icons.reactions.HEART},{title:"ROCKET",label:"\u{1F680}",icon:Sr.icons.reactions.ROCKET},{title:"EYES",label:"\u{1F440}",icon:Sr.icons.reactions.EYES}]}function Rf(t){const e=[];return t.forEach(r=>{var i,a;Yt(r)&&e.push({login:r.author.login,name:r.author.name||""}),Ht(r)&&e.push({login:r.user.login,name:(i=r.user.name)!=null?i:r.user.login}),Zt(r)&&e.push({login:r.user.login,name:(a=r.user.name)!=null?a:r.user.login})}),e}function xf(t){return t&&t.repository.viewerPermission&&Object.values(zt).includes(t.repository.viewerPermission)?t.repository.viewerPermission:zt.Unknown}function Vo(t,e){for(const r of t.repositories)if(e.path.toLowerCase()===r.rootUri.path.toLowerCase()||e.path.toLowerCase().startsWith(r.rootUri.path.toLowerCase())&&e.path.substring(r.rootUri.path.length).startsWith("/"))return r}function jo(t,e,r){const i=e.filter(Ht).filter(x=>x.state!=="PENDING");let a=[];const h=new Map;h.set(r.login,!0);for(let x=i.length-1;x>=0;x--){const B=i[x].user;h.get(B.login)||(h.set(B.login,!0),a.push({reviewer:B,state:i[x].state}))}return t.forEach(x=>{if(!h.get(x.login))a.push({reviewer:x,state:"REQUESTED"});else{const B=a.find($=>$.reviewer.login===x.login);B.state="REQUESTED"}}),a=a.sort((x,B)=>x.state==="REQUESTED"&&B.state!=="REQUESTED"?1:B.state==="REQUESTED"&&x.state!=="REQUESTED"||x.reviewer.login.toLowerCase()<B.reviewer.login.toLowerCase()?-1:1),a}function Mf(t,e,r){return`is:pull-request ${r.replace(/\$\{user\}/g,e)} type:pr repo:${t}`}function Rs(){return b.env.remoteName==="codespaces"&&b.env.uiKind===b.UIKind.Web}function xs(){const t=b.workspace.getConfiguration("github-enterprise").get("uri","");if(t)return b.Uri.parse(t,!0)}function Fi(){return!!xs()}function Tf(t,e=200){return t?`https://www.gravatar.com/avatar/${t}?s=${e}&d=retro`:void 0}function Ms(t,e,r){var i;return r===vt.github?t:e?Tf(Xt.js("md5").update((i=e==null?void 0:e.trim())==null?void 0:i.toLowerCase()).digest("hex")):void 0}var Cf=Object.defineProperty,Lt=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Cf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const Sn=class{constructor(t,e,r,i=!1){Lt(this,"id"),Lt(this,"graphNodeId"),Lt(this,"number"),Lt(this,"title"),Lt(this,"html_url"),Lt(this,"state",dt.Open),Lt(this,"author"),Lt(this,"assignees"),Lt(this,"createdAt"),Lt(this,"updatedAt"),Lt(this,"milestone"),Lt(this,"githubRepository"),Lt(this,"remote"),Lt(this,"item"),Lt(this,"bodyHTML"),this.githubRepository=t,this.remote=e,this.item=r,i||this.update(r)}get isOpen(){return this.state===dt.Open}get userAvatar(){if(this.item)return this.item.user.avatarUrl}get userAvatarUri(){if(this.item){const t=this.userAvatar;if(t){const e=b.Uri.parse(`${t}&s=${64}`),r=e.toString;return e.toString=function(i){return r.call(e,!0)},e}}}get body(){return this.item?this.item.body:""}updateState(t){t.toLowerCase()==="open"?this.state=dt.Open:this.state=dt.Closed}update(t){this.id=t.id,this.graphNodeId=t.graphNodeId,this.number=t.number,this.title=t.title,this.bodyHTML=t.bodyHTML,this.html_url=t.url,this.author=t.user,this.milestone=t.milestone,this.createdAt=t.createdAt,this.updatedAt=t.updatedAt,this.updateState(t.state),t.assignees&&(this.assignees=t.assignees),this.item=t}equals(t){return!(!t||this.number!==t.number||this.html_url!==t.html_url)}async edit(t){try{const{mutate:e,schema:r}=await this.githubRepository.ensure(),{data:i}=await e({mutation:r.UpdatePullRequest,variables:{input:{pullRequestId:this.graphNodeId,body:t.body,title:t.title}}});return i.updatePullRequest.pullRequest}catch(e){throw new Error(U(e))}}canEdit(){const t=this.author&&this.author.login;return this.githubRepository.isCurrentUser(t)}async getIssueComments(){n.debug(`Fetch issue comments of PR #${this.number} - enter`,Sn.ID);const{octokit:t,remote:e}=await this.githubRepository.ensure(),r=await t.issues.listComments({owner:e.owner,repo:e.repositoryName,issue_number:this.number,per_page:100});return n.debug(`Fetch issue comments of PR #${this.number} - done`,Sn.ID),r.data}async createIssueComment(t){const{mutate:e,schema:r}=await this.githubRepository.ensure(),{data:i}=await e({mutation:r.AddIssueComment,variables:{input:{subjectId:this.graphNodeId,body:t}}});return Lo(i.addComment.commentEdge.node)}async editIssueComment(t,e){try{const{mutate:r,schema:i}=await this.githubRepository.ensure(),{data:a}=await r({mutation:i.EditIssueComment,variables:{input:{id:t.graphNodeId,body:e}}});return Lo(a.updateIssueComment.issueComment)}catch(r){throw new Error(U(r))}}async deleteIssueComment(t){try{const{octokit:e,remote:r}=await this.githubRepository.ensure();await e.issues.deleteComment({owner:r.owner,repo:r.repositoryName,comment_id:Number(t)})}catch(e){throw new Error(U(e))}}async addLabels(t){const{octokit:e,remote:r}=await this.githubRepository.ensure();await e.issues.addLabels({owner:r.owner,repo:r.repositoryName,issue_number:this.number,labels:t})}async removeLabel(t){const{octokit:e,remote:r}=await this.githubRepository.ensure();await e.issues.removeLabel({owner:r.owner,repo:r.repositoryName,issue_number:this.number,name:t})}async getIssueTimelineEvents(){n.debug(`Fetch timeline events of issue #${this.number} - enter`,Sn.ID);const t=this.githubRepository,{query:e,remote:r,schema:i}=await t.ensure();try{const{data:a}=await e({query:i.IssueTimelineEvents,variables:{owner:r.owner,name:r.repositoryName,number:this.number}}),h=a.repository.pullRequest.timelineItems.nodes;return Go(h,t)}catch(a){return console.log(a),[]}}};let Bt=Sn;Lt(Bt,"ID","IssueModel");var Nf=Object.defineProperty,Rt=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Nf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const pr=class extends Bt{constructor(t,e,r,i,a){super(e,r,i,!0);Rt(this,"isDraft"),Rt(this,"localBranchName"),Rt(this,"mergeBase"),Rt(this,"suggestedReviewers"),Rt(this,"_hasPendingReview",!1),Rt(this,"_onDidChangePendingReviewState",new b.EventEmitter),Rt(this,"onDidChangePendingReviewState",this._onDidChangePendingReviewState.event),Rt(this,"_reviewThreadsCache",[]),Rt(this,"_reviewThreadsCacheInitialized",!1),Rt(this,"_onDidChangeReviewThreads",new b.EventEmitter),Rt(this,"onDidChangeReviewThreads",this._onDidChangeReviewThreads.event),Rt(this,"fileChangeViewedState",{}),Rt(this,"_onDidChangeFileViewedState",new b.EventEmitter),Rt(this,"onDidChangeFileViewedState",this._onDidChangeFileViewedState.event),Rt(this,"isActive"),Rt(this,"_telemetry"),Rt(this,"isRemoteHeadDeleted"),Rt(this,"head"),Rt(this,"isRemoteBaseDeleted"),Rt(this,"base"),this._telemetry=t,this.isActive=!!a,this.update(i)}async initializeReviewThreadCache(){await this.getReviewThreads(),this._reviewThreadsCacheInitialized=!0}get reviewThreadsCache(){if(this._reviewThreadsCacheInitialized)return this._reviewThreadsCache;throw new Error("Cache has not been initialized yet")}get isMerged(){return this.state===dt.Merged}get hasPendingReview(){return this._hasPendingReview}set hasPendingReview(t){this._hasPendingReview!==t&&(this._hasPendingReview=t,this._onDidChangePendingReviewState.fire(this._hasPendingReview))}updateState(t){t.toLowerCase()==="open"?this.state=dt.Open:this.state=this.item.merged?dt.Merged:dt.Closed}update(t){super.update(t),this.isDraft=t.isDraft,this.suggestedReviewers=t.suggestedReviewers,t.isRemoteHeadDeleted!=null&&(this.isRemoteHeadDeleted=t.isRemoteHeadDeleted),t.head&&(this.head=new jt(t.head.ref,t.head.label,t.head.sha,t.head.repo.cloneUrl)),t.isRemoteBaseDeleted!=null&&(this.isRemoteBaseDeleted=t.isRemoteBaseDeleted),t.base&&(this.base=new jt(t.base.ref,t.base.label,t.base.sha,t.base.repo.cloneUrl))}isResolved(){return!!this.head}validatePullRequestModel(t){if(this.head)return!0;const e=`There is no upstream branch for Pull Request #${this.number}. View it on GitHub for more details`;return t?t+=`: ${e}`:t=e,b.window.showWarningMessage(t,"Open on GitHub").then(r=>{r&&r==="Open on GitHub"&&b.commands.executeCommand("vscode.open",b.Uri.parse(this.html_url))}),!1}async approve(t){return(await this.getPendingReviewId()?this.submitReview(Et.Approve,t):this.createReview(Et.Approve,t)).then(r=>(this._telemetry.sendTelemetryEvent("pr.approve"),r))}async requestChanges(t){return(await this.getPendingReviewId()?this.submitReview(Et.RequestChanges,t):this.createReview(Et.RequestChanges,t)).then(r=>(this._telemetry.sendTelemetryEvent("pr.requestChanges"),r))}async close(){const{octokit:t,remote:e}=await this.githubRepository.ensure(),r=await t.pulls.update({owner:e.owner,repo:e.repositoryName,pull_number:this.number,state:"closed"});return this._telemetry.sendTelemetryEvent("pr.close"),Yr(r.data,this.githubRepository)}async createReview(t,e){const{octokit:r,remote:i}=await this.githubRepository.ensure(),{data:a}=await r.pulls.createReview({owner:i.owner,repo:i.repositoryName,pull_number:this.number,event:t,body:e});return yf(a,this.githubRepository)}async submitReview(t,e){const r=await this.getPendingReviewId(),{mutate:i,schema:a}=await this.githubRepository.ensure();if(r){const{data:h}=await i({mutation:a.SubmitReview,variables:{id:r,event:t||Et.Comment,body:e}});return this.hasPendingReview=!1,await this.updateDraftModeContext(),kf(h.submitPullRequestReview.pullRequestReview,this.githubRepository)}else throw new Error(`Submitting review failed, no pending review for current pull request: ${this.number}.`)}async updateMilestone(t){const{mutate:e,schema:r}=await this.githubRepository.ensure(),i=t==="null"?null:t;try{await e({mutation:r.UpdatePullRequest,variables:{input:{pullRequestId:this.item.graphNodeId,milestoneId:i}}})}catch(a){n.appendLine(a)}}async updateAssignees(t){const{octokit:e,remote:r}=await this.githubRepository.ensure();await e.issues.addAssignees({owner:r.owner,repo:r.repositoryName,issue_number:this.number,assignees:t})}async getPendingReviewId(){const{query:t,schema:e}=await this.githubRepository.ensure(),r=await this.githubRepository.getAuthenticatedUser();try{const{data:i}=await t({query:e.GetPendingReviewId,variables:{pullRequestId:this.item.graphNodeId,author:r}});return i.node.reviews.nodes.length>0?i.node.reviews.nodes[0].id:void 0}catch(i){return}}async deleteReview(){const t=await this.getPendingReviewId(),{mutate:e,schema:r}=await this.githubRepository.ensure(),{data:i}=await e({mutation:r.DeleteReview,variables:{input:{pullRequestReviewId:t}}}),{comments:a,databaseId:h}=i.deletePullRequestReview.pullRequestReview;return this.hasPendingReview=!1,await this.updateDraftModeContext(),this.getReviewThreads(),{deletedReviewId:h,deletedReviewComments:a.nodes.map(x=>mi(x,!1))}}async startReview(t){var e;const{mutate:r,schema:i}=await this.githubRepository.ensure(),{data:a}=await r({mutation:i.StartReview,variables:{input:{body:"",pullRequestId:this.item.graphNodeId,commitOID:t||((e=this.head)==null?void 0:e.sha)}}});if(!a)throw new Error("Failed to start review");return a.addPullRequestReview.pullRequestReview.id}async createReviewThread(t,e,r,i,a){if(!this.validatePullRequestModel("Creating comment failed"))return;const h=await this.getPendingReviewId(),{mutate:x,schema:B}=await this.githubRepository.ensure(),{data:$}=await x({mutation:B.AddReviewThread,variables:{input:{path:e,body:t,pullRequestId:this.graphNodeId,pullRequestReviewId:h,line:r,side:i}}});if(!$)throw new Error("Creating review thread failed.");a||(this.hasPendingReview=!0,await this.updateDraftModeContext());const W=$.addPullRequestReviewThread.thread,re=wn(W);return this._reviewThreadsCache.push(re),this._onDidChangeReviewThreads.fire({added:[re],changed:[],removed:[]}),re}async createCommentReply(t,e,r,i){var a;if(!this.validatePullRequestModel("Creating comment failed"))return;let h=await this.getPendingReviewId();h||(h=await this.startReview(i));const{mutate:x,schema:B}=await this.githubRepository.ensure(),{data:$}=await x({mutation:B.AddComment,variables:{input:{pullRequestReviewId:h,body:t,inReplyTo:e,commitOID:i||((a=this.head)==null?void 0:a.sha)}}});if(!$)throw new Error("Creating comment reply failed.");const{comment:W}=$.addPullRequestReviewComment,re=mi(W,!1);r&&(re.isDraft=!1);const le=this._reviewThreadsCache.find(de=>de.comments.some(we=>we.graphNodeId===e));return le&&(le.comments.push(re),this._onDidChangeReviewThreads.fire({added:[],changed:[le],removed:[]})),re}async validateDraftMode(){const t=!!await this.getPendingReviewId();return t!==this.hasPendingReview&&(this.hasPendingReview=t),await this.updateDraftModeContext(),t}async updateDraftModeContext(){this.isActive&&await b.commands.executeCommand("setContext","reviewInDraftMode",this.hasPendingReview)}async editReviewComment(t,e){const{mutate:r,schema:i}=await this.githubRepository.ensure(),{data:a}=await r({mutation:i.EditComment,variables:{input:{pullRequestReviewCommentId:t.graphNodeId,body:e}}});if(!a)throw new Error("Editing review comment failed.");const h=mi(a.updatePullRequestReviewComment.pullRequestReviewComment,!!t.isResolved),x=this._reviewThreadsCache.find(B=>B.comments.some($=>$.graphNodeId===t.graphNodeId));if(x){const B=x.comments.findIndex($=>$.graphNodeId===t.graphNodeId);x.comments.splice(B,1,h),this._onDidChangeReviewThreads.fire({added:[],changed:[x],removed:[]})}return h}async deleteReviewComment(t){try{const{octokit:e,remote:r}=await this.githubRepository.ensure(),i=Number(t);await e.pulls.deleteReviewComment({owner:r.owner,repo:r.repositoryName,comment_id:i});const a=this._reviewThreadsCache.findIndex(h=>h.comments.some(x=>x.id===i));if(a>-1){const h=this._reviewThreadsCache[a],x=h.comments.findIndex(B=>B.id===i);h.comments.splice(x,1),h.comments.length===0?(this._reviewThreadsCache.splice(a,1),this._onDidChangeReviewThreads.fire({added:[],changed:[],removed:[h]})):this._onDidChangeReviewThreads.fire({added:[],changed:[h],removed:[]})}}catch(e){throw new Error(U(e))}}async getReviewRequests(){const t=this.githubRepository,{remote:e,octokit:r}=await t.ensure();return(await r.pulls.listRequestedReviewers({owner:e.owner,repo:e.repositoryName,pull_number:this.number})).data.users.map(a=>$r(a,t))}async requestReview(t){const{octokit:e,remote:r}=await this.githubRepository.ensure();await e.pulls.requestReviewers({owner:r.owner,repo:r.repositoryName,pull_number:this.number,reviewers:t})}async deleteReviewRequest(t){const{octokit:e,remote:r}=await this.githubRepository.ensure();await e.pulls.removeRequestedReviewers({owner:r.owner,repo:r.repositoryName,pull_number:this.number,reviewers:[t]})}async deleteAssignees(t){const{octokit:e,remote:r}=await this.githubRepository.ensure();await e.issues.removeAssignees({owner:r.owner,repo:r.repositoryName,issue_number:this.number,assignees:[t]})}diffThreads(t){const e=[],r=[],i=[];t.forEach(a=>{const h=this._reviewThreadsCache.find(x=>x.id===a.id);h?Ye()(a,h)||r.push(a):e.push(a)}),this._reviewThreadsCache.forEach(a=>{t.find(h=>h.id===a.id)||i.push(a)}),this._onDidChangeReviewThreads.fire({added:e,changed:r,removed:i})}async getReviewThreads(){const{remote:t,query:e,schema:r}=await this.githubRepository.ensure();try{const{data:i}=await e({query:r.PullRequestComments,variables:{owner:t.owner,name:t.repositoryName,number:this.number}}),a=i.repository.pullRequest.reviewThreads.nodes.map(h=>wn(h));return this.diffThreads(a),this._reviewThreadsCache=a,a}catch(i){return n.appendLine(`Failed to get pull request review comments: ${i}`),[]}}async getReviewComments(){const{remote:t,query:e,schema:r}=await this.githubRepository.ensure();try{const{data:i}=await e({query:r.PullRequestComments,variables:{owner:t.owner,name:t.repositoryName,number:this.number}});return i.repository.pullRequest.reviewThreads.nodes.map(h=>h.comments.nodes.map(x=>mi(x,h.isResolved),t)).reduce((h,x)=>h.concat(x),[]).sort((h,x)=>h.createdAt>x.createdAt?1:-1)}catch(i){return n.appendLine(`Failed to get pull request review comments: ${i}`),[]}}async getCommits(){try{n.debug(`Fetch commits of PR #${this.number} - enter`,pr.ID);const{remote:t,octokit:e}=await this.githubRepository.ensure(),r=await e.pulls.listCommits({pull_number:this.number,owner:t.owner,repo:t.repositoryName});return n.debug(`Fetch commits of PR #${this.number} - done`,pr.ID),r.data}catch(t){return b.window.showErrorMessage(`Fetching commits failed: ${U(t)}`),[]}}async getCommitChangedFiles(t){var e,r;try{n.debug(`Fetch file changes of commit ${t.sha} in PR #${this.number} - enter`,pr.ID);const{octokit:i,remote:a}=await this.githubRepository.ensure(),h=await i.repos.getCommit({owner:a.owner,repo:a.repositoryName,ref:t.sha});return n.debug(`Fetch file changes of commit ${t.sha} in PR #${this.number} - done`,pr.ID),(r=(e=h.data.files)==null?void 0:e.filter(x=>!!x.patch))!=null?r:[]}catch(i){return b.window.showErrorMessage(`Fetching commit file changes failed: ${U(i)}`),[]}}async getFile(t,e){var r;const{octokit:i,remote:a}=await this.githubRepository.ensure(),h=await i.repos.getContent({owner:a.owner,repo:a.repositoryName,path:t,ref:e});if(Array.isArray(h.data))throw new Error(`Unexpected array response when getting file ${t}`);const x=(r=h.data.content)!=null?r:"";return Buffer.from(x,h.data.encoding).toString()}async getTimelineEvents(){n.debug(`Fetch timeline events of PR #${this.number} - enter`,pr.ID);const{query:t,remote:e,schema:r}=await this.githubRepository.ensure();try{const{data:i}=await t({query:r.TimelineEvents,variables:{owner:e.owner,name:e.repositoryName,number:this.number}}),a=i.repository.pullRequest.timelineItems.nodes,h=Go(a,this.githubRepository);return await this.addReviewTimelineEventComments(h),h}catch(i){return console.log(i),[]}}async addReviewTimelineEventComments(t){const e=t.filter(Ht),i=(await this.getReviewThreads()).reduce((W,re)=>W.concat(re.comments),[]),a=e.reduce((W,re)=>(W[re.id]=re,re.comments=[],W),{}),h=i.reduce((W,re)=>(W[re.id]=re,W),{}),x=[];let B=i.length;for(;B-- >0;){const W=i[B];if(!W.inReplyToId){x.unshift(W);continue}const re=h[W.inReplyToId];re.childComments=re.childComments||[],re.childComments=[W,...W.childComments||[],...re.childComments]}x.forEach(W=>{const re=a[W.pullRequestReviewId];re&&(re.comments=re.comments.concat(W).concat(W.childComments||[]))});const $=e.filter(W=>W.state.toLowerCase()==="pending")[0];$&&($.comments=i.filter(W=>W.isDraft))}async getStatusChecks(){const{query:t,remote:e,schema:r}=await this.githubRepository.ensure(),a=(await t({query:r.GetChecks,variables:{owner:e.owner,name:e.repositoryName,number:this.number}})).data.repository.pullRequest.commits.nodes[0].commit.statusCheckRollup;return a?{state:a.state.toLowerCase(),statuses:a.contexts.nodes.map(h=>{var x,B,$,W;return Jt(h)?{id:h.id,url:(x=h.checkSuite.app)==null?void 0:x.url,avatar_url:(B=h.checkSuite.app)==null?void 0:B.logoUrl,state:(($=h.conclusion)==null?void 0:$.toLowerCase())||"pending",description:h.title,context:h.name,target_url:h.detailsUrl}:{id:h.id,url:h.targetUrl,avatar_url:h.avatarUrl,state:(W=h.state)==null?void 0:W.toLowerCase(),description:h.description,context:h.context,target_url:h.targetUrl}})}:{state:"pending",statuses:[]}}static async openDiffFromComment(t,e,r){const i=await e.getFileChangesInfo(),a=e.mergeBase||e.base.sha,x=(await nr(i,t.repository,a)).find(re=>re.fileName===r.path||re.previousFileName===r.path);if(!x)throw new Error("Can't find matching file");let B,$;if(e.equals(t.activePullRequest)){const re=b.Uri.file(c.resolve(t.repository.rootUri.fsPath,x.fileName));B=x.status===Ce.DELETE?se(re,void 0,void 0,"",!1,{base:!1},t.repository.rootUri):re,$=se(re,x.status===Ce.RENAME?x.previousFileName:x.fileName,void 0,x.status===Ce.ADD?"":a,!1,{base:!0},t.repository.rootUri)}else{const re=e.head.sha,le=x.status===Ce.RENAME?x.previousFileName:x.fileName;B=oe(b.Uri.file(c.resolve(t.repository.rootUri.fsPath,x.fileName)),e,x.baseCommit,re,x.fileName,!1,x.status),$=oe(b.Uri.file(c.resolve(t.repository.rootUri.fsPath,le)),e,x.baseCommit,re,x.fileName,!0,x.status)}const W=r.path.split("/");b.commands.executeCommand("vscode.diff",$,B,`${W[W.length-1]} (Pull Request)`,{})}async getFileChangesInfo(){n.debug(`Fetch file changes, base, head and merge base of PR #${this.number} - enter`,pr.ID);const t=this.githubRepository,{octokit:e,remote:r}=await t.ensure();if(!this.base){const x=await e.pulls.get({owner:r.owner,repo:r.repositoryName,pull_number:this.number});this.update(Yr(x.data,t))}if(this.item.merged){const x=await e.pulls.listFiles({repo:r.repositoryName,owner:r.owner,pull_number:this.number});return this.mergeBase=this.base.sha,x.data}const{data:i}=await e.repos.compareCommits({repo:r.repositoryName,owner:r.owner,base:`${this.base.repositoryCloneUrl.owner}:${this.base.ref}`,head:`${this.head.repositoryCloneUrl.owner}:${this.head.ref}`});this.mergeBase=i.merge_base_commit.sha;const a=300;let h=[];return i.files.length>=a?(n.debug(`More than ${a} files changed, fetching all file changes of PR #${this.number}`,pr.ID),h=await e.paginate("GET /repos/:owner/:repo/pulls/:pull_number/files",{owner:this.base.repositoryCloneUrl.owner,pull_number:this.number,repo:r.repositoryName,per_page:100})):h=i.files,n.debug(`Fetch file changes and merge base of PR #${this.number} - done, total files ${h.length} `,pr.ID),h}async getMergeability(){try{n.debug(`Fetch pull request mergeability ${this.number} - enter`,pr.ID);const{query:t,remote:e,schema:r}=await this.githubRepository.ensure(),{data:i}=await t({query:r.PullRequestMergeability,variables:{owner:e.owner,name:e.repositoryName,number:this.number}});return n.debug(`Fetch pull request mergeability ${this.number} - done`,pr.ID),Ss(i.repository.pullRequest.mergeable)}catch(t){return n.appendLine(`PullRequestModel> Unable to fetch PR Mergeability: ${t}`),Ct.Unknown}}async setReadyForReview(){try{const{mutate:t,schema:e}=await this.githubRepository.ensure(),{data:r}=await t({mutation:e.ReadyForReview,variables:{input:{pullRequestId:this.graphNodeId}}});return this._telemetry.sendTelemetryEvent("pr.readyForReview.success"),r.markPullRequestReadyForReview.pullRequest.isDraft}catch(t){throw this._telemetry.sendTelemetryErrorEvent("pr.readyForReview.failure"),t}}updateCommentReactions(t,e){const r=this._reviewThreadsCache.find(i=>i.comments.some(a=>a.graphNodeId===t));if(r){const i=r.comments.find(a=>a.graphNodeId===t);i&&(i.reactions=Uo(e),this._onDidChangeReviewThreads.fire({added:[],changed:[r],removed:[]}))}}async addCommentReaction(t,e){const r=kn().reduce((B,$)=>(B[$.label]=$.title,B),{}),{mutate:i,schema:a}=await this.githubRepository.ensure(),{data:h}=await i({mutation:a.AddReaction,variables:{input:{subjectId:t,content:r[e.label]}}});if(!h)throw new Error("Add comment reaction failed.");const x=h.addReaction.subject.reactionGroups;return this.updateCommentReactions(t,x),h}async deleteCommentReaction(t,e){const r=kn().reduce((B,$)=>(B[$.label]=$.title,B),{}),{mutate:i,schema:a}=await this.githubRepository.ensure(),{data:h}=await i({mutation:a.DeleteReaction,variables:{input:{subjectId:t,content:r[e.label]}}});if(!h)throw new Error("Delete comment reaction failed.");const x=h.removeReaction.subject.reactionGroups;return this.updateCommentReactions(t,x),h}async resolveReviewThread(t){const{mutate:e,schema:r}=await this.githubRepository.ensure(),{data:i}=await e({mutation:r.ResolveReviewThread,variables:{input:{threadId:t}}});if(!i)throw new Error("Resolve review thread failed.");const a=this._reviewThreadsCache.findIndex(h=>h.id===t);if(a>-1){const h=wn(i.resolveReviewThread.thread);this._reviewThreadsCache.splice(a,1,h),this._onDidChangeReviewThreads.fire({added:[],changed:[h],removed:[]})}}async unresolveReviewThread(t){const{mutate:e,schema:r}=await this.githubRepository.ensure(),{data:i}=await e({mutation:r.UnresolveReviewThread,variables:{input:{threadId:t}}});if(!i)throw new Error("Unresolve review thread failed.");const a=this._reviewThreadsCache.findIndex(h=>h.id===t);if(a>-1){const h=wn(i.unresolveReviewThread.thread);this._reviewThreadsCache.splice(a,1,h),this._onDidChangeReviewThreads.fire({added:[],changed:[h],removed:[]})}}async getPullRequestFileViewState(){const{query:t,schema:e,remote:r}=await this.githubRepository.ensure(),i=[];let a=null,h=!1;do{const{data:x}=await t({query:e.PullRequestFiles,variables:{owner:r.owner,name:r.repositoryName,number:this.number,after:a}});x.repository.pullRequest.files.nodes.forEach(B=>{this.fileChangeViewedState[B.path]!==B.viewerViewedState&&i.push({fileName:B.path,viewed:B.viewerViewedState}),this.fileChangeViewedState[B.path]=B.viewerViewedState}),h=x.repository.pullRequest.files.pageInfo.hasNextPage,a=x.repository.pullRequest.files.pageInfo.endCursor}while(h);return i.length&&this._onDidChangeFileViewedState.fire({changed:i}),this.fileChangeViewedState}async markFileAsViewed(t){const{mutate:e,schema:r}=await this.githubRepository.ensure();await e({mutation:r.MarkFileAsViewed,variables:{input:{path:t,pullRequestId:this.graphNodeId}}}),this.fileChangeViewedState[t]=$e.VIEWED,this._onDidChangeFileViewedState.fire({changed:[{fileName:t,viewed:$e.VIEWED}]})}async unmarkFileAsViewed(t){const{mutate:e,schema:r}=await this.githubRepository.ensure();await e({mutation:r.UnmarkFileAsViewed,variables:{input:{path:t,pullRequestId:this.graphNodeId}}}),this.fileChangeViewedState[t]=$e.UNVIEWED,this._onDidChangeFileViewedState.fire({changed:[{fileName:t,viewed:$e.UNVIEWED}]})}};let Dr=pr;Rt(Dr,"ID","PullRequestModel");const Ts="github.pullRequest.pullNotification.show";function Pf(t){t.globalState.setKeysForSync([Ts])}var Af=Object.defineProperty,zo=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Af(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class If extends No{constructor(e,r,i){super();this._extensionUri=e,this._folderRepositoryManager=r,this._item=i,zo(this,"viewType","github:activePullRequest"),zo(this,"_existingReviewers",[]),this.registerFolderRepositoryListener(),Cl(a=>{a&&this._item.update(a),this._postMessage({command:"update-state",state:this._item.state})},null,this._disposables),this._disposables.push(this._folderRepositoryManager.onDidMergePullRequest(a=>{this._postMessage({command:"update-state",state:dt.Merged})}))}registerFolderRepositoryListener(){this._disposables.push(this._folderRepositoryManager.onDidChangeActivePullRequest(e=>{if(this._folderRepositoryManager&&this._item){const r=this._item.equals(this._folderRepositoryManager.activePullRequest);this._postMessage({command:"pr.update-checkout-status",isCurrentlyCheckedOut:r})}}))}resolveWebviewView(e,r,i){this._view=e,this._webview=e.webview,super.initialize(),e.webview.options={enableScripts:!0,localResourceRoots:[this._extensionUri]},e.webview.html=this._getHtmlForWebview(),this.updatePullRequest(this._item)}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"alert":b.window.showErrorMessage(e.args);return;case"pr.close":return this.close(e);case"pr.comment":return this.createComment(e);case"pr.merge":return this.mergePullRequest(e);case"pr.deleteBranch":return this.deleteBranch(e);case"pr.readyForReview":return this.setReadyForReview(e);case"pr.approve":return this.approvePullRequest(e);case"pr.request-changes":return this.requestChanges(e);case"pr.submit":return this.submitReview(e);case"pr.openOnGitHub":return Gi(this._item,this._item._telemetry);case"pr.checkout-default-branch":return this.checkoutDefaultBranch(e)}}async checkoutDefaultBranch(e){try{const r=await this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(this._item);await this._folderRepositoryManager.checkoutDefaultBranch(r)}finally{this._replyMessage(e,{})}}async refresh(){await this.updatePullRequest(this._item)}async updatePullRequest(e){return Promise.all([this._folderRepositoryManager.resolvePullRequest(e.remote.owner,e.remote.repositoryName,e.number),this._folderRepositoryManager.getPullRequestRepositoryAccessAndMergeMethods(e),e.getTimelineEvents(),e.getReviewRequests(),this._folderRepositoryManager.getBranchNameForPullRequest(e)]).then(r=>{var i,a;const[h,x,B,$,W]=r;if(!h)throw new Error(`Fail to resolve Pull Request #${e.number} in ${e.remote.owner}/${e.remote.repositoryName}`);if(!this._view)return;this._item=h,this._view.title=`${h.title} #${e.number.toString()}`;const re=e.equals(this._folderRepositoryManager.activePullRequest),le=x.hasWritePermission,de=x.mergeMethodsAvailability,we=le||this._item.canEdit(),Re=b.workspace.getConfiguration("githubPullRequests").get("defaultMergeMethod"),Ee=Po(de,Re),Te=this._folderRepositoryManager.getCurrentUser(this._item);this._existingReviewers=jo($!=null?$:[],B!=null?B:[],h.author);const Le=h.base&&h.head&&!h.base.repositoryCloneUrl.equals(h.head.repositoryCloneUrl)&&Rs();this._postMessage({command:"pr.initialize",pullrequest:{number:h.number,title:h.title,url:h.html_url,createdAt:h.createdAt,body:h.body,bodyHTML:h.bodyHTML,labels:h.item.labels,author:{login:h.author.login,name:h.author.name,avatarUrl:h.userAvatar,url:h.author.url},state:h.state,isCurrentlyCheckedOut:re,isRemoteBaseDeleted:h.isRemoteBaseDeleted,base:h.base.label,isRemoteHeadDeleted:h.isRemoteHeadDeleted,isLocalHeadDeleted:!W,head:(a=(i=h.head)==null?void 0:i.label)!=null?a:"",canEdit:we,hasWritePermission:le,mergeable:h.item.mergeable,isDraft:h.isDraft,status:{statuses:[]},events:[],mergeMethodsAvailability:de,defaultMergeMethod:Ee,isIssue:!1,isAuthor:Te.login===h.author.login,reviewers:this._existingReviewers,continueOnGitHub:Le}})}).catch(r=>{b.window.showErrorMessage(U(r))})}close(e){b.commands.executeCommand("pr.close",this._item,e.args).then(r=>{r&&this._replyMessage(e,{value:r})})}createComment(e){this._item.createIssueComment(e.args).then(r=>{this._replyMessage(e,{value:r})})}updateReviewers(e){if(e){const r=this._existingReviewers.find(i=>e.user.login===i.reviewer.login);r?r.state=e.state:this._existingReviewers.push({reviewer:e.user,state:e.state})}}approvePullRequest(e){this._item.approve(e.args).then(r=>{this.updateReviewers(r),this._replyMessage(e,{review:r,reviewers:this._existingReviewers}),b.commands.executeCommand("pr.refreshList")},r=>{b.window.showErrorMessage(`Approving pull request failed. ${U(r)}`),this._throwError(e,`${U(r)}`)})}requestChanges(e){this._item.requestChanges(e.args).then(r=>{this.updateReviewers(r),this._replyMessage(e,{review:r,reviewers:this._existingReviewers})},r=>{b.window.showErrorMessage(`Requesting changes failed. ${U(r)}`),this._throwError(e,`${U(r)}`)})}submitReview(e){this._item.submitReview(Et.Comment,e.args).then(r=>{this.updateReviewers(r),this._replyMessage(e,{review:r,reviewers:this._existingReviewers})},r=>{b.window.showErrorMessage(`Submitting review failed. ${U(r)}`),this._throwError(e,`${U(r)}`)})}async deleteBranch(e){const r=await this._folderRepositoryManager.getBranchNameForPullRequest(this._item),i=[];if(this._item.isResolved()){const x=this._item.head.ref;await this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(this._item)===this._item.head.ref||i.push({label:`Delete remote branch ${this._item.remote.remoteName}/${x}`,description:`${this._item.remote.normalizedHost}/${this._item.remote.owner}/${this._item.remote.repositoryName}`,type:"upstream",picked:!0})}if(r){const x=b.workspace.getConfiguration("githubPullRequests").get("defaultDeletionMethod.selectLocalBranch");i.push({label:`Delete local branch ${r.branch}`,type:"local",picked:!!x});const B=b.workspace.getConfiguration("githubPullRequests").get("defaultDeletionMethod.selectRemote");r.remote&&r.createdForPullRequest&&!r.remoteInUse&&i.push({label:`Delete remote ${r.remote}, which is no longer used by any other branch`,type:"remote",picked:!!B})}if(b.env.remoteName==="codespaces"&&i.push({label:"Suspend Codespace",type:"suspend"}),!i.length){b.window.showWarningMessage(`There is no longer an upstream or local branch for Pull Request #${this._item.number}`),this._replyMessage(e,{cancelled:!0});return}const a=await b.window.showQuickPick(i,{canPickMany:!0,ignoreFocusOut:!0}),h=[];if(a){const x=this._item.equals(this._folderRepositoryManager.activePullRequest),B=a.map(async $=>{switch($.type){case"upstream":return await this._folderRepositoryManager.deleteBranch(this._item),h.push($.type),this._folderRepositoryManager.repository.fetch({prune:!0});case"local":if(x){if(this._folderRepositoryManager.repository.state.workingTreeChanges.length)if(await b.window.showWarningMessage("Your local changes will be lost, do you want to continue?",{modal:!0},"Yes")==="Yes")await b.commands.executeCommand("git.cleanAll");else return;const W=await this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(this._item);await this._folderRepositoryManager.repository.checkout(W)}return await this._folderRepositoryManager.repository.deleteBranch(r.branch,!0),h.push($.type);case"remote":return await this._folderRepositoryManager.repository.removeRemote(r.remote),h.push($.type);case"suspend":return await b.commands.executeCommand("github.codespaces.disconnectSuspend"),h.push($.type)}});await Promise.all(B),b.commands.executeCommand("pr.refreshList"),this._postMessage({command:"pr.deleteBranch",branchTypes:h})}else this._replyMessage(e,{cancelled:!0})}setReadyForReview(e){this._item.setReadyForReview().then(r=>{b.commands.executeCommand("pr.refreshList"),this._replyMessage(e,{isDraft:r})}).catch(r=>{b.window.showErrorMessage(`Unable to set PR ready for review. ${U(r)}`),this._throwError(e,{})})}async mergePullRequest(e){const{title:r,description:i,method:a}=e.args;if(await b.window.showInformationMessage("Merge this pull request?",{modal:!0},"Yes")!=="Yes"){this._replyMessage(e,{state:dt.Open});return}this._folderRepositoryManager.mergePullRequest(this._item,r,i,a).then(x=>{b.commands.executeCommand("pr.refreshList"),x.merged||b.window.showErrorMessage(`Merging PR failed: ${x.message}`),this._replyMessage(e,{state:x.merged?dt.Merged:dt.Open})}).catch(x=>{b.window.showErrorMessage(`Unable to merge pull request. ${U(x)}`),this._throwError(e,{})})}_getHtmlForWebview(){const e=_s(),r=b.Uri.joinPath(this._extensionUri,"dist","webview-open-pr-view.js");return`<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src vscode-resource: https:; script-src 'nonce-${e}'; style-src vscode-resource: 'unsafe-inline' http: https: data:;">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<title>Active Pull Request</title>
	</head>
	<body>
		<div id="app"></div>
		<script nonce="${e}" src="${this._webview.asWebviewUri(r).toString()}"></script>
	</body>
</html>`}}class Df{constructor(e,r){this.reviewManager=e,this.folderRepositoryManager=r}provideTerminalLinks(e,r){var i;const a=e.line.indexOf("https://github.com");if(a===-1)return[];const h=e.line.substring(a),x=new RegExp(/https:\/\/github\.com\/(.*)\/(.*)\/pull\/new\/(.*)/),B=h.match(x);if(B&&B.length===4){const $=B[1],W=B[2],re=B[3];if(this.folderRepositoryManager.gitHubRepositories.findIndex(de=>de.remote.owner===$&&de.remote.repositoryName===W)>-1&&((i=this.reviewManager.repository.state.HEAD)==null?void 0:i.name)===re)return[{startIndex:a,length:e.line.length-a,tooltip:"Create a Pull Request",url:h}]}return[]}handleTerminalLink(e){const r=b.workspace.getConfiguration("githubPullRequests").get("terminalLinksHandler");if(r==="github"){b.env.openExternal(b.Uri.parse(e.url));return}if(r==="vscode"){this.reviewManager.createPullRequest();return}b.window.showInformationMessage("Do you want to create a pull request using the GitHub Pull Requests and Issues extension?","Yes","No, continue to github.com").then(i=>{i==="Yes"?this.reviewManager.createPullRequest():b.env.openExternal(b.Uri.parse(e.url))})}}var Ff=nt(4155);let Wo=!1;const Qo=class{static async getApiHost(t){const e=Ff.env.GITHUB_TEST_SERVER;if(e){if(Wo)return b.Uri.parse(e);if(await b.window.showInformationMessage(`The 'GITHUB_TEST_SERVER' environment variable is set to '${e}'. Use this as the GitHub API endpoint?`,{modal:!0},"Yes")==="Yes")return Wo=!0,b.Uri.parse(e)}const r=t instanceof b.Uri?t:b.Uri.parse(t.host);return r.authority==="github.com"?b.Uri.parse("https://api.github.com"):b.Uri.parse(`${r.scheme}://${r.authority}`)}static getApiPath(t,e){return(t instanceof b.Uri?t:b.Uri.parse(t.host)).authority==="github.com"?e:`/api/v3${e}`}};var Of=Object.defineProperty,Bf=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Of(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Cs{constructor(){Bf(this,"_servers",new Map().set("github.com",!0))}async isGitHub(e){if(e===null||e.path.endsWith(".wiki"))return!1;if(this._servers.has(e.authority))return!!this._servers.get(e.authority);const[r,i]=await Cs.getOptions(e,"HEAD","/rate_limit");let a=!1;try{const x=(await Bn()(r.toString(),i)).headers.get("x-github-request-id");return a=x!=null,a}catch(h){return n.appendLine(`No response from host ${e}: ${h.message}`,"GitHubServer"),a}finally{n.debug(`Host ${e} is associated with GitHub: ${a}`,"GitHubServer"),this._servers.set(e.authority,a)}}static async getOptions(e,r="GET",i,a){const h={"user-agent":"GitHub VSCode Pull Requests"};a&&(h.authorization=`token ${a}`);const x=b.Uri.joinPath(await Qo.getApiHost(e),Qo.getApiPath(e,i));return[x,{hostname:x.authority,port:443,method:r,headers:h,agent:wo}]}}var Lf=nt(1336),Uf=nt(9593),qf=nt.n(Uf),En=nt(7228);const Ko=/http(s)?\:\/\/github\.com\/([^\/]+)\/([^\/]+)\/blob\/([0-9a-fA-F]{40})\/([^#]+)#L(\d+)(-L(\d+))?/;function Yo(t){return t.match(Ko)}function $f(t){return!!Yo(t.body)}async function Zo(t,e,r=!0){const i=t[2],a=t[3],h=t[5],x=Number(t[6])-1,B=t[8]?Number(t[8])-1:x;let $;for(const re of e.folderManagers){const le=re.getGitHubRemotes();for(const de of le)if(i.toLowerCase()===de.owner.toLowerCase()&&a.toLowerCase()===de.repositoryName.toLowerCase()){$=re;break}if($)break}if(!$)return;const W=b.Uri.joinPath($.repository.rootUri,h);try{await b.workspace.fs.stat(W)}catch(re){return}return{file:W,start:x,end:B}}async function Hf(t,e){const r=Yo(t.body);if(!r){b.window.showInformationMessage("Issue has no link.");return}const i=await Zo(r,e,!1);if(!i)return b.env.openExternal(b.Uri.parse(r[0]));const a=await b.workspace.openTextDocument(i==null?void 0:i.file),h=a.lineAt(i.end<a.lineCount?i.end:a.lineCount-1),x=new b.Range(i.start,0,i.end,h.text.length);return b.window.showTextDocument(i.file,{selection:x})}var Gf=Object.defineProperty,Jo=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Gf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const jm=/(([^\s]+)\/([^\s]+))?(#|GH-)([1-9][0-9]*)($|\b)/,Oi=/(https?:\/\/github\.com\/(([^\s]+)\/([^\s]+))\/([^\s]+\/)?(issues|pull)\/([0-9]+)(#issuecomment\-([0-9]+))?)|(([^\s]+)\/([^\s]+))?(#|GH-)([1-9][0-9]*)($|\b)/,Ns=/\@([^\s]+)/,Vf=150,Pt="githubIssues",vi="queries",jf="default",Xo="workingIssueBranch",Ps="issueBranchTitle",el="useBranchForIssues",zf="workingIssueFormatScm";function As(t){if(!t)return;const e={owner:void 0,name:void 0,issueNumber:0};return t.length===7?(e.owner=t[2],e.name=t[3],e.issueNumber=parseInt(t[5]),e):t.length===16?(e.owner=t[3]||t[11],e.name=t[4]||t[12],e.issueNumber=parseInt(t[7]||t[14]),e.commentNumber=t[9]!==void 0?parseInt(t[9]):void 0,e):void 0}async function Wf(t,e,r,i){var a;const h=(a=t.resolvedIssues.get(e.repository.rootUri.path))==null?void 0:a.get(r);if(h)return h;{let x,B,$;const W=e.getGitHubRemotes();for(const re of W){if(i)x=i.owner?i.owner:re.owner,B=i.name?i.name:re.repositoryName,$=i.issueNumber;else{const le=As(r.match(Oi));le&&(!le.name||!le.owner)&&(x=re.owner,B=re.repositoryName)}if(x&&B&&$!==void 0){let le=await e.resolveIssue(x,B,$,!!i.commentNumber);if(le||(le=await e.resolvePullRequest(x,B,$)),le){let de;return t.resolvedIssues.has(e.repository.rootUri.path)?de=t.resolvedIssues.get(e.repository.rootUri.path):t.resolvedIssues.set(e.repository.rootUri.path,de=new(qf())(50)),de.set(r,le),le}}}}}function Qf(t,e){let r;return t.commitContributions.forEach(i=>{e.toLowerCase()===i.repoNameWithOwner.toLowerCase()&&(r=i.createdAt.toLocaleString("default",{day:"numeric",month:"short",year:"numeric"}))}),r}class Kf extends b.CompletionItem{constructor(){super(...arguments);Jo(this,"login"),Jo(this,"uri")}}function Is(t,e){const r=new b.MarkdownString(void 0,!0);r.appendMarkdown(`![Avatar](${e.avatarUrl}|height=50,width=50) **${e.name}** [${e.login}](${e.url})`),e.bio&&r.appendText(`  \r
`+e.bio.replace(/\r\n/g," "));const i=Qf(e,t.owner+"/"+t.repo);return(e.location||i)&&r.appendMarkdown(`  \r
\r
---`),e.location&&r.appendMarkdown(`  \r
$(location) ${e.location}`),i&&r.appendMarkdown(`  \r
$(git-commit) Committed to this repository on ${i}`),e.company&&r.appendMarkdown(`  \r
$(jersey) Member of ${e.company}`),r}function Yf(t){const e=/^([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:void 0}function Zf(t,e){const r=Yf(t);let i="ffffff";return r&&(.299*r.r+.587*r.g+.114*r.b)/255>.5&&(i="000000"),`<span style="color:#${i};background-color:#${t};">&nbsp;&nbsp;${e}&nbsp;&nbsp;</span>`}async function tl(t,e,r){let i=t.search(e),a=0;for(;i>=0&&i<t.length;){let h;if(i===0||t.charAt(i-1)!=="&"){const B=t.substring(i).match(e);if(B){const $=await r(B);$&&(h=t.slice(0,i)+$,t=h+t.slice(i+B[0].length))}}a=h?h.length:i+1;const x=t.substring(a).search(e);i=x>0?a+x:x}return t}function rl(t,e){return tl(t,Oi,async r=>{const i=As(r);if(i){const a=sl(i);return(!i.owner||!i.name)&&(i.owner=e.remote.owner,i.name=e.remote.repositoryName),`[${a}](https://github.com/${i.owner}/${i.name}/issues/${i.issueNumber})`}})}async function Jf(t,e){return tl(t,Ko,async r=>{const i=await Zo(r,e);if(i){const a=await b.workspace.openTextDocument(i==null?void 0:i.file),h=a.lineAt(i.end<a.lineCount?i.end:a.lineCount-1),x=[i.file,{selection:{start:{line:i.start,character:0},end:{line:i.end,character:h.text.length}}}],B=b.Uri.parse(`command:vscode.open?${encodeURIComponent(JSON.stringify(x))}`);return`[${r[0]}](${B} "Open ${i.file.fsPath}")`}})}const Rn=200;async function Ds(t,e,r,i){const a=new b.MarkdownString(void 0,!0);a.isTrusted=!0;const h=new Date(t.createdAt),x=`${t.remote.owner}/${t.remote.repositoryName}`;a.appendMarkdown(`[${x}](https://github.com/${x}) on ${h.toLocaleString("default",{day:"numeric",month:"short",year:"numeric"})}  
`);const B=En.parse(t.title,{renderer:new Bs}).trim();a.appendMarkdown(`${eh(t)} **${B}** [#${t.number}](${t.html_url})  
`);let $=En.parse(t.body,{renderer:new Bs});if(a.appendMarkdown(`  
`),$=$.length>Rn?$.substr(0,Rn)+"...":$,$=await rl($,t),$=await Jf($,r),a.appendMarkdown($+`  
`),a.appendMarkdown(`&nbsp;  
`),t.item.labels.length>0&&t.item.labels.forEach(W=>{a.appendMarkdown(`[${Zf(W.color,W.name)}](https://github.com/${x}/labels/${encodeURIComponent(W.name)}) `)}),t.item.comments&&i){for(const W of t.item.comments)if(W.databaseId===i){a.appendMarkdown(`  \r
\r
---\r
`),a.appendMarkdown(`&nbsp;  
`),a.appendMarkdown(`![Avatar](${W.author.avatarUrl}|height=15,width=15) &nbsp;&nbsp;**${W.author.login}** commented`),a.appendMarkdown(`&nbsp;  
`);let re=En.parse(W.body.length>Rn?W.body.substr(0,Rn)+"...":W.body,{renderer:new Bs});re=await rl(re,t),a.appendMarkdown(re)}}return a}function Xf(t){switch(t.state){case dt.Open:return t instanceof Dr?"$(git-pull-request)":"$(issues)";case dt.Closed:return t instanceof Dr?"$(git-pull-request)":"$(issue-closed)";case dt.Merged:return"$(git-merge)"}}function eh(t){if(t instanceof Dr)return Xf(t);switch(t.state){case dt.Open:return'<span style="color:#22863a;">$(issues)</span>';case dt.Closed:return'<span style="color:#cb2431;">$(issue-closed)</span>'}}const il="HEAD",th=1,rh=2,ih=3,nl=4,xn=new Map([["upstream",th],["ups",rh],["origin",ih]]);async function nh(t,e){var r,i,a;const h=((r=t.state.HEAD)==null?void 0:r.upstream)&&!xn.has(t.state.HEAD.upstream.remote)?t.state.HEAD.upstream.remote:void 0;let x;const B=t.state.remotes.map(le=>({name:le.name,remote:le})).filter(le=>(le.name===h&&(x=le.remote),xn.has(le.name))).sort((le,de)=>{var we,Re;const Ee=(we=xn.get(le.name))!=null?we:nl,Te=(Re=xn.get(de.name))!=null?Re:nl;return Ee-Te});h&&B.push({name:h,remote:x});const $=[il];((i=t.state.HEAD)==null?void 0:i.name)&&t.state.HEAD.name!==il&&$.unshift((a=t.state.HEAD)==null?void 0:a.name);let W,re;for(let le=0;le<$.length&&!W;le++)for(let de=0;de<B.length&&!W;de++){const we=(await t.getBranches({contains:e.hash,remote:!0,pattern:`remotes/${B[de].name}/${$[le]}`,count:1})).filter(Re=>Re.remote&&Re.name);we&&we.length>0&&(W=we[0],re=B[de].remote)}return re}async function Fs(t,e){var r;let i,a;if(!e&&b.window.activeTextEditor)i=b.window.activeTextEditor.document,a=b.window.activeTextEditor.selection;else if(e)i=e.document,a=e.range;else return{permalink:void 0,error:"No active text editor position to create permalink from.",originalFile:void 0};const h=Vo(t,i.uri);if(!h)return{permalink:void 0,error:"The current file isn't part of repository.",originalFile:i.uri};let x,B;try{const le=await h.log({maxEntries:1,path:i.uri.fsPath});if(le.length===0)return{permalink:void 0,error:"No branch on a remote contains the most recent commit for the file.",originalFile:i.uri};x=le[0],B=le[0].hash}catch(le){B=(r=h.state.HEAD)==null?void 0:r.commit}const $=new Promise(le=>{var de;if((de=h.state.HEAD)==null?void 0:de.upstream)for(const we of h.state.remotes)h.state.HEAD.upstream.remote===we.name&&le(we);le(void 0)});let W=x?await Promise.race([nh(h,x),new Promise(le=>{setTimeout(()=>{le($)},2e3)})]):await $;if((!W||!W.fetchUrl)&&(W=await $,!W||!W.fetchUrl))return{permalink:void 0,error:"There is no suitable remote.",originalFile:i.uri};const re=i.uri.path.substring(h.rootUri.path.length);return{permalink:`https://github.com/${new it(W.fetchUrl).nameWithOwner}/blob/${B}${re}#L${a.start.line+1}-L${a.end.line+1}`,error:void 0,originalFile:i.uri}}function sh(t){const e=/[~^:;'".,~#?%*[\]@\\{}]|\/\//g;return t.replace(e,"").trim().replace(/\s+/g,"-")}const ah=/\$\{(.*?)\}/g;async function Mn(t,e,r,i){return t.replace(ah,(a,h)=>{switch(h){case"user":return i||a;case"issueNumber":return e?`${e.number}`:a;case"issueNumberLabel":return e?`${gi(e,r)}`:a;case"issueTitle":return e?e.title:a;case"repository":return r?r.repo:a;case"owner":return r?r.owner:a;case"sanitizedIssueTitle":return e?sh(e.title):a;default:return a}})}function gi(t,e){const r={issueNumber:t.number,owner:void 0,name:void 0};return e&&(e.owner.toLowerCase()!==t.remote.owner.toLowerCase()||e.repo.toLowerCase()!==t.remote.repositoryName.toLowerCase())&&(r.owner=t.remote.owner,r.name=t.remote.repositoryName),sl(r)}function sl(t){return!t.owner||!t.name?`#${t.issueNumber}`:`${t.owner}/${t.name}#${t.issueNumber}`}async function al(t,e,r){var i;const a=await((i=e.currentIssue(t.repository.rootUri))==null?void 0:i.getCommitMessage());if(a)return t.repository.commit(a,{all:r})}const ol="Commit Staged",ll="Commit All";async function oh(t,e,r){var i,a;if(t.repository.state.workingTreeChanges.length>0||t.repository.state.indexChanges.length>0){const h=[];switch(t.repository.state.indexChanges&&h.push(ol),t.repository.state.workingTreeChanges&&h.push(ll),await b.window.showInformationMessage("There are uncommitted changes. Do you want to commit them with the default commit message?",{modal:!0},...h)){case ol:{await al(t,r,!1);break}case ll:{await al(t,r,!0);break}default:return!1}}if((i=t.repository.state.HEAD)==null?void 0:i.upstream)return await t.repository.push(),await e.createPullRequest(void 0),!0;{let h;return t.repository.state.remotes.length===1?h=t.repository.state.remotes[0].name:t.repository.state.remotes.length>1&&(h=await b.window.showQuickPick(t.repository.state.remotes.map(x=>x.name),{placeHolder:"Remote to push to"})),h?(await t.repository.push(h,(a=t.repository.state.HEAD)==null?void 0:a.name,!0),await e.createPullRequest(void 0),!0):(b.window.showWarningMessage("The current repository has no remotes to push to. Please set up a remote and try again."),!1)}}async function Os(t,e){return!(t.languageId!=="markdown"&&t.languageId!=="plaintext"&&(await b.languages.getTokenInformationAtPosition(t,e)).type!==b.StandardTokenType.Comment)}async function ul(t,e){return t.lineAt(e.line).range.end.character>1e4?!1:Os(t,e)}function cl(t){const e=new Lf.URLSearchParams(t.query).get("rootUri");return e?b.Uri.parse(e):void 0}class Bs extends En.Renderer{code(e){return e}blockquote(e){return e}html(e){return""}heading(e,r,i,a){return e+" "}hr(){return""}list(e,r,i){return e}listitem(e){return" "+e}checkbox(e){return""}paragraph(e){return e.replace(/\</g,"\\<").replace(/\>/g,"\\>")+" "}table(e,r){return e+" "+r}tablerow(e){return e}tablecell(e,r){return e}strong(e){return e}em(e){return e}codespan(e){return`\\\`${e}\\\``}br(){return" "}del(e){return e}image(e,r,i){return""}text(e){return e}link(e,r,i){return i+" "}}var lh=Object.defineProperty,uh=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?lh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const dl="github-pr-remote",fl="github-pr-owner-number",hl=/branch\.(.+)\.github-pr-owner-number/,ch=/branch\.(.+)\.remote/,_t=class{static async checkoutFromFork(t,e,r){const i=await _t.calculateUniqueBranchNameForPR(t,e);r||(n.appendLine(`Branch ${i} is from a fork. Create a remote first.`,_t.ID),r=await _t.createRemote(t,e.remote,e.head.repositoryCloneUrl));const a=`${e.head.ref}:${i}`;n.debug(`Fetch ${r}/${e.head.ref}:${i} - start`,_t.ID),await t.fetch(r,a,1),n.debug(`Fetch ${r}/${e.head.ref}:${i} - done`,_t.ID),await t.checkout(i),await t.setBranchUpstream(i,`refs/remotes/${r}/${e.head.ref}`),await this.unshallow(t),_t.associateBranchWithPullRequest(t,e,i)}static async fetchAndCheckout(t,e,r){if(!r.validatePullRequestModel("Checkout pull request failed"))return;const i=_t.getHeadRemoteForPullRequest(e,r),a=r.head.repositoryCloneUrl.owner!==r.base.repositoryCloneUrl.owner;if(!i||a)return _t.checkoutFromFork(t,r,i&&i.remoteName);const h=r.head.ref,x=i.remoteName;let B;try{if(B=await t.getBranch(h),n.debug(`Checkout ${h}`,_t.ID),await t.checkout(h),!B.upstream){const $=`refs/remotes/${x}/${h}`;await t.setBranchUpstream(h,$)}B.behind!==void 0&&B.behind>0&&B.ahead===0&&(n.debug("Pull from upstream",_t.ID),await t.pull())}catch($){n.appendLine(`Branch ${x}/${h} doesn't exist on local disk yet.`,_t.ID);const W=`refs/remotes/${x}/${h}`;n.appendLine(`Fetch tracked branch ${W}`,_t.ID),await t.fetch(x,h,1);const re=await t.getBranch(W);await t.createBranch(h,!0,re.commit),await t.setBranchUpstream(h,W),await this.unshallow(t)}await _t.associateBranchWithPullRequest(t,r,h)}static async unshallow(t){try{await t.pull(!0)}catch(e){n.appendLine(`Unshallowing failed: ${e}. Falling back to git pull`),await t.pull()}}static async checkoutExistingPullRequestBranch(t,e){const r=_t.buildPullRequestMetadata(e),i=await t.getConfigs(),a=x=>i.filter(({key:B})=>x===B).map(({value:B})=>B)[0],h=i.map(x=>{const B=hl.exec(x.key);return{branch:B&&B.length?B[1]:null,value:x.value}}).filter(x=>x.branch&&x.value===r);if(h&&h.length){const x=h[0].branch;await t.checkout(x);const B=a(`branch.${x}.remote`),$=a(`branch.${x}.merge`);await t.fetch(B,$);const W=await t.getBranch(h[0].branch);return W.behind!==void 0&&W.behind>0&&W.ahead===0&&(n.debug("Pull from upstream",_t.ID),await t.pull()),!0}else return!1}static async getBranchNRemoteForPullRequest(t,e){const r=_t.buildPullRequestMetadata(e),i=await t.getConfigs(),a=i.map(h=>{const x=hl.exec(h.key);return{branch:x&&x.length?x[1]:null,value:h.value}}).find(h=>!!h.branch&&h.value===r);if(a){const h=a.branch;try{const x=`branch.${h}.remote`,B=i.filter(le=>le.key===x).map(le=>le.value);let $;B.length&&($=B[0]);let W=!1;if($){const le=`remote.${$}.github-pr-remote`;i.filter(we=>we.key===le&&we.value).length&&(W=!0)}let re;return W&&(re=i.some(le=>!!(ch.exec(le.key)&&le.key!==`branch.${h}.remote`&&le.value===$))),{branch:h,remote:$,createdForPullRequest:W,remoteInUse:re}}catch(x){return{branch:h}}}return null}static buildPullRequestMetadata(t){return`${t.base.repositoryCloneUrl.owner}#${t.base.repositoryCloneUrl.repositoryName}#${t.number}`}static parsePullRequestMetadata(t){if(t){const e=/(.*)#(.*)#(.*)/g.exec(t);if(e&&e.length===4){const[,r,i,a]=e;return{owner:r,repositoryName:i,prNumber:Number(a)}}}}static getMetadataKeyForBranch(t){return`branch.${t}.${fl}`}static async getMatchingPullRequestMetadataForBranch(t,e){try{const r=this.getMetadataKeyForBranch(e),i=await t.getConfig(r);return _t.parsePullRequestMetadata(i)}catch(r){return}}static async createRemote(t,e,r){n.appendLine(`create remote for ${r}.`,_t.ID);const i=ci(t);for(const h of i)if(new it(h.url).equals(r))return h.remoteName;const a=_t.getUniqueRemoteName(t,r.owner);return r.update({type:e.gitProtocol.type}),await t.addRemote(a,r.toString()),await t.setConfig(`remote.${a}.${dl}`,"true"),a}static async isRemoteCreatedForPullRequest(t,e){try{n.debug(`Check if remote '${e}' is created for pull request - start`,_t.ID);const r=await t.getConfig(`remote.${e}.${dl}`);return n.debug(`Check if remote '${e}' is created for pull request - end`,_t.ID),r==="true"}catch(r){return!1}}static async calculateUniqueBranchNameForPR(t,e){const r=`pr/${e.author.login}/${e.number}`;let i=r,a=1;for(;;)try{await t.getBranch(i),i=`${r}-${a++}`}catch(h){break}return i}static getUniqueRemoteName(t,e){let r=e,i=1;const a=ci(t);for(;a.find(h=>h.remoteName===r);)r=`${e}${i++}`;return r}static getHeadRemoteForPullRequest(t,e){return t.find(r=>r.gitProtocol&&r.gitProtocol.equals(e.head.repositoryCloneUrl))}static async associateBranchWithPullRequest(t,e,r){n.appendLine(`associate ${r} with Pull Request #${e.number}`,_t.ID);const i=`branch.${r}.${fl}`;await t.setConfig(i,_t.buildPullRequestMetadata(e))}};let mr=_t;uh(mr,"ID","PullRequestGitHelper");var dh=Object.defineProperty,yt=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?dh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class fh extends Error{constructor(e){super();this.repository=e}get message(){return`${this.repository.rootUri.toString()} has no GitHub remotes`}}class pl extends Error{constructor(e){super();this.repository=e}get message(){return`${this.repository.rootUri.toString()} has a detached HEAD (create a branch first)`}}class hh extends Error{constructor(e,r,i){super();this.branchName=e,this.upstreamRef=r,this.problem=i}get message(){const{upstreamRef:{remote:e,name:r},branchName:i,problem:a}=this;return`The upstream ref ${e}/${r} for branch ${i} ${a}.`}}const vr="githubPullRequests",Bi="remotes",ml="ReposManagerStateContext";var tr;(function(t){t.Initializing="Initializing",t.NeedsAuthentication="NeedsAuthentication",t.RepositoriesLoaded="RepositoriesLoaded"})(tr||(tr={}));const vl="No Milestone";var gl;(function(t){t[t.PullRequest=0]="PullRequest",t[t.Milestones=1]="Milestones",t[t.IssuesWithoutMilestone=2]="IssuesWithoutMilestone",t[t.IssueSearch=3]="IssueSearch"})(gl||(gl={}));const gr=class{constructor(t,e,r,i,a){this.context=t,this._repository=e,this.telemetry=r,this._git=i,this._credentialStore=a,yt(this,"_subs"),yt(this,"_activePullRequest"),yt(this,"_activeIssue"),yt(this,"_githubRepositories"),yt(this,"_allGitHubRemotes",[]),yt(this,"_mentionableUsers"),yt(this,"_fetchMentionableUsersPromise"),yt(this,"_assignableUsers"),yt(this,"_fetchAssignableUsersPromise"),yt(this,"_gitBlameCache",{}),yt(this,"_githubManager"),yt(this,"_repositoryPageInformation",new Map),yt(this,"_onDidMergePullRequest",new b.EventEmitter),yt(this,"onDidMergePullRequest",this._onDidMergePullRequest.event),yt(this,"_onDidChangeActivePullRequest",new b.EventEmitter),yt(this,"onDidChangeActivePullRequest",this._onDidChangeActivePullRequest.event),yt(this,"_onDidChangeActiveIssue",new b.EventEmitter),yt(this,"onDidChangeActiveIssue",this._onDidChangeActiveIssue.event),yt(this,"_onDidLoadRepositories",new b.EventEmitter),yt(this,"onDidLoadRepositories",this._onDidLoadRepositories.event),yt(this,"_onDidChangeRepositories",new b.EventEmitter),yt(this,"onDidChangeRepositories",this._onDidChangeRepositories.event),yt(this,"_onDidChangeAssignableUsers",new b.EventEmitter),yt(this,"onDidChangeAssignableUsers",this._onDidChangeAssignableUsers.event),yt(this,"totalFetchedPages",new Map),this._subs=[],this._githubRepositories=[],this._githubManager=new Cs,this._subs.push(b.workspace.onDidChangeConfiguration(async h=>{h.affectsConfiguration(`${vr}.${Bi}`)&&await this.updateRepositories()})),this.setUpCompletionItemProvider()}get gitHubRepositories(){return this._githubRepositories}computeAllGitHubRemotes(){const e=ci(this.repository).filter(r=>r.host);return Promise.all(e.map(r=>this._githubManager.isGitHub(r.gitProtocol.normalizeUri()))).then(r=>e.filter((i,a,h)=>r[a])).catch(r=>(n.appendLine(`Resolving GitHub remotes failed: ${r}`),b.window.showErrorMessage(`Resolving GitHub remotes failed: ${U(r)}`),[]))}async getActiveGitHubRemotes(t){const e=b.workspace.getConfiguration(vr).get(Bi);return e?(e.forEach(r=>{t.some(i=>i.remoteName===r)||n.appendLine(`No remote with name '${r}' found.`)}),n.debug(`Displaying configured remotes: ${e.join(", ")}`,gr.ID),e.map(r=>t.find(i=>i.remoteName===r)).filter(r=>!!r)):(n.appendLine("Unable to read remotes setting"),Promise.resolve([]))}setUpCompletionItemProvider(){let t,e=[],r=[];b.languages.registerCompletionItemProvider({scheme:"comment"},{provideCompletionItems:async(i,a,h)=>{try{if(JSON.parse(i.uri.query).extensionId!==be)return;const B=i.getWordRangeAtPosition(a,/@([a-z\d](?:[a-z\d]|-(?=[a-z\d])){0,38})?/i);if(!B||B.isEmpty)return;let $=[];const W={};let re={},le,de;const we=b.window.visibleTextEditors;if(we.length){const Ge=we.find(Ue=>Ue.document.uri.scheme==="pr");if(Ge){const Ue=Me(Ge.document.uri);le=Ue.prNumber,de=Ue.remoteName}else this._activePullRequest&&(le=this._activePullRequest.number,de=this._activePullRequest.remote.remoteName);if(t&&le&&le===t.number)return r}const Re=new Promise(async Ge=>{if(le&&de){if(n.debug("get Timeline Events and parse users",gr.ID),t&&t.number===le)return e;const Ue=this._githubRepositories.find(lt=>lt.remote.remoteName===de);Ue&&(t=await Ue.getPullRequest(le),e=await t.getTimelineEvents()),$=Rf(e),Ge()}Ge()}),Ee=new Promise(async Ge=>{if(we.length)try{n.debug("git blame and parse users",gr.ID);const Ue=c.resolve(we[0].document.uri.fsPath);let lt;this._gitBlameCache[Ue]?lt=this._gitBlameCache[Ue]:(lt=await this.repository.blame(Ue),this._gitBlameCache[Ue]=lt);const kt=lt.split(`
`);for(const wt of kt){const Tt=/^\w{11} \S*\s*\((.*)\s*\d{4}\-/.exec(wt);if(Tt&&Tt.length===2){const bt=Tt[1].trim();W[bt]=!0}}}catch(Ue){n.debug(Ue,gr.ID)}Ge()}),Te=new Promise(async Ge=>{n.debug("get mentionable users",gr.ID),re=await this.getMentionableUsers(),Ge()});await Promise.all([Re,Ee,Te]),r=[];const Ie={};n.debug("prepare user suggestions",gr.ID),$.forEach(Ge=>{Ie[Ge.login]||(Ie[Ge.login]=Ge)});const Le={};for(const Ge in re)for(const Ue of re[Ge])if(!Ie[Ue.login]&&!Le[Ue.login]){Le[Ue.login]=!0;let lt=2;(W[Ue.login]||Ue.name&&W[Ue.name])&&(lt=1),Ie[Ue.login]&&(lt=0),r.push({label:Ue.login,insertText:Ue.login,filterText:`${Ue.login}`+(Ue.name&&Ue.name!==Ue.login?`_${Ue.name.toLowerCase().replace(" ","_")}`:""),sortText:`${lt}_${Ue.login}`,detail:Ue.name,kind:b.CompletionItemKind.User,login:Ue.login,uri:this.repository.rootUri})}for(const Ge in Ie)Le[Ge]||r.push({label:Ie[Ge].login,insertText:`${Ie[Ge].login}`,filterText:`${Ie[Ge].login}`+(Ie[Ge].name&&Ie[Ge].name!==Ie[Ge].login?`_${Ie[Ge].name.toLowerCase().replace(" ","_")}`:""),sortText:`0_${Ie[Ge].login}`,detail:Ie[Ge].name,kind:b.CompletionItemKind.User,login:Ie[Ge].login,uri:this.repository.rootUri});return n.debug("done",gr.ID),r}catch(x){return[]}},resolveCompletionItem:async(i,a)=>{try{const h=await this.getPullRequestDefaults(),x=await this.resolveUser(h.owner,h.repo,typeof i.label=="string"?i.label:i.label.label);x&&(i.documentation=Is(h,x))}catch(h){}return i}},"@")}get activeIssue(){return this._activeIssue}set activeIssue(t){this._activeIssue=t,this._onDidChangeActiveIssue.fire()}get activePullRequest(){return this._activePullRequest}set activePullRequest(t){this._activePullRequest&&(this._activePullRequest.isActive=!1),t&&(t.isActive=!0),this._activePullRequest=t,this._onDidChangeActivePullRequest.fire()}get repository(){return this._repository}set repository(t){this._repository=t}get credentialStore(){return this._credentialStore}async getActiveRemotes(){this._allGitHubRemotes=await this.computeAllGitHubRemotes();const t=await this.getActiveGitHubRemotes(this._allGitHubRemotes);return t.length?(await b.commands.executeCommand("setContext","github:hasGitHubRemotes",!0),n.appendLine("Found GitHub remote")):(await b.commands.executeCommand("setContext","github:hasGitHubRemotes",!1),n.appendLine("No GitHub remotes found")),t}async updateRepositories(t=!1){if(this._git.state==="uninitialized"){n.appendLine("Cannot updates repositories as git is uninitialized");return}const e=await this.getActiveRemotes(),r=this._credentialStore.isAuthenticated(vt.github)||this._credentialStore.isAuthenticated(vt["github-enterprise"]);b.commands.executeCommand("setContext","github:authenticated",r);const i=[],a=[];return e.filter(x=>this._credentialStore.isAuthenticated(x.authProviderId)).forEach(x=>{const B=this.createGitHubRepository(x,this._credentialStore);a.push(B.resolveRemote()),i.push(B)}),Promise.all(a).then(x=>{const B=this._githubRepositories;this._githubRepositories=i,B.forEach(W=>W.dispose());const $=B.length!==this._githubRepositories.length||!B.every(W=>this._githubRepositories.some(re=>re.remote.equals(W.remote)));return this._githubRepositories.length&&$&&this.checkIfMissingUpstream(),this.getMentionableUsers($),this.getAssignableUsers($),this._onDidLoadRepositories.fire(r||!e.length?tr.RepositoriesLoaded:tr.NeedsAuthentication),t||this._onDidChangeRepositories.fire(),Promise.resolve()})}async checkIfMissingUpstream(){var t;try{const r=await(await this.getOrigin()).getMetadata();if(r.fork&&r.parent){const i=new it(r.parent.git_url);if(!this._githubRepositories.some(h=>h.remote.owner===i.owner&&h.remote.repositoryName===i.repositoryName)){const x=!this.repository.state.remotes.some(B=>B.name==="upstream")?"upstream":(t=r.parent.owner)==null?void 0:t.login;x&&await this.repository.addRemote(x,r.parent.clone_url)}}}catch(e){n.appendLine(`Missing upstream check failed: ${e}`)}}getAllAssignableUsers(){if(this._assignableUsers){const t=[];return Object.keys(this._assignableUsers).forEach(e=>{t.push(...this._assignableUsers[e])}),t}}async getMentionableUsers(t){if(t&&delete this._mentionableUsers,this._mentionableUsers)return this._mentionableUsers;if(!this._fetchMentionableUsersPromise){const e={};return this._fetchMentionableUsersPromise=new Promise(r=>{const i=this._githubRepositories.map(async a=>{const h=await a.getMentionableUsers();e[a.remote.remoteName]=h});Promise.all(i).then(()=>{this._mentionableUsers=e,this._fetchMentionableUsersPromise=void 0,r(e)})})}return this._fetchMentionableUsersPromise}async getAssignableUsers(t){if(t&&delete this._assignableUsers,this._assignableUsers)return this._assignableUsers;if(!this._fetchAssignableUsersPromise){const e={},r=[];return this._fetchAssignableUsersPromise=new Promise(i=>{const a=this._githubRepositories.map(async h=>{const x=await h.getAssignableUsers();e[h.remote.remoteName]=x.sort(Ho),r.push(...x)});Promise.all(a).then(()=>{this._assignableUsers=e,this._fetchAssignableUsersPromise=void 0,i(e),this._onDidChangeAssignableUsers.fire(r)})})}return this._fetchAssignableUsersPromise}getGitHubRemotes(){const t=this._githubRepositories;return!t||!t.length?[]:t.map(e=>e.remote)}async getAllGitHubRemotes(){return await this.computeAllGitHubRemotes()}async getLocalPullRequests(){const t=this._githubRepositories;if(!t||!t.length)return[];const r=this.repository.state.refs.filter(i=>i.type===ve.Head&&i.name!==void 0).map(i=>i.name).map(async i=>{const a=await mr.getMatchingPullRequestMetadataForBranch(this.repository,i);if(a){const{owner:h,prNumber:x}=a,B=t.find($=>$.remote.owner.toLocaleLowerCase()===h.toLocaleLowerCase());if(B){const $=await B.getPullRequest(x);if($)return $.localBranchName=i,$}}return Promise.resolve(null)});return Promise.all(r).then(i=>i.filter(a=>a!==null))}async getLabels(t,e){const r=t?t.githubRepository:this._githubRepositories.find($=>$.remote.owner===(e==null?void 0:e.owner)&&$.remote.repositoryName===(e==null?void 0:e.repo));if(!r)throw new Error("No matching repository found for getting labels.");const{remote:i,octokit:a}=await r.ensure();let h=!1,x=1,B=[];do{const $=await a.issues.listLabelsForRepo({owner:i.owner,repo:i.repositoryName,per_page:100,page:x});B=B.concat($.data.map(W=>({name:W.name,color:W.color}))),B=B.sort((W,re)=>W.name.localeCompare(re.name)),h=!!$.headers.link&&$.headers.link.indexOf('rel="next"')>-1,x+=1}while(h);return B}async listBranches(t,e){if(this._githubRepositories.length)return this._githubRepositories[0].listBranches(t,e);throw new Error("No GitHub repositories found")}async deleteLocalPullRequest(t,e){if(!t.localBranchName)return;await this.repository.deleteBranch(t.localBranchName,e);let r;try{r=await this.repository.getConfig(`branch.${t.localBranchName}.remote`)}catch(a){}if(!r)return;await mr.isRemoteCreatedForPullRequest(this.repository,r)&&((await this.repository.getConfigs()).some(({key:x,value:B})=>/^branch.*\.remote$/.test(x)&&B===r)||await this.repository.removeRemote(r)),this.telemetry.sendTelemetryEvent("branch.delete")}async fetchPagedData(t={fetchNextPage:!1},e,r=0,i=gt.All,a){if(!this._githubRepositories||!this._githubRepositories.length)return{items:[],hasMorePages:!1,hasUnsearchedRepositories:!1};const h=()=>this.totalFetchedPages.get(e)||0,x=le=>this.totalFetchedPages.set(e,le);for(const le of this._githubRepositories){const de=le.remote.url.toString()+e;this._repositoryPageInformation.get(de)||this._repositoryPageInformation.set(de,{pullRequestPage:0,hasMorePages:null})}let B=0;const $={hasMorePages:!1,items:[]},W=le=>{B++,le&&($.items=$.items.concat(le.items),$.hasMorePages=le.hasMorePages)},re=this._githubRepositories.filter(le=>{const de=this._repositoryPageInformation.get(le.remote.url.toString()+e);return de&&(t.fetchNextPage===!1||de.hasMorePages!==!1)});for(let le=0;le<re.length;le++){const de=re[le],we=de.remote.url.toString()+e,Re=this._repositoryPageInformation.get(we),Ee=async Te=>{switch(r){case 0:return i===gt.All?de.getAllPullRequests(Te):de.getPullRequestsForCategory(a||"",Te);case 1:return de.getIssuesForUserByMilestone(Re.pullRequestPage);case 2:return de.getIssuesWithoutMilestone(Re.pullRequestPage);case 3:return de.getIssues(Re.pullRequestPage,a)}};if(t.fetchNextPage?(Re.pullRequestPage++,W(await Ee(Re.pullRequestPage)),x(h()+1)):(Re.pullRequestPage===0&&(Re.pullRequestPage=1),(await Promise.all(Array.from({length:Re.pullRequestPage}).map((Ie,Le)=>Ee(Le+1)))).forEach(Ie=>W(Ie))),Re.hasMorePages=$.hasMorePages,$.items.length&&(t.fetchNextPage===!0||t.fetchNextPage===!1&&B>=h()))return h()===0&&x(B),{items:$.items,hasMorePages:Re.hasMorePages,hasUnsearchedRepositories:le<re.length-1}}return{items:[],hasMorePages:!1,hasUnsearchedRepositories:!1}}async getPullRequests(t,e={fetchNextPage:!1},r){const i=t.toString()+(r||"");return this.fetchPagedData(e,i,0,t,r)}async getMilestones(t={fetchNextPage:!1},e=!1,r){const i=await this.fetchPagedData(t,"issuesKey",1,gt.All,r);if(e){const a=await this.fetchPagedData(t,"issuesKey",2,gt.All,r);i.items.push({milestone:{createdAt:new Date(0).toDateString(),id:"",title:vl},issues:a.items})}return i}async getIssues(t={fetchNextPage:!1},e){return this.fetchPagedData(t,"issuesKey",3,gt.All,e)}async getMaxIssue(){const t=await Promise.all(this._githubRepositories.map(r=>r.getMaxIssue()));let e=0;for(const r of t)r!==void 0&&(e=Math.max(e,r));return e}async getPullRequestTemplates(){const t=await b.workspace.findFiles(new b.RelativePattern(this._repository.rootUri.path,"{pull_request_template,PULL_REQUEST_TEMPLATE}.md")),e=await b.workspace.findFiles(new b.RelativePattern(this._repository.rootUri.path,"{docs,.github}/{pull_request_template,PULL_REQUEST_TEMPLATE}.md")),r=await b.workspace.findFiles(new b.RelativePattern(this._repository.rootUri.path,"PULL_REQUEST_TEMPLATE/*.md")),i=await b.workspace.findFiles(new b.RelativePattern(this._repository.rootUri.path,"{docs,.github}/PULL_REQUEST_TEMPLATE/*.md"));return[...t,...e,...r,...i]}async getPullRequestDefaults(t){var e;if(!t&&!this.repository.state.HEAD)throw new pl(this.repository);const r=await this.getOrigin(t),i=await r.getMetadata(),a=(e=b.workspace.getConfiguration(vr).inspect(Bi))==null?void 0:e.defaultValue,h=b.workspace.getConfiguration(vr).get(Bi),x=i.fork&&i.parent&&a===h?i.parent:await(this.findRepo(yi("upstream"))||r).getMetadata();return{owner:x.owner.login,repo:x.name,base:x.default_branch}}async getMetadata(t){const e=this.findRepo(yi(t));return e&&e.getMetadata()}async getHeadCommitMessage(){const{repository:t}=this;if(t.state.HEAD&&t.state.HEAD.commit){const{message:e}=await t.getCommit(t.state.HEAD.commit);return e}return""}async getTipCommitMessage(t){const{repository:e}=this,{commit:r}=await e.getBranch(t);if(r){const{message:i}=await e.getCommit(r);return i}return""}async getOrigin(t){if(!this._githubRepositories.length)throw new fh(this.repository);const e=t?t.upstream:this.upstreamRef;if(e){const a=this.findRepo(yi(e.remote));if(!a){const h=(await this.getAllGitHubRemotes()).find(x=>x.remoteName===e.remote);if(h)return new hi(h,this._credentialStore,this.telemetry);throw n.appendLine(`The remote '${e.remote}' is not a GitHub repository.`),new hh(this.repository.state.HEAD.name,e,"is not a GitHub repo")}return a}const[r,...i]=this._githubRepositories;return i.length&&(this.findRepo(yi("origin"))||this.findRepo(ph))||r}findRepo(t){return this._githubRepositories.filter(t)[0]}get upstreamRef(){const{HEAD:t}=this.repository.state;return t&&t.upstream}async createPullRequest(t){var e,r;const i=this._githubRepositories.find(a=>a.remote.owner===t.owner&&a.remote.repositoryName===t.repo);if(!i)throw new Error(`No matching repository ${t.repo} found for ${t.owner}`);try{const a=await i.createPullRequest(t),h=t.head.indexOf(":"),x=t.head.slice(h+1);return await mr.associateBranchWithPullRequest(this._repository,a,x),this.telemetry.sendTelemetryEvent("pr.create.success",{isDraft:(t.draft||"").toString()}),a}catch(a){if(a.message.indexOf("No commits between ")>-1){if((e=this._repository.state.HEAD)==null?void 0:e.ahead)return await b.window.showInformationMessage(`There are no commits between '${t.base}' and '${t.head}'.

Do you want to push your local commits and create the pull request?`,{modal:!0},"Push commits")==="Push commits"?(await this._repository.push(),this.createPullRequest(t)):void 0;if(this._repository.state.workingTreeChanges.length||this._repository.state.indexChanges.length)return await b.window.showInformationMessage(`There are no commits between '${t.base}' and '${t.head}'.

Do you want to commit your changes and create the pull request?`,{modal:!0},"Commit changes")==="Commit changes"?(await b.commands.executeCommand("git.commit"),await this._repository.push(),this.createPullRequest(t)):void 0}if(!((r=this._repository.state.HEAD)==null?void 0:r.upstream))return await b.window.showInformationMessage(`There is no upstream branch for '${t.base}'.

Do you want to publish it and create the pull request?`,{modal:!0},"Publish branch")==="Publish branch"?(await this._repository.push(i.remote.remoteName,t.base,!0),this.createPullRequest(t)):void 0;throw n.appendLine(`GitHubRepository> Creating pull requests failed: ${a}`),this.telemetry.sendTelemetryErrorEvent("pr.create.failure",{isDraft:(t.draft||"").toString()}),new Error(U(a))}}async createIssue(t){try{const e=this._githubRepositories.find(h=>h.remote.owner===t.owner&&h.remote.repositoryName===t.repo);if(!e)throw new Error(`No matching repository ${t.repo} found for ${t.owner}`);await e.ensure();const{data:r}=await e.octokit.issues.create(t),i=bf(r,e),a=new Bt(e,e.remote,i);return this.telemetry.sendTelemetryEvent("issue.create.success"),a}catch(e){n.appendLine(`GitHubRepository> Creating issue failed: ${e}`),this.telemetry.sendTelemetryErrorEvent("issue.create.failure"),b.window.showWarningMessage(`Creating issue failed: ${U(e)}`)}}async assignIssue(t,e){try{const r=this._githubRepositories.find(a=>a.remote.owner===t.remote.owner&&a.remote.repositoryName===t.remote.repositoryName);if(!r)throw new Error(`No matching repository ${t.remote.repositoryName} found for ${t.remote.owner}`);await r.ensure();const i={assignees:[e],owner:t.remote.owner,repo:t.remote.repositoryName,issue_number:t.number};await r.octokit.issues.addAssignees(i),this.telemetry.sendTelemetryEvent("issue.assign.success")}catch(r){n.appendLine(`GitHubRepository> Assigning issue failed: ${r}`),this.telemetry.sendTelemetryErrorEvent("issue.assign.failure"),b.window.showWarningMessage(`Assigning issue failed: ${U(r)}`)}}getCurrentUser(t){return $r(this._credentialStore.getCurrentUser(t.githubRepository.remote.authProviderId),t.githubRepository)}async mergePullRequest(t,e,r,i){const{octokit:a,remote:h}=await t.githubRepository.ensure(),x=this.activePullRequest&&this.activePullRequest.head&&this.activePullRequest.head.sha,B=this.repository.state.HEAD&&this.repository.state.HEAD.commit,$=t.head&&t.head.sha,W=this.repository.state.workingTreeChanges.length>0;if(x===$){if(B!==$){const{ahead:re}=this.repository.state.HEAD;if(re&&await b.window.showWarningMessage(`You have ${re} unpushed ${re>1?"commits":"commit"} on this PR branch.

Would you like to proceed anyway?`,{modal:!0},"Yes")===void 0)return{merged:!1,message:"unpushed changes"}}if(W&&await b.window.showWarningMessage(`You have uncommitted changes on this PR branch.

 Would you like to proceed anyway?`,{modal:!0},"Yes")===void 0)return{merged:!1,message:"uncommitted changes"}}return await a.pulls.merge({commit_message:r,commit_title:e,merge_method:i||b.workspace.getConfiguration("githubPullRequests").get("defaultMergeMethod"),owner:h.owner,repo:h.repositoryName,pull_number:t.number}).then(re=>(this.telemetry.sendTelemetryEvent("pr.merge.success"),this._onDidMergePullRequest.fire(),re.data)).catch(re=>{throw this.telemetry.sendTelemetryErrorEvent("pr.merge.failure"),re})}async deleteBranch(t){await t.githubRepository.deleteBranch(t)}async getBranchDeletionItems(){const t=await this.repository.getConfigs(),e=new Map;t.forEach(a=>{const h=a.key,x=/^branch\.(.*)\.(.*)$/.exec(h);if(x&&x.length===3){const B=x[1];e.has(B)||e.set(B,{});const $=e.get(B);if(x[2]==="remote"&&($.remote=a.value),x[2]==="github-pr-owner-number"){const W=mr.parsePullRequestMetadata(a.value);$.metadata=W}e.set(B,$)}});const r=[];e.forEach((a,h)=>{if(a.metadata){const x=this.activePullRequest&&this.activePullRequest.base.repositoryCloneUrl;(x?x.owner===a.metadata.owner&&x.repositoryName===a.metadata.repositoryName&&this.activePullRequest&&this.activePullRequest.number===a.metadata.prNumber:!1)||r.push({label:`${h}`,description:`${a.metadata.repositoryName}/${a.metadata.owner} #${a.metadata.prNumber}`,picked:!1,metadata:a.metadata})}});const i=await Promise.all(r.map(async a=>{const h=a.metadata,x=this._githubRepositories.find(re=>re.remote.owner.toLowerCase()===h.owner.toLowerCase()&&re.remote.repositoryName.toLowerCase()===h.repositoryName.toLowerCase());if(!x)return a;const{remote:B,query:$,schema:W}=await x.ensure();try{const{data:re}=await $({query:W.PullRequestState,variables:{owner:B.owner,name:B.repositoryName,number:h.prNumber}});a.legacy=re.repository.pullRequest.state!=="OPEN"}catch{}return a}));return i.forEach(a=>{a.legacy?a.picked=!0:a.description=`${a.description} is still Open`}),i}async getRemoteDeletionItems(){const t=await this.repository.getConfigs(),e=new Map;t.forEach(i=>{const a=i.key;let h=/^branch\.(.*)\.(.*)$/.exec(a);if(h&&h.length===3){const x=h[1];if(h[2]==="remote"){const B=i.value;e.has(B)||e.set(B,{branches:new Set}),e.get(B).branches.add(x)}}if(h=/^remote\.(.*)\.(.*)$/.exec(a),h&&h.length===3){const x=h[1];e.has(x)||e.set(x,{branches:new Set});const B=e.get(x);h[2]==="github-pr-remote"&&(B.createdForPullRequest=i.value==="true"),h[2]==="url"&&(B.url=i.value)}});const r=[];return e.forEach((i,a)=>{if(i.branches.size===0){let h=i.createdForPullRequest?"":"Not created by GitHub Pull Request extension";i.url&&(h=h?h+" "+i.url:i.url),r.push({label:a,description:h,picked:i.createdForPullRequest,remote:a})}}),r}async deleteLocalBranchesNRemotes(){return new Promise(async t=>{const e=b.window.createQuickPick();e.canSelectMany=!0,e.ignoreFocusOut=!0,e.placeholder="Choose local branches you want to delete permanently",e.show(),e.busy=!0;const r=await this.getBranchDeletionItems();e.items=r,e.selectedItems=r.filter(a=>a.picked),e.busy=!1;let i=!0;e.onDidAccept(async()=>{if(i){const a=e.selectedItems;if(a.length){e.busy=!0;try{await Promise.all(a.map(async x=>{await this.repository.deleteBranch(x.label,!0)})),e.busy=!1}catch(x){e.hide(),b.window.showErrorMessage(`Deleting branches failed: ${x}`)}}i=!1,e.busy=!0;const h=await this.getRemoteDeletionItems();h?(e.placeholder="Choose remotes you want to delete permanently",e.busy=!1,e.items=h,e.selectedItems=h.filter(x=>x.picked)):e.hide()}else{const a=e.selectedItems;a.length&&(e.busy=!0,await Promise.all(a.map(async h=>{await this.repository.removeRemote(h.label)})),e.busy=!1),e.hide()}}),e.onDidHide(()=>{t()})})}async getPullRequestRepositoryDefaultBranch(t){return await t.githubRepository.getDefaultBranch()}async getPullRequestRepositoryAccessAndMergeMethods(t){return await t.githubRepository.getRepoAccessAndMergeMethods()}async fulfillPullRequestMissingInfo(t){try{if(!t.isResolved())return;n.debug("Fulfill pull request missing info - start",gr.ID);const e=t.githubRepository,{octokit:r,remote:i}=await e.ensure();if(!t.base){const{data:a}=await r.pulls.get({owner:i.owner,repo:i.repositoryName,pull_number:t.number});t.update(Yr(a,e))}if(!t.mergeBase){const{data:a}=await r.repos.compareCommits({repo:i.repositoryName,owner:i.owner,base:`${t.base.repositoryCloneUrl.owner}:${t.base.ref}`,head:`${t.head.repositoryCloneUrl.owner}:${t.head.ref}`});t.mergeBase=a.merge_base_commit.sha}}catch(e){b.window.showErrorMessage(`Fetching Pull Request merge base failed: ${U(e)}`)}n.debug("Fulfill pull request missing info - done",gr.ID)}async resolveItem(t,e){let r=this._githubRepositories.find(i=>i.remote.owner.toLowerCase()===t.toLowerCase()&&i.remote.repositoryName.toLowerCase()===e.toLowerCase());return r||(r=this.createGitHubRepositoryFromOwnerName(t,e)),r}async resolvePullRequest(t,e,r){const i=await this.resolveItem(t,e);if(i)return i.getPullRequest(r)}async resolveIssue(t,e,r,i=!1){const a=await this.resolveItem(t,e);if(a)return a.getIssue(r,i)}async resolveUser(t,e,r){n.debug(`Fetch user ${r}`,gr.ID);const i=this.createGitHubRepositoryFromOwnerName(t,e),{query:a,schema:h}=await i.ensure();try{const{data:x}=await a({query:h.GetUser,variables:{login:r}});return Sf(x,i)}catch(x){console.log(x)}}async getMatchingPullRequestMetadataForBranch(){return!this.repository||!this.repository.state.HEAD||!this.repository.state.HEAD.name?null:await mr.getMatchingPullRequestMetadataForBranch(this.repository,this.repository.state.HEAD.name)}async getMatchingPullRequestMetadataFromGitHub(){if(!this.repository||!this.repository.state.HEAD||!this.repository.state.HEAD.name||!this.repository.state.HEAD.upstream)return null;for(const t of this.gitHubRepositories)if(t.remote.remoteName===this.repository.state.HEAD.upstream.remote){const e=await t.getPullRequestForBranch(this.repository.state.HEAD.upstream.name);if(e&&e.length>0)return{owner:t.remote.owner,repositoryName:t.remote.repositoryName,prNumber:e[0].number,model:e[0]};break}return null}async checkoutExistingPullRequestBranch(t){return await mr.checkoutExistingPullRequestBranch(this.repository,t)}async getBranchNameForPullRequest(t){return await mr.getBranchNRemoteForPullRequest(this.repository,t)}async fetchAndCheckout(t){await mr.fetchAndCheckout(this.repository,this._allGitHubRemotes,t)}async checkout(t){return this.repository.checkout(t)}async checkoutDefaultBranch(t){try{const e=await this.repository.getBranch(t);e.upstream&&t===e.upstream.name?await this.repository.checkout(t):await b.commands.executeCommand("git.checkout")}catch(e){if(e.gitErrorCode&&e.gitErrorCode===q.DirtyWorkTree){b.window.showErrorMessage("Your local changes would be overwritten by checkout, please commit your changes or stash them before you switch branches");return}b.window.showErrorMessage(`Exiting failed: ${e}`)}}createGitHubRepository(t,e){return new hi(t,e,this.telemetry)}createGitHubRepositoryFromOwnerName(t,e){const r=`https://github.com/${t}/${e}`;return new hi(new vn(e,r,new it(r)),this._credentialStore,this.telemetry)}async findUpstreamForItem(t){let e,r;for(const a of this.gitHubRepositories){if(!e&&a.remote.owner===t.remote.owner&&a.remote.repositoryName===t.remote.repositoryName){e=a;continue}const h=await a.getRepositoryForkDetails();if(h&&h.isFork&&h.parent.owner===t.remote.owner&&h.parent.name===t.remote.repositoryName){const x=await a.getViewerPermission();if(x===zt.Admin||x===zt.Maintain||x===zt.Write){r=a.remote;break}}}let i=!1;if(e&&!r){const a=await t.githubRepository.getViewerPermission();(a===zt.Read||a===zt.Triage||a===zt.Unknown)&&(i=!0)}return{needsFork:i,upstream:e,remote:r}}async forkWithProgress(t,e,r,i){t.report({message:`Forking ${r}...`});const a=await e.fork();if(t.report({increment:50}),!a){b.window.showErrorMessage(`Unable to create a fork of ${r}. Check that your GitHub credentials are correct.`);return}const h=i.state.remotes.length>1?"origin":i.state.remotes[0].name;return t.report({message:"Adding remotes. This may take a few moments."}),await i.renameRemote(h,"upstream"),await i.addRemote(h,a),await new Promise(x=>{if(this.gitHubRepositories.length===0){const B=this.onDidChangeRepositories(()=>{this.gitHubRepositories.length>0&&(B.dispose(),x())})}else x()}),t.report({increment:50}),h}async doFork(t,e,r){return b.window.withProgress({location:b.ProgressLocation.Notification,title:"Creating Fork"},async i=>{try{return this.forkWithProgress(i,t,e,r)}catch(a){b.window.showErrorMessage(`Creating fork failed: ${a}`)}})}async tryOfferToFork(t){const e=`${t.remote.owner}/${t.remote.repositoryName}`,r="Fork",i="Don't Fork";switch(await b.window.showInformationMessage(`You don't have permission to push to ${e}. Do you want to fork ${e}? This will modify your git remotes to set \`origin\` to the fork, and \`upstream\` to ${e}.`,{modal:!0},r,i)){case r:return this.doFork(t,e,this.repository);case i:return!1;default:return}}dispose(){this._subs.forEach(t=>t.dispose())}};let bi=gr;yt(bi,"ID","FolderRepositoryManager");function zm(t){switch(t){case"committed":return EventType.Committed;case"mentioned":return EventType.Mentioned;case"subscribed":return EventType.Subscribed;case"commented":return EventType.Commented;case"reviewed":return EventType.Reviewed;default:return EventType.Other}}const ph=t=>{const{currentUser:e=null}=t.octokit;return e&&t.remote.owner===e.login},yi=t=>({remote:{remoteName:e}})=>e===t,bl=t=>{const e=t.indexOf(`
`);return{title:e===-1?t:t.substr(0,e),body:e===-1?"":t.slice(e+1).trim()}};var mh=Object.defineProperty,Wt=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?mh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class vh extends No{constructor(e,r,i,a){super();this._extensionUri=e,this._folderRepositoryManager=r,this._pullRequestDefaults=i,Wt(this,"viewType","github:createPullRequest"),Wt(this,"_onDone",new b.EventEmitter),Wt(this,"onDone",this._onDone.event),Wt(this,"_onDidChangeBaseRemote",new b.EventEmitter),Wt(this,"onDidChangeBaseRemote",this._onDidChangeBaseRemote.event),Wt(this,"_onDidChangeBaseBranch",new b.EventEmitter),Wt(this,"onDidChangeBaseBranch",this._onDidChangeBaseBranch.event),Wt(this,"_onDidChangeCompareRemote",new b.EventEmitter),Wt(this,"onDidChangeCompareRemote",this._onDidChangeCompareRemote.event),Wt(this,"_onDidChangeCompareBranch",new b.EventEmitter),Wt(this,"onDidChangeCompareBranch",this._onDidChangeCompareBranch.event),Wt(this,"_firstLoad",!0),Wt(this,"_compareBranch"),Wt(this,"_compareRemote"),this._compareBranch=a}resolveWebviewView(e,r,i){this._view=e,this._webview=e.webview,super.initialize(),e.webview.options={enableScripts:!0,localResourceRoots:[this._extensionUri]},e.webview.html=this._getHtmlForWebview(),this._firstLoad?(this._firstLoad=!1,this.initializeParams(!0)):this.initializeParams()}get compareBranch(){return this._compareBranch}set compareBranch(e){var r,i;e&&((e==null?void 0:e.name)!==this._compareBranch.name||((r=e==null?void 0:e.upstream)==null?void 0:r.remote)!==((i=this._compareBranch.upstream)==null?void 0:i.remote))&&(this._compareBranch=e,this.initializeParams(),this._onDidChangeCompareBranch.fire(this._compareBranch.name))}get compareRemote(){return this._compareRemote}set compareRemote(e){var r,i;e&&(e.owner!==((r=this._compareRemote)==null?void 0:r.owner)||e.repositoryName!==((i=this._compareRemote)==null?void 0:i.repositoryName))&&(this._compareRemote=e,this.initializeParams(),this._onDidChangeCompareRemote.fire(this._compareRemote))}show(e){e&&(this.compareBranch=e),super.show()}async getTitle(){var e,r,i,a,h;const x=await this._folderRepositoryManager.getOrigin(this.compareBranch);let B=!1;if((e=this.compareBranch)==null?void 0:e.upstream){const $=this._folderRepositoryManager.findRepo(yi(this.compareBranch.upstream.remote));if($){const W=`${$.remote.owner}:${(r=this.compareBranch.name)!=null?r:""}`;try{(await x.compareCommits(`${this._pullRequestDefaults.owner}:${this._pullRequestDefaults.base}`,W)).total_commits>1&&(B=await x.getDefaultBranch()!==this.compareBranch.name)}catch(re){}}}return B?(a=(i=this.compareBranch)==null?void 0:i.name)!=null?a:"":((h=this.compareBranch)==null?void 0:h.name)?bl(await this._folderRepositoryManager.getTipCommitMessage(this.compareBranch.name)).title:""}async getPullRequestTemplate(){const e=await this._folderRepositoryManager.getPullRequestTemplates();if(e[0])try{return(await b.workspace.fs.readFile(e[0])).toString()}catch(r){n.appendLine(`Reading pull request template failed: ${r}`);return}}async getDescription(){var e;const r=await this.getPullRequestTemplate();return r||(((e=this.compareBranch)==null?void 0:e.name)?bl(await this._folderRepositoryManager.getTipCommitMessage(this.compareBranch.name)).body:"")}async initializeParams(e=!1){var r,i;if(!this.compareBranch)throw new pl(this._folderRepositoryManager.repository);const a={owner:this._pullRequestDefaults.owner,repositoryName:this._pullRequestDefaults.repo},h=await this._folderRepositoryManager.getOrigin(this.compareBranch),x={owner:h.remote.owner,repositoryName:h.remote.repositoryName},[B,$,W,re]=await Promise.all([this._folderRepositoryManager.getGitHubRemotes(),this._folderRepositoryManager.listBranches(this._pullRequestDefaults.owner,this._pullRequestDefaults.repo),this.getTitle(),this.getDescription()]),le=B.map(we=>({owner:we.owner,repositoryName:we.repositoryName}));let de=$;x.owner!==a.owner&&(de=await this._folderRepositoryManager.listBranches(x.owner,x.repositoryName)),this.compareBranch.name&&!de.includes(this.compareBranch.name)&&(de.push(this.compareBranch.name),de.sort()),this._postMessage({command:e?"reset":"pr.initialize",params:{availableRemotes:le,defaultBaseRemote:a,defaultBaseBranch:this._pullRequestDefaults.base,defaultCompareRemote:x,defaultCompareBranch:(r=this.compareBranch.name)!=null?r:"",branchesForRemote:$,branchesForCompare:de,defaultTitle:W,defaultDescription:re,compareBranch:(i=this.compareBranch.name)!=null?i:"",isDraft:!1}})}async changeRemote(e,r){var i;const{owner:a,repositoryName:h}=e.args,x=this._folderRepositoryManager.findRepo(W=>a===W.remote.owner&&h===W.remote.repositoryName);if(!x)throw new Error("No matching GitHub repository found.");const B=await x.getDefaultBranch(),$=await this._folderRepositoryManager.listBranches(a,h);if(!r&&((i=this.compareBranch)==null?void 0:i.name)&&!$.includes(this.compareBranch.name)&&($.push(this.compareBranch.name),$.sort()),r)this._onDidChangeBaseRemote.fire({owner:a,repositoryName:h}),this._onDidChangeBaseBranch.fire(B);else{const W=this.compareRemote;this.compareRemote={owner:a,repositoryName:h},W&&(this.compareRemote.repositoryName!==W.repositoryName||this.compareRemote.owner!==W.owner)&&(this.compareBranch=await this._folderRepositoryManager.repository.getBranch(B))}return this._replyMessage(e,{branches:$,defaultBranch:r?B:this.compareBranch})}async create(e){var r,i,a;try{let h,x;if(!((r=this.compareBranch)==null?void 0:r.name)){this._throwError(e,"Please create a branch.");return}if(this.compareBranch.type===ve.RemoteHead){const re=this.compareBranch.name.indexOf("/");h=this.compareBranch.name.substring(re+1),x=this.compareBranch.name.substring(0,re)}else h=this.compareBranch.name,x=(i=this.compareBranch.upstream)==null?void 0:i.remote;if(!x)if(await b.window.showInformationMessage(`There is no upstream branch for '${h}'.

Do you want to publish it and then create the pull request?`,{modal:!0},"Publish branch")==="Publish branch")await b.commands.executeCommand("git.publish"),this._folderRepositoryManager.repository.state.HEAD&&(this.compareBranch=this._folderRepositoryManager.repository.state.HEAD,x=(a=this.compareBranch.upstream)==null?void 0:a.remote);else{this._throwError(e,"No upstream for the compare branch.");return}const B=this._folderRepositoryManager.findRepo(yi(x));if(!B)throw new Error(`Unable to find GitHub repository matching '${x}'.`);const $=`${B.remote.owner}:${h}`,W=await this._folderRepositoryManager.createPullRequest({...e.args,head:$});W?(await this._replyMessage(e,{}),await mr.associateBranchWithPullRequest(this._folderRepositoryManager.repository,W,h),this._onDone.fire(W)):this._throwError(e,"There must be a difference in commits to create a pull request.")}catch(h){this._throwError(e,h.message)}}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"pr.cancelCreate":return b.commands.executeCommand("setContext","github:createPullRequest",!1),this._onDone.fire(void 0),this._replyMessage(e,void 0);case"pr.create":return this.create(e);case"pr.changeBaseRemote":return this.changeRemote(e,!0);case"pr.changeBaseBranch":return this._onDidChangeBaseBranch.fire(e.args),this._replyMessage(e,void 0);case"pr.changeCompareRemote":return this.changeRemote(e,!1);case"pr.changeCompareBranch":return this.compareBranch=await this._folderRepositoryManager.repository.getBranch(e.args.name),this._replyMessage(e,void 0);default:b.window.showErrorMessage("Unsupported webview message")}}_getHtmlForWebview(){const e=_s(),r=b.Uri.joinPath(this._extensionUri,"dist","webview-create-pr-view.js");return`<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src vscode-resource: https:; script-src 'nonce-${e}'; style-src vscode-resource: 'unsafe-inline' http: https: data:;">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<title>Create Pull Request</title>
	</head>
	<body>
		<div id="app"></div>
		<script nonce="${e}" src="${this._webview.asWebviewUri(r).toString()}"></script>
	</body>
</html>`}}var gh=Object.defineProperty,Ls=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?gh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class bh{constructor(){Ls(this,"fileViewedState",new Map),Ls(this,"_onDidChangeFileDecorations",new b.EventEmitter),Ls(this,"onDidChangeFileDecorations",this._onDidChangeFileDecorations.event)}updateFileViewedState(e,r,i,a){this.fileViewedState.set(`${r}:${i}`,a),this._onDidChangeFileDecorations.fire(e)}provideFileDecoration(e,r){if(e.scheme!=="filechange"&&e.scheme!=="github")return;const i=Z(e);if(i){const a=`${i.prNumber}:${i.fileName}`;if(this.fileViewedState.get(a)===$e.VIEWED)return{propagate:!1,badge:"\u2713",tooltip:"Viewed"}}}}const Us=new bh;var yh=Object.defineProperty,qs=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?yh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class wh{constructor(){qs(this,"fileHasComments",new Map),qs(this,"_onDidChangeFileDecorations",new b.EventEmitter),qs(this,"onDidChangeFileDecorations",this._onDidChangeFileDecorations.event)}updateFileComments(e,r,i,a){const h=`${r}:${i}`;this.fileHasComments.get(h)!==a&&(this.fileHasComments.set(`${r}:${i}`,a),this._onDidChangeFileDecorations.fire(e))}provideFileDecoration(e,r){const i=Z(e);if(i){const a=`${i.prNumber}:${i.fileName}`;if(this.fileHasComments.get(a))return{propagate:!1,tooltip:"Commented",badge:"\u{1F4AC}"}}}}const yl=new wh;var _h=Object.defineProperty,Tn=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?_h(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Vt{constructor(){Tn(this,"childrenDisposables"),Tn(this,"parent"),Tn(this,"label"),Tn(this,"accessibilityInformation")}getParent(){if(this.parent instanceof Vt)return this.parent}async reveal(e,r){return this.parent.reveal(e||this,r)}refresh(e){return this.parent.refresh(e)}async getChildren(){return[]}dispose(){this.childrenDisposables&&(this.childrenDisposables.forEach(e=>e.dispose()),this.childrenDisposables=[])}}var kh=Object.defineProperty,xt=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?kh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);function wl(t){const e=b.window.activeTextEditor,r={preserveFocus:!0,viewColumn:b.ViewColumn.Active};return e&&e.document.uri.path===t.path&&(r.selection=e.selection),{command:"vscode.open",arguments:[t,r],title:"Open File"}}async function $s(t,e,r,i,a){let h=await ht(e,t.repository)||e,x=await ht(r,t.repository)||r;(h.scheme==="data"||x.scheme==="data")&&(a===Ce.ADD&&(h=Fe),a===Ce.DELETE&&(x=Fe));const B=r.path.split("/");return{command:"vscode.diff",arguments:[h,x,`${B[B.length-1]} (Pull Request)`,i],title:"Open Changed File in PR"}}class Li extends Vt{constructor(e,r,i,a,h,x,B,$){super();this.parent=e,this.pullRequest=r,this.status=i,this.fileName=a,this.previousFileName=h,this.blobUrl=x,this.filePath=B,this.parentFilePath=$,xt(this,"description"),xt(this,"iconPath"),xt(this,"command"),xt(this,"resourceUri"),xt(this,"contextValue"),xt(this,"childrenDisposables",[]),xt(this,"_viewed");var W;const re=(W=this.pullRequest.fileChangeViewedState[a])!=null?W:$e.UNVIEWED;this.contextValue=`filechange:${Ce[i]}:${re===$e.VIEWED?"viewed":"unviewed"}`,this.label=c.basename(a),this.description=b.workspace.asRelativePath(c.dirname(a),!1),this.description==="."&&(this.description=""),this.iconPath=b.ThemeIcon.File,this.resourceUri=j(b.Uri.parse(this.blobUrl),r.number,a,i),this.updateViewed(re),this.command={command:"pr.openFileOnGitHub",title:"Open File on GitHub",arguments:[this]},this.childrenDisposables.push(this.pullRequest.onDidChangeFileViewedState(le=>{const de=le.changed.find(we=>we.fileName===this.fileName);de&&(this.updateViewed(de.viewed),this.refresh(this))})),this.accessibilityInformation={label:`View diffs and comments for file ${this.label}`,role:"link"}}updateViewed(e){this._viewed!==e&&(this._viewed=e,this.contextValue=`filechange:${Ce[this.status]}:${e===$e.VIEWED?"viewed":"unviewed"}`,Us.updateFileViewedState(this.resourceUri,this.pullRequest.number,this.fileName,e))}getTreeItem(){return this}}class _l extends Vt{constructor(e,r,i,a,h,x,B,$,W,re){super();this.parent=e,this.pullRequest=r,this.status=i,this.fileName=a,this.blobUrl=h,this.filePath=x,this.parentFilePath=B,this.diffHunks=$,this.comments=W,this.sha=re,xt(this,"description"),xt(this,"iconPath"),xt(this,"resourceUri"),xt(this,"parentSha"),xt(this,"contextValue"),xt(this,"command"),xt(this,"opts"),xt(this,"childrenDisposables",[]),xt(this,"_viewed");var le;const de=(le=this.pullRequest.fileChangeViewedState[a])!=null?le:$e.UNVIEWED;this.contextValue=`filechange:${Ce[i]}:${de===$e.VIEWED?"viewed":"unviewed"}`,this.label=c.basename(a),this.description=b.workspace.asRelativePath(c.dirname(a),!1),this.description==="."&&(this.description=""),this.iconPath=b.ThemeIcon.File,this.opts={preserveFocus:!0},this.updateShowOptions(),this.resourceUri=j(b.Uri.file(this.fileName),this.pullRequest.number,this.fileName,this.status),this.updateViewed(de),this.childrenDisposables.push(this.pullRequest.onDidChangeReviewThreads(we=>{[...we.added,...we.removed].some(Re=>Re.path===this.fileName)&&this.updateShowOptions()})),this.childrenDisposables.push(this.pullRequest.onDidChangeFileViewedState(we=>{const Re=we.changed.find(Ee=>Ee.fileName===this.fileName);Re&&(this.updateViewed(Re.viewed),this.refresh(this))})),this.accessibilityInformation={label:`View diffs and comments for file ${this.label}`,role:"link"}}updateViewed(e){this._viewed!==e&&(this._viewed=e,this.contextValue=`filechange:${Ce[this.status]}:${e===$e.VIEWED?"viewed":"unviewed"}`,Us.updateFileViewedState(this.resourceUri,this.pullRequest.number,this.fileName,e))}updateShowOptions(){const e=this.pullRequest.reviewThreadsCache,i=(ue(e,a=>a.path)[this.fileName]||[]).filter(a=>!a.isOutdated);yl.updateFileComments(this.resourceUri,this.pullRequest.number,this.fileName,i.length>0),i.length?(i.sort((a,h)=>a.line-h.line),this.opts.selection=new b.Range(i[0].line,0,i[0].line,0)):delete this.opts.selection}getTreeItem(){return this}openFileCommand(){return wl(this.filePath)}async openDiff(e){var r;const i=await $s(e,this.parentFilePath,this.filePath,this.opts,this.status);b.commands.executeCommand(i.command,...(r=i.arguments)!=null?r:[])}}class Cn extends _l{constructor(e,r,i,a,h,x,B,$,W,re,le,de,we,Re){super(r,i,a,h,B,$,W,de,we,Re);this.folderRepositoryManager=e,this.parent=r,this.pullRequest=i,this.status=a,this.fileName=h,this.previousFileName=x,this.blobUrl=B,this.filePath=$,this.parentFilePath=W,this.isPartial=re,this.patch=le,this.diffHunks=de,this.comments=we,this.sha=Re}getTreeItem(){return this}async resolve(){this.command=await $s(this.folderRepositoryManager,this.parentFilePath,this.filePath,void 0,this.status)}}class wi extends _l{constructor(e,r,i,a,h,x,B,$,W,re=[],le){super(e,i,a,h,x,B,$,W,re,le);this.parent=e,this.pullRequestManager=r,this.pullRequest=i,this.status=a,this.fileName=h,this.blobUrl=x,this.filePath=B,this.parentFilePath=$,this.diffHunks=W,this.comments=re,this.sha=le,xt(this,"_useViewChangesCommand",!1)}useViewChangesCommand(){this._useViewChangesCommand=!0}async alternateCommand(){if(this.status===Ce.DELETE||this.status===Ce.ADD){const de=this.parentFilePath.with({query:JSON.stringify({path:null,commit:null})});return{command:"vscode.diff",arguments:this.status===Ce.DELETE?[this.parentFilePath,de,`${this.fileName}`,{preserveFocus:!0}]:[de,this.parentFilePath,`${this.fileName}`,{preserveFocus:!0}],title:"Open Diff"}}const{path:e,ref:r,commit:i,rootPath:a}=Ae(this.filePath.query),h=`${i}^`,x={path:e,ref:r,commit:h,base:!0,isOutdated:!0,rootPath:a},B=this.filePath.with({query:JSON.stringify(x)}),$={preserveFocus:!0},W=this.pullRequest.reviewThreadsCache,le=(ue(W,de=>de.path)[this.fileName]||[]).filter(de=>de.isOutdated).sort((de,we)=>de.line-we.line);return le.length&&($.selection=new b.Range(le[0].originalLine,0,le[0].originalLine,0)),{command:"vscode.diff",arguments:[B,this.filePath,`${this.fileName} from ${(i||"").substr(0,8)}`,$],title:"View Changes"}}async resolve(){this._useViewChangesCommand?this.command=await this.alternateCommand():b.workspace.getConfiguration().get("git.openDiffOnClick")?this.command=await $s(this.pullRequestManager,this.parentFilePath,this.filePath,this.opts,this.status):this.command=this.openFileCommand()}}class Sh extends Vt{constructor(e,r,i,a,h,x){super();this.parent=e,this.fileName=r,this.previousFileName=i,this.status=a,this.baseBranch=h,this.headBranch=x,xt(this,"description"),xt(this,"iconPath"),xt(this,"resourceUri"),xt(this,"command"),this.label=r,this.iconPath=b.ThemeIcon.File,this.resourceUri=b.Uri.file(r).with({scheme:"github",query:JSON.stringify({status:a,fileName:r})});let B=b.Uri.file(r).with({scheme:"github",query:JSON.stringify({fileName:r,branch:h})}),$=b.Uri.file(r).with({scheme:"github",query:JSON.stringify({fileName:r,branch:x})});switch(a){case Ce.ADD:B=b.Uri.file(r).with({scheme:"github",query:JSON.stringify({fileName:r,branch:h,isEmpty:!0})});break;case Ce.RENAME:B=b.Uri.file(i).with({scheme:"github",query:JSON.stringify({fileName:i,branch:h,isEmpty:!0})});break;case Ce.DELETE:$=b.Uri.file(r).with({scheme:"github",query:JSON.stringify({fileName:r,branch:x,isEmpty:!0})});break}this.command={title:"Open Diff",command:"vscode.diff",arguments:[B,$,`${r} (Pull Request Preview)`]}}getTreeItem(){return this}}function Hs(t){return t.filter(e=>e instanceof wi)}var Eh=Object.defineProperty,_i=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Eh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Rh{constructor(e,r,i,a,h,x,B){this.repository=e,this.baseOwner=r,this.baseBranchName=i,this._compareOwner=a,this.compareBranchName=h,this.compareHasUpstream=x,this.folderRepoManager=B,_i(this,"_view"),_i(this,"_onDidChangeTreeData",new b.EventEmitter),_i(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),_i(this,"_contentProvider"),_i(this,"_disposables",[]),_i(this,"_gitHubRepository"),this._view=b.window.createTreeView("github:compareChanges",{treeDataProvider:this}),this._gitHubRepository=this.folderRepoManager.gitHubRepositories.find($=>$.remote.owner===this._compareOwner),this._disposables.push(this._view)}get view(){return this._view}updateBaseBranch(e){this.baseBranchName=e,this._onDidChangeTreeData.fire()}updateBaseOwner(e){this.baseOwner=e,this._onDidChangeTreeData.fire()}async reveal(e,r){return this._view.reveal(e,r)}refresh(){this._onDidChangeTreeData.fire()}async updateHasUpstream(e){var r;if(((r=this.repository.state.HEAD)==null?void 0:r.name)===e){const i=await this.repository.getBranch(e);this.compareHasUpstream=!!i.upstream}else this.compareHasUpstream=!0}async updateCompareBranch(e){await this.updateHasUpstream(e),this.compareBranchName=e,this._onDidChangeTreeData.fire()}get compareOwner(){return this._compareOwner}set compareOwner(e){this._gitHubRepository=this.folderRepoManager.gitHubRepositories.find(r=>r.remote.owner===e),this._contentProvider&&this._gitHubRepository&&(this._contentProvider.gitHubRepository=this._gitHubRepository),this._compareOwner=e,this._onDidChangeTreeData.fire()}getTreeItem(e){return e.getTreeItem()}async getChildren(){if(this.compareHasUpstream)b.commands.executeCommand("setContext","github:noUpstream",!1);else return b.commands.executeCommand("setContext","github:noUpstream",!0),this._view.message=void 0,[];if(!this._gitHubRepository)return[];this._contentProvider||(this._contentProvider=new xh(this._gitHubRepository),this._disposables.push(b.workspace.registerTextDocumentContentProvider("github",this._contentProvider)));const{octokit:e,remote:r}=await this._gitHubRepository.ensure();try{const{data:i}=await e.repos.compareCommits({repo:r.repositoryName,owner:r.owner,base:`${this.baseOwner}:${this.baseBranchName}`,head:`${this.compareOwner}:${this.compareBranchName}`});return i.files.length?this._view.message=void 0:this._view.message=`There are no commits between the base '${this.baseBranchName}' branch and the comparing '${this.compareBranchName}' branch`,i.files.map(a=>new Sh(this,a.filename,a.previous_filename,je(a.status),i.merge_base_commit.sha,this.compareBranchName))}catch(i){return n.appendLine(`Comparing changes failed: ${i}`),[]}}dispose(){this._disposables.forEach(e=>e.dispose())}}class xh{constructor(e){this.gitHubRepository=e}async provideTextDocumentContent(e,r){var i;const a=ut(e);if(!a||a.isEmpty)return"";const{octokit:h,remote:x}=await this.gitHubRepository.ensure(),B=await h.repos.getContent({owner:x.owner,repo:x.repositoryName,path:a.fileName,ref:a.branch}),$=(i=B.data.content)!=null?i:"";return Buffer.from($,B.data.encoding).toString()}}var Mh=Object.defineProperty,Ui=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Mh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Th{constructor(e){this.repository=e,Ui(this,"_disposables",[]),Ui(this,"_createPRViewProvider"),Ui(this,"_treeView"),Ui(this,"_onDidCreate",new b.EventEmitter),Ui(this,"onDidCreate",this._onDidCreate.event)}registerListeners(e){this._disposables.push(this._createPRViewProvider.onDone(async r=>{var i,a;b.commands.executeCommand("setContext","github:createPullRequest",!1),(i=this._createPRViewProvider)==null||i.dispose(),this._createPRViewProvider=void 0,(a=this._treeView)==null||a.dispose(),this._treeView=void 0,this._disposables.forEach(h=>h.dispose()),r&&this._onDidCreate.fire(r)})),this._disposables.push(this._createPRViewProvider.onDidChangeCompareBranch(r=>{var i;(i=this._treeView)==null||i.updateCompareBranch(r)})),this._disposables.push(this._createPRViewProvider.onDidChangeCompareRemote(r=>{this._treeView&&(this._treeView.compareOwner=r.owner)})),this._disposables.push(this._createPRViewProvider.onDidChangeBaseBranch(r=>{var i;(i=this._treeView)==null||i.updateBaseBranch(r)})),this._disposables.push(this._createPRViewProvider.onDidChangeBaseRemote(r=>{var i;(i=this._treeView)==null||i.updateBaseOwner(r.owner)})),e&&this._disposables.push(this.repository.state.onDidChange(r=>{this._createPRViewProvider&&this.repository.state.HEAD&&(this._createPRViewProvider.compareBranch=this.repository.state.HEAD)}))}get isCreatingPullRequest(){return!!this._createPRViewProvider}async ensureDefaultsAreLocal(e,r){if(e.gitHubRepositories.some(i=>i.remote.owner===r.owner&&i.remote.repositoryName===r.repo))return r;{const i=await e.getOrigin(),a=await e.getMetadata(i.remote.remoteName);return{owner:a.owner.login,repo:a.name,base:a.default_branch}}}async create(e,r,i){var a;b.commands.executeCommand("setContext","github:createPullRequest",!0);const h=(a=i?await r.repository.getBranch(i):void 0)!=null?a:r.repository.state.HEAD;if(!this._createPRViewProvider){const x=await this.ensureDefaultsAreLocal(r,await r.getPullRequestDefaults(h));this._createPRViewProvider=new vh(e,r,x,h);const B=await r.getOrigin(h);this._treeView=new Rh(this.repository,x.owner,x.base,B.remote.owner,h.name,!!h.upstream,r),this.registerListeners(!i),this._disposables.push(b.window.registerWebviewViewProvider(this._createPRViewProvider.viewType,this._createPRViewProvider))}this._createPRViewProvider.show(h)}}var Ch=Object.defineProperty,kl=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Ch(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Sl{constructor(e,r,i,a,h=`${e}:${r}`){this.owner=e,this.name=r,this.description=i,this.remote=a,this.label=h,kl(this,"detail"),kl(this,"picked")}static fromRemote(e){return new this(e.owner,e.repositoryName,e.url,e)}}function qi(t){return t===void 0||t===0?0:t-1}function Wm(t,e){for(let r=0;r<t.length;r++){const i=t[r];for(let a=0;a<i.diffLines.length;a++)if(i.diffLines[a].positionInHunk===e)return i.diffLines[a]}}function Gs(t,e){const r=Ve(t);let i=r.next(),a=0;for(;!i.done;){const h=i.value;if(!(h.oldLineNumber>e))if(h.oldLineNumber+h.oldLength-1<e)a+=h.newLength-h.oldLength;else return a+=h.newLength-h.oldLength,e+a;i=r.next()}return e+a}function Vs(t,e){const r=Ve(t);let i=r.next(),a=0;for(;!i.done;){const h=i.value;if(!(h.newLineNumber>e))if(h.newLineNumber+h.newLength-1<e)a+=h.oldLength-h.newLength;else return a+=h.oldLength-h.newLength,e+a;i=r.next()}return e+a}function El(t,e){const r=[];for(let i=0;i<t.length;i++){const a=t[i];let h,x;if(e){let B;for(let $=0;$<a.diffLines.length;$++){const W=a.diffLines[$];W.type===He.Delete?(h!==void 0||(h=qi(W.oldLineNumber)),B=qi(W.oldLineNumber)):h!==void 0&&B!==void 0&&(r.push(new b.Range(h,0,B,0)),h=void 0,B=void 0)}h!==void 0&&B!==void 0&&(r.push(new b.Range(h,0,B,0)),h=void 0,B=void 0)}else a.newLineNumber&&(h=qi(a.newLineNumber),x=qi(a.newLength),r.push(new b.Range(h,0,h+x,0)))}return r}var Nh=Object.defineProperty,xr=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Nh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Ph{constructor(e,r,i,a){this._reviewManager=e,this._reposManager=r,this._repository=i,this._localFileChanges=a,xr(this,"_localToDispose",[]),xr(this,"_onDidChangeComments",new b.EventEmitter),xr(this,"onDidChangeComments",this._onDidChangeComments.event),xr(this,"_commentHandlerId"),xr(this,"_commentController"),xr(this,"_workspaceFileChangeCommentThreads",{}),xr(this,"_reviewSchemeFileChangeCommentThreads",{}),xr(this,"_obsoleteFileChangeCommentThreads",{}),xr(this,"_visibleNormalTextEditors",[]),xr(this,"_pendingCommentThreadAdds",[]),this._commentController=b.comments.createCommentController(`github-review-${r.activePullRequest.number}`,r.activePullRequest.title),this._commentController.commentingRangeProvider=this,this._commentController.reactionHandler=this.toggleReaction.bind(this),this._localToDispose.push(this._commentController),this._commentHandlerId=To(),Se(this._commentHandlerId,this)}get commentController(){return this._commentController}async initialize(){this._visibleNormalTextEditors=b.window.visibleTextEditors.filter(e=>e.document.uri.scheme!=="comment"),await this._reposManager.activePullRequest.validateDraftMode(),await this.initializeCommentThreads(),await this.registerListeners()}createOutdatedCommentThread(e,r){const i=r.comments[0].originalCommitId,a=b.Uri.file(c.join(`commit~${i.substr(0,8)}`,e)),h=se(a,e,void 0,i,!0,{base:r.diffSide===pt.LEFT},this._repository.rootUri),x=new b.Range(new b.Position(r.originalLine-1,0),new b.Position(r.originalLine-1,0));return Di(h,x,r,this._commentController)}async createWorkspaceCommentThread(e,r,i){let a=i.line;const h=await this._repository.diffWithHEAD(r);h&&(a=Gs(h,i.line));const x=new b.Range(new b.Position(a-1,0),new b.Position(a-1,0));return Di(e,x,i,this._commentController)}createReviewCommentThread(e,r,i){var a;if(!((a=this._reposManager.activePullRequest)==null?void 0:a.mergeBase))throw new Error("Cannot create review comment thread without an active pull request base.");const h=se(e,r,void 0,this._reposManager.activePullRequest.mergeBase,!1,{base:!0},this._repository.rootUri),x=new b.Range(new b.Position(i.line-1,0),new b.Position(i.line-1,0));return Di(h,x,i,this._commentController)}async initializeCommentThreads(){if(!this._reposManager.activePullRequest||!this._reposManager.activePullRequest.isResolved())return;const e=this._reposManager.activePullRequest.reviewThreadsCache,r=ue(e,i=>i.path);Object.keys(r).forEach(i=>{const a=r[i],h=a[0];if(h){const x=c.join(this._repository.rootUri.path,h.path).replace(/\\/g,"/"),B=this._repository.rootUri.with({path:x});let $=[],W=[],re=[];const le=a.map(async de=>{de.isOutdated?re.push(this.createOutdatedCommentThread(i,de)):de.diffSide===pt.RIGHT?$.push(await this.createWorkspaceCommentThread(B,i,de)):W.push(this.createReviewCommentThread(B,i,de))});Promise.all(le),this._workspaceFileChangeCommentThreads[i]=$,this._reviewSchemeFileChangeCommentThreads[i]=W,this._obsoleteFileChangeCommentThreads[i]=re}})}async registerListeners(){this._localToDispose.push(this._reposManager.activePullRequest.onDidChangePendingReviewState(e=>{[this._workspaceFileChangeCommentThreads,this._obsoleteFileChangeCommentThreads,this._reviewSchemeFileChangeCommentThreads].forEach(r=>{for(const i in r)r[i].forEach(a=>{Fo(a,e),pi(a)})})})),this._localToDispose.push(this._reposManager.activePullRequest.onDidChangeReviewThreads(e=>{e.added.forEach(async r=>{const{path:i}=r,a=this._pendingCommentThreadAdds.findIndex(async B=>{const $=this.gitRelativeRootPath(B.uri.path);if($!==r.path)return!1;const W=await this.getContentDiff(B.uri,$);return Vs(W,B.range.start.line)+1===r.line});let h;if(a>-1)h=this._pendingCommentThreadAdds[a],h.threadId=r.id,h.comments=r.comments.map(B=>new At(B,h)),this._pendingCommentThreadAdds.splice(a,1);else{const B=c.join(this._repository.rootUri.path,i).replace(/\\/g,"/"),$=this._repository.rootUri.with({path:B});r.isOutdated?h=this.createOutdatedCommentThread(i,r):r.diffSide===pt.RIGHT?h=await this.createWorkspaceCommentThread($,i,r):h=this.createReviewCommentThread($,i,r)}const x=r.isOutdated?this._obsoleteFileChangeCommentThreads:r.diffSide===pt.RIGHT?this._workspaceFileChangeCommentThreads:this._reviewSchemeFileChangeCommentThreads;x[i]?x[i].push(h):x[i]=[h]}),e.changed.forEach(r=>{const i=r.isOutdated?this._obsoleteFileChangeCommentThreads:r.diffSide===pt.RIGHT?this._workspaceFileChangeCommentThreads:this._reviewSchemeFileChangeCommentThreads,a=i[r.path].findIndex(h=>h.threadId===r.id);if(a>-1){const h=i[r.path][a];Do(h,r)}}),e.removed.forEach(r=>{const i=r.isOutdated?this._obsoleteFileChangeCommentThreads:r.diffSide===pt.RIGHT?this._workspaceFileChangeCommentThreads:this._reviewSchemeFileChangeCommentThreads,a=i[r.path].findIndex(h=>h.threadId===r.id);if(a>-1){const h=i[r.path][a];i[r.path].splice(a,1),h.dispose()}})}))}visibleEditorsEqual(e,r){if(e=e.filter(i=>i.document.uri.scheme!=="comment"),r=r.filter(i=>i.document.uri.scheme!=="comment"),e=A(e,i=>i.document.uri.toString()),r=A(r,i=>i.document.uri.toString()),e.length!==r.length)return!1;for(let i=0;i<e.length;i++)if(!r.find(h=>h.document.uri.toString()===e[i].document.uri.toString()))return!1;return!0}hasCommentThread(e){if(e.uri.scheme==="review")return!0;const r=b.workspace.getWorkspaceFolder(e.uri);return r?!!(e.uri.scheme===r.uri.scheme&&e.uri.fsPath.startsWith(this._repository.rootUri.fsPath)):!1}async provideCommentingRanges(e,r){let i=e.uri.query&&e.uri.query!==""?Ae(e.uri.query):void 0;if(i){const h=this.findMatchedFileChangeForReviewDiffView(this._localFileChanges,e.uri);if(h)return El(h.diffHunks,i.base)}const a=b.workspace.getWorkspaceFolder(e.uri);if(!!a&&e.uri.scheme===a.uri.scheme){if(!this._reposManager.activePullRequest.isResolved())return;const h=this.gitRelativeRootPath(e.uri.path),x=Hs(this._localFileChanges).find($=>$.fileName===h),B=[];if(x){if(x.status===Ce.RENAME)return[];const $=await this.getContentDiff(e.uri,x.fileName),W=x.diffHunks;for(let re=0;re<W.length;re++){const le=W[re],de=Gs($,le.newLineNumber),we=Gs($,le.newLineNumber+le.newLength-1);de>0&&we>0&&B.push(new b.Range(de-1,0,we-1,0))}}return B}}async getContentDiff(e,r){var i;const a=b.window.visibleTextEditors.find(h=>h.document.uri.toString()===e.toString());if(!((i=this._reposManager.activePullRequest)==null?void 0:i.head))throw new Error("Cannot get content diff without an active pull request head.");if(a&&a.document.isDirty){const h=a.document.getText(),B=(await this._repository.getObjectDetails(this._reposManager.activePullRequest.head.sha,r)).object,$=await this._repository.hashObject(h);return await this._repository.diffBlobs(B,$)}else return await this._repository.diffWith(this._reposManager.activePullRequest.head.sha,r)}findMatchedFileChangeForReviewDiffView(e,r){const i=Ae(r.query),a=e.filter(h=>{if(h instanceof Li||h.fileName!==i.path)return!1;if(h.filePath.scheme!=="review"&&h.sha===i.commit)return!0;try{if(JSON.parse(h.filePath.query).commit===i.commit)return!0}catch(x){}try{if(JSON.parse(h.parentFilePath.query).commit===i.commit)return!0}catch(x){}return!1});if(a&&a.length)return a[0]}gitRelativeRootPath(e){return c.relative(this._repository.rootUri.path,e).replace(/\\/g,"/")}getCommentSide(e){return e.uri.scheme==="review"&&Ae(e.uri.query).base?pt.LEFT:pt.RIGHT}async startReview(e,r){const i=e.comments.length,a=this.optimisticallyAddComment(e,r,!0);try{if(i){const h=e.comments[0];if(h instanceof At)await this._reposManager.activePullRequest.createCommentReply(r,h._rawComment.graphNodeId,!1);else throw new Error("Cannot reply to temporary comment")}else{const h=this.gitRelativeRootPath(e.uri.path),x=this.getCommentSide(e);this._pendingCommentThreadAdds.push(e);let B;if(x===pt.RIGHT){const $=await this.getContentDiff(e.uri,h);B=Vs($,e.range.start.line)}else B=e.range.start.line;await this._reposManager.activePullRequest.createReviewThread(r,h,B+1,x)}}catch(h){b.window.showErrorMessage(`Starting review failed: ${h}`),e.comments=e.comments.map(x=>(x instanceof er&&x.id===a&&(x.mode=b.CommentMode.Editing),x))}}async openReview(){await this._reviewManager.openDescription(),lr.scrollToReview()}optimisticallyAddComment(e,r,i){const a=this._reposManager.getCurrentUser(this._reposManager.activePullRequest),h=new er(e,r,i,a);return this.updateCommentThreadComments(e,[...e.comments,h]),h.id}updateCommentThreadComments(e,r){e.comments=r,pi(e)}optimisticallyEditComment(e,r){const i=this._reposManager.getCurrentUser(this._reposManager.activePullRequest),a=new er(e,r.body instanceof b.MarkdownString?r.body.value:r.body,!!r.label,i,r);return e.comments=e.comments.map(h=>h instanceof At&&h.commentId===r.commentId?a:h),a.id}async createOrReplyComment(e,r,i,a){if(!this._reposManager.activePullRequest)throw new Error("Cannot create comment without an active pull request.");const h=e.comments.length,x=i?!1:a!==void 0?a:this._reposManager.activePullRequest.hasPendingReview,B=this.optimisticallyAddComment(e,r,x);try{if(h){const $=e.comments[0];if($ instanceof At)await this._reposManager.activePullRequest.createCommentReply(r,$._rawComment.graphNodeId,i);else throw new Error("Cannot reply to temporary comment")}else{const $=this.gitRelativeRootPath(e.uri.path);this._pendingCommentThreadAdds.push(e);const W=this.getCommentSide(e);let re;if(W===pt.RIGHT){const le=await this.getContentDiff(e.uri,$);re=Vs(le,e.range.start.line)}else re=e.range.start.line;await this._reposManager.activePullRequest.createReviewThread(r,$,re+1,W,i)}i&&await this._reposManager.activePullRequest.submitReview()}catch($){b.window.showErrorMessage(`Creating comment failed: ${$}`),e.comments=e.comments.map(W=>(W instanceof er&&W.id===B&&(W.mode=b.CommentMode.Editing),W))}}async createCommentOnResolve(e,r){if(!this._reposManager.activePullRequest)throw new Error("Cannot create comment on resolve without an active pull request.");const i=await this._reposManager.activePullRequest.getPendingReviewId();await this.createOrReplyComment(e,r,!i)}async resolveReviewThread(e,r){try{r&&await this.createCommentOnResolve(e,r),await this._reposManager.activePullRequest.resolveReviewThread(e.threadId)}catch(i){b.window.showErrorMessage(`Resolving conversation failed: ${i}`)}}async unresolveReviewThread(e,r){try{r&&await this.createCommentOnResolve(e,r),await this._reposManager.activePullRequest.unresolveReviewThread(e.threadId)}catch(i){b.window.showErrorMessage(`Unresolving conversation failed: ${i}`)}}async editComment(e,r){if(r instanceof At){const i=this.optimisticallyEditComment(e,r);try{if(!this._reposManager.activePullRequest)throw new Error("Unable to find active pull request");await this._reposManager.activePullRequest.editReviewComment(r._rawComment,r.body instanceof b.MarkdownString?r.body.value:r.body)}catch(a){b.window.showErrorMessage(U(a)),e.comments=e.comments.map(h=>h instanceof er&&h.id===i?new At(r._rawComment,e):h)}}else this.createOrReplyComment(e,r.body instanceof b.MarkdownString?r.body.value:r.body,!1)}async deleteComment(e,r){try{if(!this._reposManager.activePullRequest)throw new Error("Unable to find active pull request");r instanceof At?await this._reposManager.activePullRequest.deleteReviewComment(r.commentId):e.comments=e.comments.filter(a=>!(a instanceof er&&a.id===r.id)),e.comments.length===0?e.dispose():pi(e);const i=await this._reposManager.activePullRequest.validateDraftMode();i!==this._reposManager.activePullRequest.hasPendingReview&&(this._reposManager.activePullRequest.hasPendingReview=i),this.update(this._localFileChanges)}catch(i){throw new Error(U(i))}}async update(e){await this._reposManager.activePullRequest.validateDraftMode(),this._localFileChanges=e}async toggleReaction(e,r){try{if(!this._reposManager.activePullRequest)throw new Error("Unable to find active pull request");e.reactions&&!e.reactions.find(i=>i.label===r.label&&!!i.authorHasReacted)?await this._reposManager.activePullRequest.addCommentReaction(e._rawComment.graphNodeId,r):await this._reposManager.activePullRequest.deleteCommentReaction(e._rawComment.graphNodeId,r)}catch(i){throw new Error(U(i))}}dispose(){this._commentController&&this._commentController.dispose(),ye(this._commentHandlerId),this._localToDispose.forEach(e=>e.dispose())}}var Ah=Object.defineProperty,Mt=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Ah(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const Rl=class{constructor(t,e,r,i,a,h){this._context=t,this._repository=e,this._folderRepoManager=r,this._telemetry=i,this.changesInPrDataProvider=a,this._showPullRequest=h,Mt(this,"_localToDispose",[]),Mt(this,"_disposables"),Mt(this,"_comments",[]),Mt(this,"_localFileChanges",[]),Mt(this,"_obsoleteFileChanges",[]),Mt(this,"_lastCommitSha"),Mt(this,"_updateMessageShown",!1),Mt(this,"_validateStatusInProgress"),Mt(this,"_reviewCommentController"),Mt(this,"_statusBarItem"),Mt(this,"_prNumber"),Mt(this,"_previousRepositoryState"),Mt(this,"_webviewViewProvider"),Mt(this,"_createPullRequestHelper"),Mt(this,"_switchingToReviewMode"),Mt(this,"justSwitchedToRevieMode",!1),Mt(this,"_isFirstLoad",!0),this._switchingToReviewMode=!1,this._disposables=[],this._previousRepositoryState={HEAD:e.state.HEAD,remotes:ci(this._repository)},this.registerListeners(),this.updateState(!0),this.pollForStatusChange()}get switchingToReviewMode(){return this._switchingToReviewMode}set switchingToReviewMode(t){this._switchingToReviewMode=t,t||this.updateState()}registerListeners(){this._disposables.push(this._repository.state.onDidChange(t=>{const e=this._previousRepositoryState.HEAD,r=this._repository.state.HEAD;if(!e&&!r)return;let i;!e||!r?i=!1:i=e.upstream?r.upstream&&e.upstream.name===r.upstream.name&&e.upstream.remote===r.upstream.remote:!r.upstream;const a=i&&e.ahead===r.ahead&&e.behind===r.behind&&e.commit===r.commit&&e.name===r.name&&e.remote===r.remote&&e.type===r.type,h=ci(this._repository),x=this._previousRepositoryState.remotes.length===h.length&&this._previousRepositoryState.remotes.every(B=>h.some($=>B.equals($)));(!a||!x)&&(this._previousRepositoryState={HEAD:this._repository.state.HEAD,remotes:h},this.updateState(!!e))})),this._disposables.push(b.workspace.onDidChangeConfiguration(t=>{this.updateFocusedViewMode()})),this._disposables.push(this._folderRepoManager.onDidChangeActivePullRequest(t=>{this.updateFocusedViewMode()})),this._disposables.push(b.window.registerTerminalLinkProvider(new Df(this,this._folderRepoManager)))}get statusBarItem(){return this._statusBarItem||(this._statusBarItem=b.window.createStatusBarItem("github.pullrequest.status",b.StatusBarAlignment.Left),this._statusBarItem.name="GitHub Active Pull Request"),this._statusBarItem}get repository(){return this._repository}get localFileChanges(){return this._localFileChanges}pollForStatusChange(){setTimeout(async()=>{this._validateStatusInProgress||await this.updateComments(),this.pollForStatusChange()},1e3*60*5)}async checkBranchUpToDate(t){var e;const r=this._repository.state.HEAD;if(r){const i=r.upstream?r.upstream.remote:null;if(i&&(await this._repository.fetch(i,(e=this._repository.state.HEAD)==null?void 0:e.name),!this._context.globalState.get(Ts,!1)&&!this._updateMessageShown&&(this._lastCommitSha&&t.head.sha!==this._lastCommitSha||r.behind!==void 0&&r.behind>0))){this._updateMessageShown=!0;const h="Pull",x="Never show again";await b.window.showInformationMessage("There are updates available for this pull request.",{},h,x)===h?(await b.commands.executeCommand("git.pull"),this._updateMessageShown=!1):x&&await this._context.globalState.update(Ts,!0)}}}async updateState(t=!1){if(!this.switchingToReviewMode)return this._validateStatusInProgress?(n.appendLine("Review> Queuing additional validate state"),this._validateStatusInProgress=this._validateStatusInProgress.then(async e=>await this.validateState(t)),this._validateStatusInProgress):(n.appendLine("Review> Validate state in progress"),this._validateStatusInProgress=this.validateState(t),this._validateStatusInProgress)}async validateState(t){if(n.appendLine("Review> Validating state..."),await this._folderRepoManager.updateRepositories(t),!this._repository.state.HEAD){this.clear(!0);return}const e=this._repository.state.HEAD;let r=await this._folderRepoManager.getMatchingPullRequestMetadataForBranch();if(!r){n.appendLine(`Review> no matching pull request metadata found for current branch ${e.name}`);const $=await this._folderRepoManager.getMatchingPullRequestMetadataFromGitHub();$&&(mr.associateBranchWithPullRequest(this._repository,$.model,e.name),r=$)}if(!r){n.appendLine(`Review> no matching pull request metadata found on GitHub for current branch ${e.name}`),this.clear(!0);return}const i=e.commit!==this._lastCommitSha&&e.ahead===0&&e.behind===0;if(this._prNumber===r.prNumber&&!i){b.commands.executeCommand("pr.refreshList");return}if(!(e.upstream?e.upstream.remote:null)){n.appendLine(`Review> current branch ${this._repository.state.HEAD.name} hasn't setup remote yet`),this.clear(!0);return}n.appendLine(`Review> current branch ${this._repository.state.HEAD.name} is associated with pull request #${r.prNumber}`),this.clear(!1),this._prNumber=r.prNumber,this._lastCommitSha=void 0;const{owner:h,repositoryName:x}=r;n.appendLine("Review> Resolving pull request");const B=await this._folderRepoManager.resolvePullRequest(h,x,r.prNumber);if(!B||!B.isResolved()){this._prNumber=void 0,n.appendLine("Review> This PR is no longer valid");return}if(this._folderRepoManager.activePullRequest=B,this._lastCommitSha=B.head.sha,this._isFirstLoad&&(this._isFirstLoad=!1,this.checkBranchUpToDate(B)),n.appendLine("Review> Fetching pull request data"),await this.getPullRequestData(B),await this.changesInPrDataProvider.addPrToView(this._folderRepoManager,B,this._localFileChanges,this._comments,this.justSwitchedToRevieMode),this.justSwitchedToRevieMode=!1,n.appendLine("Review> register comments provider"),await this.registerCommentController(),this._webviewViewProvider)this._webviewViewProvider.updatePullRequest(B);else{this._webviewViewProvider=new If(this._context.extensionUri,this._folderRepoManager,B),this._context.subscriptions.push(b.window.registerWebviewViewProvider(this._webviewViewProvider.viewType,this._webviewViewProvider)),this._context.subscriptions.push(b.commands.registerCommand("pr.refreshActivePullRequest",W=>{var re;(re=this._webviewViewProvider)==null||re.refresh()}));const $=this._context.workspaceState.get(at);if((!t||this._showPullRequest.shouldShow)&&$)this._webviewViewProvider.show();else if(!this._showPullRequest.shouldShow&&$){const W=this._showPullRequest.onChangedShowValue(re=>{var le;re&&((le=this._webviewViewProvider)==null||le.show()),W.dispose()});this._localToDispose.push(W)}}if(this.statusBarItem.text=`$(git-branch) Pull Request #${this._prNumber}`,this.statusBarItem.command={command:"pr.openDescription",title:"View Pull Request Description",arguments:[B]},n.appendLine("Review> display pull request status bar indicator and refresh pull request tree view."),this.statusBarItem.show(),b.commands.executeCommand("pr.refreshList"),!t&&this._context.workspaceState.get(at)&&b.env.remoteName==="codespaces"&&this.localFileChanges.length>0){let $;for(const W of this.localFileChanges)if(W.status===Ce.MODIFY){$=W;break}$=$!=null?$:this.localFileChanges[0],$.openDiff(this._folderRepoManager)}this._validateStatusInProgress=void 0}async updateComments(){const t=this._repository.state.HEAD;if(!t)return;const e=await this._folderRepoManager.getMatchingPullRequestMetadataForBranch();if(!e||!(t.upstream?t.upstream.remote:null)||this._prNumber===void 0||!this._folderRepoManager.activePullRequest)return;const i=await this._folderRepoManager.resolvePullRequest(e.owner,e.repositoryName,this._prNumber);if(!i||!i.isResolved()){n.appendLine("Review> This PR is no longer valid");return}return await this.checkBranchUpToDate(i),await this.getPullRequestData(i),await this._reviewCommentController.update(this._localFileChanges),Promise.resolve(void 0)}async getLocalChangeNodes(t,e,r){const i=[],a=t.mergeBase||t.base.sha,h=t.head.sha;for(let x=0;x<e.length;x++){const B=e[x];let $=[];if(B instanceof ur)$=B.diffHunks;else if(B.status!==Ce.RENAME)try{const Re=await this._repository.diffBetween(t.base.sha,t.head.sha,B.fileName);$=ir(Re)}catch(Re){n.appendLine(`Failed to parse patch for outdated comments: ${Re}`)}const W=c.join(this._repository.rootUri.path,B.fileName).replace(/\\/g,"/"),re=this._repository.rootUri.with({path:W}),le=B.status===Ce.DELETE?se(re,void 0,void 0,"",!1,{base:!1},this._repository.rootUri):re,de=se(re,B.status===Ce.RENAME?B.previousFileName:B.fileName,void 0,B.status===Ce.ADD?"":a,!1,{base:!0},this._repository.rootUri),we=new wi(this.changesInPrDataProvider,this._folderRepoManager,t,B.status,B.fileName,B.blobUrl,le,de,$,r.filter(Re=>Re.path===B.fileName),h);i.push(we)}return i}async getPullRequestData(t){try{this._comments=await t.getReviewComments(),await t.initializeReviewThreadCache(),await t.getPullRequestFileViewState();const e=this._comments.filter(B=>B.position),r=this._comments.filter(B=>!B.position),i=await t.getFileChangesInfo(),a=t.mergeBase||t.base.sha,h=await nr(i,this._repository,a);this._localFileChanges=await this.getLocalChangeNodes(t,h,e);const x=ue(r,B=>B.originalCommitId);this._obsoleteFileChanges=[];for(const B in x){const $=x[B],W=ue($,re=>re.path);for(const re in W){let le=[];try{const Ee=await this._repository.diffBetween(t.base.sha,B,re);le=ir(Ee)}catch(Ee){n.appendLine(`Failed to parse patch for outdated comments: ${Ee}`)}const de=W[re],we=b.Uri.file(c.join(`commit~${B.substr(0,8)}`,re)),Re=new wi(this.changesInPrDataProvider,this._folderRepoManager,t,Ce.MODIFY,re,void 0,se(we,re,void 0,de[0].originalCommitId,!0,{base:!1},this._repository.rootUri),se(we,re,void 0,de[0].originalCommitId,!0,{base:!0},this._repository.rootUri),le,de,B);this._obsoleteFileChanges.push(Re)}}return Promise.resolve(void 0)}catch(e){n.appendLine(`Review> ${e}`)}}async registerCommentController(){this._reviewCommentController=new Ph(this,this._folderRepoManager,this._repository,this._localFileChanges),await this._reviewCommentController.initialize(),this._localToDispose.push(this._reviewCommentController),this._localToDispose.push(this._reviewCommentController.onDidChangeComments(t=>{this._comments=t}))}async switch(t){n.appendLine(`Review> switch to Pull Request #${t.number} - start`),this.statusBarItem.text="$(sync~spin) Switching to Review Mode",this.statusBarItem.command=void 0,this.statusBarItem.show(),this.switchingToReviewMode=!0;try{await this._folderRepoManager.checkoutExistingPullRequestBranch(t)||await this._folderRepoManager.fetchAndCheckout(t)}catch(e){if(n.appendLine(`Review> checkout failed #${JSON.stringify(e)}`),this.switchingToReviewMode=!1,e.gitErrorCode&&(e.gitErrorCode===q.LocalChangesOverwritten||e.gitErrorCode===q.DirtyWorkTree)){b.window.showErrorMessage("Your local changes would be overwritten by checkout, please commit your changes or stash them before you switch branches");return}b.window.showErrorMessage(U(e));return}try{this.statusBarItem.text=`$(sync~spin) Fetching additional data: pr/${t.number}`,this.statusBarItem.command=void 0,this.statusBarItem.show(),await this._folderRepoManager.fulfillPullRequestMissingInfo(t),this._telemetry.sendTelemetryEvent("pr.checkout"),n.appendLine(`Review> switch to Pull Request #${t.number} - done`,Rl.ID)}finally{this.switchingToReviewMode=!1,this.justSwitchedToRevieMode=!0,this.statusBarItem.text=`Pull Request #${t.number}`,this.statusBarItem.command=void 0,this.statusBarItem.show(),await this._repository.status()}}async publishBranch(t){const e=await this._folderRepoManager.getAllGitHubRemotes();let r=(await this.getRemote(e,`Pick a remote to publish the branch '${t.name}' to:`)).remote;if(!r||t.name===void 0)return;const i=this._folderRepoManager.createGitHubRepository(r,this._folderRepoManager.credentialStore),a=await i.getViewerPermission();if(a===zt.Read||a===zt.Triage||a===zt.Unknown){const x=await this._folderRepoManager.tryOfferToFork(i);if(!x)return;r=this._folderRepoManager.getGitHubRemotes().find(B=>B.remoteName===x)}if(!r)return;const h=r;return new Promise(async x=>{const B=b.window.createInputBox();B.value=t.name,B.ignoreFocusOut=!0,B.prompt=e.length===1?`The branch '${t.name}' is not published yet, pick a name for the upstream branch`:"Pick a name for the upstream branch";const $=async function(W){try{B.busy=!0,await this._reposManager.getBranch(h,W)?B.validationMessage=`Branch ${W} already exists in ${h.owner}/${h.repositoryName}`:B.validationMessage=void 0}catch(re){B.validationMessage=void 0}B.busy=!1};await $(t.name),B.onDidChangeValue($.bind(this)),B.onDidAccept(async()=>{B.validationMessage=void 0,B.hide();try{await this._repository.push(h.remoteName,`${t.name}:${B.value}`,!0)}catch(re){throw re.gitErrorCode===q.PushRejected&&(b.window.showWarningMessage("Can't push refs to remote, try running 'git pull' first to integrate with your change",{modal:!0}),x(void 0)),re.gitErrorCode===q.RemoteConnectionError&&(b.window.showWarningMessage(`Could not read from remote repository '${h.remoteName}'. Please make sure you have the correct access rights and the repository exists.`,{modal:!0}),x(void 0)),re}const W=await this._repository.getBranch(t.name);(!W||!W.upstream)&&x(void 0),x(W)}),B.show()})}async getRemote(t,e,r){if(!t.length){b.window.showWarningMessage("No GitHub remotes found. Add a remote and try again.");return}if(t.length===1&&!r)return Sl.fromRemote(t[0]);if(t.length===1&&r&&r.owner===t[0].owner&&r.name===t[0].repositoryName)return r;let i=!1;const a=t.map(x=>{const B=Sl.fromRemote(x);if(r){const{owner:$,name:W}=r;B.picked=B.owner===$&&B.name===W,B.picked&&(i=!0)}return B});!i&&r&&a.unshift(r);const h=await b.window.showQuickPick(a,{ignoreFocusOut:!0,placeHolder:e});if(!!h)return h}async createPullRequest(t){this._createPullRequestHelper||(this._createPullRequestHelper=new Th(this.repository),this._createPullRequestHelper.onDidCreate(async e=>{await this.updateState();const r=this.changesInPrDataProvider.getDescriptionNode(this._folderRepoManager);await Ws(this._context,this._telemetry,e,r,this._folderRepoManager)})),this._createPullRequestHelper.create(this._context.extensionUri,this._folderRepoManager,t)}async openDescription(){const t=this._folderRepoManager.activePullRequest;if(!t)return;const e=this.changesInPrDataProvider.getDescriptionNode(this._folderRepoManager);await Ws(this._context,this._telemetry,t,e,this._folderRepoManager)}get isCreatingPullRequest(){var t,e;return(e=(t=this._createPullRequestHelper)==null?void 0:t.isCreatingPullRequest)!=null?e:!1}async updateFocusedViewMode(){b.workspace.getConfiguration(vr).get("focusedMode")&&this._folderRepoManager.activePullRequest?(b.commands.executeCommand("setContext",at,!0),await this._context.workspaceState.update(at,!0)):(b.commands.executeCommand("setContext",at,!1),this._context.workspaceState.update(at,!1))}clear(t){this._updateMessageShown=!1,this._localToDispose.forEach(e=>e.dispose()),t&&(this._prNumber=void 0,this._folderRepoManager.activePullRequest=void 0,this._statusBarItem&&this._statusBarItem.hide(),this.changesInPrDataProvider&&this.changesInPrDataProvider.removePrFromView(this._folderRepoManager),this._comments=[],b.commands.executeCommand("pr.refreshList"))}async provideTextDocumentContent(t){const{path:e,commit:r}=Ae(t.query);let i=Hs(this._localFileChanges).filter(a=>a.fileName===e).filter(a=>a.sha===r||(a.parentSha?a.parentSha:`${a.sha}^`)===r);if(i.length){const a=i[0],h=r===a.sha?He.Delete:He.Add;return a.diffHunks.map(B=>B.diffLines.filter($=>$.type!==h).map($=>$.text)).reduce((B,$)=>B.concat(...$),[]).join(`
`)}if(i=Hs(this._obsoleteFileChanges).filter(a=>a.fileName===e).filter(a=>a.sha===r||(a.parentSha?a.parentSha:`${a.sha}^`)===r),i.length){const a=i[0],h=r===a.sha?He.Delete:He.Add,x=[],B=ue(a.comments,$=>String($.originalPosition));for(const $ in B){if(!B[$][0].diffHunks)continue;const W=B[$][0].diffHunks.map(re=>re.diffLines.filter(le=>le.type!==h).map(le=>le.text)).reduce((re,le)=>re.concat(...le),[]);x.push(...W)}return x.join(`
`)}}dispose(){this.clear(!0),this._disposables.forEach(t=>{t.dispose()})}static getReviewManagerForRepository(t,e){return t.find(r=>r._folderRepoManager.gitHubRepositories.some(i=>i.equals(e)))}static getReviewManagerForFolderManager(t,e){return t.find(r=>r._folderRepoManager===e)}};let Zr=Rl;Mt(Zr,"ID","Review");class Ih{constructor(){Mt(this,"_shouldShow",!1),Mt(this,"_onChangedShowValue",new b.EventEmitter),Mt(this,"onChangedShowValue",this._onChangedShowValue.event)}get shouldShow(){return this._shouldShow}set shouldShow(e){const r=this._shouldShow;this._shouldShow=e,r!==this._shouldShow&&this._onChangedShowValue.fire(this._shouldShow)}}var Dh=Object.defineProperty,js=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Dh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Jr extends Vt{constructor(e,r,i,a){super();this.parent=e,this.label=r,this.iconPath=i,this.pullRequestModel=a,js(this,"command"),js(this,"contextValue"),js(this,"tooltip"),this.command={title:"View Pull Request Description",command:"pr.openDescription",arguments:[this]},this.contextValue="description",this.tooltip=`Description of pull request #${a.number}`,this.accessibilityInformation={label:`Pull request page of pull request number ${a.number}`,role:"button"}}getTreeItem(){return this}}var Fh=Object.defineProperty,xl=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Fh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Oh{constructor(){xl(this,"_onDidChange",new b.EventEmitter),xl(this,"_prFileChangeContentProviders",{})}get onDidChange(){return this._onDidChange.event}fireDidChange(e){this._onDidChange.fire(e)}async provideTextDocumentContent(e,r){const i=Me(e);if(i&&i.prNumber){const a=this._prFileChangeContentProviders[i.prNumber];if(a)return await a(e)}return""}registerTextDocumentContentProvider(e,r){return this._prFileChangeContentProviders[e]=r,{dispose:()=>{delete this._prFileChangeContentProviders[e]}}}}const Bh=new Oh;function Ml(){return Bh}var Lh=Object.defineProperty,zs=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Lh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Xr extends Vt{constructor(e,r){super();this.parent=e,this.label=r,zs(this,"collapsibleState"),zs(this,"children",[]),zs(this,"pathToChild",new Map),this.collapsibleState=b.TreeItemCollapsibleState.Expanded}async getChildren(){return this.children}finalize(){this.trimTree(),this.sort()}trimTree(){if(this.children.length===0||(this.children.forEach(r=>{r instanceof Xr&&r.trimTree()}),this.children.length!==1))return;const e=this.children[0];e instanceof Xr&&(this.label=this.label+"/"+e.label,this.label.startsWith("/")&&(this.label=this.label.substr(1)),this.children=e.children)}sort(){if(this.children.length<=1)return;const e=[],r=[];this.children.forEach(i=>{i instanceof Xr?(i.sort(),e.push(i)):r.push(i)}),e.sort((i,a)=>i.label<a.label?-1:1),r.sort((i,a)=>i.label<a.label?-1:1),this.children=[...e,...r]}addFile(e){const r=e.fileName.split("/");e.description="",this.addPathRecc(r,e)}addPathRecc(e,r){if(e.length<=0)return;if(e.length===1){this.children.push(r);return}const i=e[0],a=e.slice(1);let h=this.pathToChild.get(i);h||(h=new Xr(this,i),this.pathToChild.set(i,h),this.children.push(h)),h.addPathRecc(a,r)}getTreeItem(){return this}}var Uh=Object.defineProperty,ki=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Uh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const Tl=class extends Vt{constructor(t,e,r,i){super();this.parent=t,this._folderReposManager=e,this.pullRequestModel=r,this._isLocal=i,ki(this,"_fileChanges"),ki(this,"_commentController"),ki(this,"_disposables",[]),ki(this,"_inMemPRContentProvider"),ki(this,"_command")}get command(){return this._command}set command(t){this._command=t}async getChildren(){n.debug(`Fetch children of PRNode #${this.pullRequestModel.number}`,Tl.ID);try{this.childrenDisposables&&this.childrenDisposables.length&&(this.childrenDisposables.forEach(i=>i.dispose()),this.childrenDisposables=[]);const t=new Jr(this,"Description",new b.ThemeIcon("git-pull-request"),this.pullRequestModel);if(!this.pullRequestModel.isResolved())return[t];await this.pullRequestModel.initializeReviewThreadCache(),await this.pullRequestModel.getPullRequestFileViewState(),this._fileChanges=await this.resolveFileChanges(),this._inMemPRContentProvider||(this._inMemPRContentProvider=Ml().registerTextDocumentContentProvider(this.pullRequestModel.number,this.provideDocumentContent.bind(this))),this._commentController||await this.resolvePRCommentController(),await this.pullRequestModel.validateDraftMode();const e=[t];if(b.workspace.getConfiguration("githubPullRequests").get("fileListLayout")==="tree"){const i=new Xr(this,"");this._fileChanges.forEach(a=>i.addFile(a)),i.finalize(),i.label===""?e.push(...i.children):e.push(i)}else e.push(...this._fileChanges);return this.childrenDisposables=e,e}catch(t){return n.appendLine(t),[]}}async resolvePRCommentController(){await this.pullRequestModel.githubRepository.ensureCommentsController(),this._commentController=this.pullRequestModel.githubRepository.commentsController,this._disposables.push(this.pullRequestModel.githubRepository.commentsHandler.registerCommentingRangeProvider(this.pullRequestModel.number,this)),this._disposables.push(this.pullRequestModel.githubRepository.commentsHandler.registerCommentController(this.pullRequestModel.number,this.pullRequestModel,this._folderReposManager)),this.registerListeners()}registerListeners(){this._disposables.push(this.pullRequestModel.onDidChangePendingReviewState(async t=>{t||(await this.getFileChanges()).forEach(e=>{e instanceof Cn&&e.comments.forEach(r=>r.isDraft=t)})}))}async getFileChanges(){return this._fileChanges||(this._fileChanges=await this.resolveFileChanges()),this._fileChanges}async resolveFileChanges(){if(!this.pullRequestModel.isResolved())return[];const t=await this.pullRequestModel.getReviewComments(),e=await this.pullRequestModel.getFileChangesInfo(),r=this.pullRequestModel.mergeBase;return r?(await nr(e,this._folderReposManager.repository,r)).map(a=>{const h=this.pullRequestModel.head.sha,x=a.status===Ce.RENAME?a.previousFileName:a.fileName;return a instanceof ze?new Li(this,this.pullRequestModel,a.status,a.fileName,a.previousFileName,a.blobUrl,oe(b.Uri.file(c.resolve(this._folderReposManager.repository.rootUri.fsPath,a.fileName)),this.pullRequestModel,a.baseCommit,h,a.fileName,!1,a.status),oe(b.Uri.file(c.resolve(this._folderReposManager.repository.rootUri.fsPath,x)),this.pullRequestModel,a.baseCommit,h,a.fileName,!0,a.status)):new Cn(this._folderReposManager,this,this.pullRequestModel,a.status,a.fileName,a.previousFileName,a.blobUrl,oe(b.Uri.file(c.resolve(this._folderReposManager.repository.rootUri.fsPath,a.fileName)),this.pullRequestModel,a.baseCommit,h,a.fileName,!1,a.status),oe(b.Uri.file(c.resolve(this._folderReposManager.repository.rootUri.fsPath,x)),this.pullRequestModel,a.baseCommit,h,a.fileName,!0,a.status),a.isPartial,a.patch,a.diffHunks,t.filter($=>$.path===a.fileName&&$.position!==null))}):[]}getTreeItem(){const t=this.pullRequestModel.equals(this._folderReposManager.activePullRequest),{title:e,number:r,author:i,isDraft:a,html_url:h}=this.pullRequestModel,{login:x}=i,B=t?"\u2713 ":"",$=t?"Current Branch * ":"",W=r.toString(),re=`${B}#${W}: ${a?"[DRAFT] ":""}${e}`,le=`${$}${e} by @${x}`,de=`by @${x}`;return{label:re,id:`${this.parent instanceof Vt?this.parent.label:""}${h}`,tooltip:le,description:de,collapsibleState:1,contextValue:"pullrequest"+(this._isLocal?":local":"")+(t?":active":":nonactive"),iconPath:this.pullRequestModel.userAvatarUri?this.pullRequestModel.userAvatarUri:new b.ThemeIcon("github"),accessibilityInformation:{label:`${a?"Draft ":""}Pull request number ${W}: ${e} by ${x}`}}}async provideCommentingRanges(t,e){if(t.uri.scheme==="pr"){const r=Me(t.uri);if(!r||r.prNumber!==this.pullRequestModel.number)return;const i=(await this.getFileChanges()).find(a=>a.fileName===r.fileName);return!i||i instanceof Li?void 0:El(i.diffHunks,r.isBase)}}async provideDocumentContent(t){const e=Me(t);if(!e)return"";const r=(await this.getFileChanges()).find(i=>i.fileName===e.fileName);if(!r)return n.appendLine(`PR> can not find content for document ${t.toString()}`),"";if(e.isBase&&r.status===Ce.ADD||!e.isBase&&r.status===Ce.DELETE)return"";if(r instanceof Li||r.isPartial)try{return e.isBase?this.pullRequestModel.getFile(r.previousFileName||r.fileName,e.baseCommit):this.pullRequestModel.getFile(r.fileName,e.headCommit)}catch(i){return n.appendLine(`PR> Fetching file content failed: ${i}`),b.window.showWarningMessage("Opening this file locally failed. Would you like to view it on GitHub?","Open on GitHub").then(a=>{a==="Open on GitHub"&&b.commands.executeCommand("vscode.open",b.Uri.parse(r.blobUrl))}),""}if(r instanceof Cn)if(r.status===Ce.ADD||r.status===Ce.DELETE)if(e.isBase){const a=[];for(let h=0;h<r.diffHunks.length;h++)for(let x=0;x<r.diffHunks[h].diffLines.length;x++){const B=r.diffHunks[h].diffLines[x];B.type===He.Add||(B.type===He.Delete?a.push(B.text):B.type===He.Control||a.push(B.text))}return a.join(`
`)}else{const a=[];for(let h=0;h<r.diffHunks.length;h++)for(let x=0;x<r.diffHunks[h].diffLines.length;x++){const B=r.diffHunks[h].diffLines[x];B.type===He.Add?a.push(B.text):B.type===He.Delete||B.type===He.Control||a.push(B.text)}return a.join(`
`)}else{const a=r.status===Ce.RENAME?r.previousFileName:r.fileName,h=b.Uri.joinPath(this._folderReposManager.repository.rootUri,a),x=await this._folderReposManager.repository.show(e.baseCommit,h.fsPath);return e.isBase?x:et(x,r.patch)}return""}dispose(){super.dispose(),this._inMemPRContentProvider&&this._inMemPRContentProvider.dispose(),this._commentController=void 0,this._disposables.forEach(t=>t.dispose()),this._disposables=[]}};let Si=Tl;ki(Si,"ID","PRNode");const Nn=new b.EventEmitter,Cl=Nn.event;function $i(t,e){if(e)return e instanceof Si?e.pullRequestModel:e;if(!t.activePullRequest)throw b.window.showErrorMessage("Unable to find current pull request."),new Error("Unable to find current pull request.");return t.activePullRequest}async function Ws(t,e,r,i,a){const h=$i(a,r);i==null||i.reveal(i,{select:!0,focus:!0}),await lr.createOrShow(t.extensionUri,a,h),e.sendTelemetryEvent("pr.openDescription")}async function Hi(t,e,r){var i;if(t.length===1)return t[0];const a=t.map(h=>({label:e(h),itemValue:h}));return(i=await b.window.showQuickPick(a,r))==null?void 0:i.itemValue}async function Gi(t,e){t instanceof Si||t instanceof Jr?b.commands.executeCommand("vscode.open",b.Uri.parse(t.pullRequestModel.html_url)):b.commands.executeCommand("vscode.open",b.Uri.parse(t.html_url)),e.sendTelemetryEvent("pr.openInGitHub")}function qh(t,e,r,i,a,h){t.subscriptions.push(b.commands.registerCommand("auth.signout",async()=>{a.logout()})),t.subscriptions.push(b.commands.registerCommand("pr.openPullRequestOnGitHub",async $=>{if($)Gi($,i);else{const W=e.folderManagers.map(re=>re.activePullRequest).filter(re=>!!re);if(W.length>=1){const re=await Hi(W,le=>le.html_url);re&&Gi(re,i)}}})),t.subscriptions.push(b.commands.registerCommand("review.suggestDiff",async $=>{try{const W=await Hi(e.folderManagers,Le=>c.basename(Le.repository.rootUri.fsPath));if(!W||!W.activePullRequest)return;const{indexChanges:re,workingTreeChanges:le}=W.repository.state;if(!re.length)if(le.length)if(await b.window.showWarningMessage(`There are no staged changes to suggest.

Would you like to automatically stage all your of changes and suggest them?`,{modal:!0},"Yes")==="Yes")await b.commands.executeCommand("git.stageAll");else return;else{b.window.showInformationMessage("There are no changes to suggest.");return}const de=await W.repository.diff(!0);let we="";$&&$.inputBox&&$.inputBox.value&&(we=`${$.inputBox.value}
`,$.inputBox.value="");const Re=`${we}\`\`\`diff
${de}
\`\`\``;await W.activePullRequest.createIssueComment(Re),await b.commands.executeCommand("git.unstageAll");const Ee=c.join(W.repository.rootUri.path,".git",`${W.activePullRequest.number}.diff`),Te=new TextEncoder,Ie=b.Uri.parse(Ee);await b.workspace.fs.writeFile(Ie,Te.encode(de)),await W.repository.apply(Ee,!0),await b.workspace.fs.delete(Ie)}catch(W){n.appendLine(`Applying patch failed: ${W}`),b.window.showErrorMessage(`Applying patch failed: ${U(W)}`)}})),t.subscriptions.push(b.commands.registerCommand("pr.openFileOnGitHub",async $=>{if(!($ instanceof Li&&!await b.window.showInformationMessage(`${$.fileName} can't be opened locally. Do you want to open it on GitHub?`,"Open"))&&$.blobUrl)return b.commands.executeCommand("vscode.open",b.Uri.parse($.blobUrl))})),t.subscriptions.push(b.commands.registerCommand("pr.copyCommitHash",$=>{b.env.clipboard.writeText($.sha)})),t.subscriptions.push(b.commands.registerCommand("pr.openOriginalFile",async $=>{const W=e.getManagerForIssueModel($.pullRequest);if(W){const re=await ht($.parentFilePath,W.repository);b.commands.executeCommand("vscode.open",re||$.parentFilePath)}})),t.subscriptions.push(b.commands.registerCommand("pr.openModifiedFile",$=>{b.commands.executeCommand("vscode.open",$.filePath)})),t.subscriptions.push(b.commands.registerCommand("pr.openDiffView",$=>{const W=e.getManagerForIssueModel($.pullRequest);!W||$.openDiff(W)})),t.subscriptions.push(b.commands.registerCommand("pr.deleteLocalBranch",async $=>{const W=e.getManagerForIssueModel($.pullRequestModel);if(!W)return;const re=$i(W,$),le="delete branch (even if not merged)";let de=null;try{await W.deleteLocalPullRequest(re)}catch(we){if(we.gitErrorCode===q.BranchNotFullyMerged){if(await b.window.showErrorMessage(`The branch '${re.localBranchName}' is not fully merged, are you sure you want to delete it? `,le)!==le)return;try{await W.deleteLocalPullRequest(re,!0)}catch(Ee){de=Ee}}else de=we}de?(i.sendTelemetryErrorEvent("pr.deleteLocalPullRequest.failure"),await b.window.showErrorMessage(`Deleting local pull request branch failed: ${de}`)):(i.sendTelemetryEvent("pr.deleteLocalPullRequest.success"),b.commands.executeCommand("pr.refreshList"))}));function x($){if($){const W=b.Uri.file($).toString();for(const re of r)if(re.repository.rootUri.toString()===W)return re}return Hi(r,W=>c.basename(W.repository.rootUri.fsPath),{placeHolder:"Choose a repository to create a pull request in",ignoreFocusOut:!0})}function B($){return!!($==null?void 0:$.rootUri)}t.subscriptions.push(b.commands.registerCommand("pr.create",async $=>{var W,re;B($)?(W=await x($.rootUri.fsPath))==null||W.createPullRequest():(re=await x($==null?void 0:$.repoPath))==null||re.createPullRequest($==null?void 0:$.compareBranch)})),t.subscriptions.push(b.commands.registerCommand("pr.pick",async $=>{let W;$ instanceof Si||$ instanceof Jr?W=$.pullRequestModel:W=$;const re=$ instanceof Dr;return i.sendTelemetryEvent("pr.checkout",{fromDescription:re.toString()}),b.window.withProgress({location:b.ProgressLocation.SourceControl,title:`Switching to Pull Request #${W.number}`},async()=>{var le;await((le=Zr.getReviewManagerForRepository(r,W.githubRepository))==null?void 0:le.switch(W))})})),t.subscriptions.push(b.commands.registerCommand("pr.exit",async $=>{let W;$ instanceof Si||$ instanceof Jr?W=$.pullRequestModel:W=$;const re=$ instanceof Dr;return i.sendTelemetryEvent("pr.exit",{fromDescription:re.toString()}),b.window.withProgress({location:b.ProgressLocation.SourceControl,title:"Exiting Pull Request"},async()=>{const le=await W.githubRepository.getDefaultBranch(),de=e.getManagerForIssueModel(W);de&&de.checkoutDefaultBranch(le)})})),t.subscriptions.push(b.commands.registerCommand("pr.merge",async $=>{const W=e.getManagerForIssueModel($==null?void 0:$.pullRequestModel);if(!W)return;const re=$i(W,$);return re.base&&re.head&&!re.base.repositoryCloneUrl.equals(re.head.repositoryCloneUrl)&&Rs()?Gi(re,i):b.window.showWarningMessage("Are you sure you want to merge this pull request on GitHub?",{modal:!0},"Yes").then(async we=>{let Re;if(we==="Yes")try{return Re=await W.mergePullRequest(re),Re}catch(Ee){return b.window.showErrorMessage(`Unable to merge pull request. ${U(Ee)}`),Re}})})),t.subscriptions.push(b.commands.registerCommand("pr.readyForReview",async $=>{const W=e.getManagerForIssueModel($==null?void 0:$.pullRequestModel);if(!W)return;const re=$i(W,$);return b.window.showWarningMessage("Are you sure you want to mark this pull request as ready to review on GitHub?",{modal:!0},"Yes").then(async le=>{let de;if(le==="Yes")try{return de=await re.setReadyForReview(),b.commands.executeCommand("pr.refreshList"),de}catch(we){return b.window.showErrorMessage(`Unable to mark pull request as ready to review. ${U(we)}`),de}})})),t.subscriptions.push(b.commands.registerCommand("pr.close",async($,W)=>{let re;if($)re=$ instanceof Dr?$:$.pullRequestModel;else{const de=e.folderManagers.map(we=>we.activePullRequest).filter(we=>!!we);re=await Hi(de,we=>`${we.number}: ${we.title}`,{placeHolder:"Pull request to close"})}if(!re)return;const le=re;return b.window.showWarningMessage("Are you sure you want to close this pull request on GitHub? This will close the pull request without merging.",{modal:!0},"Yes","No").then(async de=>{if(de==="Yes")try{let we;W&&(we=await le.createIssueComment(W));const Re=await le.close();return b.commands.executeCommand("pr.refreshList"),Nn.fire(Re),we}catch(we){b.window.showErrorMessage(`Unable to close pull request. ${U(we)}`),Nn.fire()}Nn.fire()})})),t.subscriptions.push(b.commands.registerCommand("pr.openDescription",async $=>{let W;if($)W=$ instanceof Jr?$.pullRequestModel:$;else{const de=e.folderManagers.map(we=>we.activePullRequest).filter(we=>!!we);de.length>=1&&(W=await Hi(de,we=>we.title))}if(!W){n.appendLine("No pull request found.");return}const re=e.getManagerForIssueModel(W);if(!re)return;let le;if($ instanceof Jr)le=$;else{const de=Zr.getReviewManagerForFolderManager(r,re);if(!de)return;le=de.changesInPrDataProvider.getDescriptionNode(re)}await Ws(t,i,W,le,re)})),t.subscriptions.push(b.commands.registerCommand("pr.refreshDescription",async()=>{lr.currentPanel&&lr.refresh()})),t.subscriptions.push(b.commands.registerCommand("pr.openDescriptionToTheSide",async $=>{const W=e.getManagerForIssueModel($.pullRequestModel);if(!W)return;const re=$.pullRequestModel,le=$i(W,re);$.reveal($,{select:!0,focus:!0}),lr.createOrShow(t.extensionUri,W,le,!0),i.sendTelemetryEvent("pr.openDescriptionToTheSide")})),t.subscriptions.push(b.commands.registerCommand("pr.signin",async()=>{await e.authenticate()})),t.subscriptions.push(b.commands.registerCommand("pr.deleteLocalBranchesNRemotes",async()=>{for(const $ of e.folderManagers)await $.deleteLocalBranchesNRemotes()})),t.subscriptions.push(b.commands.registerCommand("pr.signinAndRefreshList",async()=>{await e.authenticate()&&b.commands.executeCommand("pr.refreshList")})),t.subscriptions.push(b.commands.registerCommand("pr.configureRemotes",async()=>b.commands.executeCommand("workbench.action.openSettings",`@ext:${be} remotes`))),t.subscriptions.push(b.commands.registerCommand("pr.startReview",async $=>{i.sendTelemetryEvent("pr.startReview");const W=Ne($.thread);W&&W.startReview($.thread,$.text)})),t.subscriptions.push(b.commands.registerCommand("pr.openReview",async $=>{i.sendTelemetryEvent("pr.openReview");const W=Ne($.thread);W&&await W.openReview($.thread)})),t.subscriptions.push(b.commands.registerCommand("pr.resolveReviewThread",async $=>{i.sendTelemetryEvent("pr.resolveReviewThread");const W=Ne($.thread);W&&await W.resolveReviewThread($.thread,$.text)})),t.subscriptions.push(b.commands.registerCommand("pr.unresolveReviewThread",async $=>{i.sendTelemetryEvent("pr.unresolveReviewThread");const W=Ne($.thread);W&&await W.unresolveReviewThread($.thread,$.text)})),t.subscriptions.push(b.commands.registerCommand("pr.createComment",async $=>{i.sendTelemetryEvent("pr.createComment");const W=Ne($.thread);W&&W.createOrReplyComment($.thread,$.text,!1)})),t.subscriptions.push(b.commands.registerCommand("pr.createSingleComment",async $=>{i.sendTelemetryEvent("pr.createSingleComment");const W=Ne($.thread);W&&W.createOrReplyComment($.thread,$.text,!0)})),t.subscriptions.push(b.commands.registerCommand("pr.editComment",async $=>{i.sendTelemetryEvent("pr.editComment"),$.startEdit()})),t.subscriptions.push(b.commands.registerCommand("pr.cancelEditComment",async $=>{i.sendTelemetryEvent("pr.cancelEditComment"),$.cancelEdit()})),t.subscriptions.push(b.commands.registerCommand("pr.saveComment",async $=>{i.sendTelemetryEvent("pr.saveComment");const W=Ne($.parent);W&&await W.editComment($.parent,$)})),t.subscriptions.push(b.commands.registerCommand("pr.deleteComment",async $=>{if(i.sendTelemetryEvent("pr.deleteComment"),await b.window.showWarningMessage("Delete comment?",{modal:!0},"Delete")==="Delete"){const re=Ne($.parent);re&&await re.deleteComment($.parent,$)}})),t.subscriptions.push(b.commands.registerCommand("review.openFile",$=>{var W;const re=$ instanceof wi?$.openFileCommand():wl($);b.commands.executeCommand(re.command,...(W=re.arguments)!=null?W:[])})),t.subscriptions.push(b.commands.registerCommand("pr.refreshChanges",$=>{r.forEach(W=>{W.updateComments(),lr.refresh(),W.changesInPrDataProvider.refresh()})})),t.subscriptions.push(b.commands.registerCommand("pr.setFileListLayoutAsTree",$=>{b.workspace.getConfiguration("githubPullRequests").update("fileListLayout","tree",!0)})),t.subscriptions.push(b.commands.registerCommand("pr.setFileListLayoutAsFlat",$=>{b.workspace.getConfiguration("githubPullRequests").update("fileListLayout","flat",!0)})),t.subscriptions.push(b.commands.registerCommand("pr.refreshPullRequest",$=>{var W;const re=e.getManagerForIssueModel($.pullRequestModel);re&&$.pullRequestModel.equals(re==null?void 0:re.activePullRequest)&&((W=Zr.getReviewManagerForFolderManager(r,re))==null||W.updateComments()),lr.refresh(),h.refresh($)})),t.subscriptions.push(b.commands.registerCommand("pr.markFileAsViewed",async $=>{try{await $.pullRequest.markFileAsViewed($.fileName)}catch(W){b.window.showErrorMessage(`Marked file as viewed failed: ${W}`)}})),t.subscriptions.push(b.commands.registerCommand("pr.unmarkFileAsViewed",async $=>{try{await $.pullRequest.unmarkFileAsViewed($.fileName)}catch(W){b.window.showErrorMessage(`Marked file as not viewed failed: ${W}`)}}))}var Ei=nt(9035),$h=Object.defineProperty,Nl=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?$h(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Hh{constructor(e){this.baseReporter=e,Nl(this,"sharedProperties",{})}sendTelemetryEvent(e,r,i){this.baseReporter.sendTelemetryEvent(e,{...this.sharedProperties,...r},i)}sendTelemetryErrorEvent(e,r,i){this.baseReporter.sendTelemetryErrorEvent(e,{...this.sharedProperties,...r})}setSharedProperty(e,r){this.sharedProperties[e]=r}postEvent(e,r){const i={};for(const[a,h]of r)i[a]=h;this.sendTelemetryEvent(e,i)}dispose(){return this.baseReporter.dispose()}}function Gh(){switch(b.env.uriScheme){case"vscode":return Ei.aU.Public;case"vscode-insiders":return Ei.aU.Insiders;case"vscode-exploration":return Ei.aU.Internal;case"code-oss":return Ei.aU.Team;default:return Ei.aU.Public}}class Vh{constructor(){Nl(this,"initializePromise",Promise.resolve())}isFlightEnabled(e){return!1}isCachedFlightEnabled(e){return Promise.resolve(!1)}isFlightEnabledAsync(e){return Promise.resolve(!1)}getTreatmentVariable(e,r){}getTreatmentVariableAsync(e,r){return Promise.resolve(void 0)}}async function jh(t,e){const r=t.extension.id,i=t.extension.packageJSON.name,a=t.extension.packageJSON.version,h=Gh();return i==="vscode-pull-request-github"?(0,Ei.X7)(r,a,h,e,t.globalState):new Vh}var zh=Object.defineProperty,Vi=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?zh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Qm extends Error{constructor(e){super();this.repository=e}get message(){return`${this.repository.rootUri.toString()} has no GitHub remotes`}}class Km extends Error{constructor(e){super();this.repository=e}get message(){return`${this.repository.rootUri.toString()} has a detached HEAD (create a branch first)`}}class Ym extends Error{constructor(e,r,i){super();this.branchName=e,this.upstreamRef=r,this.problem=i}get message(){const{upstreamRef:{remote:e,name:r},branchName:i,problem:a}=this;return`The upstream ref ${e}/${r} for branch ${i} ${a}.`}}const Zm="No Milestone";class Pl{constructor(e,r,i){this._folderManagers=e,this._credentialStore=r,this._telemetry=i,Vi(this,"_subs"),Vi(this,"_onDidChangeState",new b.EventEmitter),Vi(this,"onDidChangeState",this._onDidChangeState.event),Vi(this,"_state",tr.Initializing),this._subs=[],b.commands.executeCommand("setContext",ml,this._state),this._subs.push(...e.map(a=>a.onDidLoadRepositories(h=>this.state=h)))}get folderManagers(){return this._folderManagers}insertFolderManager(e){const r=b.workspace.workspaceFolders;if(r){const i=r.findIndex(a=>a.uri.toString()===e.repository.rootUri.toString());if(i>-1){const a=this._folderManagers.slice(i,this._folderManagers.length);this._folderManagers=this._folderManagers.slice(0,i),this._folderManagers.push(e),this._folderManagers.push(...a);return}}this._folderManagers.push(e)}removeRepo(e){const r=this._folderManagers.findIndex(i=>i.repository.rootUri.toString()===e.rootUri.toString());if(r>-1){const i=this._folderManagers[r];this._folderManagers.splice(r),i.dispose()}}getManagerForIssueModel(e){if(e===void 0)return;const r=e.remote.url.substring(0,e.remote.url.length-c.extname(e.remote.url).length);for(const i of this._folderManagers)if(i.gitHubRepositories.map(a=>a.remote.url.substring(0,a.remote.url.length-c.extname(a.remote.url).length)).includes(r))return i}getManagerForFile(e){for(const r of this._folderManagers){const i=r.repository.rootUri.path,a=e.path.substring(i.length>1?i.length+1:i.length);if(b.Uri.joinPath(r.repository.rootUri,a).path===e.path)return r}}get state(){return this._state}set state(e){const r=e!==this._state;this._state=e,r&&(b.commands.executeCommand("setContext",ml,e),this._onDidChangeState.fire())}get credentialStore(){return this._credentialStore}async clearCredentialCache(){await this._credentialStore.reset(),this.state=tr.Initializing}async authenticate(){const e=await this._credentialStore.login(vt.github);let r;return Fi()&&(r=await this._credentialStore.login(vt["github-enterprise"])),!!e||!!r}createGitHubRepository(e,r){return new hi(e,r,this._telemetry)}createGitHubRepositoryFromOwnerName(e,r){const i=`https://github.com/${e}/${r}`;return new hi(new vn(r,i,new it(i)),this._credentialStore,this._telemetry)}dispose(){this._subs.forEach(e=>e.dispose())}}Vi(Pl,"ID","RepositoriesManager");function Jm(t){switch(t){case"committed":return EventType.Committed;case"mentioned":return EventType.Mentioned;case"subscribed":return EventType.Subscribed;case"commented":return EventType.Commented;case"reviewed":return EventType.Reviewed;default:return EventType.Other}}var Wh=Object.defineProperty,Mr=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Wh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Qs{constructor(e){Mr(this,"_onDidOpenRepository",new b.EventEmitter),Mr(this,"onDidOpenRepository",this._onDidOpenRepository.event),Mr(this,"_onDidCloseRepository",new b.EventEmitter),Mr(this,"onDidCloseRepository",this._onDidCloseRepository.event),Mr(this,"_onDidChangeState",new b.EventEmitter),Mr(this,"onDidChangeState",this._onDidChangeState.event),Mr(this,"_onDidPublish",new b.EventEmitter),Mr(this,"onDidPublish",this._onDidPublish.event),Mr(this,"_gitAPI"),Mr(this,"_disposables");const r=e.exports;try{this._gitAPI=r.getAPI(1)}catch(i){throw b.window.showErrorMessage("Activating the Pull Requests and Issues extension failed. Please make sure you have git installed."),i}this._disposables=[],this._disposables.push(this._gitAPI.onDidCloseRepository(i=>this._onDidCloseRepository.fire(i))),this._disposables.push(this._gitAPI.onDidOpenRepository(i=>this._onDidOpenRepository.fire(i))),this._disposables.push(this._gitAPI.onDidChangeState(i=>this._onDidChangeState.fire(i))),this._disposables.push(this._gitAPI.onDidPublish(i=>this._onDidPublish.fire(i)))}get repositories(){return this._gitAPI.repositories}get state(){return this._gitAPI.state}static async createProvider(){const e=b.extensions.getExtension("vscode.git");if(e)return await e.activate(),new Qs(e)}dispose(){this._disposables.forEach(e=>e.dispose())}}var Qh=Object.defineProperty,It=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Qh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Kh{constructor(e){this._liveShareAPI=e,It(this,"_onDidOpenRepository",new b.EventEmitter),It(this,"onDidOpenRepository",this._onDidOpenRepository.event),It(this,"_onDidCloseRepository",new b.EventEmitter),It(this,"onDidCloseRepository",this._onDidCloseRepository.event),It(this,"_openRepositories",[]),It(this,"_sharedServiceProxy"),It(this,"_disposables"),this._disposables=[]}get repositories(){return this._openRepositories}async initialize(){this._sharedServiceProxy=await this._liveShareAPI.getSharedService(ct)||void 0,!!this._sharedServiceProxy&&(this._sharedServiceProxy.isServiceAvailable&&await this._refreshWorkspaces(!0),this._disposables.push(this._sharedServiceProxy.onDidChangeIsServiceAvailable(async e=>{await this._refreshWorkspaces(e)})),this._disposables.push(b.workspace.onDidChangeWorkspaceFolders(this._onDidChangeWorkspaceFolders.bind(this))))}async _onDidChangeWorkspaceFolders(e){e.added.forEach(async r=>{r.uri.scheme==="vsls"&&this._sharedServiceProxy&&this._sharedServiceProxy.isServiceAvailable&&await this.openVSLSRepository(r)}),e.removed.forEach(async r=>{r.uri.scheme==="vsls"&&this._sharedServiceProxy&&this._sharedServiceProxy.isServiceAvailable&&await this.closeVSLSRepository(r)})}async _refreshWorkspaces(e){b.workspace.workspaceFolders&&b.workspace.workspaceFolders.forEach(async r=>{r.uri.scheme==="vsls"&&(e?await this.openVSLSRepository(r):await this.closeVSLSRepository(r))})}async openVSLSRepository(e){if(this.getRepository(e))return;const i=new Jh(e,this._sharedServiceProxy),a=new Yh,h=new Proxy(i,a);await h.initialize(),this.openRepository(h)}async closeVSLSRepository(e){const r=this.getRepository(e);!r||this.closeRepository(r)}openRepository(e){this._openRepositories.push(e),this._onDidOpenRepository.fire(e)}closeRepository(e){this._openRepositories=this._openRepositories.filter(r=>r!==e),this._onDidCloseRepository.fire(e)}getRepository(e){return this._openRepositories.filter(r=>r.workspaceFolder===e)[0]}dispose(){this._sharedServiceProxy=void 0,this._disposables.forEach(e=>e.dispose()),this._disposables=[]}}class Yh{constructor(){}get(e,r){return r in e?e[r]:function(...i){return e.proxy.request(Pe,[r,e.workspaceFolder.uri.toString(),...i])}}}class Zh{constructor(e){It(this,"HEAD"),It(this,"refs"),It(this,"remotes"),It(this,"submodules",[]),It(this,"rebaseCommit"),It(this,"mergeChanges",[]),It(this,"indexChanges",[]),It(this,"workingTreeChanges",[]),It(this,"_onDidChange",new b.EventEmitter),It(this,"onDidChange",this._onDidChange.event),this.HEAD=e.HEAD,this.remotes=e.remotes,this.refs=e.refs}update(e){this.HEAD=e.HEAD,this.remotes=e.remotes,this.refs=e.refs,this._onDidChange.fire()}}class Jh{constructor(e,r){this.workspaceFolder=e,this.proxy=r,It(this,"rootUri"),It(this,"state")}async initialize(){const e=await this.proxy.request(Pe,[Oe,this.workspaceFolder.uri.toString()]);this.state=new Zh(e),this.rootUri=b.Uri.parse(e.rootUri),this.proxy.onNotify(Be,this._notifyHandler.bind(this))}_notifyHandler(e){var r;(r=this.state)==null||r.update(e)}}var Xh=Object.defineProperty,Al=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Xh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class ep{constructor(e,r){this._liveShareAPI=e,this._api=r,Al(this,"_sharedService"),Al(this,"_disposables"),this._disposables=[]}async initialize(){this._sharedService=await this._liveShareAPI.shareService(ct)||void 0,this._sharedService&&this._sharedService.onRequest(Pe,this._gitHandler.bind(this))}async _gitHandler(e){const r=e[0],i=e[1],a=b.Uri.parse(i),h=this._liveShareAPI.convertSharedUriToLocal(a),x=this._api.getGitProvider(h);if(!x)return;const B=x.repositories.filter($=>$.rootUri.toString()===h.toString())[0];if(B){const $=e.slice(2);if(r===Oe)return this._disposables.push(B.state.onDidChange(W=>{this._sharedService.notify(Be,{HEAD:B.state.HEAD,remotes:B.state.remotes,refs:B.state.refs})})),{HEAD:B.state.HEAD,remotes:B.state.remotes,refs:B.state.refs,rootUri:a.toString()};if(r==="show"){const W=$[1],re=a.with({path:W}),le=this._liveShareAPI.convertSharedUriToLocal(re);return $[1]=le.fsPath,B[r](...$)}if(B[r])return B[r](...$)}else return null}dispose(){this._disposables.forEach(e=>e.dispose()),this._sharedService=void 0,this._disposables=[]}}var tp=Object.defineProperty,ji=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?tp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);async function rp(){const t=b.extensions.getExtension("ms-vsliveshare.vsliveshare");if(!t)return null;const e=t.isActive?t.exports:await t.activate();if(!e)return null;const r="0.3.967";return e.getApi?e.getApi(r):e.getApiAsync(r)}class ip{constructor(e){this._api=e,ji(this,"_liveShareAPI"),ji(this,"_host"),ji(this,"_guest"),ji(this,"_localDisposables"),ji(this,"_globalDisposables"),this._localDisposables=[],this._globalDisposables=[]}async initialize(){if(this._liveShareAPI||(this._liveShareAPI=await rp()),!!this._liveShareAPI)return this._globalDisposables.push(this._liveShareAPI.onDidChangeSession(e=>this._onDidChangeSession(e.session),this)),this._liveShareAPI.session&&this._onDidChangeSession(this._liveShareAPI.session),this._liveShareAPI}async _onDidChangeSession(e){if(this._localDisposables.forEach(r=>r.dispose()),e.role===1){this._host=new ep(this._liveShareAPI,this._api),this._localDisposables.push(this._host),await this._host.initialize();return}e.role===2&&(this._guest=new Kh(this._liveShareAPI),this._localDisposables.push(this._guest),await this._guest.initialize(),this._localDisposables.push(this._api.registerGitProvider(this._guest)))}dispose(){this._liveShareAPI=void 0,this._localDisposables.forEach(e=>e.dispose()),this._globalDisposables.forEach(e=>e.dispose())}}function np(t){return new ip(t)}async function sp(t,e){const r=await Qs.createProvider();if(r)return e.registerGitProvider(r),r}var ap=Object.defineProperty,Il=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?ap(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class op{constructor(e){this.pullRequestManager=e,Il(this,"onNotifiedEmitter",new b.EventEmitter),Il(this,"onNotified",this.onNotifiedEmitter.event),e.folderManagers.forEach(r=>{r.onDidChangeAssignableUsers(i=>{this.notifySuggestedAccounts(i)})})}async requestAsync(e,r,i){let a=null;switch(e){case"initialize":a={description:"Pullrequest",capabilities:{supportsDispose:!1,supportsInviteLink:!1,supportsPresence:!1,supportsContactPresenceRequest:!1,supportsPublishPresence:!1}};const h=new Map;for(const x of this.pullRequestManager.folderManagers){const B=x.getAllAssignableUsers();if(!!B)for(const $ of B)h.has($.login)||h.set($.login,$)}h.size>0&&this.notifySuggestedAccounts(Array.from(h.values()));break;default:throw new Error(`type:${e} not supported`)}return a}async notifySuggestedAccounts(e){let r;try{r=await this.getCurrentUserLogin()}catch(i){}r&&e.findIndex(i=>i.login===r)!==-1&&this.notifySuggestedUsers(e.filter(i=>i.email).map(i=>({id:i.login,displayName:i.name?i.name:i.login,email:i.email})),!0)}async getCurrentUserLogin(){var e;if(this.pullRequestManager.folderManagers.length===0)return;const r=await((e=this.pullRequestManager.folderManagers[0])==null?void 0:e.getOrigin());if(r){const i=r.hub.currentUser;if(i)return i.login}}notify(e,r){this.onNotifiedEmitter.fire({type:e,body:r})}notifySuggestedUsers(e,r){this.notify("suggestedUsers",{contacts:e,exclusive:r})}}var lp=Object.defineProperty,Dl=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?lp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class up{constructor(){Dl(this,"_extensionsDisposable"),Dl(this,"_subscriptions",[]),this._extensionsDisposable=b.extensions.onDidChange(this.onExtensionsChanged,this),this.onExtensionsChanged()}dispose(){this._extensionsDisposable.dispose(),b.Disposable.from(...this._subscriptions).dispose()}register(e){this._subscriptions.push(e.registerActionRunner("createPullRequest",{partnerId:"ghpr",name:"GitHub Pull Requests and Issues",label:"Create Pull Request",run:function(r){r.branch.isRemote||b.commands.executeCommand("pr.create",{repoPath:r.repoPath,compareBranch:r.branch.name})}}))}async onExtensionsChanged(){var e;const r=(e=b.extensions.getExtension("eamodio.gitlens"))!=null?e:b.extensions.getExtension("eamodio.gitlens-insiders");if(r)if(this._extensionsDisposable.dispose(),r.isActive)this.register(await r.exports);else{let i=0;const a=setInterval(async()=>{r.isActive?(clearInterval(a),this.register(await r.exports)):(i++,i>60&&clearInterval(a))},1e3)}}}var cp=Object.defineProperty,ei=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?cp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Fl{constructor(e,r,i,a,h){this.issueModel=e,this.manager=r,this.stateManager=i,this.shouldPromptForBranch=h,ei(this,"repoChangeDisposable"),ei(this,"_branchName"),ei(this,"user"),ei(this,"repo"),ei(this,"_repoDefaults"),ei(this,"_onDidChangeCurrentIssueState",new b.EventEmitter),ei(this,"onDidChangeCurrentIssueState",this._onDidChangeCurrentIssueState.event),this.setRepo(a!=null?a:this.issueModel.githubRepository.remote)}setRepo(e){var r;for(let i=0;i<this.stateManager.gitAPI.repositories.length;i++){const a=this.stateManager.gitAPI.repositories[i];for(let h=0;h<a.state.remotes.length;h++){const x=a.state.remotes[h];if(x.name===(e==null?void 0:e.remoteName)&&((r=x.fetchUrl)==null?void 0:r.toLowerCase().search(`${e.owner.toLowerCase()}/${e.repositoryName.toLowerCase()}`))!==-1){this.repo=a;return}}}}get branchName(){return this._branchName}get repoDefaults(){return this._repoDefaults}get issue(){return this.issueModel}async startWorking(){var e;try{if(this._repoDefaults=await this.manager.getPullRequestDefaults(),await this.createIssueBranch()){await this.setCommitMessageAndGitEvent(),this._onDidChangeCurrentIssueState.fire();const r=this.manager.getCurrentUser(this.issueModel).login;return b.workspace.getConfiguration("githubIssues").get("assignWhenWorking")&&!((e=this.issueModel.assignees)==null?void 0:e.find(i=>i.login===r))&&(await this.manager.assignIssue(this.issueModel,r),await this.stateManager.refresh()),!0}}catch(r){b.window.showErrorMessage("There is no remote. Can't start working on an issue.")}return!1}dispose(){var e;(e=this.repoChangeDisposable)==null||e.dispose()}async stopWorking(){this.repo&&(this.repo.inputBox.value=""),this._repoDefaults&&await this.manager.repository.checkout(this._repoDefaults.base),this._onDidChangeCurrentIssueState.fire(),this.dispose()}getBasicBranchName(e){return`${e}/issue${this.issueModel.number}`}async branchExists(e){try{return!!await this.manager.repository.getBranch(e)}catch(r){}return!1}async createOrCheckoutBranch(e){try{return await this.branchExists(e)?await this.manager.repository.checkout(e):await this.manager.repository.createBranch(e,!0),!0}catch(r){return r.message!=="User aborted"&&b.window.showErrorMessage(`Unable to checkout branch ${e}. There may be file conflicts that prevent this branch change. Git error: ${r.error}`),!1}}async getUser(){return this.user||(this.user=await this.issueModel.githubRepository.getAuthenticatedUser()),this.user}async ensureBranchTitleConfigMigrated(){var e;const r=b.workspace.getConfiguration(Pt),i=r.inspect(Xo);async function a(h,x){await r.update(Ps,h,x),await r.update(Xo,void 0,x)}return(i==null?void 0:i.globalValue)&&await a(i.globalValue,b.ConfigurationTarget.Global),(i==null?void 0:i.workspaceValue)&&await a(i.workspaceValue,b.ConfigurationTarget.Workspace),(i==null?void 0:i.workspaceFolderValue)&&await a(i.workspaceFolderValue,b.ConfigurationTarget.WorkspaceFolder),(e=b.workspace.getConfiguration(Pt).get(Ps))!=null?e:this.getBasicBranchName(await this.getUser())}validateBranchName(e){const r=/[^ \\@\~\^\?\*\[]+/,i=e.match(r);if(i&&i.length>0&&i[0]!==e)return"Branch name cannot contain a space or the following characters: \\@~^?*["}showBranchNameError(e){const r="Edit Setting";b.window.showErrorMessage(e,r).then(i=>{i===r&&b.commands.executeCommand("workbench.action.openSettings",`${Pt}.${Ps}`)})}async createIssueBranch(){const e=this.shouldPromptForBranch?"prompt":b.workspace.getConfiguration(Pt).get(el);if(e==="off")return!0;const r=this.stateManager.getSavedIssueState(this.issueModel.number);if(this._branchName=this.shouldPromptForBranch?void 0:r.branch,!this._branchName){const i=await Mn(await this.ensureBranchTitleConfigMigrated(),this.issue,void 0,await this.getUser());if(e==="on"){const a=this.validateBranchName(i);if(a)return this.showBranchNameError(a),!1;this._branchName=i}else this._branchName=await b.window.showInputBox({value:i,prompt:"Enter the label for the new branch."})}return this._branchName?(r.branch=this._branchName,await this.stateManager.setSavedIssueState(this.issueModel,r),await this.createOrCheckoutBranch(this._branchName)||(this._branchName=void 0),!0):!1}async getCommitMessage(){const e=b.workspace.getConfiguration(Pt).get(zf);if(typeof e=="string")return Mn(e,this.issueModel,this._repoDefaults)}async setCommitMessageAndGitEvent(){const e=await this.getCommitMessage();this.repo&&e&&(this.repo.inputBox.value=e)}}class Ol extends b.CompletionItem{constructor(e){super(`${e.number}: ${e.title}`,b.CompletionItemKind.Issue);this.issue=e}}class dp{constructor(e,r,i){this.stateManager=e,this.repositoriesManager=r,this.context=i}async provideCompletionItems(e,r,i,a){var h,x,B,$;if(e.languageId!=="scminput"&&e.uri.scheme!=="comment"&&r.character>0&&a.triggerKind===b.CompletionTriggerKind.Invoke&&!e.getText(e.getWordRangeAtPosition(r)).match(/#[0-9]*$/))return[];if(r.character<=6&&e.languageId==="markdown"&&e.getText(new b.Range(r.with(void 0,0),r))===new Array(r.character+1).join("#"))return[];if(a.triggerKind===b.CompletionTriggerKind.TriggerCharacter&&b.workspace.getConfiguration(Pt).get("ignoreCompletionTrigger",[]).find(Ee=>Ee===e.languageId))return[];if(e.languageId!=="scminput"&&!await Os(e,r))return[];let W=new b.Range(r,r);r.character-1>=0&&e.getText(new b.Range(r.translate(0,-1),r))==="#"&&(W=new b.Range(r.translate(0,-1),r)),await this.stateManager.tryInitializeAndWait();const re=new Map,le=new Date;let de,we;if(e.languageId==="scminput"?we=cl(e.uri):e.uri.scheme==="comment"?we=b.window.visibleTextEditors.length>0?(h=b.workspace.getWorkspaceFolder(b.Uri.file(b.window.visibleTextEditors[0].document.uri.fsPath)))==null?void 0:h.uri:void 0:we=(x=b.workspace.getWorkspaceFolder(e.uri))==null?void 0:x.uri,!we)return[];try{de=await((B=this.repositoriesManager.getManagerForFile(we))==null?void 0:B.getPullRequestDefaults())}catch(Ee){}const Re=this.stateManager.getIssueCollection(we);for(const Ee of Re){const Te=($=await Ee[1])!=null?$:[];if(Te.length!==0)if(Te[0]instanceof Bt){let Ie=0;for(const Le of Te)re.set(gi(Le),await this.completionItemFromIssue(de,Le,le,W,e,Ie++))}else for(let Ie=0;Ie<Te.length;Ie++){const Le=Te[Ie];for(const Ge of Le.issues)re.set(gi(Ge),await this.completionItemFromIssue(de,Ge,le,W,e,Ie,Le.milestone))}}return[...re.values()]}async completionItemFromIssue(e,r,i,a,h,x,B){var $;const W=new Ol(r);if(h.languageId==="markdown")W.insertText=`[${gi(r,e)}](${r.html_url})`;else{const le=b.workspace.getConfiguration(Pt).get("issueCompletionFormatScm");h.uri.path.match(/scm\/git\/scm\d\/input/)&&typeof le=="string"?W.insertText=await Mn(le,r,e):W.insertText=`${gi(r,e)}`}W.documentation=r.body,W.range=a,W.detail=B?B.title:($=r.milestone)==null?void 0:$.title;let re=(i.getTime()-new Date(r.updatedAt).getTime()).toString();return re=new Array(20-re.length).join("0")+re,W.sortText=`${x} ${re}`,W.filterText=`${W.detail} # ${r.number} ${r.title} ${W.documentation}`,W}async resolveCompletionItem(e,r){return e instanceof Ol&&(e.documentation=await Ds(e.issue,this.context,this.repositoriesManager),e.command={command:"issues.issueCompletion",title:"Issue Completion Chose,"}),e}}var fp=Object.defineProperty,zi=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?fp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const Fr="newIssue",hp="NewIssue.md",Pn="Assignees:",Wi="Labels:";function Ks(t){const e=JSON.parse(t.query);if(e.origin)return b.Uri.parse(e.origin)}class pp{constructor(){zi(this,"content"),zi(this,"createTime",0),zi(this,"modifiedTime",0),zi(this,"_onDidChangeFile",new b.EventEmitter),zi(this,"onDidChangeFile",this._onDidChangeFile.event)}watch(e,r){const i=this.onDidChangeFile(a=>{a.length===0&&a[0].type===b.FileChangeType.Deleted&&i.dispose()});return i}stat(e){var r,i;return{type:b.FileType.File,ctime:this.createTime,mtime:this.modifiedTime,size:(i=(r=this.content)==null?void 0:r.length)!=null?i:0}}readDirectory(e){return[]}createDirectory(e){}readFile(e){var r;return(r=this.content)!=null?r:new Uint8Array(0)}writeFile(e,r,i={create:!1,overwrite:!1}){const a=this.content;this.content=r,a===void 0?(this.createTime=new Date().getTime(),this._onDidChangeFile.fire([{uri:e,type:b.FileChangeType.Created}])):(this.modifiedTime=new Date().getTime(),this._onDidChangeFile.fire([{uri:e,type:b.FileChangeType.Changed}]))}delete(e,r){this.content=void 0,this.createTime=0,this.modifiedTime=0,this._onDidChangeFile.fire([{uri:e,type:b.FileChangeType.Deleted}])}rename(e,r,i){}}class mp{constructor(e){this.manager=e}async provideCompletionItems(e,r,i,a){if(!e.lineAt(r.line).text.startsWith(Wi))return[];const h=Ks(e.uri);if(!h)return[];const x=this.manager.getManagerForFile(h);if(!x)return[];const B=await x.getPullRequestDefaults();return(await x.getLabels(void 0,B)).map(W=>{const re=new b.CompletionItem(W.name,b.CompletionItemKind.Color);return re.documentation=`#${W.color}`,re.commitCharacters=[" ",","],re})}}class vp{constructor(e,r,i,a){this.manager=e,this.stateManager=r,this.context=i,this.telemetry=a}async provideHover(e,r,i){if(!await ul(e,r))return;let a=e.getWordRangeAtPosition(r,Oi);if(a&&a.start.character>0){a=new b.Range(new b.Position(a.start.line,a.start.character-1),a.end);const x=e.getText(a).match(Oi),B=As(x),$=this.manager.getManagerForFile(e.uri);if(!$)return;if(B&&x&&B.issueNumber<=this.stateManager.maxIssueNumber($.repository.rootUri))return this.createHover($,x[0],B,a)}else return}async createHover(e,r,i,a){const h=await Wf(this.stateManager,e,r,i);if(!!h)return this.telemetry.sendTelemetryEvent("issues.issueHover"),new b.Hover(await Ds(h,this.context,this.manager,i.commentNumber),a)}}var gp=Object.defineProperty,Bl=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?gp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class ti extends b.TreeItem{constructor(e,r,i){super(r,i);this.uri=e}get labelAsString(){var e;return typeof this.label=="string"?this.label:(e=this.label)==null?void 0:e.label}}class bp{constructor(e,r,i){this.stateManager=e,this.manager=r,this.context=i,Bl(this,"_onDidChangeTreeData",new b.EventEmitter),Bl(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),i.subscriptions.push(this.manager.onDidChangeState(()=>{this._onDidChangeTreeData.fire()})),i.subscriptions.push(this.stateManager.onDidChangeIssueData(()=>{this._onDidChangeTreeData.fire()})),i.subscriptions.push(this.stateManager.onDidChangeCurrentIssue(()=>{this._onDidChangeTreeData.fire()}))}getTreeItem(e){var r;let i;return e instanceof ti?i=e:e instanceof bi?i=new ti(e.repository.rootUri,c.basename(e.repository.rootUri.fsPath),b.TreeItemCollapsibleState.Expanded):e instanceof Bt?(i=new ti(void 0,`${e.number}: ${e.title}`,b.TreeItemCollapsibleState.None),i.iconPath=e.isOpen?new b.ThemeIcon("issues",new b.ThemeColor("issues.open")):new b.ThemeIcon("issue-closed",new b.ThemeColor("issues.closed")),((r=this.stateManager.currentIssue(e.uri))==null?void 0:r.issue.number)===e.number?(i.label=`\u2713 ${i.label}`,i.contextValue="currentissue"):this.stateManager.getSavedIssueState(e.number).branch?i.contextValue="continueissue":i.contextValue="issue",$f(e)&&(i.contextValue="link"+i.contextValue)):i=new ti(e.uri,e.milestone.title,e.issues.length>0?b.TreeItemCollapsibleState.Expanded:b.TreeItemCollapsibleState.None),i}getChildren(e){return e===void 0&&this.manager.state!==tr.RepositoriesLoaded?this.getStateChildren():this.getIssuesChildren(e)}async resolveTreeItem(e,r){return r instanceof Bt&&(e.tooltip=await Ds(r,this.context,this.manager)),e}getStateChildren(){return this.manager.state===tr.NeedsAuthentication?[]:[new ti(void 0,"Loading...")]}getQueryItems(e){const r=this.stateManager.getIssueCollection(e.repository.rootUri);if(r.size===1)return Array.from(r.values())[0];const i=Array.from(r.keys()),a=i[0];return i.map(h=>{const x=new ti(e.repository.rootUri,h);return x.contextValue="query",x.collapsibleState=h===a?b.TreeItemCollapsibleState.Expanded:b.TreeItemCollapsibleState.Collapsed,x})}getIssuesChildren(e){var r;return e===void 0?this.manager.folderManagers.length===1?this.getQueryItems(this.manager.folderManagers[0]):this.manager.folderManagers.length>1?this.manager.folderManagers:[]:e instanceof bi?this.getQueryItems(e):e instanceof ti?e.uri?(r=this.stateManager.getIssueCollection(e.uri).get(e.labelAsString))!=null?r:[]:[]:e instanceof Bt?[]:e.issues.map(i=>{const a=Object.assign(i);return a.uri=e.uri,a})}}var yp=Object.defineProperty,wp=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?yp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class _p{constructor(e){wp(this,"expression"),e.subscriptions.push(b.workspace.onDidChangeConfiguration(()=>{this.updateTriggers()})),this.updateTriggers()}updateTriggers(){const e=b.workspace.getConfiguration(Pt).get("createIssueTriggers",[]);this.expression=e.length>0?new RegExp(e.join("|")):void 0}async provideCodeActions(e,r,i,a){if(this.expression===void 0||i.only&&i.only!==b.CodeActionKind.QuickFix)return[];const h=[];let x=r.start.line;do{const B=e.lineAt(x).text,$=B.substring(0,Vf);if(!$.match(Oi)){const re=$.search(this.expression);if(re>=0){const le=new b.CodeAction("Create GitHub Issue",b.CodeActionKind.QuickFix),de=$.substring(re).search(/\s/),we=re+(de>0?de:$.match(this.expression)[0].length);le.command={title:"Create GitHub Issue",command:"issue.createIssueFromSelection",arguments:[{document:e,lineNumber:x,line:B,insertIndex:we,range:r}]},h.push(le);break}}x++}while(r.end.line>=x);return h}}var kp=Object.defineProperty,rr=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?kp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const Sp=["Recovery"],Ep="currentIssue",Ys="issues",Ll="ignoreMilestones",Zs=[{label:"My Issues",query:"default"}];class Xm extends null{constructor(){super(...arguments);rr(this,"uri")}}class Rp{constructor(e,r,i){this.gitAPI=e,this.manager=r,this.context=i,rr(this,"resolvedIssues",new Map),rr(this,"_singleRepoStates",new Map),rr(this,"_onRefreshCacheNeeded",new b.EventEmitter),rr(this,"onRefreshCacheNeeded",this._onRefreshCacheNeeded.event),rr(this,"_onDidChangeIssueData",new b.EventEmitter),rr(this,"onDidChangeIssueData",this._onDidChangeIssueData.event),rr(this,"_queries",[]),rr(this,"_onDidChangeCurrentIssue",new b.EventEmitter),rr(this,"onDidChangeCurrentIssue",this._onDidChangeCurrentIssue.event),rr(this,"initializePromise"),rr(this,"statusBarItem"),rr(this,"isSettingIssue",!1),r.folderManagers.forEach(a=>{this.context.subscriptions.push(a.onDidChangeRepositories(()=>this.refresh()))})}getIssueCollection(e){var r;let i=(r=this._singleRepoStates.get(e.path))==null?void 0:r.issueCollection;return i||(i=new Map,i)}getOrCreateSingleRepoState(e,r){let i=this._singleRepoStates.get(e.path);return i||(r||(r=this.manager.getManagerForFile(e)),i={issueCollection:new Map,maxIssueNumber:0,folderManager:r},this._singleRepoStates.set(e.path,i),i)}async tryInitializeAndWait(){return this.initializePromise||(this.initializePromise=new Promise(e=>{if(this.manager.state===tr.RepositoriesLoaded)this.doInitialize(),e();else{const r=this.manager.onDidChangeState(()=>{this.manager.state===tr.RepositoriesLoaded&&(this.doInitialize(),r.dispose(),e())});this.context.subscriptions.push(r)}})),this.initializePromise}registerRepositoryChangeEvent(){this.gitAPI.repositories.forEach(e=>{this.context.subscriptions.push(e.state.onDidChange(async()=>{var r;const i=this.getOrCreateSingleRepoState(e.rootUri),a=i.lastHead,h=i.lastBranch,x=e.state.HEAD?e.state.HEAD.commit:void 0;(e.state.HEAD?e.state.HEAD.commit:void 0)!==a&&await this.setIssueData(i.folderManager);const B=(r=e.state.HEAD)==null?void 0:r.name;(a!==x||h!==B)&&(!i.currentIssue||B!==i.currentIssue.branchName)&&(B?i.folderManager&&await this.setCurrentIssueFromBranch(i,B):await this.setCurrentIssue(i,void 0)),i.lastHead=e.state.HEAD?e.state.HEAD.commit:void 0,i.lastBranch=e.state.HEAD?e.state.HEAD.name:void 0}))})}refreshCacheNeeded(){this._onRefreshCacheNeeded.fire()}async refresh(){return this.setAllIssueData()}async doInitialize(){var e;this.cleanIssueState(),this._queries=b.workspace.getConfiguration(Pt).get(vi,Zs),this._queries.length===0&&(this._queries=Zs),this.context.subscriptions.push(b.workspace.onDidChangeConfiguration(r=>{r.affectsConfiguration(`${Pt}.${vi}`)?(this._queries=b.workspace.getConfiguration(Pt).get(vi,Zs),this._onRefreshCacheNeeded.fire()):r.affectsConfiguration(`${Pt}.${Ll}`)&&this._onRefreshCacheNeeded.fire()})),await this.setAllIssueData(),this.registerRepositoryChangeEvent(),this.context.subscriptions.push(this.onRefreshCacheNeeded(async()=>{await this.refresh()}));for(const r of this.manager.folderManagers){const i=this.getOrCreateSingleRepoState(r.repository.rootUri,r);i.lastHead=r.repository.state.HEAD?r.repository.state.HEAD.commit:void 0,this._singleRepoStates.set(r.repository.rootUri.path,i);const a=(e=r.repository.state.HEAD)==null?void 0:e.name;!i.currentIssue&&a&&await this.setCurrentIssueFromBranch(i,a)}}cleanIssueState(){const e=this.context.workspaceState.get(Ys),r=e?JSON.parse(e):{issues:[],branches:[]},i=new Date().valueOf()-30*864e5;for(const a in r.issues)r.issues[a].stateModifiedTime<i&&(r.branches&&r.branches[a]&&delete r.branches[a],delete r.issues[a])}async getUsers(e){var r;await this.initializePromise;const i=await((r=this.manager.getManagerForFile(e))==null?void 0:r.getAssignableUsers()),a=new Map;for(const h in i)i[h].forEach(x=>{a.set(x.login,x)});return a}getUserMap(e){if(!this.initializePromise)return Promise.resolve(new Map);const r=this.getOrCreateSingleRepoState(e);return r.userMap||(r.userMap=this.getUsers(e)),r.userMap}async getCurrentUser(e){var r;return(r=this.manager.credentialStore.getCurrentUser(e))==null?void 0:r.login}async setAllIssueData(){return Promise.all(this.manager.folderManagers.map(e=>this.setIssueData(e)))}async setIssueData(e){var r,i;const a=this.getOrCreateSingleRepoState(e.repository.rootUri,e);a.issueCollection.clear();let h,x;for(const B of this._queries){let $;if(B.query===jf)$=this.setMilestones(e);else{if(!h)try{h=await e.getPullRequestDefaults()}catch(W){}if(!x){const W=ci(e.repository).filter(re=>re.authProviderId===vt["github-enterprise"]);x=await this.getCurrentUser(W.length?vt["github-enterprise"]:vt.github)}$=this.setIssues(e,await Mn(B.query,void 0,h,x))}a.issueCollection.set(B.label,$)}a.maxIssueNumber=await e.getMaxIssue(),a.lastHead=(r=e.repository.state.HEAD)==null?void 0:r.commit,a.lastBranch=(i=e.repository.state.HEAD)==null?void 0:i.name}setIssues(e,r){return new Promise(async i=>{const a=await e.getIssues({fetchNextPage:!1},r);this._onDidChangeIssueData.fire(),i(a.items.map(h=>{const x=h;return x.uri=e.repository.rootUri,x}))})}async setCurrentIssueFromBranch(e,r){if(b.workspace.getConfiguration(Pt).get(el)==="off")return;let a;try{a=await e.folderManager.getPullRequestDefaults()}catch(x){return}if(r===a.base){await this.setCurrentIssue(e,void 0);return}if(e.currentIssue&&e.currentIssue.branchName===r)return;const h=this.getSavedState();for(const x in h.branches)if(x===r){const B=await e.folderManager.resolveIssue(h.branches[x].owner,h.branches[x].repositoryName,h.branches[x].number);B&&await this.setCurrentIssue(e,new Fl(B,e.folderManager,this));return}}setMilestones(e){return new Promise(async r=>{const i=new Date,a=b.workspace.getConfiguration(Pt).get(Ll,[]),h=await e.getMilestones({fetchNextPage:!1},a.indexOf(vl)<0);let x;const B=new Map,$=[];for(let W=0;W<h.items.length;W++){const re=h.items[W];re.uri=e.repository.rootUri;const le=h.items[W].milestone;if(re.issues&&re.issues.length<=0||a.indexOf(le.title)>=0)continue;$.push(re);let de=le.dueOn?new Date(le.dueOn):void 0;de||(de=new Date(this.removeDateExcludeStrings(le.title)),isNaN(de.getTime())&&(de=new Date(le.createdAt))),de<i&&(x===void 0||de>x)&&(x=de),B.set(le.id?le.id:le.title,de)}$.sort((W,re)=>{const le=B.get(W.milestone.id?W.milestone.id:W.milestone.title),de=B.get(re.milestone.id?re.milestone.id:re.milestone.title);return x&&le>=x&&de>=x?le<=de?-1:1:le>=de?-1:1}),this._onDidChangeIssueData.fire(),r($)})}removeDateExcludeStrings(e){return Sp.forEach(r=>e=e.replace(r,"")),e}currentIssue(e){var r;return(r=this._singleRepoStates.get(e.path))==null?void 0:r.currentIssue}currentIssues(){return Array.from(this._singleRepoStates.values()).filter(e=>e==null?void 0:e.currentIssue).map(e=>e.currentIssue)}maxIssueNumber(e){var r,i;return(i=(r=this._singleRepoStates.get(e.path))==null?void 0:r.maxIssueNumber)!=null?i:0}async setCurrentIssue(e,r){if(!(this.isSettingIssue&&r===void 0)){if(this.isSettingIssue=!0,e instanceof bi){const i=this._singleRepoStates.get(e.repository.rootUri.path);if(!i)return;e=i}try{if(e.currentIssue&&(r==null?void 0:r.issue.number)===e.currentIssue.issue.number)return;e.currentIssue&&await e.currentIssue.stopWorking(),r&&this.context.subscriptions.push(r.onDidChangeCurrentIssueState(()=>this.updateStatusBar())),this.context.workspaceState.update(Ep,r==null?void 0:r.issue.number),(!r||await r.startWorking())&&(e.currentIssue=r,this.updateStatusBar()),this._onDidChangeCurrentIssue.fire()}catch(i){}finally{this.isSettingIssue=!1}}}updateStatusBar(){const e=this.currentIssues(),r=e.length>0;if(!r){this.statusBarItem&&(this.statusBarItem.hide(),this.statusBarItem.dispose(),this.statusBarItem=void 0);return}r&&!this.statusBarItem&&(this.statusBarItem=b.window.createStatusBarItem("github.issues.status",b.StatusBarAlignment.Left,0),this.statusBarItem.name="GitHub Active Issue");const i=this.statusBarItem;i.text=`$(issues) Issue ${e.map(a=>gi(a.issue,a.repoDefaults)).join(", ")}`,i.tooltip=e.map(a=>a.issue.title).join(", "),i.command="issue.statusBar",i.show()}getSavedState(){const e=this.context.workspaceState.get(Ys);return e?JSON.parse(e):{issues:Object.create(null),branches:Object.create(null)}}getSavedIssueState(e){var r;return(r=this.getSavedState().issues[`${e}`])!=null?r:{}}async setSavedIssueState(e,r){const i=this.getSavedState();return i.issues[`${e.number}`]={...r,stateModifiedTime:new Date().valueOf()},r.branch&&(i.branches||(i.branches=Object.create(null)),i.branches[r.branch]={number:e.number,owner:e.remote.owner,repositoryName:e.remote.repositoryName}),this.context.workspaceState.update(Ys,JSON.stringify(i))}}class xp{constructor(e,r,i){this.stateManager=e,this.manager=r}async provideCompletionItems(e,r,i,a){var h;if(e.languageId!=="scminput"&&e.uri.scheme!==Fr&&r.character>0&&a.triggerKind===b.CompletionTriggerKind.Invoke&&e.getText(new b.Range(r.with(void 0,r.character-1),r))!=="@")return[];if(a.triggerKind===b.CompletionTriggerKind.TriggerCharacter&&b.workspace.getConfiguration(Pt).get("ignoreUserCompletionTrigger",[]).find(W=>W===e.languageId))return[];if(e.languageId!=="scminput"&&!await Os(e,r))return[];let x=new b.Range(r,r);r.character-1>=0&&e.getText(new b.Range(r.translate(0,-1),r))==="@"&&(x=new b.Range(r.translate(0,-1),r));const B=e.uri.scheme===Fr?(h=Ks(e.uri))!=null?h:e.uri:e.languageId==="scminput"?cl(e.uri):e.uri;if(!B)return[];const $=[];return(await this.stateManager.getUserMap(B)).forEach(W=>{const re=new Kf({label:W.login,description:W.name},b.CompletionItemKind.User);re.insertText=`@${W.login}`,re.login=W.login,re.uri=B,re.range=x,re.detail=W.name,re.filterText=`@ ${W.login} ${W.name}`,e.uri.scheme===Fr&&(re.commitCharacters=[" ",","]),$.push(re)}),$}async resolveCompletionItem(e,r){const i=this.manager.getManagerForFile(e.uri);if(!i)return e;const a=await i.getPullRequestDefaults(),h=await i.resolveUser(a.owner,a.repo,e.login);return h&&(e.documentation=Is(a,h),e.command={command:"issues.userCompletion",title:"User Completion Chosen"}),e}}class Mp{constructor(e,r){this.manager=e,this.telemetry=r}async provideHover(e,r,i){if(!await ul(e,r))return;let a=e.getWordRangeAtPosition(r,Ns);if(a&&a.start.character>0){a=new b.Range(new b.Position(a.start.line,a.start.character),a.end);const x=e.getText(a).match(Ns);if(x)return this.createHover(e.uri,x[1],a)}else return}async createHover(e,r,i){try{const a=this.manager.getManagerForFile(e);if(!a)return;const h=await a.getPullRequestDefaults(),x=await a.resolveUser(h.owner,h.repo,r);return x&&x.name?(this.telemetry.sendTelemetryEvent("issues.userHover"),new b.Hover(Is(h,x),i)):void 0}catch(a){return}}}var Tp=Object.defineProperty,Js=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Tp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const Cp="issueCompletions.enabled",Np="userCompletions.enabled";class Pp{constructor(e,r,i,a,h){this.gitAPI=e,this.manager=r,this.reviewManagers=i,this.context=a,this.telemetry=h,Js(this,"_stateManager"),Js(this,"createIssueInfo"),Js(this,"documentFilters",[{language:"php"},{language:"powershell"},{language:"jade"},{language:"python"},{language:"r"},{language:"razor"},{language:"ruby"},{language:"rust"},{language:"scss"},{language:"search-result"},{language:"shaderlab"},{language:"shellscript"},{language:"sql"},{language:"swift"},{language:"typescript"},{language:"vb"},{language:"xml"},{language:"yaml"},{language:"markdown"},{language:"bat"},{language:"clojure"},{language:"coffeescript"},{language:"jsonc"},{language:"c"},{language:"cpp"},{language:"csharp"},{language:"css"},{language:"dockerfile"},{language:"fsharp"},{language:"git-commit"},{language:"go"},{language:"groovy"},{language:"handlebars"},{language:"hlsl"},{language:"ini"},{language:"java"},{language:"javascriptreact"},{language:"javascript"},{language:"json"},{language:"less"},{language:"log"},{language:"lua"},{language:"makefile"},{language:"ignore"},{language:"properties"},{language:"objective-c"},{language:"perl"},{language:"perl6"},"*"]),this._stateManager=new Rp(e,this.manager,this.context)}async initialize(){return this.context.subscriptions.push(b.workspace.registerFileSystemProvider(Fr,new pp)),this.registerCompletionProviders(),this.context.subscriptions.push(b.languages.registerCompletionItemProvider({scheme:Fr},new mp(this.manager)," ",",")),this.context.subscriptions.push(b.window.createTreeView("issues:github",{showCollapseAll:!0,treeDataProvider:new bp(this._stateManager,this.manager,this.context)})),this.context.subscriptions.push(b.commands.registerCommand("issue.createIssueFromSelection",(e,r)=>(this.telemetry.sendTelemetryEvent("issue.createIssueFromSelection"),this.createTodoIssue(e,r)),this)),this.context.subscriptions.push(b.commands.registerCommand("issue.createIssueFromClipboard",()=>(this.telemetry.sendTelemetryEvent("issue.createIssueFromClipboard"),this.createTodoIssueClipboard()),this)),this.context.subscriptions.push(b.commands.registerCommand("issue.copyGithubPermalink",()=>(this.telemetry.sendTelemetryEvent("issue.copyGithubPermalink"),this.copyPermalink()),this)),this.context.subscriptions.push(b.commands.registerCommand("issue.copyMarkdownGithubPermalink",()=>(this.telemetry.sendTelemetryEvent("issue.copyMarkdownGithubPermalink"),this.copyMarkdownPermalink()),this)),this.context.subscriptions.push(b.commands.registerCommand("issue.openGithubPermalink",()=>(this.telemetry.sendTelemetryEvent("issue.openGithubPermalink"),this.openPermalink()),this)),this.context.subscriptions.push(b.commands.registerCommand("issue.openIssue",e=>(this.telemetry.sendTelemetryEvent("issue.openIssue"),this.openIssue(e)))),this.context.subscriptions.push(b.commands.registerCommand("issue.startWorking",e=>(this.telemetry.sendTelemetryEvent("issue.startWorking"),this.startWorking(e)),this)),this.context.subscriptions.push(b.commands.registerCommand("issue.startWorkingBranchDescriptiveTitle",e=>(this.telemetry.sendTelemetryEvent("issue.startWorking"),this.startWorking(e)),this)),this.context.subscriptions.push(b.commands.registerCommand("issue.continueWorking",e=>(this.telemetry.sendTelemetryEvent("issue.continueWorking"),this.startWorking(e)),this)),this.context.subscriptions.push(b.commands.registerCommand("issue.startWorkingBranchPrompt",e=>(this.telemetry.sendTelemetryEvent("issue.startWorkingBranchPrompt"),this.startWorkingBranchPrompt(e)),this)),this.context.subscriptions.push(b.commands.registerCommand("issue.stopWorking",e=>(this.telemetry.sendTelemetryEvent("issue.stopWorking"),this.stopWorking(e)),this)),this.context.subscriptions.push(b.commands.registerCommand("issue.stopWorkingBranchDescriptiveTitle",e=>(this.telemetry.sendTelemetryEvent("issue.stopWorking"),this.stopWorking(e)),this)),this.context.subscriptions.push(b.commands.registerCommand("issue.statusBar",()=>(this.telemetry.sendTelemetryEvent("issue.statusBar"),this.statusBar()),this)),this.context.subscriptions.push(b.commands.registerCommand("issue.copyIssueNumber",e=>(this.telemetry.sendTelemetryEvent("issue.copyIssueNumber"),this.copyIssueNumber(e)))),this.context.subscriptions.push(b.commands.registerCommand("issue.copyIssueUrl",e=>(this.telemetry.sendTelemetryEvent("issue.copyIssueUrl"),this.copyIssueUrl(e)))),this.context.subscriptions.push(b.commands.registerCommand("issue.refresh",()=>(this.telemetry.sendTelemetryEvent("issue.refresh"),this.refreshView()),this)),this.context.subscriptions.push(b.commands.registerCommand("issue.suggestRefresh",()=>(this.telemetry.sendTelemetryEvent("issue.suggestRefresh"),this.suggestRefresh()),this)),this.context.subscriptions.push(b.commands.registerCommand("issue.getCurrent",()=>(this.telemetry.sendTelemetryEvent("issue.getCurrent"),this.getCurrent()),this)),this.context.subscriptions.push(b.commands.registerCommand("issue.editQuery",e=>(this.telemetry.sendTelemetryEvent("issue.editQuery"),this.editQuery(e)),this)),this.context.subscriptions.push(b.commands.registerCommand("issue.createIssue",()=>(this.telemetry.sendTelemetryEvent("issue.createIssue"),this.createIssue()),this)),this.context.subscriptions.push(b.commands.registerCommand("issue.createIssueFromFile",()=>(this.telemetry.sendTelemetryEvent("issue.createIssueFromFile"),this.createIssueFromFile()),this)),this.context.subscriptions.push(b.commands.registerCommand("issue.issueCompletion",()=>{this.telemetry.sendTelemetryEvent("issue.issueCompletion")})),this.context.subscriptions.push(b.commands.registerCommand("issue.userCompletion",()=>{this.telemetry.sendTelemetryEvent("issue.userCompletion")})),this.context.subscriptions.push(b.commands.registerCommand("issue.signinAndRefreshList",async()=>this.manager.authenticate())),this.context.subscriptions.push(b.commands.registerCommand("issue.goToLinkedCode",async e=>Hf(e,this.manager))),this._stateManager.tryInitializeAndWait().then(()=>{this.context.subscriptions.push(b.languages.registerHoverProvider("*",new vp(this.manager,this._stateManager,this.context,this.telemetry))),this.context.subscriptions.push(b.languages.registerHoverProvider("*",new Mp(this.manager,this.telemetry))),this.context.subscriptions.push(b.languages.registerCodeActionsProvider("*",new _p(this.context)))})}dispose(){}registerCompletionProviders(){const e=[{provider:dp,trigger:"#",disposable:void 0,configuration:Cp},{provider:xp,trigger:"@",disposable:void 0,configuration:Np}];for(const r of e)b.workspace.getConfiguration(Pt).get(r.configuration,!0)&&this.context.subscriptions.push(r.disposable=b.languages.registerCompletionItemProvider(this.documentFilters,new r.provider(this._stateManager,this.manager,this.context),r.trigger));this.context.subscriptions.push(b.workspace.onDidChangeConfiguration(r=>{for(const i of e)if(r.affectsConfiguration(`${Pt}.${i.configuration}`)){const a=b.workspace.getConfiguration(Pt).get(i.configuration,!0);!a&&i.disposable?(i.disposable.dispose(),i.disposable=void 0):a&&!i.disposable&&this.context.subscriptions.push(i.disposable=b.languages.registerCompletionItemProvider(this.documentFilters,new i.provider(this._stateManager,this.manager,this.context),i.trigger));break}}))}async createIssue(){var e,r;let i=(e=b.window.activeTextEditor)==null?void 0:e.document.uri;if(i||(i=(r=await this.chooseRepo("Select the repo to create the issue in."))==null?void 0:r.repository.rootUri),i)return this.makeNewIssueFile(i)}async createIssueFromFile(){var e,r,i,a;let h;if(!b.window.activeTextEditor||b.window.activeTextEditor.document.uri.scheme!==Fr)return;h=b.window.activeTextEditor.document.getText();const x=h.indexOf(`\r
\r
`),B=h.indexOf(`

`);let $;if(x<0&&B<0)return;x<0?$=B:B<0?$=x:$=Math.min(x,B);const W=h.substring(0,$);let re;if(h=h.substring($+2).trim(),h.startsWith(Pn)){const Re=h.split(/\r\n|\n/,1);Re.length===1&&(re=Re[0].substring(Pn.length).split(",").map(Ee=>(Ee=Ee.trim(),Ee.startsWith("@")&&(Ee=Ee.substring(1)),Ee)),h=h.substring(Re[0].length).trim())}let le;if(h.startsWith(Wi)){const Re=h.split(/\r\n|\n/,1);Re.length===1&&(le=Re[0].substring(Wi.length).split(",").map(Ee=>Ee.trim()).filter(Ee=>Ee),h=h.substring(Re[0].length).trim())}const de=h;if(!W||!de)return;const we=await this.doCreateIssue((e=this.createIssueInfo)==null?void 0:e.document,(r=this.createIssueInfo)==null?void 0:r.newIssue,W,de,re,le,(i=this.createIssueInfo)==null?void 0:i.lineNumber,(a=this.createIssueInfo)==null?void 0:a.insertIndex,Ks(b.window.activeTextEditor.document.uri));this.createIssueInfo=void 0,we&&await b.commands.executeCommand("workbench.action.closeActiveEditor")}async editQuery(e){const r=b.workspace.getConfiguration(Pt),i=r.inspect(vi);let a;if(i==null?void 0:i.workspaceValue)a="workbench.action.openWorkspaceSettingsFile";else{const x=r.get(vi);(i==null?void 0:i.defaultValue)&&JSON.stringify(i==null?void 0:i.defaultValue)===JSON.stringify(x)&&r.update(vi,i.defaultValue,b.ConfigurationTarget.Global),a="workbench.action.openSettingsJson"}await b.commands.executeCommand(a);const h=b.window.activeTextEditor;if(h){const B=h.document.getText().search(e.labelAsString);if(B>=0){const $=h.document.positionAt(B);h.revealRange(new b.Range($,$)),h.selection=new b.Selection($,$)}}}getCurrent(){const e=this._stateManager.currentIssues();if(e.length>0)return{owner:e[0].issue.remote.owner,repo:e[0].issue.remote.repositoryName,number:e[0].issue.number}}refreshView(){this._stateManager.refreshCacheNeeded()}async suggestRefresh(){return await b.commands.executeCommand("hideSuggestWidget"),await this._stateManager.refresh(),b.commands.executeCommand("editor.action.triggerSuggest")}openIssue(e){if(e instanceof Bt)return b.env.openExternal(b.Uri.parse(e.html_url))}async doStartWorking(e,r,i){if(!e){b.window.showErrorMessage(`There are no repositories open that match ${r.remote.url}`);return}const a=await e.findUpstreamForItem(r);a.needsFork&&await e.tryOfferToFork(r.githubRepository)===void 0||await this._stateManager.setCurrentIssue(e,new Fl(r,e,this._stateManager,a.remote,i))}async startWorking(e){e instanceof Bt&&this.doStartWorking(this.manager.getManagerForIssueModel(e),e)}async startWorkingBranchPrompt(e){e instanceof Bt&&this.doStartWorking(this.manager.getManagerForIssueModel(e),e,!0)}async stopWorking(e){var r;const i=this.manager.getManagerForIssueModel(e);!i||e instanceof Bt&&((r=this._stateManager.currentIssue(i.repository.rootUri))==null?void 0:r.issue.number)===e.number&&await this._stateManager.setCurrentIssue(i,void 0)}async statusBarActions(e){const r=`$(globe) Open #${e.issue.number} ${e.issue.title}`,i=`$(git-pull-request) Create pull request for #${e.issue.number} (pushes branch)`;let a;try{a=await e.manager.getPullRequestDefaults()}catch($){}const h=`$(primitive-square) Stop working on #${e.issue.number}`,x=e.branchName&&a?[r,i,h]:[r,i,h];switch(await b.window.showQuickPick(x,{placeHolder:"Current issue options"})){case r:return this.openIssue(e.issue);case i:{const $=Zr.getReviewManagerForFolderManager(this.reviewManagers,e.manager);if($)return oh(e.manager,$,this._stateManager);break}case h:return this._stateManager.setCurrentIssue(e.manager,void 0)}}async statusBar(){const e=this._stateManager.currentIssues();if(e.length===1)return this.statusBarActions(e[0]);{const r=e.map(a=>({label:`#${a.issue.number} from ${a.issue.githubRepository.remote.owner}/${a.issue.githubRepository.remote.repositoryName}`,currentIssue:a})),i=await b.window.showQuickPick(r);if(i)return this.statusBarActions(i.currentIssue)}}stringToUint8Array(e){return new TextEncoder().encode(e)}copyIssueNumber(e){if(e instanceof Bt)return b.env.clipboard.writeText(e.number.toString())}copyIssueUrl(e){if(e instanceof Bt)return b.env.clipboard.writeText(e.html_url)}async createTodoIssueClipboard(){return this.createTodoIssue(void 0,await b.env.clipboard.readText())}async createTodoIssue(e,r){let i,a,h,x,B,$;if(!e&&b.window.activeTextEditor)i=b.window.activeTextEditor.document,$=i.getText(b.window.activeTextEditor.selection);else if(e)i=e.document,h=e.insertIndex,x=e.lineNumber,a=e.line.substring(h,e.line.length).trim(),$=i.getText(e.range.isEmpty?i.lineAt(e.range.start.line).range:e.range);else return;const W=$.match(Ns);W&&W.length===2&&(await this._stateManager.getUserMap(i.uri)).has(W[1])&&(B=[W[1]]);let re;const le=r||(e==null?void 0:e.document.isUntitled)?r:(await Fs(this.gitAPI,e)).permalink,de=b.window.createInputBox();de.value=a!=null?a:"",de.prompt="Set the issue title. Confirm to create the issue now or use the edit button to edit the issue title and description.",de.title="Create Issue",de.buttons=[{iconPath:new b.ThemeIcon("edit"),tooltip:"Edit Description"}],de.onDidAccept(async()=>{re=de.value,re&&(de.busy=!0,await this.doCreateIssue(i,e,re,le,B,void 0,x,h),de.busy=!1),de.hide()}),de.onDidTriggerButton(async()=>{re=de.value,de.busy=!0,this.createIssueInfo={document:i,newIssue:e,lineNumber:x,insertIndex:h},this.makeNewIssueFile(i.uri,re,le,B),de.busy=!1,de.hide()}),de.show()}async makeNewIssueFile(e,r,i,a){const h=`?{"origin":"${e.toString()}"}`,x=b.Uri.parse(`${Fr}:/${hp}${h}`);if(b.window.visibleTextEditors.filter(Ee=>Ee.document.uri.scheme===Fr).length>0)return;await b.workspace.fs.delete(x);const B=`${Pn} ${a&&a.length>0?a.map(Ee=>"@"+Ee).join(", ")+" ":""}`,$=`${Wi} `,W=`${r!=null?r:"Issue Title"}

${B}
${$}

${i!=null?i:""}

<!-- Edit the body of your new issue then click the \u2713 "Create Issue" button in the top right of the editor. The first line will be the issue title. Assignees and Labels follow after a blank line. Leave an empty line before beginning the body of the issue. -->`;await b.workspace.fs.writeFile(x,this.stringToUint8Array(W));const re=b.window.createTextEditorDecorationType({after:{contentText:" Comma-separated usernames, either @username or just username.",fontStyle:"italic",color:new b.ThemeColor("issues.newIssueDecoration")}}),le=b.window.createTextEditorDecorationType({after:{contentText:" Comma-separated labels.",fontStyle:"italic",color:new b.ThemeColor("issues.newIssueDecoration")}}),de=b.window.onDidChangeActiveTextEditor(Ee=>{if((Ee==null?void 0:Ee.document.uri.scheme)===Fr){const Te=Ee.document.lineAt(2);Te.text.startsWith(Pn)&&Ee.setDecorations(re,[new b.Range(new b.Position(2,0),new b.Position(2,Te.text.length))]);const Ie=Ee.document.lineAt(3);Ie.text.startsWith(Wi)&&Ee.setDecorations(le,[new b.Range(new b.Position(3,0),new b.Position(3,Ie.text.length))])}}),we=await b.window.showTextDocument(x),Re=b.workspace.onDidCloseTextDocument(Ee=>{Ee===we.document&&(de.dispose(),Re.dispose())})}async verifyLabels(e,r){var i;if(!r.labels)return!0;const a=(await e.getLabels(void 0,r)).map(B=>B.name),h=[],x=[];if((i=r.labels)==null||i.forEach(B=>{let $=typeof B=="string"?B:B.name;!$||(a.includes($)?x.push($):h.push($))}),h.length>0){const B="Yes",$="No";switch(await b.window.showInformationMessage(`The following labels don't exist in this repository: ${h.join(", ")}. 
Do you want to create these labels?`,{modal:!0},B,$)){case B:return!0;case $:return r.labels=x,!0;default:return!1}}return!0}async chooseRepo(e){const r=[];for(const a of this.manager.folderManagers)try{const h=await a.getPullRequestDefaults();r.push({label:`${h.owner}/${h.repo}`,repo:a})}catch(h){}if(r.length===0)return;if(r.length===1)return r[0].repo;const i=await b.window.showQuickPick(r,{placeHolder:e});return i==null?void 0:i.repo}async doCreateIssue(e,r,i,a,h,x,B,$,W){let re,le;if(e?le=this.manager.getManagerForFile(e.uri):W&&(le=this.manager.getManagerForFile(W)),le||(le=await this.chooseRepo("Choose where to create the issue.")),!le)return!1;try{re=await le.getPullRequestDefaults()}catch(Ee){return b.window.showErrorMessage("There is no remote. Can't create an issue."),!1}const de=a||(r==null?void 0:r.document.isUntitled)?a:(await Fs(this.gitAPI,r)).permalink,we={owner:re.owner,repo:re.repo,title:i,body:de,assignees:h,labels:x};if(!await this.verifyLabels(le,we))return!1;const Re=await le.createIssue(we);if(Re){if(e!==void 0&&$!==void 0&&B!==void 0){const Ee=new b.WorkspaceEdit,Te=b.workspace.getConfiguration(Pt).get("createInsertFormat","number")==="number"?`#${Re.number}`:Re.html_url;Ee.insert(e.uri,new b.Position(B,$),` ${Te}`),await b.workspace.applyEdit(Ee)}else{const Ee="Copy URL",Te="Open Issue";b.window.showInformationMessage("Issue created",Ee,Te).then(async Ie=>{switch(Ie){case Ee:await b.env.clipboard.writeText(Re.html_url);break;case Te:await b.env.openExternal(b.Uri.parse(Re.html_url));break}})}return this._stateManager.refreshCacheNeeded(),!0}return!1}async getPermalinkWithError(){const e=await Fs(this.gitAPI);return e.error&&b.window.showWarningMessage(`Unable to create a GitHub permalink for the selection. ${e.error}`),e}async getContextualizedPermalink(e,r){const i=await b.env.asExternalUri(e),a=i.scheme==="https"&&/^(vscode|github)\./.test(i.authority)?i.authority:void 0;if(!a)return r;const h=b.Uri.parse(r),x=`/github${h.path}`;return h.with({authority:a,path:x}).toString()}async copyPermalink(){const e=await this.getPermalinkWithError();if(e.permalink)return b.env.clipboard.writeText(e.originalFile?await this.getContextualizedPermalink(e.originalFile,e.permalink):e.permalink)}getMarkdownLinkText(){if(!b.window.activeTextEditor)return;let e=b.window.activeTextEditor.selection;e.start.line!==e.end.line&&(e=new b.Range(e.start,new b.Position(e.start.line+1,0)));const r=b.window.activeTextEditor.document.getText(e);if(r)return r;if(e=b.window.activeTextEditor.document.getWordRangeAtPosition(e.start),e)return b.window.activeTextEditor.document.getText(e)}async copyMarkdownPermalink(){const e=await this.getPermalinkWithError(),r=this.getMarkdownLinkText();if(e.permalink&&r)return b.env.clipboard.writeText(`[${r.trim()}](${e.permalink})`)}async openPermalink(){const e=await this.getPermalinkWithError();if(e.permalink)return b.env.openExternal(b.Uri.parse(e.originalFile?await this.getContextualizedPermalink(e.originalFile,e.permalink):e.permalink))}}var Ap=Object.defineProperty,Ip=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Ap(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Dp{constructor(){Ip(this,"_disposables"),this._disposables=[],this._disposables.push(b.window.registerFileDecorationProvider(this))}provideFileDecoration(e,r){if(e.scheme!=="filechange"&&e.scheme!=="github")return;const i=Z(e);if(i&&i.status!==void 0)return{propagate:!1,badge:this.letter(i.status)};const a=Me(e);if(a&&a.status!==void 0)return{propagate:!1,badge:this.letter(a.status)}}letter(e){switch(e){case Ce.MODIFY:return"M";case Ce.ADD:return"A";case Ce.DELETE:return"D";case Ce.RENAME:return"R";case Ce.UNKNOWN:return"U";case Ce.UNMERGED:return"C"}return""}dispose(){this._disposables.forEach(e=>e.dispose())}}var Fp=Object.defineProperty,An=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Fp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Op extends Vt{constructor(e,r,i,a,h){super();this.parent=e,this.pullRequestManager=r,this.pullRequest=i,this.commit=a,this.comments=h,An(this,"sha"),An(this,"collapsibleState"),An(this,"iconPath"),An(this,"contextValue"),this.label=a.commit.message,this.sha=a.sha,this.collapsibleState=b.TreeItemCollapsibleState.Collapsed;let x;try{a.author&&a.author.avatar_url&&(x=b.Uri.parse(`${a.author.avatar_url}&s=${64}`))}catch(B){}this.iconPath=x,this.contextValue="commit"}getTreeItem(){return this}async getChildren(){var e;const i=((e=await this.pullRequest.getCommitChangedFiles(this.commit))!=null?e:[]).map(a=>{const h=this.comments.filter(W=>W.path===a.filename&&W.originalCommitId===this.commit.sha),x=a.filename,B=b.Uri.parse(c.posix.join(`commit~${this.commit.sha.substr(0,8)}`,x)),$=new wi(this,this.pullRequestManager,this.pullRequest,je(a.status),x,void 0,se(B,x,void 0,this.commit.sha,!0,{base:!1},this.pullRequestManager.repository.rootUri),se(B,x,void 0,this.commit.sha,!0,{base:!0},this.pullRequestManager.repository.rootUri),[],h,this.commit.sha);return $.useViewChangesCommand(),$});return Promise.resolve(i)}}var Bp=Object.defineProperty,Qi=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Bp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Lp extends Vt{constructor(e,r,i,a){super();Qi(this,"label","Commits"),Qi(this,"collapsibleState"),Qi(this,"_folderRepoManager"),Qi(this,"_pr"),Qi(this,"_comments"),this.parent=e,this._pr=i,this._folderRepoManager=r,this._comments=a,this.collapsibleState=b.TreeItemCollapsibleState.Collapsed}getTreeItem(){return this}async getChildren(){try{const r=(await this._pr.getCommits()).map(i=>new Op(this,this._folderRepoManager,this._pr,i,this._comments));return Promise.resolve(r)}catch(e){return Promise.resolve([])}}}var Up=Object.defineProperty,Xs=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Up(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class qp extends Vt{constructor(e,r){super();this.parent=e,this._fileChanges=r,Xs(this,"label","Files"),Xs(this,"collapsibleState"),Xs(this,"directories",[]),this.collapsibleState=b.TreeItemCollapsibleState.Expanded;const i=new Xr(this,"");this._fileChanges.forEach(a=>i.addFile(a)),i.finalize(),i.label===""?this.directories=i.children:this.directories=[i]}getTreeItem(){return this}async getChildren(){let e;return b.workspace.getConfiguration("githubPullRequests").get("fileListLayout")==="tree"?e=this.directories:e=this._fileChanges,Promise.resolve(e)}}var $p=Object.defineProperty,In=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?$p(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Hp extends Jr{constructor(e,r,i,a,h){super(e,r.title,r.userAvatarUri,r);this.parent=e,this._pullRequest=r,this._pullRequestManager=i,this._comments=a,this._localFileChanges=h,In(this,"_filesCategoryNode"),In(this,"_commitsCategoryNode"),In(this,"collapsibleState",b.TreeItemCollapsibleState.Expanded),In(this,"_disposables",[]),this.label=this._pullRequest.title,this._disposables.push(b.window.onDidChangeActiveTextEditor(x=>{const B=x==null?void 0:x.document.uri.toString();this.revealActiveEditorInTree(B)})),this._disposables.push(this.parent.view.onDidChangeVisibility(x=>{var B;const $=(B=b.window.activeTextEditor)==null?void 0:B.document.uri.toString();this.revealActiveEditorInTree($)}))}revealActiveEditorInTree(e){if(this.parent.view.visible&&e){const r=this._localFileChanges.find(i=>i.filePath.toString()===e);r&&this.reveal(r,{select:!0})}}async getChildren(){return(!this._filesCategoryNode||!this._commitsCategoryNode)&&(this._filesCategoryNode=new qp(this.parent,this._localFileChanges),this._commitsCategoryNode=new Lp(this.parent,this._pullRequestManager,this._pullRequest,this._comments)),[this._filesCategoryNode,this._commitsCategoryNode]}getTreeItem(){return this}dispose(){this._disposables.forEach(e=>e.dispose()),this._disposables=[]}}var Gp=Object.defineProperty,Ki=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Gp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Ul extends b.Disposable{constructor(e){super(()=>this.dispose());this._context=e,Ki(this,"_onDidChangeTreeData",new b.EventEmitter),Ki(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),Ki(this,"_disposables",[]),Ki(this,"_pullRequestManagerMap",new Map),Ki(this,"_view"),this._view=b.window.createTreeView("prStatus:github",{treeDataProvider:this,showCollapseAll:!0}),this._context.subscriptions.push(this._view),this._disposables.push(b.workspace.onDidChangeConfiguration(async r=>{if(r.affectsConfiguration(`${vr}.fileListLayout`)){this._onDidChangeTreeData.fire();const i=b.workspace.getConfiguration(`${vr}`).get("fileListLayout");await b.commands.executeCommand("setContext","fileListLayout:flat",i==="flat")}else r.affectsConfiguration("git.openDiffOnClick")&&this._onDidChangeTreeData.fire()}))}get view(){return this._view}refresh(){this._onDidChangeTreeData.fire()}updateViewTitle(){let e;if(this._pullRequestManagerMap.size===1){const r=this._pullRequestManagerMap.values().next();r.done||(e=r.value.pullRequestModel.number)}this._view.title=e?`Changes in Pull Request #${e}`:"Changes in Pull Request"}async addPrToView(e,r,i,a,h){const x=new Hp(this,r,e,a,i);this._pullRequestManagerMap.set(e,x),this.updateViewTitle(),await b.commands.executeCommand("setContext","github:inReviewMode",!0),this._onDidChangeTreeData.fire(),h&&this._view.reveal(x)}async removePrFromView(e){this._pullRequestManagerMap.delete(e),this.updateViewTitle(),this._pullRequestManagerMap.size===0&&this.hide(),this._onDidChangeTreeData.fire()}async hide(){await b.commands.executeCommand("setContext","github:inReviewMode",!1)}getTreeItem(e){return e.getTreeItem()}getParent(e){return e.getParent()}async reveal(e,r){this._view.reveal(e,r)}async getChildren(e){if(e)return await e.getChildren();{const r=[];if(this._pullRequestManagerMap.size>=1)for(const i of this._pullRequestManagerMap.values())r.push(i);return r}}getDescriptionNode(e){return this._pullRequestManagerMap.get(e)}async resolveTreeItem(e,r){return r instanceof wi&&await r.resolve(),r}dispose(){this._disposables.forEach(e=>e.dispose())}}var Vp=Object.defineProperty,Hr=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Vp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r),Or;(function(t){t[t.Empty=0]="Empty",t[t.More=1]="More",t[t.TryOtherRemotes=2]="TryOtherRemotes",t[t.Login=3]="Login",t[t.NoRemotes=4]="NoRemotes",t[t.NoGitRepositories=5]="NoGitRepositories",t[t.NoOpenFolder=6]="NoOpenFolder",t[t.NoMatchingRemotes=7]="NoMatchingRemotes",t[t.ConfigureRemotes=8]="ConfigureRemotes",t[t.Initializing=9]="Initializing"})(Or||(Or={}));class Tr extends Vt{constructor(e,r,i){super();switch(Hr(this,"collapsibleState"),Hr(this,"iconPath"),Hr(this,"type"),Hr(this,"command"),this.parent=e,this.type=r,this.collapsibleState=b.TreeItemCollapsibleState.None,r){case 0:this.label="0 pull requests in this category";break;case 1:this.label="Load more",this.command={title:"Load more",command:"pr.loadMore",arguments:[i]};break;case 2:this.label="Continue fetching from other remotes",this.command={title:"Load more",command:"pr.loadMore",arguments:[i]};break;case 3:this.label="Sign in",this.command={title:"Sign in",command:"pr.signinAndRefreshList",arguments:[]};break;case 4:this.label="No GitHub repositories found.";break;case 5:this.label="No git repositories found.";break;case 6:this.label="You have not yet opened a folder.";break;case 7:this.label="No remotes match the current setting.";break;case 8:this.label="Configure remotes...",this.command={title:"Configure remotes",command:"pr.configureRemotes",arguments:[]};break;case 9:this.label="Loading...";break;default:break}}getTreeItem(){return this}}class ea extends Vt{constructor(e,r,i,a,h,x){super();switch(this.parent=e,this._folderRepoManager=r,this._telemetry=i,this._type=a,this._categoryQuery=x,Hr(this,"collapsibleState"),Hr(this,"prs"),Hr(this,"fetchNextPage",!1),Hr(this,"repositoryPageInformation",new Map),this.prs=[],this.collapsibleState=this._type===gt.All?b.TreeItemCollapsibleState.Expanded:b.TreeItemCollapsibleState.Collapsed,a){case gt.All:this.label="All Open";break;case gt.Query:this.label=h;break;case gt.LocalPullRequest:this.label="Local Pull Request Branches";break;default:break}}async getChildren(){this.childrenDisposables&&this.childrenDisposables.length&&(this.childrenDisposables.forEach(a=>a.dispose()),this.childrenDisposables=[]);let e=!1,r=!1,i=!1;if(this._type===gt.LocalPullRequest)try{this.prs=await this._folderRepoManager.getLocalPullRequests(),this._telemetry.sendTelemetryEvent("pr.expand.local")}catch(a){b.window.showErrorMessage(`Fetching local pull requests failed: ${U(a)}`),i=a instanceof mn}else if(this.fetchNextPage){try{const a=await this._folderRepoManager.getPullRequests(this._type,{fetchNextPage:!0},this._categoryQuery);this.prs=this.prs.concat(a.items),e=a.hasMorePages,r=a.hasUnsearchedRepositories}catch(a){b.window.showErrorMessage(`Fetching pull requests failed: ${U(a)}`),i=a instanceof mn}this.fetchNextPage=!1}else try{const a=await this._folderRepoManager.getPullRequests(this._type,{fetchNextPage:!1},this._categoryQuery);switch(this.prs=a.items,e=a.hasMorePages,r=a.hasUnsearchedRepositories,this._type){case gt.All:this._telemetry.sendTelemetryEvent("pr.expand.all");break;case gt.Query:this._telemetry.sendTelemetryEvent("pr.expand.query");break}}catch(a){b.window.showErrorMessage(`Fetching pull requests failed: ${U(a)}`),i=a instanceof mn}if(this.prs&&this.prs.length){const a=this.prs.map(h=>new Si(this,this._folderRepoManager,h,this._type===gt.LocalPullRequest));return e?a.push(new Tr(this,1,this)):r&&a.push(new Tr(this,2,this)),this.childrenDisposables=a,a}else{const a=i?3:0,h=[new Tr(this,a)];return this.childrenDisposables=h,h}}getTreeItem(){return this}}var jp=Object.defineProperty,ql=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?jp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const $l="queries";class Yi extends Vt{constructor(e,r,i,a){super();this.folderManager=i,this.telemetry=a,ql(this,"collapsibleState"),ql(this,"iconPath"),this.parent=e,this.collapsibleState=b.TreeItemCollapsibleState.Expanded,this.label=c.basename(r.fsPath)}static getQueries(e){return b.workspace.getConfiguration(vr,e.repository.rootUri).get($l)||[]}getTreeItem(){return this}async getChildren(){return Yi.getCategoryTreeNodes(this.folderManager,this.telemetry,this)}static getCategoryTreeNodes(e,r,i){const a=Yi.getQueries(e).map(h=>new ea(i,e,r,gt.Query,h.label,h.query));return[new ea(i,e,r,gt.LocalPullRequest),...a,new ea(i,e,r,gt.All)]}}var zp=Object.defineProperty,Gr=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?zp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Hl{constructor(e){this._telemetry=e,Gr(this,"_onDidChangeTreeData",new b.EventEmitter),Gr(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),Gr(this,"_onDidChange",new b.EventEmitter),Gr(this,"_disposables"),Gr(this,"_childrenDisposables"),Gr(this,"_view"),Gr(this,"_reposManager"),Gr(this,"_initialized",!1),this._disposables=[],this._disposables.push(b.workspace.registerTextDocumentContentProvider("pr",Ml())),this._disposables.push(b.window.registerFileDecorationProvider(yl)),this._disposables.push(b.window.registerFileDecorationProvider(Us)),this._disposables.push(b.commands.registerCommand("pr.refreshList",r=>{this._onDidChangeTreeData.fire()})),this._disposables.push(b.commands.registerCommand("pr.loadMore",r=>{r.fetchNextPage=!0,this._onDidChangeTreeData.fire(r)})),this._view=b.window.createTreeView("pr:github",{treeDataProvider:this,showCollapseAll:!0}),this._disposables.push(this._view),this._childrenDisposables=[],this._disposables.push(b.commands.registerCommand("pr.configurePRViewlet",async()=>{var r;const i=((r=this._reposManager)==null?void 0:r.state)===tr.RepositoriesLoaded;switch(await b.window.showQuickPick(["Configure Remotes...","Configure Queries...",...i?["Sign out of GitHub..."]:[]])){case"Configure Queries...":return b.commands.executeCommand("workbench.action.openSettings",`@ext:${be} queries`);case"Configure Remotes...":return b.commands.executeCommand("workbench.action.openSettings",`@ext:${be} remotes`);case"Sign out of GitHub...":return b.commands.executeCommand("auth.signout");default:return}})),this._disposables.push(b.workspace.onDidChangeConfiguration(r=>{r.affectsConfiguration(`${vr}.fileListLayout`)&&this._onDidChangeTreeData.fire()}))}get onDidChange(){return this._onDidChange.event}get view(){return this._view}async reveal(e,r){return this._view.reveal(e,r)}initialize(e){if(this._initialized)throw new Error("Tree has already been initialized!");this._initialized=!0,this._reposManager=e,this._disposables.push(this._reposManager.onDidChangeState(()=>{this._onDidChangeTreeData.fire()})),this._disposables.push(...this._reposManager.folderManagers.map(r=>r.onDidChangeRepositories(()=>{this._onDidChangeTreeData.fire()}))),this.initializeCategories(),this.refresh()}async initializeCategories(){this._disposables.push(b.workspace.onDidChangeConfiguration(async e=>{e.affectsConfiguration(`${vr}.${$l}`)&&this.refresh()}))}refresh(e){return e?this._onDidChangeTreeData.fire(e):this._onDidChangeTreeData.fire()}getTreeItem(e){return e.getTreeItem()}async resolveTreeItem(e,r){return r instanceof Cn&&await r.resolve(),r}needsRemotes(){var e;return((e=this._reposManager)==null?void 0:e.state)===tr.NeedsAuthentication?Promise.resolve([]):b.workspace.getConfiguration(vr).get(Bi)?Promise.resolve([new Tr(this,Or.NoMatchingRemotes),new Tr(this,Or.ConfigureRemotes)]):Promise.resolve([new Tr(this,Or.NoRemotes)])}async getChildren(e){if(!this._reposManager)return b.workspace.workspaceFolders?Promise.resolve([new Tr(this,Or.NoGitRepositories)]):Promise.resolve([new Tr(this,Or.NoOpenFolder)]);if(this._reposManager.state===tr.Initializing)return Promise.resolve([new Tr(this,Or.Initializing)]);if(this._reposManager.folderManagers.filter(r=>r.getGitHubRemotes().length>0).length===0)return this.needsRemotes();if(!e){this._childrenDisposables&&this._childrenDisposables.length&&this._childrenDisposables.forEach(i=>i.dispose());let r;return this._reposManager.folderManagers.length===1?r=Yi.getCategoryTreeNodes(this._reposManager.folderManagers[0],this._telemetry,this):r=this._reposManager.folderManagers.map(i=>new Yi(this,i.repository.rootUri,i,this._telemetry)),this._childrenDisposables=r,Promise.resolve(r)}return this._reposManager.folderManagers.filter(r=>r.repository.state.remotes.length>0).length===0?Promise.resolve([new Tr(this,Or.Empty)]):e.getChildren()}async getParent(e){return e.getParent()}dispose(){this._disposables.forEach(e=>e.dispose())}}var Wp=Object.defineProperty,Gl=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Wp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Qp{constructor(e){this.gitAPI=e,Gl(this,"_onDidChange",new b.EventEmitter),Gl(this,"_fallback")}get onDidChange(){return this._onDidChange.event}async provideTextDocumentContent(e,r){if(!this._fallback)return"";const{path:i,commit:a,rootPath:h}=Ae(e.query);if(!i||!a)return"";const x=Vo(this.gitAPI,b.Uri.file(h));if(!x)return b.window.showErrorMessage(`We couldn't find an open repository for ${a} locally.`),"";const B=c.join(x.rootUri.fsPath,i).replace(/\\/g,"/");let $;try{if($=await x.show(a,B),!$)throw new Error}catch(W){if($=await this._fallback(e),!$)try{await x.getCommit(a)}catch(re){b.window.showErrorMessage(`We couldn't find commit ${a} locally. You may want to sync the branch with remote. Sometimes commits can disappear after a force-push`)}}return $||""}registerTextDocumentContentFallback(e){this._fallback=e}}var Kp=Object.defineProperty,Vl=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Kp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class jl{constructor(e,r,i,a,h,x,B){this._context=e,this._reposManager=r,this._reviewManagers=i,this._prsTreeDataProvider=a,this._prFileChangesProvider=h,this._telemetry=x,Vl(this,"_disposables"),this._disposables=[];const $=new Qp(B);$.registerTextDocumentContentFallback(this.provideTextDocumentContent.bind(this)),this._disposables.push(b.workspace.registerTextDocumentContentProvider("review",$)),this.registerListeners(),this._disposables.push(this._prsTreeDataProvider)}registerListeners(){this._disposables.push(b.workspace.onDidChangeConfiguration(async e=>{if(e.affectsConfiguration("githubPullRequests.showInSCM")){if(this._prFileChangesProvider){this._prFileChangesProvider.dispose(),this._prFileChangesProvider=new Ul(this._context);for(const r of this._reviewManagers)r.updateState(!0)}this._prsTreeDataProvider.dispose(),this._prsTreeDataProvider=new Hl(this._telemetry),this._prsTreeDataProvider.initialize(this._reposManager),this._disposables.push(this._prsTreeDataProvider)}}))}async provideTextDocumentContent(e){for(const r of this._reviewManagers)if(e.fsPath.startsWith(r.repository.rootUri.fsPath))return r.provideTextDocumentContent(e);return""}dispose(){this._disposables.forEach(e=>{e.dispose()})}}Vl(jl,"ID","Reviews");const Yp="AIF-d9b70cd4-b9f9-4d70-929b-a071c400b217";let Ut;const zl="prompts",Wl="createPROnPublish";async function Ql(t,e,r,i,a,h,x){t.subscriptions.push(n),n.appendLine("Git repository found, initializing review manager and pr tree view."),b.authentication.onDidChangeSessions(async Te=>{Te.provider.id==="github"&&(await W.clearCredentialCache(),le&&le.forEach(Ie=>Ie.updateState(!0)))}),t.subscriptions.push(e.onDidPublish(async Te=>{if(!Te.branch||bo(zl,Wl)===!1)return;const Ie=le.find(lt=>lt.repository.rootUri.toString()===Te.repository.rootUri.toString());if(Ie==null?void 0:Ie.isCreatingPullRequest)return;const Le="Create Pull Request...",Ge="Don't Show Again",Ue=await b.window.showInformationMessage(`Would you like to create a Pull Request for branch '${Te.branch}'?`,Le,Ge);Ue===Le?b.commands.executeCommand("pr.create"):Ue===Ge&&yo(zl,Wl,!1)})),t.subscriptions.push(b.window.registerUriHandler(ke)),t.subscriptions.push(new Dp);const B=b.workspace.workspaceFolders;B&&(i=i.sort((Te,Ie)=>{let Le=B.length,Ge=B.length;for(let Ue=0;Ue<B.length&&(B[Ue].uri.toString()===Te.rootUri.toString()?Le=Ue:B[Ue].uri.toString()===Ie.rootUri.toString()&&(Ge=Ue),!(Le!==B.length&&Ge!==B.length));Ue++);return Le-Ge}));const $=i.map(Te=>new bi(t,Te,Ut,e,r));t.subscriptions.push(...$);const W=new Pl($,r,Ut);t.subscriptions.push(W),h.then(Te=>{Te&&Te.registerContactServiceProvider("github-pr",new op(W))});const re=new Ul(t);t.subscriptions.push(re);const le=$.map(Te=>new Zr(t,Te.repository,Te,Ut,re,x)),de=new jl(t,W,le,a,re,Ut,e);t.subscriptions.push(de),e.onDidChangeState(()=>{n.appendLine(`Git initialization state changed: state=${e.state}}`),le.forEach(Te=>Te.updateState(!0))}),e.onDidOpenRepository(Te=>{const Ie=Te.state.onDidChange(()=>{const Le=new bi(t,Te,Ut,e,r);W.insertFolderManager(Le);const Ge=new Zr(t,Le.repository,Le,Ut,re,x);le.push(Ge),a.refresh(),Ie.dispose()})}),e.onDidCloseRepository(Te=>{W.removeRepo(Te);const Ie=le.findIndex(Le=>Le.repository.rootUri.toString()===Te.rootUri.toString());if(Ie){const Le=le[Ie];le.splice(Ie),Le.dispose()}a.refresh()}),a.initialize(W),Pf(t),qh(t,W,le,Ut,r,a);const we=b.workspace.getConfiguration("githubPullRequests").get("fileListLayout");await b.commands.executeCommand("setContext","fileListLayout:flat",we==="flat");const Re=new Pp(e,W,le,t,Ut);t.subscriptions.push(Re),await Re.initialize(),t.subscriptions.push(new up),await b.commands.executeCommand("setContext","github:initialized",!0);const Ee=await jh(t,Ut);await Ee.initializePromise,await Ee.isCachedFlightEnabled("githubaa"),Ut.sendTelemetryEvent("startup")}async function Zp(t){if(be==="GitHub.vscode-pull-request-github-insiders"&&b.extensions.getExtension("github.vscode-pull-request-github")!==void 0)throw new Error("GitHub Pull Requests and Issues Nightly cannot be used while GitHub Pull Requests and Issues is also installed. Please ensure that only one version of the extension is installed.");const e=new Ih;b.commands.registerCommand("github.api.preloadPullRequest",async a=>{await b.commands.executeCommand("setContext",at,!0),await b.commands.executeCommand("github:activePullRequest:welcome.focus"),e.shouldShow=a}),Sr.initialize(t);const r=new ae,i=b.extensions.getExtension(be).packageJSON.version;return Ut=new Hh(new z.Z(be,i,Yp)),t.subscriptions.push(Ut),Jp(t,r,e),r}async function Jp(t,e,r){$d(t);const i=new jd(Ut);t.subscriptions.push(i),await i.initialize(vt.github),Fi()&&await i.initialize(vt["github-enterprise"]);const a=await sp(i,e);a&&t.subscriptions.push(a);const h=np(e);t.subscriptions.push(h);const x=h.initialize();t.subscriptions.push(e);const B=new Hl(Ut);t.subscriptions.push(B),n.appendLine("Looking for git repository");const $=e.repositories;n.appendLine(`Found ${$.length} repositories during activation`),$.length>0?await Ql(t,e,i,$,B,x,r):(n.appendLine("Waiting for git repository"),te(e.onDidOpenRepository)(async W=>{n.appendLine(`Repository ${W.rootUri} opened`),await Ql(t,e,i,[W],B,x,r)}))}async function Xp(){Ut&&Ut.dispose()}})(),module.exports=Dn})();
