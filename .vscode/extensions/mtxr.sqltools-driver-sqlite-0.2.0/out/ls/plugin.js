var cn=Object.defineProperty,Nf=Object.prototype.hasOwnProperty,Se=Math.pow,ut=Object.assign,I=(e,t)=>()=>(t||(t={exports:{}},e(t.exports,t)),t.exports),ra=e=>cn(e,"__esModule",{value:!0}),na=(e,t)=>{ra(e);for(var r in t)cn(e,r,{get:t[r],enumerable:!0})},_f=(e,t)=>{if(ra(e),typeof t=="object"||typeof t=="function")for(let r in t)!Nf.call(e,r)&&r!=="default"&&cn(e,r,{get:()=>t[r],enumerable:!0});return e},Wt=e=>e&&e.__esModule?e:_f(cn({},"default",{value:e,enumerable:!0}),e),We=(e,t,r)=>new Promise((n,i)=>{var s=l=>{try{a(r.next(l))}catch(f){i(f)}},o=l=>{try{a(r.throw(l))}catch(f){i(f)}},a=l=>l.done?n(l.value):Promise.resolve(l.value).then(s,o);a((r=r.apply(e,t)).next())});var ir=I(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});function Of(e){return e===!0||e===!1}ht.boolean=Of;function ia(e){return typeof e=="string"||e instanceof String}ht.string=ia;function If(e){return typeof e=="number"||e instanceof Number}ht.number=If;function Cf(e){return e instanceof Error}ht.error=Cf;function wf(e){return typeof e=="function"}ht.func=wf;function sa(e){return Array.isArray(e)}ht.array=sa;function Lf(e){return sa(e)&&e.every(t=>ia(t))}ht.stringArray=Lf});var ca=I(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});const Ht=ir();var oa;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.serverErrorStart=-32099,e.serverErrorEnd=-32e3,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.RequestCancelled=-32800,e.ContentModified=-32801,e.MessageWriteError=1,e.MessageReadError=2})(oa=oe.ErrorCodes||(oe.ErrorCodes={}));class aa extends Error{constructor(e,t,r){super(t);this.code=Ht.number(e)?e:oa.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,aa.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}}oe.ResponseError=aa;class me{constructor(e,t){this._method=e,this._numberOfParams=t}get method(){return this._method}get numberOfParams(){return this._numberOfParams}}oe.AbstractMessageType=me;class Af extends me{constructor(e){super(e,0)}}oe.RequestType0=Af;class Pf extends me{constructor(e){super(e,1)}}oe.RequestType=Pf;class Df extends me{constructor(e){super(e,1)}}oe.RequestType1=Df;class kf extends me{constructor(e){super(e,2)}}oe.RequestType2=kf;class xf extends me{constructor(e){super(e,3)}}oe.RequestType3=xf;class Mf extends me{constructor(e){super(e,4)}}oe.RequestType4=Mf;class qf extends me{constructor(e){super(e,5)}}oe.RequestType5=qf;class Ff extends me{constructor(e){super(e,6)}}oe.RequestType6=Ff;class Uf extends me{constructor(e){super(e,7)}}oe.RequestType7=Uf;class jf extends me{constructor(e){super(e,8)}}oe.RequestType8=jf;class Wf extends me{constructor(e){super(e,9)}}oe.RequestType9=Wf;class Hf extends me{constructor(e){super(e,1);this._=void 0}}oe.NotificationType=Hf;class Bf extends me{constructor(e){super(e,0)}}oe.NotificationType0=Bf;class Gf extends me{constructor(e){super(e,1)}}oe.NotificationType1=Gf;class Vf extends me{constructor(e){super(e,2)}}oe.NotificationType2=Vf;class $f extends me{constructor(e){super(e,3)}}oe.NotificationType3=$f;class zf extends me{constructor(e){super(e,4)}}oe.NotificationType4=zf;class Xf extends me{constructor(e){super(e,5)}}oe.NotificationType5=Xf;class Yf extends me{constructor(e){super(e,6)}}oe.NotificationType6=Yf;class Kf extends me{constructor(e){super(e,7)}}oe.NotificationType7=Kf;class Jf extends me{constructor(e){super(e,8)}}oe.NotificationType8=Jf;class Qf extends me{constructor(e){super(e,9)}}oe.NotificationType9=Qf;function Zf(e){let t=e;return t&&Ht.string(t.method)&&(Ht.string(t.id)||Ht.number(t.id))}oe.isRequestMessage=Zf;function ed(e){let t=e;return t&&Ht.string(t.method)&&e.id===void 0}oe.isNotificationMessage=ed;function td(e){let t=e;return t&&(t.result!==void 0||!!t.error)&&(Ht.string(t.id)||Ht.number(t.id)||t.id===null)}oe.isResponseMessage=td});var Ir=I(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});var rd;(function(e){function t(r){return{dispose:r}}e.create=t})(rd=Bt.Disposable||(Bt.Disposable={}));var nd;(function(e){const t={dispose(){}};e.None=function(){return t}})(nd=Bt.Event||(Bt.Event={}));class id{add(e,t=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;for(var r=!1,n=0,i=this._callbacks.length;n<i;n++)if(this._callbacks[n]===e)if(this._contexts[n]===t){this._callbacks.splice(n,1),this._contexts.splice(n,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];for(var t=[],r=this._callbacks.slice(0),n=this._contexts.slice(0),i=0,s=r.length;i<s;i++)try{t.push(r[i].apply(n[i],e))}catch(o){console.error(o)}return t}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}}class pi{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,r)=>{this._callbacks||(this._callbacks=new id()),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);let n;return n={dispose:()=>{this._callbacks.remove(e,t),n.dispose=pi._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this)}},Array.isArray(r)&&r.push(n),n}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}Bt.Emitter=pi;pi._noop=function(){}});var ln=I(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});const mi=Ir(),sr=ir();let gi=8192,la=Buffer.from("\r","ascii")[0],ua=Buffer.from(`
`,"ascii")[0],sd=`\r
`;class od{constructor(e="utf8"){this.encoding=e,this.index=0,this.buffer=Buffer.allocUnsafe(gi)}append(e){var t=e;if(typeof e=="string"){var r=e,n=Buffer.byteLength(r,this.encoding);t=Buffer.allocUnsafe(n),t.write(r,0,n,this.encoding)}if(this.buffer.length-this.index>=t.length)t.copy(this.buffer,this.index,0,t.length);else{var i=(Math.ceil((this.index+t.length)/gi)+1)*gi;this.index===0?(this.buffer=Buffer.allocUnsafe(i),t.copy(this.buffer,0,0,t.length)):this.buffer=Buffer.concat([this.buffer.slice(0,this.index),t],i)}this.index+=t.length}tryReadHeaders(){let e,t=0;for(;t+3<this.index&&(this.buffer[t]!==la||this.buffer[t+1]!==ua||this.buffer[t+2]!==la||this.buffer[t+3]!==ua);)t++;if(t+3>=this.index)return e;e=Object.create(null);let r=this.buffer.toString("ascii",0,t).split(sd);r.forEach(i=>{let s=i.indexOf(":");if(s===-1)throw new Error("Message header must separate key and value using :");let o=i.substr(0,s),a=i.substr(s+1).trim();e[o]=a});let n=t+4;return this.buffer=this.buffer.slice(n),this.index=this.index-n,e}tryReadContent(e){if(this.index<e)return null;let t=this.buffer.toString(this.encoding,0,e),r=e;return this.buffer.copy(this.buffer,0,r),this.index=this.index-r,t}get numberOfBytes(){return this.index}}var ad;(function(e){function t(r){let n=r;return n&&sr.func(n.listen)&&sr.func(n.dispose)&&sr.func(n.onError)&&sr.func(n.onClose)&&sr.func(n.onPartialMessage)}e.is=t})(ad=Nt.MessageReader||(Nt.MessageReader={}));class Ei{constructor(){this.errorEmitter=new mi.Emitter(),this.closeEmitter=new mi.Emitter(),this.partialMessageEmitter=new mi.Emitter()}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${sr.string(e.message)?e.message:"unknown"}`)}}Nt.AbstractMessageReader=Ei;class ha extends Ei{constructor(e,t="utf8"){super();this.readable=e,this.buffer=new od(t),this._partialMessageTimeout=1e4}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e,this.readable.on("data",t=>{this.onData(t)}),this.readable.on("error",t=>this.fireError(t)),this.readable.on("close",()=>this.fireClose())}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders();if(!n)return;let i=n["Content-Length"];if(!i)throw new Error("Header must provide a Content-Length property.");let s=parseInt(i);if(isNaN(s))throw new Error("Content-Length value must be a number.");this.nextMessageLength=s}var t=this.buffer.tryReadContent(this.nextMessageLength);if(t===null){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.messageToken++;var r=JSON.parse(t);this.callback(r)}}clearPartialMessageTimer(){this.partialMessageTimer&&(clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){if(this.clearPartialMessageTimer(),this._partialMessageTimeout<=0)return;this.partialMessageTimer=setTimeout((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout)}}Nt.StreamMessageReader=ha;class cd extends Ei{constructor(e){super();this.process=e;let t=this.process;t.on("error",r=>this.fireError(r)),t.on("close",()=>this.fireClose())}listen(e){this.process.on("message",e)}}Nt.IPCMessageReader=cd;class ld extends ha{constructor(e,t="utf-8"){super(e,t)}}Nt.SocketMessageReader=ld});var fn=I(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});const fa=Ir(),Cr=ir();let da="Content-Length: ",un=`\r
`;var ud;(function(e){function t(r){let n=r;return n&&Cr.func(n.dispose)&&Cr.func(n.onClose)&&Cr.func(n.onError)&&Cr.func(n.write)}e.is=t})(ud=_t.MessageWriter||(_t.MessageWriter={}));class hn{constructor(){this.errorEmitter=new fa.Emitter(),this.closeEmitter=new fa.Emitter()}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,r){this.errorEmitter.fire([this.asError(e),t,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${Cr.string(e.message)?e.message:"unknown"}`)}}_t.AbstractMessageWriter=hn;class hd extends hn{constructor(e,t="utf8"){super();this.writable=e,this.encoding=t,this.errorCount=0,this.writable.on("error",r=>this.fireError(r)),this.writable.on("close",()=>this.fireClose())}write(e){let t=JSON.stringify(e),r=Buffer.byteLength(t,this.encoding),n=[da,r.toString(),un,un];try{this.writable.write(n.join(""),"ascii"),this.writable.write(t,this.encoding),this.errorCount=0}catch(i){this.errorCount++,this.fireError(i,e,this.errorCount)}}}_t.StreamMessageWriter=hd;class fd extends hn{constructor(e){super();this.process=e,this.errorCount=0,this.queue=[],this.sending=!1;let t=this.process;t.on("error",r=>this.fireError(r)),t.on("close",()=>this.fireClose)}write(e){!this.sending&&this.queue.length===0?this.doWriteMessage(e):this.queue.push(e)}doWriteMessage(e){try{this.process.send&&(this.sending=!0,this.process.send(e,void 0,void 0,t=>{this.sending=!1,t?(this.errorCount++,this.fireError(t,e,this.errorCount)):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())}))}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}}}_t.IPCMessageWriter=fd;class dd extends hn{constructor(e,t="utf8"){super();this.socket=e,this.queue=[],this.sending=!1,this.encoding=t,this.errorCount=0,this.socket.on("error",r=>this.fireError(r)),this.socket.on("close",()=>this.fireClose())}dispose(){super.dispose(),this.socket.destroy()}write(e){!this.sending&&this.queue.length===0?this.doWriteMessage(e):this.queue.push(e)}doWriteMessage(e){let t=JSON.stringify(e),r=Buffer.byteLength(t,this.encoding),n=[da,r.toString(),un,un];try{this.sending=!0,this.socket.write(n.join(""),"ascii",i=>{i&&this.handleError(i,e);try{this.socket.write(t,this.encoding,s=>{this.sending=!1,s?this.handleError(s,e):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())})}catch(s){this.handleError(s,e)}})}catch(i){this.handleError(i,e)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}}_t.SocketMessageWriter=dd});var ma=I(wr=>{"use strict";Object.defineProperty(wr,"__esModule",{value:!0});const vi=Ir(),pd=ir();var yi;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:vi.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:vi.Event.None});function t(r){let n=r;return n&&(n===e.None||n===e.Cancelled||pd.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}e.is=t})(yi=wr.CancellationToken||(wr.CancellationToken={}));const md=Object.freeze(function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}});class pa{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?md:(this._emitter||(this._emitter=new vi.Emitter()),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}class gd{get token(){return this._token||(this._token=new pa()),this._token}cancel(){this._token?this._token.cancel():this._token=yi.Cancelled}dispose(){this._token?this._token instanceof pa&&this._token.dispose():this._token=yi.None}}wr.CancellationTokenSource=gd});var ga=I(Lr=>{"use strict";Object.defineProperty(Lr,"__esModule",{value:!0});var it;(function(e){e.None=0,e.First=1,e.Last=2})(it=Lr.Touch||(Lr.Touch={}));class Ed{constructor(){this._map=new Map(),this._head=void 0,this._tail=void 0,this._size=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}has(e){return this._map.has(e)}get(e){const t=this._map.get(e);return t?t.value:void 0}set(e,t,r=it.None){let n=this._map.get(e);if(n)n.value=t,r!==it.None&&this.touch(n,r);else{n={key:e,value:t,next:void 0,previous:void 0};switch(r){case it.None:this.addItemLast(n);break;case it.First:this.addItemFirst(n);break;case it.Last:this.addItemLast(n);break;default:this.addItemLast(n);break}this._map.set(e,n),this._size++}}delete(e){const t=this._map.get(e);return t?(this._map.delete(e),this.removeItem(t),this._size--,!0):!1}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let r=this._head;for(;r;)t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),r=r.next}forEachReverse(e,t){let r=this._tail;for(;r;)t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),r=r.previous}values(){let e=[],t=this._head;for(;t;)e.push(t.value),t=t.next;return e}keys(){let e=[],t=this._head;for(;t;)e.push(t.key),t=t.next;return e}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head)this._head=e.next;else if(e===this._tail)this._tail=e.previous;else{const t=e.next,r=e.previous;if(!t||!r)throw new Error("Invalid list");t.previous=r,r.next=t}}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t!==it.First&&t!==it.Last)return;if(t===it.First){if(e===this._head)return;const r=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(r.previous=n,n.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e}else if(t===it.Last){if(e===this._tail)return;const r=e.next,n=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=n,n.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e}}}Lr.LinkedMap=Ed});var Ta=I(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});const vd=require("path"),yd=require("os"),Td=require("crypto"),Ea=require("net"),va=ln(),ya=fn();function Rd(){const e=Td.randomBytes(21).toString("hex");return process.platform==="win32"?`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`:vd.join(yd.tmpdir(),`vscode-${e}.sock`)}Ar.generateRandomPipeName=Rd;function bd(e,t="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let o=Ea.createServer(a=>{o.close(),r([new va.SocketMessageReader(a,t),new ya.SocketMessageWriter(a,t)])});o.on("error",s),o.listen(e,()=>{o.removeListener("error",s),i({onConnected:()=>n})})})}Ar.createClientPipeTransport=bd;function Sd(e,t="utf-8"){const r=Ea.createConnection(e);return[new va.SocketMessageReader(r,t),new ya.SocketMessageWriter(r,t)]}Ar.createServerPipeTransport=Sd});var Na=I(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});const Ra=require("net"),ba=ln(),Sa=fn();function Nd(e,t="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let o=Ra.createServer(a=>{o.close(),r([new ba.SocketMessageReader(a,t),new Sa.SocketMessageWriter(a,t)])});o.on("error",s),o.listen(e,"127.0.0.1",()=>{o.removeListener("error",s),i({onConnected:()=>n})})})}dn.createClientSocketTransport=Nd;function _d(e,t="utf-8"){const r=Ra.createConnection(e,"127.0.0.1");return[new ba.SocketMessageReader(r,t),new Sa.SocketMessageWriter(r,t)]}dn.createServerSocketTransport=_d});var Qe=I(U=>{"use strict";function _a(e){for(var t in e)U.hasOwnProperty(t)||(U[t]=e[t])}Object.defineProperty(U,"__esModule",{value:!0});const we=ir(),$=ca();U.RequestType=$.RequestType;U.RequestType0=$.RequestType0;U.RequestType1=$.RequestType1;U.RequestType2=$.RequestType2;U.RequestType3=$.RequestType3;U.RequestType4=$.RequestType4;U.RequestType5=$.RequestType5;U.RequestType6=$.RequestType6;U.RequestType7=$.RequestType7;U.RequestType8=$.RequestType8;U.RequestType9=$.RequestType9;U.ResponseError=$.ResponseError;U.ErrorCodes=$.ErrorCodes;U.NotificationType=$.NotificationType;U.NotificationType0=$.NotificationType0;U.NotificationType1=$.NotificationType1;U.NotificationType2=$.NotificationType2;U.NotificationType3=$.NotificationType3;U.NotificationType4=$.NotificationType4;U.NotificationType5=$.NotificationType5;U.NotificationType6=$.NotificationType6;U.NotificationType7=$.NotificationType7;U.NotificationType8=$.NotificationType8;U.NotificationType9=$.NotificationType9;const Pr=ln();U.MessageReader=Pr.MessageReader;U.StreamMessageReader=Pr.StreamMessageReader;U.IPCMessageReader=Pr.IPCMessageReader;U.SocketMessageReader=Pr.SocketMessageReader;const Dr=fn();U.MessageWriter=Dr.MessageWriter;U.StreamMessageWriter=Dr.StreamMessageWriter;U.IPCMessageWriter=Dr.IPCMessageWriter;U.SocketMessageWriter=Dr.SocketMessageWriter;const Ot=Ir();U.Disposable=Ot.Disposable;U.Event=Ot.Event;U.Emitter=Ot.Emitter;const or=ma();U.CancellationTokenSource=or.CancellationTokenSource;U.CancellationToken=or.CancellationToken;const Oa=ga();_a(Ta());_a(Na());var kr;(function(e){e.type=new $.NotificationType("$/cancelRequest")})(kr||(kr={}));var pn;(function(e){e.type=new $.NotificationType("$/progress")})(pn||(pn={}));class Od{constructor(){}}U.ProgressType=Od;U.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var be;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Verbose=2]="Verbose"})(be=U.Trace||(U.Trace={}));(function(e){function t(n){if(!we.string(n))return e.Off;n=n.toLowerCase();switch(n){case"off":return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose;default:return e.Off}}e.fromString=t;function r(n){switch(n){case e.Off:return"off";case e.Messages:return"messages";case e.Verbose:return"verbose";default:return"off"}}e.toString=r})(be=U.Trace||(U.Trace={}));var Ke;(function(e){e.Text="text",e.JSON="json"})(Ke=U.TraceFormat||(U.TraceFormat={}));(function(e){function t(r){return r=r.toLowerCase(),r==="json"?e.JSON:e.Text}e.fromString=t})(Ke=U.TraceFormat||(U.TraceFormat={}));var Ia;(function(e){e.type=new $.NotificationType("$/setTraceNotification")})(Ia=U.SetTraceNotification||(U.SetTraceNotification={}));var Ti;(function(e){e.type=new $.NotificationType("$/logTraceNotification")})(Ti=U.LogTraceNotification||(U.LogTraceNotification={}));var mn;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(mn=U.ConnectionErrors||(U.ConnectionErrors={}));class xr extends Error{constructor(e,t){super(t);this.code=e,Object.setPrototypeOf(this,xr.prototype)}}U.ConnectionError=xr;var Id;(function(e){function t(r){let n=r;return n&&we.func(n.cancelUndispatched)}e.is=t})(Id=U.ConnectionStrategy||(U.ConnectionStrategy={}));var Je;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(Je||(Je={}));function Cd(e,t,r,n){let i=0,s=0,o=0;const a="2.0";let l,f=Object.create(null),d,E=Object.create(null),y=new Map(),L,_=new Oa.LinkedMap(),B=Object.create(null),W=Object.create(null),D=be.Off,J=Ke.Text,k,v=Je.New,p=new Ot.Emitter(),b=new Ot.Emitter(),F=new Ot.Emitter(),w=new Ot.Emitter(),M=new Ot.Emitter();function Q(m){return"req-"+m.toString()}function G(m){return m===null?"res-unknown-"+(++o).toString():"res-"+m.toString()}function ne(){return"not-"+(++s).toString()}function ve(m,C){$.isRequestMessage(C)?m.set(Q(C.id),C):$.isResponseMessage(C)?m.set(G(C.id),C):m.set(ne(),C)}function he(m){return}function le(){return v===Je.Listening}function ye(){return v===Je.Closed}function Te(){return v===Je.Disposed}function Ae(){(v===Je.New||v===Je.Listening)&&(v=Je.Closed,b.fire(void 0))}function Oe(m){p.fire([m,void 0,void 0])}function de(m){p.fire(m)}e.onClose(Ae),e.onError(Oe),t.onClose(Ae),t.onError(de);function Ge(){if(L||_.size===0)return;L=setImmediate(()=>{L=void 0,Re()})}function Re(){if(_.size===0)return;let m=_.shift();try{$.isRequestMessage(m)?Ie(m):$.isNotificationMessage(m)?nt(m):$.isResponseMessage(m)?Ve(m):je(m)}finally{Ge()}}let Pe=m=>{try{if($.isNotificationMessage(m)&&m.method===kr.type.method){let C=Q(m.params.id),x=_.get(C);if($.isRequestMessage(x)){let H=n&&n.cancelUndispatched?n.cancelUndispatched(x,he):he(x);if(H&&(H.error!==void 0||H.result!==void 0)){_.delete(C),H.id=x.id,Rt(H,m.method,Date.now()),t.write(H);return}}}ve(_,m)}finally{Ge()}};function Ie(m){if(Te())return;function C(T,P,q){let X={jsonrpc:a,id:m.id};T instanceof $.ResponseError?X.error=T.toJson():X.result=T===void 0?null:T,Rt(X,P,q),t.write(X)}function x(T,P,q){let X={jsonrpc:a,id:m.id,error:T.toJson()};Rt(X,P,q),t.write(X)}function H(T,P,q){T===void 0&&(T=null);let X={jsonrpc:a,id:m.id,result:T};Rt(X,P,q),t.write(X)}on(m);let c=f[m.method],u,h;c&&(u=c.type,h=c.handler);let g=Date.now();if(h||l){let T=new or.CancellationTokenSource(),P=String(m.id);W[P]=T;try{let q;m.params===void 0||u!==void 0&&u.numberOfParams===0?q=h?h(T.token):l(m.method,T.token):we.array(m.params)&&(u===void 0||u.numberOfParams>1)?q=h?h(...m.params,T.token):l(m.method,...m.params,T.token):q=h?h(m.params,T.token):l(m.method,m.params,T.token);let X=q;q?X.then?X.then(pe=>{delete W[P],C(pe,m.method,g)},pe=>{delete W[P],pe instanceof $.ResponseError?x(pe,m.method,g):pe&&we.string(pe.message)?x(new $.ResponseError($.ErrorCodes.InternalError,`Request ${m.method} failed with message: ${pe.message}`),m.method,g):x(new $.ResponseError($.ErrorCodes.InternalError,`Request ${m.method} failed unexpectedly without providing any details.`),m.method,g)}):(delete W[P],C(q,m.method,g)):(delete W[P],H(q,m.method,g))}catch(q){delete W[P],q instanceof $.ResponseError?C(q,m.method,g):q&&we.string(q.message)?x(new $.ResponseError($.ErrorCodes.InternalError,`Request ${m.method} failed with message: ${q.message}`),m.method,g):x(new $.ResponseError($.ErrorCodes.InternalError,`Request ${m.method} failed unexpectedly without providing any details.`),m.method,g)}}else x(new $.ResponseError($.ErrorCodes.MethodNotFound,`Unhandled method ${m.method}`),m.method,g)}function Ve(m){if(Te())return;if(m.id===null)m.error?r.error(`Received response message without id: Error is: 
${JSON.stringify(m.error,void 0,4)}`):r.error("Received response message without id. No further error information provided.");else{let C=String(m.id),x=B[C];if(oi(m,x),x){delete B[C];try{if(m.error){let H=m.error;x.reject(new $.ResponseError(H.code,H.message,H.data))}else if(m.result!==void 0)x.resolve(m.result);else throw new Error("Should never happen.")}catch(H){H.message?r.error(`Response handler '${x.method}' failed with message: ${H.message}`):r.error(`Response handler '${x.method}' failed unexpectedly.`)}}}}function nt(m){if(Te())return;let C,x;if(m.method===kr.type.method)x=H=>{let c=H.id,u=W[String(c)];u&&u.cancel()};else{let H=E[m.method];H&&(x=H.handler,C=H.type)}if(x||d)try{si(m),m.params===void 0||C!==void 0&&C.numberOfParams===0?x?x():d(m.method):we.array(m.params)&&(C===void 0||C.numberOfParams>1)?x?x(...m.params):d(m.method,...m.params):x?x(m.params):d(m.method,m.params)}catch(H){H.message?r.error(`Notification handler '${m.method}' failed with message: ${H.message}`):r.error(`Notification handler '${m.method}' failed unexpectedly.`)}else F.fire(m)}function je(m){if(!m){r.error("Received empty message.");return}r.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(m,null,4)}`);let C=m;if(we.string(C.id)||we.number(C.id)){let x=String(C.id),H=B[x];H&&H.reject(new Error("The received response has neither a result nor an error property."))}}function $e(m){if(D===be.Off||!k)return;if(J===Ke.Text){let C;D===be.Verbose&&m.params&&(C=`Params: ${JSON.stringify(m.params,null,4)}

`),k.log(`Sending request '${m.method} - (${m.id})'.`,C)}else bt("send-request",m)}function Ut(m){if(D===be.Off||!k)return;if(J===Ke.Text){let C;D===be.Verbose&&(m.params?C=`Params: ${JSON.stringify(m.params,null,4)}

`:C=`No parameters provided.

`),k.log(`Sending notification '${m.method}'.`,C)}else bt("send-notification",m)}function Rt(m,C,x){if(D===be.Off||!k)return;if(J===Ke.Text){let H;D===be.Verbose&&(m.error&&m.error.data?H=`Error data: ${JSON.stringify(m.error.data,null,4)}

`:m.result?H=`Result: ${JSON.stringify(m.result,null,4)}

`:m.error===void 0&&(H=`No result returned.

`)),k.log(`Sending response '${C} - (${m.id})'. Processing request took ${Date.now()-x}ms`,H)}else bt("send-response",m)}function on(m){if(D===be.Off||!k)return;if(J===Ke.Text){let C;D===be.Verbose&&m.params&&(C=`Params: ${JSON.stringify(m.params,null,4)}

`),k.log(`Received request '${m.method} - (${m.id})'.`,C)}else bt("receive-request",m)}function si(m){if(D===be.Off||!k||m.method===Ti.type.method)return;if(J===Ke.Text){let C;D===be.Verbose&&(m.params?C=`Params: ${JSON.stringify(m.params,null,4)}

`:C=`No parameters provided.

`),k.log(`Received notification '${m.method}'.`,C)}else bt("receive-notification",m)}function oi(m,C){if(D===be.Off||!k)return;if(J===Ke.Text){let x;if(D===be.Verbose&&(m.error&&m.error.data?x=`Error data: ${JSON.stringify(m.error.data,null,4)}

`:m.result?x=`Result: ${JSON.stringify(m.result,null,4)}

`:m.error===void 0&&(x=`No result returned.

`)),C){let H=m.error?` Request failed: ${m.error.message} (${m.error.code}).`:"";k.log(`Received response '${C.method} - (${m.id})' in ${Date.now()-C.timerStart}ms.${H}`,x)}else k.log(`Received response ${m.id} without active response promise.`,x)}else bt("receive-response",m)}function bt(m,C){if(!k||D===be.Off)return;const x={isLSPMessage:!0,type:m,message:C,timestamp:Date.now()};k.log(x)}function St(){if(ye())throw new xr(mn.Closed,"Connection is closed.");if(Te())throw new xr(mn.Disposed,"Connection is disposed.")}function ai(){if(le())throw new xr(mn.AlreadyListening,"Connection is already listening")}function Or(){if(!le())throw new Error("Call listen() first.")}function z(m){return m===void 0?null:m}function nr(m,C){let x,H=m.numberOfParams;switch(H){case 0:x=null;break;case 1:x=z(C[0]);break;default:x=[];for(let c=0;c<C.length&&c<H;c++)x.push(z(C[c]));if(C.length<H)for(let c=C.length;c<H;c++)x.push(null);break}return x}let ct={sendNotification:(m,...C)=>{St();let x,H;if(we.string(m)){x=m;switch(C.length){case 0:H=null;break;case 1:H=C[0];break;default:H=C;break}}else x=m.method,H=nr(m,C);let c={jsonrpc:a,method:x,params:H};Ut(c),t.write(c)},onNotification:(m,C)=>{St(),we.func(m)?d=m:C&&(we.string(m)?E[m]={type:void 0,handler:C}:E[m.method]={type:m,handler:C})},onProgress:(m,C,x)=>{if(y.has(C))throw new Error(`Progress handler for token ${C} already registered`);return y.set(C,x),{dispose:()=>{y.delete(C)}}},sendProgress:(m,C,x)=>{ct.sendNotification(pn.type,{token:C,value:x})},onUnhandledProgress:w.event,sendRequest:(m,...C)=>{St(),Or();let x,H,c;if(we.string(m)){x=m;switch(C.length){case 0:H=null;break;case 1:or.CancellationToken.is(C[0])?(H=null,c=C[0]):H=z(C[0]);break;default:const g=C.length-1;or.CancellationToken.is(C[g])?(c=C[g],C.length===2?H=z(C[0]):H=C.slice(0,g).map(T=>z(T))):H=C.map(T=>z(T));break}}else{x=m.method,H=nr(m,C);let g=m.numberOfParams;c=or.CancellationToken.is(C[g])?C[g]:void 0}let u=i++,h=new Promise((g,T)=>{let P={jsonrpc:a,id:u,method:x,params:H},q={method:x,timerStart:Date.now(),resolve:g,reject:T};$e(P);try{t.write(P)}catch(X){q.reject(new $.ResponseError($.ErrorCodes.MessageWriteError,X.message?X.message:"Unknown reason")),q=null}q&&(B[String(u)]=q)});return c&&c.onCancellationRequested(()=>{ct.sendNotification(kr.type,{id:u})}),h},onRequest:(m,C)=>{St(),we.func(m)?l=m:C&&(we.string(m)?f[m]={type:void 0,handler:C}:f[m.method]={type:m,handler:C})},trace:(m,C,x)=>{let H=!1,c=Ke.Text;x!==void 0&&(we.boolean(x)?H=x:(H=x.sendNotification||!1,c=x.traceFormat||Ke.Text)),D=m,J=c,D===be.Off?k=void 0:k=C,H&&!ye()&&!Te()&&ct.sendNotification(Ia.type,{value:be.toString(m)})},onError:p.event,onClose:b.event,onUnhandledNotification:F.event,onDispose:M.event,dispose:()=>{if(Te())return;v=Je.Disposed,M.fire(void 0);let m=new Error("Connection got disposed.");Object.keys(B).forEach(C=>{B[C].reject(m)}),B=Object.create(null),W=Object.create(null),_=new Oa.LinkedMap(),we.func(t.dispose)&&t.dispose(),we.func(e.dispose)&&e.dispose()},listen:()=>{St(),ai(),v=Je.Listening,e.listen(Pe)},inspect:()=>{console.log("inspect")}};return ct.onNotification(Ti.type,m=>{if(D===be.Off||!k)return;k.log(m.message,D===be.Verbose?m.verbose:void 0)}),ct.onNotification(pn.type,m=>{const C=y.get(m.token);C?C(m.value):w.fire(m)}),ct}function wd(e){return e.listen!==void 0&&e.read===void 0}function Ld(e){return e.write!==void 0&&e.end===void 0}function Ad(e,t,r,n){r||(r=U.NullLogger);let i=wd(e)?e:new Pr.StreamMessageReader(e),s=Ld(t)?t:new Dr.StreamMessageWriter(t);return Cd(i,s,r,n)}U.createMessageConnection=Ad});var Ca=I(Pd=>{na(Pd,{CodeAction:()=>$i,CodeActionContext:()=>Vi,CodeActionKind:()=>Gi,CodeLens:()=>zi,Color:()=>En,ColorInformation:()=>bi,ColorPresentation:()=>Si,Command:()=>ar,CompletionItem:()=>Di,CompletionItemKind:()=>Li,CompletionItemTag:()=>Pi,CompletionList:()=>ki,CreateFile:()=>Ur,DeleteFile:()=>Wr,Diagnostic:()=>Mr,DiagnosticRelatedInformation:()=>vn,DiagnosticSeverity:()=>Oi,DiagnosticTag:()=>Ii,DocumentHighlight:()=>Ui,DocumentHighlightKind:()=>Fi,DocumentLink:()=>Yi,DocumentSymbol:()=>Bi,EOL:()=>kd,FoldingRange:()=>_i,FoldingRangeKind:()=>Ni,FormattingOptions:()=>Xi,Hover:()=>xi,InsertTextFormat:()=>Ai,Location:()=>gn,LocationLink:()=>Ri,MarkedString:()=>Hr,MarkupContent:()=>Rn,MarkupKind:()=>cr,ParameterInformation:()=>Mi,Position:()=>Ze,Range:()=>De,RenameFile:()=>jr,SelectionRange:()=>Ki,SignatureInformation:()=>qi,SymbolInformation:()=>Hi,SymbolKind:()=>ji,SymbolTag:()=>Wi,TextDocument:()=>Ji,TextDocumentEdit:()=>qr,TextDocumentIdentifier:()=>Ci,TextDocumentItem:()=>wi,TextEdit:()=>It,VersionedTextDocumentIdentifier:()=>Fr,WorkspaceChange:()=>Dd,WorkspaceEdit:()=>yn});"use strict";var Ze;(function(e){function t(n,i){return{line:n,character:i}}e.create=t;function r(n){var i=n;return N.objectLiteral(i)&&N.number(i.line)&&N.number(i.character)}e.is=r})(Ze||(Ze={}));var De;(function(e){function t(n,i,s,o){if(N.number(n)&&N.number(i)&&N.number(s)&&N.number(o))return{start:Ze.create(n,i),end:Ze.create(s,o)};if(Ze.is(n)&&Ze.is(i))return{start:n,end:i};throw new Error("Range#create called with invalid arguments["+n+", "+i+", "+s+", "+o+"]")}e.create=t;function r(n){var i=n;return N.objectLiteral(i)&&Ze.is(i.start)&&Ze.is(i.end)}e.is=r})(De||(De={}));var gn;(function(e){function t(n,i){return{uri:n,range:i}}e.create=t;function r(n){var i=n;return N.defined(i)&&De.is(i.range)&&(N.string(i.uri)||N.undefined(i.uri))}e.is=r})(gn||(gn={}));var Ri;(function(e){function t(n,i,s,o){return{targetUri:n,targetRange:i,targetSelectionRange:s,originSelectionRange:o}}e.create=t;function r(n){var i=n;return N.defined(i)&&De.is(i.targetRange)&&N.string(i.targetUri)&&(De.is(i.targetSelectionRange)||N.undefined(i.targetSelectionRange))&&(De.is(i.originSelectionRange)||N.undefined(i.originSelectionRange))}e.is=r})(Ri||(Ri={}));var En;(function(e){function t(n,i,s,o){return{red:n,green:i,blue:s,alpha:o}}e.create=t;function r(n){var i=n;return N.number(i.red)&&N.number(i.green)&&N.number(i.blue)&&N.number(i.alpha)}e.is=r})(En||(En={}));var bi;(function(e){function t(n,i){return{range:n,color:i}}e.create=t;function r(n){var i=n;return De.is(i.range)&&En.is(i.color)}e.is=r})(bi||(bi={}));var Si;(function(e){function t(n,i,s){return{label:n,textEdit:i,additionalTextEdits:s}}e.create=t;function r(n){var i=n;return N.string(i.label)&&(N.undefined(i.textEdit)||It.is(i))&&(N.undefined(i.additionalTextEdits)||N.typedArray(i.additionalTextEdits,It.is))}e.is=r})(Si||(Si={}));var Ni;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(Ni||(Ni={}));var _i;(function(e){function t(n,i,s,o,a){var l={startLine:n,endLine:i};return N.defined(s)&&(l.startCharacter=s),N.defined(o)&&(l.endCharacter=o),N.defined(a)&&(l.kind=a),l}e.create=t;function r(n){var i=n;return N.number(i.startLine)&&N.number(i.startLine)&&(N.undefined(i.startCharacter)||N.number(i.startCharacter))&&(N.undefined(i.endCharacter)||N.number(i.endCharacter))&&(N.undefined(i.kind)||N.string(i.kind))}e.is=r})(_i||(_i={}));var vn;(function(e){function t(n,i){return{location:n,message:i}}e.create=t;function r(n){var i=n;return N.defined(i)&&gn.is(i.location)&&N.string(i.message)}e.is=r})(vn||(vn={}));var Oi;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(Oi||(Oi={}));var Ii;(function(e){e.Unnecessary=1,e.Deprecated=2})(Ii||(Ii={}));var Mr;(function(e){function t(n,i,s,o,a,l){var f={range:n,message:i};return N.defined(s)&&(f.severity=s),N.defined(o)&&(f.code=o),N.defined(a)&&(f.source=a),N.defined(l)&&(f.relatedInformation=l),f}e.create=t;function r(n){var i=n;return N.defined(i)&&De.is(i.range)&&N.string(i.message)&&(N.number(i.severity)||N.undefined(i.severity))&&(N.number(i.code)||N.string(i.code)||N.undefined(i.code))&&(N.string(i.source)||N.undefined(i.source))&&(N.undefined(i.relatedInformation)||N.typedArray(i.relatedInformation,vn.is))}e.is=r})(Mr||(Mr={}));var ar;(function(e){function t(n,i){for(var s=[],o=2;o<arguments.length;o++)s[o-2]=arguments[o];var a={title:n,command:i};return N.defined(s)&&s.length>0&&(a.arguments=s),a}e.create=t;function r(n){var i=n;return N.defined(i)&&N.string(i.title)&&N.string(i.command)}e.is=r})(ar||(ar={}));var It;(function(e){function t(s,o){return{range:s,newText:o}}e.replace=t;function r(s,o){return{range:{start:s,end:s},newText:o}}e.insert=r;function n(s){return{range:s,newText:""}}e.del=n;function i(s){var o=s;return N.objectLiteral(o)&&N.string(o.newText)&&De.is(o.range)}e.is=i})(It||(It={}));var qr;(function(e){function t(n,i){return{textDocument:n,edits:i}}e.create=t;function r(n){var i=n;return N.defined(i)&&Fr.is(i.textDocument)&&Array.isArray(i.edits)}e.is=r})(qr||(qr={}));var Ur;(function(e){function t(n,i){var s={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(s.options=i),s}e.create=t;function r(n){var i=n;return i&&i.kind==="create"&&N.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||N.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||N.boolean(i.options.ignoreIfExists)))}e.is=r})(Ur||(Ur={}));var jr;(function(e){function t(n,i,s){var o={kind:"rename",oldUri:n,newUri:i};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(o.options=s),o}e.create=t;function r(n){var i=n;return i&&i.kind==="rename"&&N.string(i.oldUri)&&N.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||N.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||N.boolean(i.options.ignoreIfExists)))}e.is=r})(jr||(jr={}));var Wr;(function(e){function t(n,i){var s={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(s.options=i),s}e.create=t;function r(n){var i=n;return i&&i.kind==="delete"&&N.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||N.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||N.boolean(i.options.ignoreIfNotExists)))}e.is=r})(Wr||(Wr={}));var yn;(function(e){function t(r){var n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(function(i){return N.string(i.kind)?Ur.is(i)||jr.is(i)||Wr.is(i):qr.is(i)}))}e.is=t})(yn||(yn={}));var Tn=function(){function e(t){this.edits=t}return e.prototype.insert=function(t,r){this.edits.push(It.insert(t,r))},e.prototype.replace=function(t,r){this.edits.push(It.replace(t,r))},e.prototype.delete=function(t){this.edits.push(It.del(t))},e.prototype.add=function(t){this.edits.push(t)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e}(),Dd=function(){function e(t){var r=this;this._textEditChanges=Object.create(null),t&&(this._workspaceEdit=t,t.documentChanges?t.documentChanges.forEach(function(n){if(qr.is(n)){var i=new Tn(n.edits);r._textEditChanges[n.textDocument.uri]=i}}):t.changes&&Object.keys(t.changes).forEach(function(n){var i=new Tn(t.changes[n]);r._textEditChanges[n]=i}))}return Object.defineProperty(e.prototype,"edit",{get:function(){return this._workspaceEdit},enumerable:!0,configurable:!0}),e.prototype.getTextEditChange=function(t){if(Fr.is(t)){if(this._workspaceEdit||(this._workspaceEdit={documentChanges:[]}),!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var r=t,n=this._textEditChanges[r.uri];if(!n){var i=[],s={textDocument:r,edits:i};this._workspaceEdit.documentChanges.push(s),n=new Tn(i),this._textEditChanges[r.uri]=n}return n}else{if(this._workspaceEdit||(this._workspaceEdit={changes:Object.create(null)}),!this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var n=this._textEditChanges[t];if(!n){var i=[];this._workspaceEdit.changes[t]=i,n=new Tn(i),this._textEditChanges[t]=n}return n}},e.prototype.createFile=function(t,r){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(Ur.create(t,r))},e.prototype.renameFile=function(t,r,n){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(jr.create(t,r,n))},e.prototype.deleteFile=function(t,r){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(Wr.create(t,r))},e.prototype.checkDocumentChanges=function(){if(!this._workspaceEdit||!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.")},e}(),Ci;(function(e){function t(n){return{uri:n}}e.create=t;function r(n){var i=n;return N.defined(i)&&N.string(i.uri)}e.is=r})(Ci||(Ci={}));var Fr;(function(e){function t(n,i){return{uri:n,version:i}}e.create=t;function r(n){var i=n;return N.defined(i)&&N.string(i.uri)&&(i.version===null||N.number(i.version))}e.is=r})(Fr||(Fr={}));var wi;(function(e){function t(n,i,s,o){return{uri:n,languageId:i,version:s,text:o}}e.create=t;function r(n){var i=n;return N.defined(i)&&N.string(i.uri)&&N.string(i.languageId)&&N.number(i.version)&&N.string(i.text)}e.is=r})(wi||(wi={}));var cr;(function(e){e.PlainText="plaintext",e.Markdown="markdown"})(cr||(cr={}));(function(e){function t(r){var n=r;return n===e.PlainText||n===e.Markdown}e.is=t})(cr||(cr={}));var Rn;(function(e){function t(r){var n=r;return N.objectLiteral(r)&&cr.is(n.kind)&&N.string(n.value)}e.is=t})(Rn||(Rn={}));var Li;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(Li||(Li={}));var Ai;(function(e){e.PlainText=1,e.Snippet=2})(Ai||(Ai={}));var Pi;(function(e){e.Deprecated=1})(Pi||(Pi={}));var Di;(function(e){function t(r){return{label:r}}e.create=t})(Di||(Di={}));var ki;(function(e){function t(r,n){return{items:r||[],isIncomplete:!!n}}e.create=t})(ki||(ki={}));var Hr;(function(e){function t(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.fromPlainText=t;function r(n){var i=n;return N.string(i)||N.objectLiteral(i)&&N.string(i.language)&&N.string(i.value)}e.is=r})(Hr||(Hr={}));var xi;(function(e){function t(r){var n=r;return!!n&&N.objectLiteral(n)&&(Rn.is(n.contents)||Hr.is(n.contents)||N.typedArray(n.contents,Hr.is))&&(r.range===void 0||De.is(r.range))}e.is=t})(xi||(xi={}));var Mi;(function(e){function t(r,n){return n?{label:r,documentation:n}:{label:r}}e.create=t})(Mi||(Mi={}));var qi;(function(e){function t(r,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var o={label:r};return N.defined(n)&&(o.documentation=n),N.defined(i)?o.parameters=i:o.parameters=[],o}e.create=t})(qi||(qi={}));var Fi;(function(e){e.Text=1,e.Read=2,e.Write=3})(Fi||(Fi={}));var Ui;(function(e){function t(r,n){var i={range:r};return N.number(n)&&(i.kind=n),i}e.create=t})(Ui||(Ui={}));var ji;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(ji||(ji={}));var Wi;(function(e){e.Deprecated=1})(Wi||(Wi={}));var Hi;(function(e){function t(r,n,i,s,o){var a={name:r,kind:n,location:{uri:s,range:i}};return o&&(a.containerName=o),a}e.create=t})(Hi||(Hi={}));var Bi;(function(e){function t(n,i,s,o,a,l){var f={name:n,detail:i,kind:s,range:o,selectionRange:a};return l!==void 0&&(f.children=l),f}e.create=t;function r(n){var i=n;return i&&N.string(i.name)&&N.number(i.kind)&&De.is(i.range)&&De.is(i.selectionRange)&&(i.detail===void 0||N.string(i.detail))&&(i.deprecated===void 0||N.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))}e.is=r})(Bi||(Bi={}));var Gi;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(Gi||(Gi={}));var Vi;(function(e){function t(n,i){var s={diagnostics:n};return i!=null&&(s.only=i),s}e.create=t;function r(n){var i=n;return N.defined(i)&&N.typedArray(i.diagnostics,Mr.is)&&(i.only===void 0||N.typedArray(i.only,N.string))}e.is=r})(Vi||(Vi={}));var $i;(function(e){function t(n,i,s){var o={title:n};return ar.is(i)?o.command=i:o.edit=i,s!==void 0&&(o.kind=s),o}e.create=t;function r(n){var i=n;return i&&N.string(i.title)&&(i.diagnostics===void 0||N.typedArray(i.diagnostics,Mr.is))&&(i.kind===void 0||N.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||ar.is(i.command))&&(i.isPreferred===void 0||N.boolean(i.isPreferred))&&(i.edit===void 0||yn.is(i.edit))}e.is=r})($i||($i={}));var zi;(function(e){function t(n,i){var s={range:n};return N.defined(i)&&(s.data=i),s}e.create=t;function r(n){var i=n;return N.defined(i)&&De.is(i.range)&&(N.undefined(i.command)||ar.is(i.command))}e.is=r})(zi||(zi={}));var Xi;(function(e){function t(n,i){return{tabSize:n,insertSpaces:i}}e.create=t;function r(n){var i=n;return N.defined(i)&&N.number(i.tabSize)&&N.boolean(i.insertSpaces)}e.is=r})(Xi||(Xi={}));var Yi;(function(e){function t(n,i,s){return{range:n,target:i,data:s}}e.create=t;function r(n){var i=n;return N.defined(i)&&De.is(i.range)&&(N.undefined(i.target)||N.string(i.target))}e.is=r})(Yi||(Yi={}));var Ki;(function(e){function t(n,i){return{range:n,parent:i}}e.create=t;function r(n){var i=n;return i!==void 0&&De.is(i.range)&&(i.parent===void 0||e.is(i.parent))}e.is=r})(Ki||(Ki={}));var kd=[`
`,`\r
`,"\r"],Ji;(function(e){function t(s,o,a,l){return new xd(s,o,a,l)}e.create=t;function r(s){var o=s;return!!(N.defined(o)&&N.string(o.uri)&&(N.undefined(o.languageId)||N.string(o.languageId))&&N.number(o.lineCount)&&N.func(o.getText)&&N.func(o.positionAt)&&N.func(o.offsetAt))}e.is=r;function n(s,o){for(var a=s.getText(),l=i(o,function(_,B){var W=_.range.start.line-B.range.start.line;return W===0?_.range.start.character-B.range.start.character:W}),f=a.length,d=l.length-1;d>=0;d--){var E=l[d],y=s.offsetAt(E.range.start),L=s.offsetAt(E.range.end);if(L<=f)a=a.substring(0,y)+E.newText+a.substring(L,a.length);else throw new Error("Overlapping edit");f=y}return a}e.applyEdits=n;function i(s,o){if(s.length<=1)return s;var a=s.length/2|0,l=s.slice(0,a),f=s.slice(a);i(l,o),i(f,o);for(var d=0,E=0,y=0;d<l.length&&E<f.length;){var L=o(l[d],f[E]);L<=0?s[y++]=l[d++]:s[y++]=f[E++]}for(;d<l.length;)s[y++]=l[d++];for(;E<f.length;)s[y++]=f[E++];return s}})(Ji||(Ji={}));var xd=function(){function e(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),e.prototype.getText=function(t){if(t){var r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content},e.prototype.update=function(t,r){this._content=t.text,this._version=r,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var t=[],r=this._content,n=!0,i=0;i<r.length;i++){n&&(t.push(i),n=!1);var s=r.charAt(i);n=s==="\r"||s===`
`,s==="\r"&&i+1<r.length&&r.charAt(i+1)===`
`&&i++}n&&r.length>0&&t.push(r.length),this._lineOffsets=t}return this._lineOffsets},e.prototype.positionAt=function(t){t=Math.max(Math.min(t,this._content.length),0);var r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return Ze.create(0,t);for(;n<i;){var s=Math.floor((n+i)/2);r[s]>t?i=s:n=s+1}var o=n-1;return Ze.create(o,t-r[o])},e.prototype.offsetAt=function(t){var r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;var n=r[t.line],i=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,i),n)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),e}(),N;(function(e){var t=Object.prototype.toString;function r(d){return typeof d!="undefined"}e.defined=r;function n(d){return typeof d=="undefined"}e.undefined=n;function i(d){return d===!0||d===!1}e.boolean=i;function s(d){return t.call(d)==="[object String]"}e.string=s;function o(d){return t.call(d)==="[object Number]"}e.number=o;function a(d){return t.call(d)==="[object Function]"}e.func=a;function l(d){return d!==null&&typeof d=="object"}e.objectLiteral=l;function f(d,E){return Array.isArray(d)&&d.every(E)}e.typedArray=f})(N||(N={}))});var Aa=I(et=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0});function Md(e){return e===!0||e===!1}et.boolean=Md;function wa(e){return typeof e=="string"||e instanceof String}et.string=wa;function qd(e){return typeof e=="number"||e instanceof Number}et.number=qd;function Fd(e){return e instanceof Error}et.error=Fd;function Ud(e){return typeof e=="function"}et.func=Ud;function La(e){return Array.isArray(e)}et.array=La;function jd(e){return La(e)&&e.every(t=>wa(t))}et.stringArray=jd;function Wd(e,t){return Array.isArray(e)&&e.every(t)}et.typedArray=Wd;function Hd(e){return e!==null&&typeof e=="object"}et.objectLiteral=Hd});var He=I(lr=>{"use strict";Object.defineProperty(lr,"__esModule",{value:!0});const bn=Qe();class Bd extends bn.RequestType0{constructor(e){super(e)}}lr.ProtocolRequestType0=Bd;class Gd extends bn.RequestType{constructor(e){super(e)}}lr.ProtocolRequestType=Gd;class Vd extends bn.NotificationType{constructor(e){super(e)}}lr.ProtocolNotificationType=Vd;class $d extends bn.NotificationType0{constructor(e){super(e)}}lr.ProtocolNotificationType0=$d});var Pa=I(Sn=>{"use strict";Object.defineProperty(Sn,"__esModule",{value:!0});const zd=Qe(),Xd=He();var Yd;(function(e){e.method="textDocument/implementation",e.type=new Xd.ProtocolRequestType(e.method),e.resultType=new zd.ProgressType()})(Yd=Sn.ImplementationRequest||(Sn.ImplementationRequest={}))});var Da=I(Nn=>{"use strict";Object.defineProperty(Nn,"__esModule",{value:!0});const Kd=Qe(),Jd=He();var Qd;(function(e){e.method="textDocument/typeDefinition",e.type=new Jd.ProtocolRequestType(e.method),e.resultType=new Kd.ProgressType()})(Qd=Nn.TypeDefinitionRequest||(Nn.TypeDefinitionRequest={}))});var xa=I(ur=>{"use strict";Object.defineProperty(ur,"__esModule",{value:!0});const ka=He();var Zd;(function(e){e.type=new ka.ProtocolRequestType0("workspace/workspaceFolders")})(Zd=ur.WorkspaceFoldersRequest||(ur.WorkspaceFoldersRequest={}));var ep;(function(e){e.type=new ka.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")})(ep=ur.DidChangeWorkspaceFoldersNotification||(ur.DidChangeWorkspaceFoldersNotification={}))});var Ma=I(_n=>{"use strict";Object.defineProperty(_n,"__esModule",{value:!0});const tp=He();var rp;(function(e){e.type=new tp.ProtocolRequestType("workspace/configuration")})(rp=_n.ConfigurationRequest||(_n.ConfigurationRequest={}))});var Fa=I(hr=>{"use strict";Object.defineProperty(hr,"__esModule",{value:!0});const np=Qe(),qa=He();var ip;(function(e){e.method="textDocument/documentColor",e.type=new qa.ProtocolRequestType(e.method),e.resultType=new np.ProgressType()})(ip=hr.DocumentColorRequest||(hr.DocumentColorRequest={}));var sp;(function(e){e.type=new qa.ProtocolRequestType("textDocument/colorPresentation")})(sp=hr.ColorPresentationRequest||(hr.ColorPresentationRequest={}))});var Ua=I(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});const op=Qe(),ap=He();var cp;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(cp=fr.FoldingRangeKind||(fr.FoldingRangeKind={}));var lp;(function(e){e.method="textDocument/foldingRange",e.type=new ap.ProtocolRequestType(e.method),e.resultType=new op.ProgressType()})(lp=fr.FoldingRangeRequest||(fr.FoldingRangeRequest={}))});var ja=I(On=>{"use strict";Object.defineProperty(On,"__esModule",{value:!0});const up=Qe(),hp=He();var fp;(function(e){e.method="textDocument/declaration",e.type=new hp.ProtocolRequestType(e.method),e.resultType=new up.ProgressType()})(fp=On.DeclarationRequest||(On.DeclarationRequest={}))});var Wa=I(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});const dp=Qe(),pp=He();var mp;(function(e){e.method="textDocument/selectionRange",e.type=new pp.ProtocolRequestType(e.method),e.resultType=new dp.ProgressType()})(mp=In.SelectionRangeRequest||(In.SelectionRangeRequest={}))});var Ba=I(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});const gp=Qe(),Ha=He();var Ep;(function(e){e.type=new gp.ProgressType()})(Ep=Ct.WorkDoneProgress||(Ct.WorkDoneProgress={}));var vp;(function(e){e.type=new Ha.ProtocolRequestType("window/workDoneProgress/create")})(vp=Ct.WorkDoneProgressCreateRequest||(Ct.WorkDoneProgressCreateRequest={}));var yp;(function(e){e.type=new Ha.ProtocolNotificationType("window/workDoneProgress/cancel")})(yp=Ct.WorkDoneProgressCancelNotification||(Ct.WorkDoneProgressCancelNotification={}))});var Xa=I(S=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});const wt=Aa(),ft=Qe(),ee=He(),Tp=Pa();S.ImplementationRequest=Tp.ImplementationRequest;const Rp=Da();S.TypeDefinitionRequest=Rp.TypeDefinitionRequest;const Ga=xa();S.WorkspaceFoldersRequest=Ga.WorkspaceFoldersRequest;S.DidChangeWorkspaceFoldersNotification=Ga.DidChangeWorkspaceFoldersNotification;const bp=Ma();S.ConfigurationRequest=bp.ConfigurationRequest;const Va=Fa();S.DocumentColorRequest=Va.DocumentColorRequest;S.ColorPresentationRequest=Va.ColorPresentationRequest;const Sp=Ua();S.FoldingRangeRequest=Sp.FoldingRangeRequest;const Np=ja();S.DeclarationRequest=Np.DeclarationRequest;const _p=Wa();S.SelectionRangeRequest=_p.SelectionRangeRequest;const Qi=Ba();S.WorkDoneProgress=Qi.WorkDoneProgress;S.WorkDoneProgressCreateRequest=Qi.WorkDoneProgressCreateRequest;S.WorkDoneProgressCancelNotification=Qi.WorkDoneProgressCancelNotification;var $a;(function(e){function t(r){const n=r;return wt.string(n.language)||wt.string(n.scheme)||wt.string(n.pattern)}e.is=t})($a=S.DocumentFilter||(S.DocumentFilter={}));var za;(function(e){function t(r){if(!Array.isArray(r))return!1;for(let n of r)if(!wt.string(n)&&!$a.is(n))return!1;return!0}e.is=t})(za=S.DocumentSelector||(S.DocumentSelector={}));var Op;(function(e){e.type=new ee.ProtocolRequestType("client/registerCapability")})(Op=S.RegistrationRequest||(S.RegistrationRequest={}));var Ip;(function(e){e.type=new ee.ProtocolRequestType("client/unregisterCapability")})(Ip=S.UnregistrationRequest||(S.UnregistrationRequest={}));var Cp;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(Cp=S.ResourceOperationKind||(S.ResourceOperationKind={}));var wp;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(wp=S.FailureHandlingKind||(S.FailureHandlingKind={}));var Lp;(function(e){function t(r){const n=r;return n&&wt.string(n.id)&&n.id.length>0}e.hasId=t})(Lp=S.StaticRegistrationOptions||(S.StaticRegistrationOptions={}));var Ap;(function(e){function t(r){const n=r;return n&&(n.documentSelector===null||za.is(n.documentSelector))}e.is=t})(Ap=S.TextDocumentRegistrationOptions||(S.TextDocumentRegistrationOptions={}));var Pp;(function(e){function t(n){const i=n;return wt.objectLiteral(i)&&(i.workDoneProgress===void 0||wt.boolean(i.workDoneProgress))}e.is=t;function r(n){const i=n;return i&&wt.boolean(i.workDoneProgress)}e.hasWorkDoneProgress=r})(Pp=S.WorkDoneProgressOptions||(S.WorkDoneProgressOptions={}));var Dp;(function(e){e.type=new ee.ProtocolRequestType("initialize")})(Dp=S.InitializeRequest||(S.InitializeRequest={}));var kp;(function(e){e.unknownProtocolVersion=1})(kp=S.InitializeError||(S.InitializeError={}));var xp;(function(e){e.type=new ee.ProtocolNotificationType("initialized")})(xp=S.InitializedNotification||(S.InitializedNotification={}));var Mp;(function(e){e.type=new ee.ProtocolRequestType0("shutdown")})(Mp=S.ShutdownRequest||(S.ShutdownRequest={}));var qp;(function(e){e.type=new ee.ProtocolNotificationType0("exit")})(qp=S.ExitNotification||(S.ExitNotification={}));var Fp;(function(e){e.type=new ee.ProtocolNotificationType("workspace/didChangeConfiguration")})(Fp=S.DidChangeConfigurationNotification||(S.DidChangeConfigurationNotification={}));var Up;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4})(Up=S.MessageType||(S.MessageType={}));var jp;(function(e){e.type=new ee.ProtocolNotificationType("window/showMessage")})(jp=S.ShowMessageNotification||(S.ShowMessageNotification={}));var Wp;(function(e){e.type=new ee.ProtocolRequestType("window/showMessageRequest")})(Wp=S.ShowMessageRequest||(S.ShowMessageRequest={}));var Hp;(function(e){e.type=new ee.ProtocolNotificationType("window/logMessage")})(Hp=S.LogMessageNotification||(S.LogMessageNotification={}));var Bp;(function(e){e.type=new ee.ProtocolNotificationType("telemetry/event")})(Bp=S.TelemetryEventNotification||(S.TelemetryEventNotification={}));var Gp;(function(e){e.None=0,e.Full=1,e.Incremental=2})(Gp=S.TextDocumentSyncKind||(S.TextDocumentSyncKind={}));var Vp;(function(e){e.method="textDocument/didOpen",e.type=new ee.ProtocolNotificationType(e.method)})(Vp=S.DidOpenTextDocumentNotification||(S.DidOpenTextDocumentNotification={}));var $p;(function(e){e.method="textDocument/didChange",e.type=new ee.ProtocolNotificationType(e.method)})($p=S.DidChangeTextDocumentNotification||(S.DidChangeTextDocumentNotification={}));var zp;(function(e){e.method="textDocument/didClose",e.type=new ee.ProtocolNotificationType(e.method)})(zp=S.DidCloseTextDocumentNotification||(S.DidCloseTextDocumentNotification={}));var Xp;(function(e){e.method="textDocument/didSave",e.type=new ee.ProtocolNotificationType(e.method)})(Xp=S.DidSaveTextDocumentNotification||(S.DidSaveTextDocumentNotification={}));var Yp;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(Yp=S.TextDocumentSaveReason||(S.TextDocumentSaveReason={}));var Kp;(function(e){e.method="textDocument/willSave",e.type=new ee.ProtocolNotificationType(e.method)})(Kp=S.WillSaveTextDocumentNotification||(S.WillSaveTextDocumentNotification={}));var Jp;(function(e){e.method="textDocument/willSaveWaitUntil",e.type=new ee.ProtocolRequestType(e.method)})(Jp=S.WillSaveTextDocumentWaitUntilRequest||(S.WillSaveTextDocumentWaitUntilRequest={}));var Qp;(function(e){e.type=new ee.ProtocolNotificationType("workspace/didChangeWatchedFiles")})(Qp=S.DidChangeWatchedFilesNotification||(S.DidChangeWatchedFilesNotification={}));var Zp;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(Zp=S.FileChangeType||(S.FileChangeType={}));var em;(function(e){e.Create=1,e.Change=2,e.Delete=4})(em=S.WatchKind||(S.WatchKind={}));var tm;(function(e){e.type=new ee.ProtocolNotificationType("textDocument/publishDiagnostics")})(tm=S.PublishDiagnosticsNotification||(S.PublishDiagnosticsNotification={}));var rm;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(rm=S.CompletionTriggerKind||(S.CompletionTriggerKind={}));var nm;(function(e){e.method="textDocument/completion",e.type=new ee.ProtocolRequestType(e.method),e.resultType=new ft.ProgressType()})(nm=S.CompletionRequest||(S.CompletionRequest={}));var im;(function(e){e.method="completionItem/resolve",e.type=new ee.ProtocolRequestType(e.method)})(im=S.CompletionResolveRequest||(S.CompletionResolveRequest={}));var sm;(function(e){e.method="textDocument/hover",e.type=new ee.ProtocolRequestType(e.method)})(sm=S.HoverRequest||(S.HoverRequest={}));var om;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(om=S.SignatureHelpTriggerKind||(S.SignatureHelpTriggerKind={}));var am;(function(e){e.method="textDocument/signatureHelp",e.type=new ee.ProtocolRequestType(e.method)})(am=S.SignatureHelpRequest||(S.SignatureHelpRequest={}));var cm;(function(e){e.method="textDocument/definition",e.type=new ee.ProtocolRequestType(e.method),e.resultType=new ft.ProgressType()})(cm=S.DefinitionRequest||(S.DefinitionRequest={}));var lm;(function(e){e.method="textDocument/references",e.type=new ee.ProtocolRequestType(e.method),e.resultType=new ft.ProgressType()})(lm=S.ReferencesRequest||(S.ReferencesRequest={}));var um;(function(e){e.method="textDocument/documentHighlight",e.type=new ee.ProtocolRequestType(e.method),e.resultType=new ft.ProgressType()})(um=S.DocumentHighlightRequest||(S.DocumentHighlightRequest={}));var hm;(function(e){e.method="textDocument/documentSymbol",e.type=new ee.ProtocolRequestType(e.method),e.resultType=new ft.ProgressType()})(hm=S.DocumentSymbolRequest||(S.DocumentSymbolRequest={}));var fm;(function(e){e.method="textDocument/codeAction",e.type=new ee.ProtocolRequestType(e.method),e.resultType=new ft.ProgressType()})(fm=S.CodeActionRequest||(S.CodeActionRequest={}));var dm;(function(e){e.method="workspace/symbol",e.type=new ee.ProtocolRequestType(e.method),e.resultType=new ft.ProgressType()})(dm=S.WorkspaceSymbolRequest||(S.WorkspaceSymbolRequest={}));var pm;(function(e){e.type=new ee.ProtocolRequestType("textDocument/codeLens"),e.resultType=new ft.ProgressType()})(pm=S.CodeLensRequest||(S.CodeLensRequest={}));var mm;(function(e){e.type=new ee.ProtocolRequestType("codeLens/resolve")})(mm=S.CodeLensResolveRequest||(S.CodeLensResolveRequest={}));var gm;(function(e){e.method="textDocument/documentLink",e.type=new ee.ProtocolRequestType(e.method),e.resultType=new ft.ProgressType()})(gm=S.DocumentLinkRequest||(S.DocumentLinkRequest={}));var Em;(function(e){e.type=new ee.ProtocolRequestType("documentLink/resolve")})(Em=S.DocumentLinkResolveRequest||(S.DocumentLinkResolveRequest={}));var vm;(function(e){e.method="textDocument/formatting",e.type=new ee.ProtocolRequestType(e.method)})(vm=S.DocumentFormattingRequest||(S.DocumentFormattingRequest={}));var ym;(function(e){e.method="textDocument/rangeFormatting",e.type=new ee.ProtocolRequestType(e.method)})(ym=S.DocumentRangeFormattingRequest||(S.DocumentRangeFormattingRequest={}));var Tm;(function(e){e.method="textDocument/onTypeFormatting",e.type=new ee.ProtocolRequestType(e.method)})(Tm=S.DocumentOnTypeFormattingRequest||(S.DocumentOnTypeFormattingRequest={}));var Rm;(function(e){e.method="textDocument/rename",e.type=new ee.ProtocolRequestType(e.method)})(Rm=S.RenameRequest||(S.RenameRequest={}));var bm;(function(e){e.method="textDocument/prepareRename",e.type=new ee.ProtocolRequestType(e.method)})(bm=S.PrepareRenameRequest||(S.PrepareRenameRequest={}));var Sm;(function(e){e.type=new ee.ProtocolRequestType("workspace/executeCommand")})(Sm=S.ExecuteCommandRequest||(S.ExecuteCommandRequest={}));var Nm;(function(e){e.type=new ee.ProtocolRequestType("workspace/applyEdit")})(Nm=S.ApplyWorkspaceEditRequest||(S.ApplyWorkspaceEditRequest={}))});var Ya=I(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});const Zi=He();var _m;(function(e){e.method="textDocument/prepareCallHierarchy",e.type=new Zi.ProtocolRequestType(e.method)})(_m=Lt.CallHierarchyPrepareRequest||(Lt.CallHierarchyPrepareRequest={}));var Om;(function(e){e.method="callHierarchy/incomingCalls",e.type=new Zi.ProtocolRequestType(e.method)})(Om=Lt.CallHierarchyIncomingCallsRequest||(Lt.CallHierarchyIncomingCallsRequest={}));var Im;(function(e){e.method="callHierarchy/outgoingCalls",e.type=new Zi.ProtocolRequestType(e.method)})(Im=Lt.CallHierarchyOutgoingCallsRequest||(Lt.CallHierarchyOutgoingCallsRequest={}))});var Ka=I(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});const es=He();var Cm;(function(e){e.comment="comment",e.keyword="keyword",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.namespace="namespace",e.type="type",e.struct="struct",e.class="class",e.interface="interface",e.enum="enum",e.typeParameter="typeParameter",e.function="function",e.member="member",e.property="property",e.macro="macro",e.variable="variable",e.parameter="parameter",e.label="label"})(Cm=Me.SemanticTokenTypes||(Me.SemanticTokenTypes={}));var wm;(function(e){e.documentation="documentation",e.declaration="declaration",e.definition="definition",e.reference="reference",e.static="static",e.abstract="abstract",e.deprecated="deprecated",e.async="async",e.volatile="volatile",e.readonly="readonly"})(wm=Me.SemanticTokenModifiers||(Me.SemanticTokenModifiers={}));var Lm;(function(e){function t(r){const n=r;return n!==void 0&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}e.is=t})(Lm=Me.SemanticTokens||(Me.SemanticTokens={}));var Am;(function(e){e.method="textDocument/semanticTokens",e.type=new es.ProtocolRequestType(e.method)})(Am=Me.SemanticTokensRequest||(Me.SemanticTokensRequest={}));var Pm;(function(e){e.method="textDocument/semanticTokens/edits",e.type=new es.ProtocolRequestType(e.method)})(Pm=Me.SemanticTokensEditsRequest||(Me.SemanticTokensEditsRequest={}));var Dm;(function(e){e.method="textDocument/semanticTokens/range",e.type=new es.ProtocolRequestType(e.method)})(Dm=Me.SemanticTokensRangeRequest||(Me.SemanticTokensRangeRequest={}))});var At=I(se=>{"use strict";function Ja(e){for(var t in e)se.hasOwnProperty(t)||(se[t]=e[t])}Object.defineProperty(se,"__esModule",{value:!0});const ue=Qe();se.ErrorCodes=ue.ErrorCodes;se.ResponseError=ue.ResponseError;se.CancellationToken=ue.CancellationToken;se.CancellationTokenSource=ue.CancellationTokenSource;se.Disposable=ue.Disposable;se.Event=ue.Event;se.Emitter=ue.Emitter;se.Trace=ue.Trace;se.TraceFormat=ue.TraceFormat;se.SetTraceNotification=ue.SetTraceNotification;se.LogTraceNotification=ue.LogTraceNotification;se.RequestType=ue.RequestType;se.RequestType0=ue.RequestType0;se.NotificationType=ue.NotificationType;se.NotificationType0=ue.NotificationType0;se.MessageReader=ue.MessageReader;se.MessageWriter=ue.MessageWriter;se.ConnectionStrategy=ue.ConnectionStrategy;se.StreamMessageReader=ue.StreamMessageReader;se.StreamMessageWriter=ue.StreamMessageWriter;se.IPCMessageReader=ue.IPCMessageReader;se.IPCMessageWriter=ue.IPCMessageWriter;se.createClientPipeTransport=ue.createClientPipeTransport;se.createServerPipeTransport=ue.createServerPipeTransport;se.generateRandomPipeName=ue.generateRandomPipeName;se.createClientSocketTransport=ue.createClientSocketTransport;se.createServerSocketTransport=ue.createServerSocketTransport;se.ProgressType=ue.ProgressType;Ja(Ca());Ja(Xa());const dr=Ya(),dt=Ka();var km;(function(e){let t;(function(a){a.method=dr.CallHierarchyPrepareRequest.method,a.type=dr.CallHierarchyPrepareRequest.type})(t=e.CallHierarchyPrepareRequest||(e.CallHierarchyPrepareRequest={}));let r;(function(a){a.method=dr.CallHierarchyIncomingCallsRequest.method,a.type=dr.CallHierarchyIncomingCallsRequest.type})(r=e.CallHierarchyIncomingCallsRequest||(e.CallHierarchyIncomingCallsRequest={}));let n;(function(a){a.method=dr.CallHierarchyOutgoingCallsRequest.method,a.type=dr.CallHierarchyOutgoingCallsRequest.type})(n=e.CallHierarchyOutgoingCallsRequest||(e.CallHierarchyOutgoingCallsRequest={})),e.SemanticTokenTypes=dt.SemanticTokenTypes,e.SemanticTokenModifiers=dt.SemanticTokenModifiers,e.SemanticTokens=dt.SemanticTokens;let i;(function(a){a.method=dt.SemanticTokensRequest.method,a.type=dt.SemanticTokensRequest.type})(i=e.SemanticTokensRequest||(e.SemanticTokensRequest={}));let s;(function(a){a.method=dt.SemanticTokensEditsRequest.method,a.type=dt.SemanticTokensEditsRequest.type})(s=e.SemanticTokensEditsRequest||(e.SemanticTokensEditsRequest={}));let o;(function(a){a.method=dt.SemanticTokensRangeRequest.method,a.type=dt.SemanticTokensRangeRequest.type})(o=e.SemanticTokensRangeRequest||(e.SemanticTokensRangeRequest={}))})(km=se.Proposed||(se.Proposed={}));function xm(e,t,r,n){return ue.createMessageConnection(e,t,r,n)}se.createProtocolConnection=xm});var ts=I(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});function Mm(e){return e===!0||e===!1}tt.boolean=Mm;function Qa(e){return typeof e=="string"||e instanceof String}tt.string=Qa;function qm(e){return typeof e=="number"||e instanceof Number}tt.number=qm;function Fm(e){return e instanceof Error}tt.error=Fm;function Za(e){return typeof e=="function"}tt.func=Za;function ec(e){return Array.isArray(e)}tt.array=ec;function Um(e){return ec(e)&&e.every(t=>Qa(t))}tt.stringArray=Um;function jm(e,t){return Array.isArray(e)&&e.every(t)}tt.typedArray=jm;function Wm(e){return e&&Za(e.then)}tt.thenable=Wm});var tc=I(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});const Hm=At(),Bm=ts();rs.ConfigurationFeature=e=>class extends e{getConfiguration(t){return t?Bm.string(t)?this._getConfiguration({section:t}):this._getConfiguration(t):this._getConfiguration({})}_getConfiguration(t){let r={items:Array.isArray(t)?t:[t]};return this.connection.sendRequest(Hm.ConfigurationRequest.type,r).then(n=>Array.isArray(t)?n:n[0])}}});var rc=I(ns=>{"use strict";Object.defineProperty(ns,"__esModule",{value:!0});const Cn=At();ns.WorkspaceFoldersFeature=e=>class extends e{initialize(t){let r=t.workspace;r&&r.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new Cn.Emitter(),this.connection.onNotification(Cn.DidChangeWorkspaceFoldersNotification.type,n=>{this._onDidChangeWorkspaceFolders.fire(n.event)}))}getWorkspaceFolders(){return this.connection.sendRequest(Cn.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._unregistration||(this._unregistration=this.connection.client.register(Cn.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}}});var ss=I(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});class is{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}}class ie extends is{constructor(){super([ie._randomHex(),ie._randomHex(),ie._randomHex(),ie._randomHex(),ie._randomHex(),ie._randomHex(),ie._randomHex(),ie._randomHex(),"-",ie._randomHex(),ie._randomHex(),ie._randomHex(),ie._randomHex(),"-","4",ie._randomHex(),ie._randomHex(),ie._randomHex(),"-",ie._oneOf(ie._timeHighBits),ie._randomHex(),ie._randomHex(),ie._randomHex(),"-",ie._randomHex(),ie._randomHex(),ie._randomHex(),ie._randomHex(),ie._randomHex(),ie._randomHex(),ie._randomHex(),ie._randomHex(),ie._randomHex(),ie._randomHex(),ie._randomHex(),ie._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return ie._oneOf(ie._chars)}}ie._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];ie._timeHighBits=["8","9","a","b"];Gt.empty=new is("00000000-0000-0000-0000-000000000000");function nc(){return new ie()}Gt.v4=nc;const Gm=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function ic(e){return Gm.test(e)}Gt.isUUID=ic;function Vm(e){if(!ic(e))throw new Error("invalid uuid");return new is(e)}Gt.parse=Vm;function $m(){return nc().asHex()}Gt.generateUuid=$m});var sc=I(Br=>{"use strict";Object.defineProperty(Br,"__esModule",{value:!0});const Pt=At(),zm=ss();class Vt{constructor(e,t){this._connection=e,this._token=t,Vt.Instances.set(this._token,this),this._source=new Pt.CancellationTokenSource()}get token(){return this._source.token}begin(e,t,r,n){let i={kind:"begin",title:e,percentage:t,message:r,cancellable:n};this._connection.sendProgress(Pt.WorkDoneProgress.type,this._token,i)}report(e,t){let r={kind:"report"};typeof e=="number"?(r.percentage=e,t!==void 0&&(r.message=t)):r.message=e,this._connection.sendProgress(Pt.WorkDoneProgress.type,this._token,r)}done(){Vt.Instances.delete(this._token),this._source.dispose(),this._connection.sendProgress(Pt.WorkDoneProgress.type,this._token,{kind:"end"})}cancel(){this._source.cancel()}}Vt.Instances=new Map();class os{constructor(){this._source=new Pt.CancellationTokenSource()}get token(){return this._source.token}begin(){}report(){}done(){}}function Xm(e,t){if(t===void 0||t.workDoneToken===void 0)return new os();const r=t.workDoneToken;return delete t.workDoneToken,new Vt(e,r)}Br.attachWorkDone=Xm;Br.ProgressFeature=e=>class extends e{initialize(t){var r;((r=t==null?void 0:t.window)===null||r===void 0?void 0:r.workDoneProgress)===!0&&(this._progressSupported=!0,this.connection.onNotification(Pt.WorkDoneProgressCancelNotification.type,n=>{let i=Vt.Instances.get(n.token);i!==void 0&&i.cancel()}))}attachWorkDoneProgress(t){return t===void 0?new os():new Vt(this.connection,t)}createWorkDoneProgress(){if(this._progressSupported){const t=zm.generateUuid();return this.connection.sendRequest(Pt.WorkDoneProgressCreateRequest.type,{token:t}).then(()=>{const r=new Vt(this.connection,t);return r})}else return Promise.resolve(new os())}};var as;(function(e){e.type=new Pt.ProgressType()})(as||(as={}));class Ym{constructor(e,t){this._connection=e,this._token=t}report(e){this._connection.sendProgress(as.type,this._token,e)}}function Km(e,t){if(t===void 0||t.partialResultToken===void 0)return;const r=t.partialResultToken;return delete t.partialResultToken,new Ym(e,r)}Br.attachPartialResult=Km});var ac=I(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});const Jm=require("url"),rt=require("path"),cs=require("fs"),ls=require("child_process");function Qm(e){let t=Jm.parse(e);if(t.protocol!=="file:"||!t.path)return;let r=t.path.split("/");for(var n=0,i=r.length;n<i;n++)r[n]=decodeURIComponent(r[n]);if(process.platform==="win32"&&r.length>1){let s=r[0],o=r[1];s.length===0&&o.length>1&&o[1]===":"&&r.shift()}return rt.normalize(r.join("/"))}pt.uriToFilePath=Qm;function us(){return process.platform==="win32"}function wn(e,t,r,n){const i="NODE_PATH",s=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((o,a)=>{let l=process.env,f=Object.create(null);Object.keys(l).forEach(d=>f[d]=l[d]),t&&cs.existsSync(t)&&(f[i]?f[i]=t+rt.delimiter+f[i]:f[i]=t,n&&n(`NODE_PATH value is: ${f[i]}`)),f.ELECTRON_RUN_AS_NODE="1";try{let d=ls.fork("",[],{cwd:r,env:f,execArgv:["-e",s]});if(d.pid===void 0){a(new Error(`Starting process to resolve node module  ${e} failed`));return}d.on("error",y=>{a(y)}),d.on("message",y=>{y.c==="r"&&(d.send({c:"e"}),y.s?o(y.r):a(new Error(`Failed to resolve module: ${e}`)))});let E={c:"rs",a:e};d.send(E)}catch(d){a(d)}})}pt.resolve=wn;function hs(e){let t="npm";const r=Object.create(null);Object.keys(process.env).forEach(s=>r[s]=process.env[s]),r.NO_UPDATE_NOTIFIER="true";const n={encoding:"utf8",env:r};us()&&(t="npm.cmd",n.shell=!0);let i=()=>{};try{process.on("SIGPIPE",i);let s=ls.spawnSync(t,["config","get","prefix"],n).stdout;if(!s){e&&e("'npm config get prefix' didn't return a value.");return}let o=s.trim();return e&&e(`'npm config get prefix' value is: ${o}`),o.length>0?us()?rt.join(o,"node_modules"):rt.join(o,"lib","node_modules"):void 0}catch(s){return}finally{process.removeListener("SIGPIPE",i)}}pt.resolveGlobalNodePath=hs;function Zm(e){let t="yarn",r={encoding:"utf8"};us()&&(t="yarn.cmd",r.shell=!0);let n=()=>{};try{process.on("SIGPIPE",n);let i=ls.spawnSync(t,["global","dir","--json"],r),s=i.stdout;if(!s){e&&(e("'yarn global dir' didn't return a value."),i.stderr&&e(i.stderr));return}let o=s.trim().split(/\r?\n/);for(let a of o)try{let l=JSON.parse(a);if(l.type==="log")return rt.join(l.data,"node_modules")}catch(l){}return}catch(i){return}finally{process.removeListener("SIGPIPE",n)}}pt.resolveGlobalYarnPath=Zm;var oc;(function(e){let t;function r(){return t!==void 0||(process.platform==="win32"?t=!1:t=!cs.existsSync(__filename.toUpperCase())||!cs.existsSync(__filename.toLowerCase())),t}e.isCaseSensitive=r;function n(i,s){return r()?rt.normalize(s).indexOf(rt.normalize(i))===0:rt.normalize(s).toLowerCase().indexOf(rt.normalize(i).toLowerCase())===0}e.isParent=n})(oc=pt.FileSystem||(pt.FileSystem={}));function eg(e,t,r,n){return r?(rt.isAbsolute(r)||(r=rt.join(e,r)),wn(t,r,r,n).then(i=>oc.isParent(r,i)?i:Promise.reject(new Error(`Failed to load ${t} from node path location.`))).then(void 0,i=>wn(t,hs(n),e,n))):wn(t,hs(n),e,n)}pt.resolveModulePath=eg});var cc=I(fs=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});const ds=At();fs.CallHierarchyFeature=e=>class extends e{get callHierarchy(){return{onPrepare:t=>{this.connection.onRequest(ds.Proposed.CallHierarchyPrepareRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0))},onIncomingCalls:t=>{const r=ds.Proposed.CallHierarchyIncomingCallsRequest.type;this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onOutgoingCalls:t=>{const r=ds.Proposed.CallHierarchyOutgoingCallsRequest.type;this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}}});var lc=I(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});const ps=At();Ln.SemanticTokensFeature=e=>class extends e{get semanticTokens(){return{on:t=>{const r=ps.Proposed.SemanticTokensRequest.type;this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onEdits:t=>{const r=ps.Proposed.SemanticTokensEditsRequest.type;this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onRange:t=>{const r=ps.Proposed.SemanticTokensRangeRequest.type;this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};class tg{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(e,t,r,n,i){let s=e,o=t;this._dataLen>0&&(s-=this._prevLine,s===0&&(o-=this._prevChar)),this._data[this._dataLen++]=s,this._data[this._dataLen++]=o,this._data[this._dataLen++]=r,this._data[this._dataLen++]=n,this._data[this._dataLen++]=i,this._prevLine=e,this._prevChar=t}get id(){return this._id.toString()}previousResult(e){this.id===e&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){if(this._prevData!==void 0){const e=this._prevData.length,t=this._data.length;let r=0;for(;r<t&&r<e&&this._prevData[r]===this._data[r];)r++;if(r<t&&r<e){let n=0;for(;n<t&&n<e&&this._prevData[e-1-n]===this._data[t-1-n];)n++;const i=this._data.slice(r,t-n),s={resultId:this.id,edits:[{start:r,deleteCount:e-n-r,data:i}]};return s}else return r<t?{resultId:this.id,edits:[{start:r,deleteCount:0,data:this._data.slice(r)}]}:r<e?{resultId:this.id,edits:[{start:r,deleteCount:e-r}]}:{resultId:this.id,edits:[]}}else return this.build()}}Ln.SemanticTokensBuilder=tg});var Oc=I(fe=>{"use strict";function rg(e){for(var t in e)fe.hasOwnProperty(t)||(fe[t]=e[t])}Object.defineProperty(fe,"__esModule",{value:!0});const A=At();fe.Event=A.Event;const ng=tc(),ig=rc(),Z=sc(),ke=ts(),ms=ss();rg(At());const Gr=ac();var sg;(function(e){e.uriToFilePath=Gr.uriToFilePath,e.resolveGlobalNodePath=Gr.resolveGlobalNodePath,e.resolveGlobalYarnPath=Gr.resolveGlobalYarnPath,e.resolve=Gr.resolve,e.resolveModulePath=Gr.resolveModulePath})(sg=fe.Files||(fe.Files={}));let pr=!1,uc;function og(){const e="--clientProcessId";function t(r){try{let n=parseInt(r);isNaN(n)||(uc=setInterval(()=>{try{process.kill(n,0)}catch(i){process.exit(pr?0:1)}},3e3))}catch(n){}}for(let r=2;r<process.argv.length;r++){let n=process.argv[r];if(n===e&&r+1<process.argv.length){t(process.argv[r+1]);return}else{let i=n.split("=");i[0]===e&&t(i[1])}}}og();function gs(e){return e===null?void 0:e}class ag{constructor(e){this._documents=Object.create(null),this._configuration=e,this._onDidChangeContent=new A.Emitter(),this._onDidOpen=new A.Emitter(),this._onDidClose=new A.Emitter(),this._onDidSave=new A.Emitter(),this._onWillSave=new A.Emitter()}get onDidChangeContent(){return this._onDidChangeContent.event}get onDidOpen(){return this._onDidOpen.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._documents[e]}all(){return Object.keys(this._documents).map(e=>this._documents[e])}keys(){return Object.keys(this._documents)}listen(e){e.__textDocumentSync=A.TextDocumentSyncKind.Full,e.onDidOpenTextDocument(t=>{let r=t.textDocument,n=this._configuration.create(r.uri,r.languageId,r.version,r.text);this._documents[r.uri]=n;let i=Object.freeze({document:n});this._onDidOpen.fire(i),this._onDidChangeContent.fire(i)}),e.onDidChangeTextDocument(t=>{let r=t.textDocument,n=t.contentChanges;if(n.length===0)return;let i=this._documents[r.uri];const{version:s}=r;if(s==null)throw new Error(`Received document change event for ${r.uri} without valid version identifier`);i=this._configuration.update(i,n,s),this._documents[r.uri]=i,this._onDidChangeContent.fire(Object.freeze({document:i}))}),e.onDidCloseTextDocument(t=>{let r=this._documents[t.textDocument.uri];r&&(delete this._documents[t.textDocument.uri],this._onDidClose.fire(Object.freeze({document:r})))}),e.onWillSaveTextDocument(t=>{let r=this._documents[t.textDocument.uri];r&&this._onWillSave.fire(Object.freeze({document:r,reason:t.reason}))}),e.onWillSaveTextDocumentWaitUntil((t,r)=>{let n=this._documents[t.textDocument.uri];return n&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:n,reason:t.reason}),r):[]}),e.onDidSaveTextDocument(t=>{let r=this._documents[t.textDocument.uri];r&&this._onDidSave.fire(Object.freeze({document:r}))})}}fe.TextDocuments=ag;class cg{constructor(){this._messages=Object.create(null)}add(e){let t=this._messages[e];t||(t=0),t++,this._messages[e]=t}sendErrors(e){Object.keys(this._messages).forEach(t=>{e.window.showErrorMessage(t)})}}fe.ErrorMessageTracker=cg;class hc{constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(A.MessageType.Error,e)}warn(e){this.send(A.MessageType.Warning,e)}info(e){this.send(A.MessageType.Info,e)}log(e){this.send(A.MessageType.Log,e)}send(e,t){this._rawConnection&&this._rawConnection.sendNotification(A.LogMessageNotification.type,{type:e,message:t})}}class lg{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...t){let r={type:A.MessageType.Error,message:e,actions:t};return this._connection.sendRequest(A.ShowMessageRequest.type,r).then(gs)}showWarningMessage(e,...t){let r={type:A.MessageType.Warning,message:e,actions:t};return this._connection.sendRequest(A.ShowMessageRequest.type,r).then(gs)}showInformationMessage(e,...t){let r={type:A.MessageType.Info,message:e,actions:t};return this._connection.sendRequest(A.ShowMessageRequest.type,r).then(gs)}}const fc=Z.ProgressFeature(lg);var ug;(function(e){function t(){return new dc()}e.create=t})(ug=fe.BulkRegistration||(fe.BulkRegistration={}));class dc{constructor(){this._registrations=[],this._registered=new Set()}add(e,t){const r=ke.string(e)?e:e.method;if(this._registered.has(r))throw new Error(`${r} is already added to this registration`);const n=ms.generateUuid();this._registrations.push({id:n,method:r,registerOptions:t||{}}),this._registered.add(r)}asRegistrationParams(){return{registrations:this._registrations}}}var hg;(function(e){function t(){return new Es(void 0,[])}e.create=t})(hg=fe.BulkUnregistration||(fe.BulkUnregistration={}));class Es{constructor(e,t){this._connection=e,this._unregistrations=new Map(),t.forEach(r=>{this._unregistrations.set(r.method,r)})}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let r of this._unregistrations.values())e.push(r);let t={unregisterations:e};this._connection.sendRequest(A.UnregistrationRequest.type,t).then(void 0,r=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(e){const t=ke.string(e)?e:e.method,r=this._unregistrations.get(t);if(!r)return!1;let n={unregisterations:[r]};return this._connection.sendRequest(A.UnregistrationRequest.type,n).then(()=>{this._unregistrations.delete(t)},i=>{this._connection.console.info(`Unregistering request handler for ${r.id} failed.`)}),!0}}class pc{attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,t,r){return e instanceof dc?this.registerMany(e):e instanceof Es?this.registerSingle1(e,t,r):this.registerSingle2(e,t)}registerSingle1(e,t,r){const n=ke.string(t)?t:t.method,i=ms.generateUuid();let s={registrations:[{id:i,method:n,registerOptions:r||{}}]};return e.isAttached||e.attach(this._connection),this._connection.sendRequest(A.RegistrationRequest.type,s).then(o=>(e.add({id:i,method:n}),e),o=>(this.connection.console.info(`Registering request handler for ${n} failed.`),Promise.reject(o)))}registerSingle2(e,t){const r=ke.string(e)?e:e.method,n=ms.generateUuid();let i={registrations:[{id:n,method:r,registerOptions:t||{}}]};return this._connection.sendRequest(A.RegistrationRequest.type,i).then(s=>A.Disposable.create(()=>{this.unregisterSingle(n,r)}),s=>(this.connection.console.info(`Registering request handler for ${r} failed.`),Promise.reject(s)))}unregisterSingle(e,t){let r={unregisterations:[{id:e,method:t}]};return this._connection.sendRequest(A.UnregistrationRequest.type,r).then(void 0,n=>{this.connection.console.info(`Unregistering request handler for ${e} failed.`)})}registerMany(e){let t=e.asRegistrationParams();return this._connection.sendRequest(A.RegistrationRequest.type,t).then(()=>new Es(this._connection,t.registrations.map(r=>({id:r.id,method:r.method}))),r=>(this.connection.console.info("Bulk registration failed."),Promise.reject(r)))}}class fg{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){function t(n){return n&&!!n.edit}let r=t(e)?e:{edit:e};return this._connection.sendRequest(A.ApplyWorkspaceEditRequest.type,r)}}const mc=ig.WorkspaceFoldersFeature(ng.ConfigurationFeature(fg));class gc{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this._connection.sendNotification(A.TelemetryEventNotification.type,e)}}class Ec{constructor(){this._trace=A.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,t){if(this._trace===A.Trace.Off)return;this._connection.sendNotification(A.LogTraceNotification.type,{message:e,verbose:this._trace===A.Trace.Verbose?t:void 0})}}class vs{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return Z.attachWorkDone(this.connection,e)}attachPartialResultProgress(e,t){return Z.attachPartialResult(this.connection,t)}}fe.LanguagesImpl=vs;function vc(e,t){return function(r){return t(e(r))}}fe.combineConsoleFeatures=vc;function yc(e,t){return function(r){return t(e(r))}}fe.combineTelemetryFeatures=yc;function Tc(e,t){return function(r){return t(e(r))}}fe.combineTracerFeatures=Tc;function Rc(e,t){return function(r){return t(e(r))}}fe.combineClientFeatures=Rc;function bc(e,t){return function(r){return t(e(r))}}fe.combineWindowFeatures=bc;function Sc(e,t){return function(r){return t(e(r))}}fe.combineWorkspaceFeatures=Sc;function Nc(e,t){return function(r){return t(e(r))}}fe.combineLanguagesFeatures=Nc;function dg(e,t){function r(i,s,o){return i&&s?o(i,s):i||s}let n={__brand:"features",console:r(e.console,t.console,vc),tracer:r(e.tracer,t.tracer,Tc),telemetry:r(e.telemetry,t.telemetry,yc),client:r(e.client,t.client,Rc),window:r(e.window,t.window,bc),workspace:r(e.workspace,t.workspace,Sc)};return n}fe.combineFeatures=dg;function mg(e,t,r,n){let i,s,o,a;return e!==void 0&&e.__brand==="features"&&(i=e,e=t,t=r,r=n),A.ConnectionStrategy.is(e)?a=e:(s=e,o=t,a=r),pg(s,o,a,i)}fe.createConnection=mg;function pg(e,t,r,n){if(!e&&!t&&process.argv.length>2){let v,p,b=process.argv.slice(2);for(let F=0;F<b.length;F++){let w=b[F];if(w==="--node-ipc"){e=new A.IPCMessageReader(process),t=new A.IPCMessageWriter(process);break}else if(w==="--stdio"){e=process.stdin,t=process.stdout;break}else if(w==="--socket"){v=parseInt(b[F+1]);break}else if(w==="--pipe"){p=b[F+1];break}else{var i=w.split("=");if(i[0]==="--socket"){v=parseInt(i[1]);break}else if(i[0]==="--pipe"){p=i[1];break}}}if(v){let F=A.createServerSocketTransport(v);e=F[0],t=F[1]}else if(p){let F=A.createServerPipeTransport(p);e=F[0],t=F[1]}}var s="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!e)throw new Error("Connection input stream is not set. "+s);if(!t)throw new Error("Connection output stream is not set. "+s);if(ke.func(e.read)&&ke.func(e.on)){let v=e;v.on("end",()=>{process.exit(pr?0:1)}),v.on("close",()=>{process.exit(pr?0:1)})}const o=n&&n.console?new(n.console(hc))():new hc(),a=A.createProtocolConnection(e,t,o,r);o.rawAttach(a);const l=n&&n.tracer?new(n.tracer(Ec))():new Ec(),f=n&&n.telemetry?new(n.telemetry(gc))():new gc(),d=n&&n.client?new(n.client(pc))():new pc(),E=n&&n.window?new(n.window(fc))():new fc(),y=n&&n.workspace?new(n.workspace(mc))():new mc(),L=n&&n.languages?new(n.languages(vs))():new vs(),_=[o,l,f,d,E,y,L];function B(v){return v instanceof Promise?v:ke.thenable(v)?new Promise((p,b)=>{v.then(F=>p(F),F=>b(F))}):Promise.resolve(v)}let W,D,J,k={listen:()=>a.listen(),sendRequest:(v,...p)=>a.sendRequest(ke.string(v)?v:v.method,...p),onRequest:(v,p)=>a.onRequest(v,p),sendNotification:(v,p)=>{const b=ke.string(v)?v:v.method;arguments.length===1?a.sendNotification(b):a.sendNotification(b,p)},onNotification:(v,p)=>a.onNotification(v,p),onProgress:a.onProgress,sendProgress:a.sendProgress,onInitialize:v=>D=v,onInitialized:v=>a.onNotification(A.InitializedNotification.type,v),onShutdown:v=>W=v,onExit:v=>J=v,get console(){return o},get telemetry(){return f},get tracer(){return l},get client(){return d},get window(){return E},get workspace(){return y},get languages(){return L},onDidChangeConfiguration:v=>a.onNotification(A.DidChangeConfigurationNotification.type,v),onDidChangeWatchedFiles:v=>a.onNotification(A.DidChangeWatchedFilesNotification.type,v),__textDocumentSync:void 0,onDidOpenTextDocument:v=>a.onNotification(A.DidOpenTextDocumentNotification.type,v),onDidChangeTextDocument:v=>a.onNotification(A.DidChangeTextDocumentNotification.type,v),onDidCloseTextDocument:v=>a.onNotification(A.DidCloseTextDocumentNotification.type,v),onWillSaveTextDocument:v=>a.onNotification(A.WillSaveTextDocumentNotification.type,v),onWillSaveTextDocumentWaitUntil:v=>a.onRequest(A.WillSaveTextDocumentWaitUntilRequest.type,v),onDidSaveTextDocument:v=>a.onNotification(A.DidSaveTextDocumentNotification.type,v),sendDiagnostics:v=>a.sendNotification(A.PublishDiagnosticsNotification.type,v),onHover:v=>a.onRequest(A.HoverRequest.type,(p,b)=>v(p,b,Z.attachWorkDone(a,p),void 0)),onCompletion:v=>a.onRequest(A.CompletionRequest.type,(p,b)=>v(p,b,Z.attachWorkDone(a,p),Z.attachPartialResult(a,p))),onCompletionResolve:v=>a.onRequest(A.CompletionResolveRequest.type,v),onSignatureHelp:v=>a.onRequest(A.SignatureHelpRequest.type,(p,b)=>v(p,b,Z.attachWorkDone(a,p),void 0)),onDeclaration:v=>a.onRequest(A.DeclarationRequest.type,(p,b)=>v(p,b,Z.attachWorkDone(a,p),Z.attachPartialResult(a,p))),onDefinition:v=>a.onRequest(A.DefinitionRequest.type,(p,b)=>v(p,b,Z.attachWorkDone(a,p),Z.attachPartialResult(a,p))),onTypeDefinition:v=>a.onRequest(A.TypeDefinitionRequest.type,(p,b)=>v(p,b,Z.attachWorkDone(a,p),Z.attachPartialResult(a,p))),onImplementation:v=>a.onRequest(A.ImplementationRequest.type,(p,b)=>v(p,b,Z.attachWorkDone(a,p),Z.attachPartialResult(a,p))),onReferences:v=>a.onRequest(A.ReferencesRequest.type,(p,b)=>v(p,b,Z.attachWorkDone(a,p),Z.attachPartialResult(a,p))),onDocumentHighlight:v=>a.onRequest(A.DocumentHighlightRequest.type,(p,b)=>v(p,b,Z.attachWorkDone(a,p),Z.attachPartialResult(a,p))),onDocumentSymbol:v=>a.onRequest(A.DocumentSymbolRequest.type,(p,b)=>v(p,b,Z.attachWorkDone(a,p),Z.attachPartialResult(a,p))),onWorkspaceSymbol:v=>a.onRequest(A.WorkspaceSymbolRequest.type,(p,b)=>v(p,b,Z.attachWorkDone(a,p),Z.attachPartialResult(a,p))),onCodeAction:v=>a.onRequest(A.CodeActionRequest.type,(p,b)=>v(p,b,Z.attachWorkDone(a,p),Z.attachPartialResult(a,p))),onCodeLens:v=>a.onRequest(A.CodeLensRequest.type,(p,b)=>v(p,b,Z.attachWorkDone(a,p),Z.attachPartialResult(a,p))),onCodeLensResolve:v=>a.onRequest(A.CodeLensResolveRequest.type,(p,b)=>v(p,b)),onDocumentFormatting:v=>a.onRequest(A.DocumentFormattingRequest.type,(p,b)=>v(p,b,Z.attachWorkDone(a,p),void 0)),onDocumentRangeFormatting:v=>a.onRequest(A.DocumentRangeFormattingRequest.type,(p,b)=>v(p,b,Z.attachWorkDone(a,p),void 0)),onDocumentOnTypeFormatting:v=>a.onRequest(A.DocumentOnTypeFormattingRequest.type,(p,b)=>v(p,b)),onRenameRequest:v=>a.onRequest(A.RenameRequest.type,(p,b)=>v(p,b,Z.attachWorkDone(a,p),void 0)),onPrepareRename:v=>a.onRequest(A.PrepareRenameRequest.type,(p,b)=>v(p,b)),onDocumentLinks:v=>a.onRequest(A.DocumentLinkRequest.type,(p,b)=>v(p,b,Z.attachWorkDone(a,p),Z.attachPartialResult(a,p))),onDocumentLinkResolve:v=>a.onRequest(A.DocumentLinkResolveRequest.type,(p,b)=>v(p,b)),onDocumentColor:v=>a.onRequest(A.DocumentColorRequest.type,(p,b)=>v(p,b,Z.attachWorkDone(a,p),Z.attachPartialResult(a,p))),onColorPresentation:v=>a.onRequest(A.ColorPresentationRequest.type,(p,b)=>v(p,b,Z.attachWorkDone(a,p),Z.attachPartialResult(a,p))),onFoldingRanges:v=>a.onRequest(A.FoldingRangeRequest.type,(p,b)=>v(p,b,Z.attachWorkDone(a,p),Z.attachPartialResult(a,p))),onSelectionRanges:v=>a.onRequest(A.SelectionRangeRequest.type,(p,b)=>v(p,b,Z.attachWorkDone(a,p),Z.attachPartialResult(a,p))),onExecuteCommand:v=>a.onRequest(A.ExecuteCommandRequest.type,(p,b)=>v(p,b,Z.attachWorkDone(a,p),void 0)),dispose:()=>a.dispose()};for(let v of _)v.attach(k);return a.onRequest(A.InitializeRequest.type,v=>{const p=v.processId;ke.number(p)&&uc===void 0&&setInterval(()=>{try{process.kill(p,0)}catch(b){process.exit(pr?0:1)}},3e3),ke.string(v.trace)&&(l.trace=A.Trace.fromString(v.trace));for(let b of _)b.initialize(v.capabilities);if(D){let b=D(v,new A.CancellationTokenSource().token,Z.attachWorkDone(a,v),void 0);return B(b).then(F=>{if(F instanceof A.ResponseError)return F;let w=F;w||(w={capabilities:{}});let M=w.capabilities;M||(M={},w.capabilities=M),M.textDocumentSync===void 0||M.textDocumentSync===null?M.textDocumentSync=ke.number(k.__textDocumentSync)?k.__textDocumentSync:A.TextDocumentSyncKind.None:!ke.number(M.textDocumentSync)&&!ke.number(M.textDocumentSync.change)&&(M.textDocumentSync.change=ke.number(k.__textDocumentSync)?k.__textDocumentSync:A.TextDocumentSyncKind.None);for(let Q of _)Q.fillServerCapabilities(M);return w})}else{let b={capabilities:{textDocumentSync:A.TextDocumentSyncKind.None}};for(let F of _)F.fillServerCapabilities(b.capabilities);return b}}),a.onRequest(A.ShutdownRequest.type,()=>(pr=!0,W?W(new A.CancellationTokenSource().token):void 0)),a.onNotification(A.ExitNotification.type,()=>{try{J&&J()}finally{pr?process.exit(0):process.exit(1)}}),a.onNotification(A.SetTraceNotification.type,v=>{l.trace=A.Trace.fromString(v.value)}),k}const gg=cc(),_c=lc();var Eg;(function(e){e.all={__brand:"features",languages:Nc(gg.CallHierarchyFeature,_c.SemanticTokensFeature)},e.SemanticTokensBuilder=_c.SemanticTokensBuilder})(Eg=fe.ProposedFeatures||(fe.ProposedFeatures={}))});var ys=I(Vr=>{"use strict";Object.defineProperty(Vr,"__esModule",{value:!0});Vr.NotifyResponseError=void 0;const vg=Oc();class Ic extends vg.ResponseError{constructor(e,t,r){super(e,t,r)}}Vr.NotifyResponseError=Ic;Vr.default=Ic});var Ts=I(mr=>{"use strict";Object.defineProperty(mr,"__esModule",{value:!0});mr.MissingModuleNotification=mr.ElectronNotSupportedNotification=void 0;mr.ElectronNotSupportedNotification="Core/electronNotSupported";mr.MissingModuleNotification="Core/missingModule"});var wc=I($t=>{"use strict";var yg=$t&&$t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($t,"__esModule",{value:!0});$t.ElectronNotSupportedError=void 0;const Tg=yg(ys()),Rg=Ts();class Cc extends Tg.default{constructor(e="Electron is not supported. You should enable 'sqltools.useNodeRuntime' and have NodeJS installed to continue."){super(1001,e,{notification:Rg.ElectronNotSupportedNotification,dontNotify:!0})}}$t.ElectronNotSupportedError=Cc;$t.default=Cc});var Ac=I(zt=>{"use strict";var bg=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zt,"__esModule",{value:!0});zt.MissingModuleError=void 0;const Sg=bg(ys()),Ng=Ts();class Lc extends Sg.default{constructor(e,t,r=!1){super(1e3,`Missing module "${e.map((n,i)=>`${n.name}@${n.version||"latest"}${i===e.length-2?" and ":i===e.length-1?"":", "}`).join("")}". Need to ${r?"upgrade":"install"}.`,{notification:Ng.MissingModuleNotification,dontNotify:!0,args:{conn:t,action:r?"upgrade":"install",deps:e}})}}zt.MissingModuleError=Lc;zt.default=Lc});var kc=I((x0,Rs)=>{"use strict";const ge=require("path"),Pc=require("os"),Dt=Pc.homedir(),bs=Pc.tmpdir(),{env:gr}=process,_g=e=>{const t=ge.join(Dt,"Library");return{data:ge.join(t,"Application Support",e),config:ge.join(t,"Preferences",e),cache:ge.join(t,"Caches",e),log:ge.join(t,"Logs",e),temp:ge.join(bs,e)}},Og=e=>{const t=gr.APPDATA||ge.join(Dt,"AppData","Roaming"),r=gr.LOCALAPPDATA||ge.join(Dt,"AppData","Local");return{data:ge.join(r,e,"Data"),config:ge.join(t,e,"Config"),cache:ge.join(r,e,"Cache"),log:ge.join(r,e,"Log"),temp:ge.join(bs,e)}},Ig=e=>{const t=ge.basename(Dt);return{data:ge.join(gr.XDG_DATA_HOME||ge.join(Dt,".local","share"),e),config:ge.join(gr.XDG_CONFIG_HOME||ge.join(Dt,".config"),e),cache:ge.join(gr.XDG_CACHE_HOME||ge.join(Dt,".cache"),e),log:ge.join(gr.XDG_STATE_HOME||ge.join(Dt,".local","state"),e),temp:ge.join(bs,t,e)}},Dc=(e,t)=>{if(typeof e!="string")throw new TypeError(`Expected string, got ${typeof e}`);return t=Object.assign({suffix:"nodejs"},t),t.suffix&&(e+=`-${t.suffix}`),process.platform==="darwin"?_g(e):process.platform==="win32"?Og(e):Ig(e)};Rs.exports=Dc;Rs.exports.default=Dc});var Ss=I((M0,xc)=>{xc.exports=function(){var e=Error.prepareStackTrace;Error.prepareStackTrace=function(r,n){return n};var t=new Error().stack;return Error.prepareStackTrace=e,t[2].getFileName()}});var Mc=I((q0,$r)=>{"use strict";var Cg=process.platform==="win32",wg=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,Lg=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,Ns={};function Ag(e){var t=wg.exec(e),r=(t[1]||"")+(t[2]||""),n=t[3]||"",i=Lg.exec(n),s=i[1],o=i[2],a=i[3];return[r,s,o,a]}Ns.parse=function(e){if(typeof e!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=Ag(e);if(!t||t.length!==4)throw new TypeError("Invalid path '"+e+"'");return{root:t[0],dir:t[0]+t[1].slice(0,-1),base:t[2],ext:t[3],name:t[2].slice(0,t[2].length-t[3].length)}};var Pg=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,_s={};function Dg(e){return Pg.exec(e).slice(1)}_s.parse=function(e){if(typeof e!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=Dg(e);if(!t||t.length!==4)throw new TypeError("Invalid path '"+e+"'");return t[1]=t[1]||"",t[2]=t[2]||"",t[3]=t[3]||"",{root:t[0],dir:t[0]+t[1].slice(0,-1),base:t[2],ext:t[3],name:t[2].slice(0,t[2].length-t[3].length)}};Cg?$r.exports=Ns.parse:$r.exports=_s.parse;$r.exports.posix=_s.parse;$r.exports.win32=Ns.parse});var Os=I((F0,qc)=>{var Fc=require("path"),Uc=Fc.parse||Mc(),jc=function(t,r){var n="/";/^([A-Za-z]:)/.test(t)?n="":/^\\\\/.test(t)&&(n="\\\\");for(var i=[t],s=Uc(t);s.dir!==i[i.length-1];)i.push(s.dir),s=Uc(s.dir);return i.reduce(function(o,a){return o.concat(r.map(function(l){return Fc.resolve(n,a,l)}))},[])};qc.exports=function(t,r,n){var i=r&&r.moduleDirectory?[].concat(r.moduleDirectory):["node_modules"];if(r&&typeof r.paths=="function")return r.paths(n,t,function(){return jc(t,i)},r);var s=jc(t,i);return r&&r.paths?s.concat(r.paths):s}});var Is=I((U0,Wc)=>{Wc.exports=function(e,t){return t||{}}});var Bc=I((j0,Hc)=>{Hc.exports={assert:!0,async_hooks:">= 8",buffer_ieee754:"< 0.9.7",buffer:!0,child_process:!0,cluster:!0,console:!0,constants:!0,crypto:!0,_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:!0,dns:!0,domain:!0,events:!0,freelist:"< 6",fs:!0,"fs/promises":[">= 10 && < 10.1",">= 14"],_http_agent:">= 0.11.1",_http_client:">= 0.11.1",_http_common:">= 0.11.1",_http_incoming:">= 0.11.1",_http_outgoing:">= 0.11.1",_http_server:">= 0.11.1",http:!0,http2:">= 8.8",https:!0,inspector:">= 8.0.0",_linklist:"< 8",module:!0,net:!0,"node-inspect/lib/_inspect":">= 7.6.0 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6.0 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6.0 && < 12",os:!0,path:!0,perf_hooks:">= 8.5",process:">= 1",punycode:!0,querystring:!0,readline:!0,repl:!0,smalloc:">= 0.11.5 && < 3",_stream_duplex:">= 0.9.4",_stream_transform:">= 0.9.4",_stream_wrap:">= 1.4.1",_stream_passthrough:">= 0.9.4",_stream_readable:">= 0.9.4",_stream_writable:">= 0.9.4",stream:!0,string_decoder:!0,sys:!0,timers:!0,_tls_common:">= 0.11.13",_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3",tls:!0,trace_events:">= 10",tty:!0,url:!0,util:!0,"v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/consarray":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/csvparser":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/logreader":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/profile_view":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/splaytree":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],v8:">= 1",vm:!0,wasi:">= 13.4 && < 13.5",worker_threads:">= 11.7",zlib:!0}});var Ls=I((W0,Gc)=>{var kg=process.versions&&process.versions.node&&process.versions.node.split(".")||[];function xg(e){for(var t=e.split(" "),r=t.length>1?t[0]:"=",n=(t.length>1?t[1]:t[0]).split("."),i=0;i<3;++i){var s=Number(kg[i]||0),o=Number(n[i]||0);if(s===o)continue;return r==="<"?s<o:r===">="?s>=o:!1}return r===">="}function Vc(e){var t=e.split(/ ?&& ?/);if(t.length===0)return!1;for(var r=0;r<t.length;++r)if(!xg(t[r]))return!1;return!0}function Mg(e){if(typeof e=="boolean")return e;if(e&&typeof e=="object"){for(var t=0;t<e.length;++t)if(Vc(e[t]))return!0;return!1}return Vc(e)}var Cs=Bc(),$c={};for(var ws in Cs)Object.prototype.hasOwnProperty.call(Cs,ws)&&($c[ws]=Mg(Cs[ws]));Gc.exports=$c});var An=I((H0,zc)=>{var qg=Ls();zc.exports=function(t){return Object.prototype.hasOwnProperty.call(qg,t)}});var Yc=I((B0,Xc)=>{var Xt=require("fs"),_e=require("path"),Fg=Ss(),Ug=Os(),jg=Is(),Wg=An(),Hg=Xt.realpath&&typeof Xt.realpath.native=="function"?Xt.realpath.native:Xt.realpath,Bg=function(t,r){Xt.stat(t,function(n,i){return n?n.code==="ENOENT"||n.code==="ENOTDIR"?r(null,!1):r(n):r(null,i.isFile()||i.isFIFO())})},Gg=function(t,r){Xt.stat(t,function(n,i){return n?n.code==="ENOENT"||n.code==="ENOTDIR"?r(null,!1):r(n):r(null,i.isDirectory())})},Vg=function(t,r){Hg(t,function(n,i){n&&n.code!=="ENOENT"?r(n):r(null,n?t:i)})},zr=function(t,r,n,i){n&&n.preserveSymlinks===!1?t(r,i):i(null,r)},$g=function(t,r,n){for(var i=Ug(r,n,t),s=0;s<i.length;s++)i[s]=_e.join(i[s],t);return i};Xc.exports=function(t,r,n){var i=n,s=r;if(typeof r=="function"&&(i=s,s={}),typeof t!="string"){var o=new TypeError("Path must be a string.");return process.nextTick(function(){i(o)})}s=jg(t,s);var a=s.isFile||Bg,l=s.isDirectory||Gg,f=s.readFile||Xt.readFile,d=s.realpath||Vg,E=s.packageIterator,y=s.extensions||[".js"],L=s.basedir||_e.dirname(Fg()),_=s.filename||L;s.paths=s.paths||[];var B=_e.resolve(L);zr(d,B,s,function(w,M){w?i(w):D(M)});var W;function D(w){if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(t))W=_e.resolve(w,t),(t==="."||t===".."||t.slice(-1)==="/")&&(W+="/"),/\/$/.test(t)&&W===w?p(W,s.package,J):k(W,s.package,J);else{if(Wg(t))return i(null,t);F(t,w,function(M,Q,G){if(M)i(M);else{if(Q)return zr(d,Q,s,function(ve,he){ve?i(ve):i(null,he,G)});var ne=new Error("Cannot find module '"+t+"' from '"+_+"'");ne.code="MODULE_NOT_FOUND",i(ne)}})}}function J(w,M,Q){w?i(w):M?i(null,M,Q):p(W,function(G,ne,ve){if(G)i(G);else if(ne)zr(d,ne,s,function(le,ye){le?i(le):i(null,ye,ve)});else{var he=new Error("Cannot find module '"+t+"' from '"+_+"'");he.code="MODULE_NOT_FOUND",i(he)}})}function k(w,M,Q){var G=M,ne=Q;typeof G=="function"&&(ne=G,G=void 0);var ve=[""].concat(y);he(ve,w,G);function he(le,ye,Te){if(le.length===0)return ne(null,void 0,Te);var Ae=ye+le[0],Oe=Te;Oe?de(null,Oe):v(_e.dirname(Ae),de);function de(Re,Pe,Ie){if(Oe=Pe,Re)return ne(Re);if(Ie&&Oe&&s.pathFilter){var Ve=_e.relative(Ie,Ae),nt=Ve.slice(0,Ve.length-le[0].length),je=s.pathFilter(Oe,ye,nt);if(je)return he([""].concat(y.slice()),_e.resolve(Ie,je),Oe)}a(Ae,Ge)}function Ge(Re,Pe){if(Re)return ne(Re);if(Pe)return ne(null,Ae,Oe);he(le.slice(1),ye,Oe)}}}function v(w,M){if(w===""||w==="/")return M(null);if(process.platform==="win32"&&/^\w:[/\\]*$/.test(w))return M(null);if(/[/\\]node_modules[/\\]*$/.test(w))return M(null);zr(d,w,s,function(Q,G){if(Q)return v(_e.dirname(w),M);var ne=_e.join(G,"package.json");a(ne,function(ve,he){if(!he)return v(_e.dirname(w),M);f(ne,function(le,ye){le&&M(le);try{var Te=JSON.parse(ye)}catch(Ae){}Te&&s.packageFilter&&(Te=s.packageFilter(Te,ne)),M(null,Te,w)})})})}function p(w,M,Q){var G=Q,ne=M;typeof ne=="function"&&(G=ne,ne=s.package),zr(d,w,s,function(ve,he){if(ve)return G(ve);var le=_e.join(he,"package.json");a(le,function(ye,Te){if(ye)return G(ye);if(!Te)return k(_e.join(w,"index"),ne,G);f(le,function(Ae,Oe){if(Ae)return G(Ae);try{var de=JSON.parse(Oe)}catch(Re){}if(de&&s.packageFilter&&(de=s.packageFilter(de,le)),de&&de.main){if(typeof de.main!="string"){var Ge=new TypeError("package “"+de.name+"” `main` must be a string");return Ge.code="INVALID_PACKAGE_MAIN",G(Ge)}(de.main==="."||de.main==="./")&&(de.main="index"),k(_e.resolve(w,de.main),de,function(Re,Pe,Ie){if(Re)return G(Re);if(Pe)return G(null,Pe,Ie);if(!Ie)return k(_e.join(w,"index"),Ie,G);var Ve=_e.resolve(w,Ie.main);p(Ve,Ie,function(nt,je,$e){if(nt)return G(nt);if(je)return G(null,je,$e);k(_e.join(w,"index"),$e,G)})});return}k(_e.join(w,"/index"),de,G)})})})}function b(w,M){if(M.length===0)return w(null,void 0);var Q=M[0];l(_e.dirname(Q),G);function G(he,le){if(he)return w(he);if(!le)return b(w,M.slice(1));k(Q,s.package,ne)}function ne(he,le,ye){if(he)return w(he);if(le)return w(null,le,ye);p(Q,s.package,ve)}function ve(he,le,ye){if(he)return w(he);if(le)return w(null,le,ye);b(w,M.slice(1))}}function F(w,M,Q){var G=function(){return $g(w,M,s)};b(Q,E?E(w,M,G,s):G())}}});var Jc=I((G0,Kc)=>{var zg=An(),Yt=require("fs"),qe=require("path"),Xg=Ss(),Yg=Os(),Kg=Is(),Jg=Yt.realpathSync&&typeof Yt.realpathSync.native=="function"?Yt.realpathSync.native:Yt.realpathSync,Qg=function(t){try{var r=Yt.statSync(t)}catch(n){if(n&&(n.code==="ENOENT"||n.code==="ENOTDIR"))return!1;throw n}return r.isFile()||r.isFIFO()},Zg=function(t){try{var r=Yt.statSync(t)}catch(n){if(n&&(n.code==="ENOENT"||n.code==="ENOTDIR"))return!1;throw n}return r.isDirectory()},eE=function(t){try{return Jg(t)}catch(r){if(r.code!=="ENOENT")throw r}return t},Xr=function(t,r,n){return n&&n.preserveSymlinks===!1?t(r):r},tE=function(t,r,n){for(var i=Yg(r,n,t),s=0;s<i.length;s++)i[s]=qe.join(i[s],t);return i};Kc.exports=function(t,r){if(typeof t!="string")throw new TypeError("Path must be a string.");var n=Kg(t,r),i=n.isFile||Qg,s=n.readFileSync||Yt.readFileSync,o=n.isDirectory||Zg,a=n.realpathSync||eE,l=n.packageIterator,f=n.extensions||[".js"],d=n.basedir||qe.dirname(Xg()),E=n.filename||d;n.paths=n.paths||[];var y=Xr(a,qe.resolve(d),n);if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(t)){var L=qe.resolve(y,t);(t==="."||t===".."||t.slice(-1)==="/")&&(L+="/");var _=D(L)||k(L);if(_)return Xr(a,_,n)}else{if(zg(t))return t;var B=v(t,y);if(B)return Xr(a,B,n)}var W=new Error("Cannot find module '"+t+"' from '"+E+"'");throw W.code="MODULE_NOT_FOUND",W;function D(p){var b=J(qe.dirname(p));if(b&&b.dir&&b.pkg&&n.pathFilter){var F=qe.relative(b.dir,p),w=n.pathFilter(b.pkg,p,F);w&&(p=qe.resolve(b.dir,w))}if(i(p))return p;for(var M=0;M<f.length;M++){var Q=p+f[M];if(i(Q))return Q}}function J(p){if(p===""||p==="/")return;if(process.platform==="win32"&&/^\w:[/\\]*$/.test(p))return;if(/[/\\]node_modules[/\\]*$/.test(p))return;var b=qe.join(Xr(a,p,n),"package.json");if(!i(b))return J(qe.dirname(p));var F=s(b);try{var w=JSON.parse(F)}catch(M){}return w&&n.packageFilter&&(w=n.packageFilter(w,p)),{pkg:w,dir:p}}function k(p){var b=qe.join(Xr(a,p,n),"/package.json");if(i(b)){try{var F=s(b,"UTF8"),w=JSON.parse(F)}catch(ne){}if(w&&n.packageFilter&&(w=n.packageFilter(w,p)),w&&w.main){if(typeof w.main!="string"){var M=new TypeError("package “"+w.name+"” `main` must be a string");throw M.code="INVALID_PACKAGE_MAIN",M}(w.main==="."||w.main==="./")&&(w.main="index");try{var Q=D(qe.resolve(p,w.main));if(Q)return Q;var G=k(qe.resolve(p,w.main));if(G)return G}catch(ne){}}}return D(qe.join(p,"/index"))}function v(p,b){for(var F=function(){return tE(p,b,n)},w=l?l(p,b,F,n):F(),M=0;M<w.length;M++){var Q=w[M];if(o(qe.dirname(Q))){var G=D(Q);if(G)return G;var ne=k(Q);if(ne)return ne}}}}});var Zc=I((V0,Qc)=>{var Pn=Yc();Pn.core=Ls();Pn.isCore=An();Pn.sync=Jc();Qc.exports=Pn});var sl=I((K,el)=>{K=el.exports=te;var ce;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?ce=function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:ce=function(){};K.SEMVER_SPEC_VERSION="2.0.0";var As=256,Dn=Number.MAX_SAFE_INTEGER||9007199254740991,Ps=16,ae=K.re=[],O=K.src=[],R=K.tokens={},tl=0;function re(e){R[e]=tl++}re("NUMERICIDENTIFIER");O[R.NUMERICIDENTIFIER]="0|[1-9]\\d*";re("NUMERICIDENTIFIERLOOSE");O[R.NUMERICIDENTIFIERLOOSE]="[0-9]+";re("NONNUMERICIDENTIFIER");O[R.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";re("MAINVERSION");O[R.MAINVERSION]="("+O[R.NUMERICIDENTIFIER]+")\\.("+O[R.NUMERICIDENTIFIER]+")\\.("+O[R.NUMERICIDENTIFIER]+")";re("MAINVERSIONLOOSE");O[R.MAINVERSIONLOOSE]="("+O[R.NUMERICIDENTIFIERLOOSE]+")\\.("+O[R.NUMERICIDENTIFIERLOOSE]+")\\.("+O[R.NUMERICIDENTIFIERLOOSE]+")";re("PRERELEASEIDENTIFIER");O[R.PRERELEASEIDENTIFIER]="(?:"+O[R.NUMERICIDENTIFIER]+"|"+O[R.NONNUMERICIDENTIFIER]+")";re("PRERELEASEIDENTIFIERLOOSE");O[R.PRERELEASEIDENTIFIERLOOSE]="(?:"+O[R.NUMERICIDENTIFIERLOOSE]+"|"+O[R.NONNUMERICIDENTIFIER]+")";re("PRERELEASE");O[R.PRERELEASE]="(?:-("+O[R.PRERELEASEIDENTIFIER]+"(?:\\."+O[R.PRERELEASEIDENTIFIER]+")*))";re("PRERELEASELOOSE");O[R.PRERELEASELOOSE]="(?:-?("+O[R.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+O[R.PRERELEASEIDENTIFIERLOOSE]+")*))";re("BUILDIDENTIFIER");O[R.BUILDIDENTIFIER]="[0-9A-Za-z-]+";re("BUILD");O[R.BUILD]="(?:\\+("+O[R.BUILDIDENTIFIER]+"(?:\\."+O[R.BUILDIDENTIFIER]+")*))";re("FULL");re("FULLPLAIN");O[R.FULLPLAIN]="v?"+O[R.MAINVERSION]+O[R.PRERELEASE]+"?"+O[R.BUILD]+"?";O[R.FULL]="^"+O[R.FULLPLAIN]+"$";re("LOOSEPLAIN");O[R.LOOSEPLAIN]="[v=\\s]*"+O[R.MAINVERSIONLOOSE]+O[R.PRERELEASELOOSE]+"?"+O[R.BUILD]+"?";re("LOOSE");O[R.LOOSE]="^"+O[R.LOOSEPLAIN]+"$";re("GTLT");O[R.GTLT]="((?:<|>)?=?)";re("XRANGEIDENTIFIERLOOSE");O[R.XRANGEIDENTIFIERLOOSE]=O[R.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*";re("XRANGEIDENTIFIER");O[R.XRANGEIDENTIFIER]=O[R.NUMERICIDENTIFIER]+"|x|X|\\*";re("XRANGEPLAIN");O[R.XRANGEPLAIN]="[v=\\s]*("+O[R.XRANGEIDENTIFIER]+")(?:\\.("+O[R.XRANGEIDENTIFIER]+")(?:\\.("+O[R.XRANGEIDENTIFIER]+")(?:"+O[R.PRERELEASE]+")?"+O[R.BUILD]+"?)?)?";re("XRANGEPLAINLOOSE");O[R.XRANGEPLAINLOOSE]="[v=\\s]*("+O[R.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+O[R.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+O[R.XRANGEIDENTIFIERLOOSE]+")(?:"+O[R.PRERELEASELOOSE]+")?"+O[R.BUILD]+"?)?)?";re("XRANGE");O[R.XRANGE]="^"+O[R.GTLT]+"\\s*"+O[R.XRANGEPLAIN]+"$";re("XRANGELOOSE");O[R.XRANGELOOSE]="^"+O[R.GTLT]+"\\s*"+O[R.XRANGEPLAINLOOSE]+"$";re("COERCE");O[R.COERCE]="(^|[^\\d])(\\d{1,"+Ps+"})(?:\\.(\\d{1,"+Ps+"}))?(?:\\.(\\d{1,"+Ps+"}))?(?:$|[^\\d])";re("COERCERTL");ae[R.COERCERTL]=new RegExp(O[R.COERCE],"g");re("LONETILDE");O[R.LONETILDE]="(?:~>?)";re("TILDETRIM");O[R.TILDETRIM]="(\\s*)"+O[R.LONETILDE]+"\\s+";ae[R.TILDETRIM]=new RegExp(O[R.TILDETRIM],"g");var rE="$1~";re("TILDE");O[R.TILDE]="^"+O[R.LONETILDE]+O[R.XRANGEPLAIN]+"$";re("TILDELOOSE");O[R.TILDELOOSE]="^"+O[R.LONETILDE]+O[R.XRANGEPLAINLOOSE]+"$";re("LONECARET");O[R.LONECARET]="(?:\\^)";re("CARETTRIM");O[R.CARETTRIM]="(\\s*)"+O[R.LONECARET]+"\\s+";ae[R.CARETTRIM]=new RegExp(O[R.CARETTRIM],"g");var nE="$1^";re("CARET");O[R.CARET]="^"+O[R.LONECARET]+O[R.XRANGEPLAIN]+"$";re("CARETLOOSE");O[R.CARETLOOSE]="^"+O[R.LONECARET]+O[R.XRANGEPLAINLOOSE]+"$";re("COMPARATORLOOSE");O[R.COMPARATORLOOSE]="^"+O[R.GTLT]+"\\s*("+O[R.LOOSEPLAIN]+")$|^$";re("COMPARATOR");O[R.COMPARATOR]="^"+O[R.GTLT]+"\\s*("+O[R.FULLPLAIN]+")$|^$";re("COMPARATORTRIM");O[R.COMPARATORTRIM]="(\\s*)"+O[R.GTLT]+"\\s*("+O[R.LOOSEPLAIN]+"|"+O[R.XRANGEPLAIN]+")";ae[R.COMPARATORTRIM]=new RegExp(O[R.COMPARATORTRIM],"g");var iE="$1$2$3";re("HYPHENRANGE");O[R.HYPHENRANGE]="^\\s*("+O[R.XRANGEPLAIN]+")\\s+-\\s+("+O[R.XRANGEPLAIN]+")\\s*$";re("HYPHENRANGELOOSE");O[R.HYPHENRANGELOOSE]="^\\s*("+O[R.XRANGEPLAINLOOSE]+")\\s+-\\s+("+O[R.XRANGEPLAINLOOSE]+")\\s*$";re("STAR");O[R.STAR]="(<|>)?=?\\s*\\*";for(var Kt=0;Kt<tl;Kt++)ce(Kt,O[Kt]),ae[Kt]||(ae[Kt]=new RegExp(O[Kt]));K.parse=Jt;function Jt(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof te)return e;if(typeof e!="string")return null;if(e.length>As)return null;var r=t.loose?ae[R.LOOSE]:ae[R.FULL];if(!r.test(e))return null;try{return new te(e,t)}catch(n){return null}}K.valid=sE;function sE(e,t){var r=Jt(e,t);return r?r.version:null}K.clean=oE;function oE(e,t){var r=Jt(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}K.SemVer=te;function te(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof te){if(e.loose===t.loose)return e;e=e.version}else if(typeof e!="string")throw new TypeError("Invalid Version: "+e);if(e.length>As)throw new TypeError("version is longer than "+As+" characters");if(!(this instanceof te))return new te(e,t);ce("SemVer",e,t),this.options=t,this.loose=!!t.loose;var r=e.trim().match(t.loose?ae[R.LOOSE]:ae[R.FULL]);if(!r)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Dn||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Dn||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Dn||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(function(n){if(/^[0-9]+$/.test(n)){var i=+n;if(i>=0&&i<Dn)return i}return n}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}te.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};te.prototype.toString=function(){return this.version};te.prototype.compare=function(e){return ce("SemVer.compare",this.version,this.options,e),e instanceof te||(e=new te(e,this.options)),this.compareMain(e)||this.comparePre(e)};te.prototype.compareMain=function(e){return e instanceof te||(e=new te(e,this.options)),Qt(this.major,e.major)||Qt(this.minor,e.minor)||Qt(this.patch,e.patch)};te.prototype.comparePre=function(e){if(e instanceof te||(e=new te(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],n=e.prerelease[t];if(ce("prerelease compare",t,r,n),r===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(r===n)continue;return Qt(r,n)}while(++t)};te.prototype.compareBuild=function(e){e instanceof te||(e=new te(e,this.options));var t=0;do{var r=this.build[t],n=e.build[t];if(ce("prerelease compare",t,r,n),r===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(r===n)continue;return Qt(r,n)}while(++t)};te.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t),this.inc("pre",t);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this};K.inc=aE;function aE(e,t,r,n){typeof r=="string"&&(n=r,r=void 0);try{return new te(e,r).inc(t,n).version}catch(i){return null}}K.diff=cE;function cE(e,t){if(Ds(e,t))return null;var r=Jt(e),n=Jt(t),i="";if(r.prerelease.length||n.prerelease.length){i="pre";var s="prerelease"}for(var o in r)if((o==="major"||o==="minor"||o==="patch")&&r[o]!==n[o])return i+o;return s}K.compareIdentifiers=Qt;var rl=/^[0-9]+$/;function Qt(e,t){var r=rl.test(e),n=rl.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}K.rcompareIdentifiers=lE;function lE(e,t){return Qt(t,e)}K.major=uE;function uE(e,t){return new te(e,t).major}K.minor=hE;function hE(e,t){return new te(e,t).minor}K.patch=fE;function fE(e,t){return new te(e,t).patch}K.compare=mt;function mt(e,t,r){return new te(e,r).compare(new te(t,r))}K.compareLoose=dE;function dE(e,t){return mt(e,t,!0)}K.compareBuild=pE;function pE(e,t,r){var n=new te(e,r),i=new te(t,r);return n.compare(i)||n.compareBuild(i)}K.rcompare=mE;function mE(e,t,r){return mt(t,e,r)}K.sort=gE;function gE(e,t){return e.sort(function(r,n){return K.compareBuild(r,n,t)})}K.rsort=EE;function EE(e,t){return e.sort(function(r,n){return K.compareBuild(n,r,t)})}K.gt=Yr;function Yr(e,t,r){return mt(e,t,r)>0}K.lt=kn;function kn(e,t,r){return mt(e,t,r)<0}K.eq=Ds;function Ds(e,t,r){return mt(e,t,r)===0}K.neq=nl;function nl(e,t,r){return mt(e,t,r)!==0}K.gte=ks;function ks(e,t,r){return mt(e,t,r)>=0}K.lte=xs;function xs(e,t,r){return mt(e,t,r)<=0}K.cmp=xn;function xn(e,t,r,n){switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return Ds(e,r,n);case"!=":return nl(e,r,n);case">":return Yr(e,r,n);case">=":return ks(e,r,n);case"<":return kn(e,r,n);case"<=":return xs(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}K.Comparator=ze;function ze(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof ze){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ze))return new ze(e,t);ce("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===Er?this.value="":this.value=this.operator+this.semver.version,ce("comp",this)}var Er={};ze.prototype.parse=function(e){var t=this.options.loose?ae[R.COMPARATORLOOSE]:ae[R.COMPARATOR],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new te(r[2],this.options.loose):this.semver=Er};ze.prototype.toString=function(){return this.value};ze.prototype.test=function(e){if(ce("Comparator.test",e,this.options.loose),this.semver===Er||e===Er)return!0;if(typeof e=="string")try{e=new te(e,this.options)}catch(t){return!1}return xn(e,this.operator,this.semver,this.options)};ze.prototype.intersects=function(e,t){if(!(e instanceof ze))throw new TypeError("a Comparator is required");(!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1});var r;if(this.operator==="")return this.value===""?!0:(r=new Ee(e.value,t),Mn(this.value,r,t));if(e.operator==="")return e.value===""?!0:(r=new Ee(this.value,t),Mn(e.semver,r,t));var n=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),s=this.semver.version===e.semver.version,o=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),a=xn(this.semver,"<",e.semver,t)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),l=xn(this.semver,">",e.semver,t)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return n||i||s&&o||a||l};K.Range=Ee;function Ee(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof Ee)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new Ee(e.raw,t);if(e instanceof ze)return new Ee(e.value,t);if(!(this instanceof Ee))return new Ee(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(r){return this.parseRange(r.trim())},this).filter(function(r){return r.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}Ee.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range};Ee.prototype.toString=function(){return this.range};Ee.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var r=t?ae[R.HYPHENRANGELOOSE]:ae[R.HYPHENRANGE];e=e.replace(r,yE),ce("hyphen replace",e),e=e.replace(ae[R.COMPARATORTRIM],iE),ce("comparator trim",e,ae[R.COMPARATORTRIM]),e=e.replace(ae[R.TILDETRIM],rE),e=e.replace(ae[R.CARETTRIM],nE),e=e.split(/\s+/).join(" ");var n=t?ae[R.COMPARATORLOOSE]:ae[R.COMPARATOR],i=e.split(" ").map(function(s){return vE(s,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter(function(s){return!!s.match(n)})),i=i.map(function(s){return new ze(s,this.options)},this),i};Ee.prototype.intersects=function(e,t){if(!(e instanceof Ee))throw new TypeError("a Range is required");return this.set.some(function(r){return il(r,t)&&e.set.some(function(n){return il(n,t)&&r.every(function(i){return n.every(function(s){return i.intersects(s,t)})})})})};function il(e,t){for(var r=!0,n=e.slice(),i=n.pop();r&&n.length;)r=n.every(function(s){return i.intersects(s,t)}),i=n.pop();return r}K.toComparators=TE;function TE(e,t){return new Ee(e,t).set.map(function(r){return r.map(function(n){return n.value}).join(" ").trim().split(" ")})}function vE(e,t){return ce("comp",e,t),e=bE(e,t),ce("caret",e),e=RE(e,t),ce("tildes",e),e=SE(e,t),ce("xrange",e),e=NE(e,t),ce("stars",e),e}function xe(e){return!e||e.toLowerCase()==="x"||e==="*"}function RE(e,t){return e.trim().split(/\s+/).map(function(r){return _E(r,t)}).join(" ")}function _E(e,t){var r=t.loose?ae[R.TILDELOOSE]:ae[R.TILDE];return e.replace(r,function(n,i,s,o,a){ce("tilde",e,n,i,s,o,a);var l;return xe(i)?l="":xe(s)?l=">="+i+".0.0 <"+(+i+1)+".0.0":xe(o)?l=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0":a?(ce("replaceTilde pr",a),l=">="+i+"."+s+"."+o+"-"+a+" <"+i+"."+(+s+1)+".0"):l=">="+i+"."+s+"."+o+" <"+i+"."+(+s+1)+".0",ce("tilde return",l),l})}function bE(e,t){return e.trim().split(/\s+/).map(function(r){return OE(r,t)}).join(" ")}function OE(e,t){ce("caret",e,t);var r=t.loose?ae[R.CARETLOOSE]:ae[R.CARET];return e.replace(r,function(n,i,s,o,a){ce("caret",e,n,i,s,o,a);var l;return xe(i)?l="":xe(s)?l=">="+i+".0.0 <"+(+i+1)+".0.0":xe(o)?i==="0"?l=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0":l=">="+i+"."+s+".0 <"+(+i+1)+".0.0":a?(ce("replaceCaret pr",a),i==="0"?s==="0"?l=">="+i+"."+s+"."+o+"-"+a+" <"+i+"."+s+"."+(+o+1):l=">="+i+"."+s+"."+o+"-"+a+" <"+i+"."+(+s+1)+".0":l=">="+i+"."+s+"."+o+"-"+a+" <"+(+i+1)+".0.0"):(ce("no pr"),i==="0"?s==="0"?l=">="+i+"."+s+"."+o+" <"+i+"."+s+"."+(+o+1):l=">="+i+"."+s+"."+o+" <"+i+"."+(+s+1)+".0":l=">="+i+"."+s+"."+o+" <"+(+i+1)+".0.0"),ce("caret return",l),l})}function SE(e,t){return ce("replaceXRanges",e,t),e.split(/\s+/).map(function(r){return IE(r,t)}).join(" ")}function IE(e,t){e=e.trim();var r=t.loose?ae[R.XRANGELOOSE]:ae[R.XRANGE];return e.replace(r,function(n,i,s,o,a,l){ce("xRange",e,n,i,s,o,a,l);var f=xe(s),d=f||xe(o),E=d||xe(a),y=E;return i==="="&&y&&(i=""),l=t.includePrerelease?"-0":"",f?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&y?(d&&(o=0),a=0,i===">"?(i=">=",d?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):i==="<="&&(i="<",d?s=+s+1:o=+o+1),n=i+s+"."+o+"."+a+l):d?n=">="+s+".0.0"+l+" <"+(+s+1)+".0.0"+l:E&&(n=">="+s+"."+o+".0"+l+" <"+s+"."+(+o+1)+".0"+l),ce("xRange return",n),n})}function NE(e,t){return ce("replaceStars",e,t),e.trim().replace(ae[R.STAR],"")}function yE(e,t,r,n,i,s,o,a,l,f,d,E,y){return xe(r)?t="":xe(n)?t=">="+r+".0.0":xe(i)?t=">="+r+"."+n+".0":t=">="+t,xe(l)?a="":xe(f)?a="<"+(+l+1)+".0.0":xe(d)?a="<"+l+"."+(+f+1)+".0":E?a="<="+l+"."+f+"."+d+"-"+E:a="<="+a,(t+" "+a).trim()}Ee.prototype.test=function(e){if(!e)return!1;if(typeof e=="string")try{e=new te(e,this.options)}catch(r){return!1}for(var t=0;t<this.set.length;t++)if(CE(this.set[t],e,this.options))return!0;return!1};function CE(e,t,r){for(var n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(n=0;n<e.length;n++){if(ce(e[n].semver),e[n].semver===Er)continue;if(e[n].semver.prerelease.length>0){var i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}}return!1}return!0}K.satisfies=Mn;function Mn(e,t,r){try{t=new Ee(t,r)}catch(n){return!1}return t.test(e)}K.maxSatisfying=wE;function wE(e,t,r){var n=null,i=null;try{var s=new Ee(t,r)}catch(o){return null}return e.forEach(function(o){s.test(o)&&((!n||i.compare(o)===-1)&&(n=o,i=new te(n,r)))}),n}K.minSatisfying=LE;function LE(e,t,r){var n=null,i=null;try{var s=new Ee(t,r)}catch(o){return null}return e.forEach(function(o){s.test(o)&&((!n||i.compare(o)===1)&&(n=o,i=new te(n,r)))}),n}K.minVersion=AE;function AE(e,t){e=new Ee(e,t);var r=new te("0.0.0");if(e.test(r))return r;if(r=new te("0.0.0-0"),e.test(r))return r;r=null;for(var n=0;n<e.set.length;++n){var i=e.set[n];i.forEach(function(s){var o=new te(s.semver.version);switch(s.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!r||Yr(r,o))&&(r=o);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+s.operator)}})}return r&&e.test(r)?r:null}K.validRange=PE;function PE(e,t){try{return new Ee(e,t).range||"*"}catch(r){return null}}K.ltr=DE;function DE(e,t,r){return Ms(e,t,"<",r)}K.gtr=kE;function kE(e,t,r){return Ms(e,t,">",r)}K.outside=Ms;function Ms(e,t,r,n){e=new te(e,n),t=new Ee(t,n);var i,s,o,a,l;switch(r){case">":i=Yr,s=xs,o=kn,a=">",l=">=";break;case"<":i=kn,s=ks,o=Yr,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Mn(e,t,n))return!1;for(var f=0;f<t.set.length;++f){var d=t.set[f],E=null,y=null;if(d.forEach(function(L){L.semver===Er&&(L=new ze(">=0.0.0")),E=E||L,y=y||L,i(L.semver,E.semver,n)?E=L:o(L.semver,y.semver,n)&&(y=L)}),E.operator===a||E.operator===l)return!1;if((!y.operator||y.operator===a)&&s(e,y.semver))return!1;if(y.operator===l&&o(e,y.semver))return!1}return!0}K.prerelease=xE;function xE(e,t){var r=Jt(e,t);return r&&r.prerelease.length?r.prerelease:null}K.intersects=ME;function ME(e,t,r){return e=new Ee(e,r),t=new Ee(t,r),e.intersects(t)}K.coerce=qE;function qE(e,t){if(e instanceof te)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};var r=null;if(!t.rtl)r=e.match(ae[R.COERCE]);else{for(var n;(n=ae[R.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),ae[R.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;ae[R.COERCERTL].lastIndex=-1}return r===null?null:Jt(r[2]+"."+(r[3]||"0")+"."+(r[4]||"0"),t)}});var Us=I((qs,Fs)=>{"use strict";const qn=require("fs"),gt=require("path"),{promisify:ol}=require("util"),FE=sl(),al=FE.satisfies(process.version,">=10.12.0"),cl=e=>{if(process.platform==="win32"){const t=/[<>:"|?*]/.test(e.replace(gt.parse(e).root,""));if(t){const r=new Error(`Path contains invalid characters: ${e}`);throw r.code="EINVAL",r}}},ll=e=>{const t={mode:511,fs:qn};return ut(ut({},t),e)},ul=e=>{const t=new Error(`operation not permitted, mkdir '${e}'`);return t.code="EPERM",t.errno=-4048,t.path=e,t.syscall="mkdir",t},UE=(e,t)=>We(qs,[],function*(){cl(e),t=ll(t);const r=ol(t.fs.mkdir),n=ol(t.fs.stat);if(al&&t.fs.mkdir===qn.mkdir){const s=gt.resolve(e);return yield r(s,{mode:t.mode,recursive:!0}),s}const i=s=>We(qs,[],function*(){try{return yield r(s,t.mode),s}catch(o){if(o.code==="EPERM")throw o;if(o.code==="ENOENT"){if(gt.dirname(s)===s)throw ul(s);if(o.message.includes("null bytes"))throw o;return yield i(gt.dirname(s)),i(s)}try{const a=yield n(s);if(!a.isDirectory())throw new Error("The path is not a directory")}catch(a){throw o}return s}});return i(gt.resolve(e))});Fs.exports=UE;Fs.exports.sync=(e,t)=>{if(cl(e),t=ll(t),al&&t.fs.mkdirSync===qn.mkdirSync){const n=gt.resolve(e);return qn.mkdirSync(n,{mode:t.mode,recursive:!0}),n}const r=n=>{try{t.fs.mkdirSync(n,t.mode)}catch(i){if(i.code==="EPERM")throw i;if(i.code==="ENOENT"){if(gt.dirname(n)===n)throw ul(n);if(i.message.includes("null bytes"))throw i;return r(gt.dirname(n)),r(n)}try{if(!t.fs.statSync(n).isDirectory())throw new Error("The path is not a directory")}catch(s){throw i}}return n};return r(gt.resolve(e))}});var dl=I(Fe=>{"use strict";var jE=Fe&&Fe.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),WE=Fe&&Fe.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),HE=Fe&&Fe.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&jE(t,e,r);return WE(t,e),t},js=Fe&&Fe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.sqltoolsResolve=void 0;const BE=js(kc()),GE=js(require("path")),hl=js(require("fs")),VE=Zc(),fl=HE(Us()),Ws=BE.default(`vscode-${process.env.EXT_NAMESPACE||"sqltools"}`,{suffix:null});hl.default.existsSync(Ws.data)||fl.sync(Ws.data);hl.default.existsSync(Hs("node_modules"))||fl.sync(Hs("node_modules"));function Hs(...e){return GE.default.resolve(Ws.data,...e)}Fe.sqltoolsResolve=e=>VE.sync(e,{basedir:Hs()});const $E=e=>require(Fe.sqltoolsResolve(e));Fe.default=$E});var El=I((z0,pl)=>{"use strict";pl.exports=ml;const Bs=Symbol("circular-ref-tag"),Gs=Symbol("pino-raw-err-ref"),gl=Object.create({},{type:{enumerable:!0,writable:!0,value:void 0},message:{enumerable:!0,writable:!0,value:void 0},stack:{enumerable:!0,writable:!0,value:void 0},raw:{enumerable:!1,get:function(){return this[Gs]},set:function(e){this[Gs]=e}}});Object.defineProperty(gl,Gs,{writable:!0,value:{}});function ml(e){if(!(e instanceof Error))return e;e[Bs]=void 0;const t=Object.create(gl);t.type=e.constructor.name,t.message=e.message,t.stack=e.stack;for(const r in e)if(t[r]===void 0){const n=e[r];n instanceof Error?n.hasOwnProperty(Bs)||(t[r]=ml(n)):t[r]=n}return delete e[Bs],t.raw=e,t}});var Rl=I((X0,vl)=>{"use strict";vl.exports={mapHttpRequest:zE,reqSerializer:yl};var Vs=Symbol("pino-raw-req-ref"),Tl=Object.create({},{id:{enumerable:!0,writable:!0,value:""},method:{enumerable:!0,writable:!0,value:""},url:{enumerable:!0,writable:!0,value:""},headers:{enumerable:!0,writable:!0,value:{}},remoteAddress:{enumerable:!0,writable:!0,value:""},remotePort:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[Vs]},set:function(e){this[Vs]=e}}});Object.defineProperty(Tl,Vs,{writable:!0,value:{}});function yl(e){var t=e.info||e.connection;const r=Object.create(Tl);return r.id=typeof e.id=="function"?e.id():e.id||(e.info?e.info.id:void 0),r.method=e.method,e.originalUrl?r.url=e.originalUrl:r.url=e.url?e.url.path||e.url:void 0,r.headers=e.headers,r.remoteAddress=t&&t.remoteAddress,r.remotePort=t&&t.remotePort,r.raw=e.raw||e,r}function zE(e){return{req:yl(e)}}});var _l=I((Y0,bl)=>{"use strict";bl.exports={mapHttpResponse:XE,resSerializer:Sl};var $s=Symbol("pino-raw-res-ref"),Nl=Object.create({},{statusCode:{enumerable:!0,writable:!0,value:0},headers:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[$s]},set:function(e){this[$s]=e}}});Object.defineProperty(Nl,$s,{writable:!0,value:{}});function Sl(e){const t=Object.create(Nl);return t.statusCode=e.statusCode,t.headers=e.getHeaders?e.getHeaders():e._headers,t.raw=e,t}function XE(e){return{res:Sl(e)}}});var Xs=I((K0,Ol)=>{"use strict";var zs=El(),Fn=Rl(),Un=_l();Ol.exports={err:zs,mapHttpRequest:Fn.mapHttpRequest,mapHttpResponse:Un.mapHttpResponse,req:Fn.reqSerializer,res:Un.resSerializer,wrapErrorSerializer:function(t){return t===zs?t:function(n){return t(zs(n))}},wrapRequestSerializer:function(t){return t===Fn.reqSerializer?t:function(n){return t(Fn.reqSerializer(n))}},wrapResponseSerializer:function(t){return t===Un.resSerializer?t:function(n){return t(Un.resSerializer(n))}}}});var Cl=I((J0,Il)=>{"use strict";const{createContext:YE,runInContext:KE}=require("vm");Il.exports=JE;function JE(e={}){const{ERR_PATHS_MUST_BE_STRINGS:t=()=>"fast-redact - Paths must be strings",ERR_INVALID_PATH:r=n=>`fast-redact – Invalid path (${n})`}=e;return function({paths:i}){i.forEach(s=>{if(typeof s!="string")throw Error(t());try{if(/〇/.test(s))throw Error();const o=new Proxy({},{get:()=>o,set:()=>{throw Error()}}),a=(s[0]==="["?"":".")+s.replace(/^\*/,"〇").replace(/\.\*/g,".〇").replace(/\[\*\]/g,"[〇]");if(/\n|\r|;/.test(a))throw Error();if(/\/\*/.test(a))throw Error();KE(`
          (function () {
            'use strict'
            o${a}
            if ([o${a}].length !== 1) throw Error()
          })()
        `,YE({o,〇:null}),{codeGeneration:{strings:!1,wasm:!1}})}catch(o){throw Error(r(s))}})}}});var jn=I((Q0,wl)=>{"use strict";wl.exports=/[^.[\]]+|\[((?:.)*?)\]/g});var Al=I((Z0,Ll)=>{"use strict";const QE=jn();Ll.exports=ZE;function ZE({paths:e}){const t=[];var r=0;const n=e.reduce(function(i,s,o){var a=s.match(QE).map(d=>d.replace(/'|"|`/g,""));const l=s[0]==="[";a=a.map(d=>d[0]==="["?d.substr(1,d.length-2):d);const f=a.indexOf("*");if(f>-1){const d=a.slice(0,f),E=d.join("."),y=a.slice(f+1,a.length);if(y.indexOf("*")>-1)throw Error("fast-redact – Only one wildcard per path is supported");const L=y.length>0;r++,t.push({before:d,beforeStr:E,after:y,nested:L})}else i[s]={path:a,val:void 0,precensored:!1,circle:"",escPath:JSON.stringify(s),leadingBracket:l};return i},{});return{wildcards:t,wcLen:r,secret:n}}});var Dl=I((eS,Pl)=>{"use strict";const ev=jn();Pl.exports=tv;function tv({secret:e,serialize:t,wcLen:r,strict:n,isCensorFct:i},s){const o=Function("o",`
    if (typeof o !== 'object' || o == null) {
      ${sv(n,t)}
    }
    const { censor, secret } = this
    ${rv(e,i)}
    this.compileRestore()
    ${nv(r>0,i)}
    ${iv(t)}
  `).bind(s);return t===!1&&(o.restore=a=>s.restore(a)),o}function rv(e,t){return Object.keys(e).map(r=>{const{escPath:n,leadingBracket:i}=e[r],s=i?1:0,o=i?"":".",a=[];for(var l;(l=ev.exec(r))!==null;){const[,E]=l,{index:y,input:L}=l;y>s&&a.push(L.substring(0,y-(E?0:1)))}var f=a.map(E=>`o${o}${E}`).join(" && ");f.length===0?f+=`o${o}${r} != null`:f+=` && o${o}${r} != null`;const d=`
      switch (true) {
        ${a.reverse().map(E=>`
          case o${o}${E} === censor:
            secret[${n}].circle = ${JSON.stringify(E)}
            break
        `).join(`
`)}
      }
    `;return`
      if (${f}) {
        const val = o${o}${r}
        if (val === censor) {
          secret[${n}].precensored = true
        } else {
          secret[${n}].val = val
          o${o}${r} = ${t?"censor(val)":"censor"}
          ${d}
        }
      }
    `}).join(`
`)}function nv(e,t){return e===!0?`
    {
      const { wildcards, wcLen, groupRedact, nestedRedact } = this
      for (var i = 0; i < wcLen; i++) {
        const { before, beforeStr, after, nested } = wildcards[i]
        if (nested === true) {
          secret[beforeStr] = secret[beforeStr] || []
          nestedRedact(secret[beforeStr], o, before, after, censor, ${t})
        } else secret[beforeStr] = groupRedact(o, before, censor, ${t})
      }
    }
  `:""}function iv(e){return e===!1?"return o":`
    var s = this.serialize(o)
    this.restore(o)
    return s
  `}function sv(e,t){return e===!0?"throw Error('fast-redact: primitives cannot be redacted')":t===!1?"return o":"return this.serialize(o)"}});var Ys=I((tS,kl)=>{"use strict";kl.exports={groupRedact:av,groupRestore:ov,nestedRedact:lv,nestedRestore:cv};function ov({keys:e,values:t,target:r}){if(r==null)return;const n=e.length;for(var i=0;i<n;i++){const s=e[i];r[s]=t[i]}}function av(e,t,r,n){const i=xl(e,t);if(i==null)return{keys:null,values:null,target:null,flat:!0};const s=Object.keys(i),o=s.length,a=new Array(o);for(var l=0;l<o;l++){const f=s[l];a[l]=i[f],i[f]=n?r(i[f]):r}return{keys:s,values:a,target:i,flat:!0}}function cv(e){const t=e.length;for(var r=0;r<t;r++){const{key:n,target:i,value:s}=e[r];i[n]=s}}function lv(e,t,r,n,i,s){const o=xl(t,r);if(o==null)return;const a=Object.keys(o),l=a.length;for(var f=0;f<l;f++){const d=a[f],{value:E,parent:y,exists:L}=uv(o,d,n,i,s);L===!0&&y!==null&&e.push({key:n[n.length-1],target:y,value:E})}return e}function hv(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function uv(e,t,r,n,i){var s=-1,o=r.length,a=o-1,l,f,d,E=null,y=!0;if(d=l=e[t],typeof l!="object")return{value:null,parent:null,exists:y};for(;l!=null&&++s<o;){if(t=r[s],E=d,!(t in l)){y=!1;break}if(d=l[t],f=i?n(d):n,f=s!==a?d:f,l[t]=hv(l,t)&&f===d||f===void 0&&n!==void 0?l[t]:f,l=l[t],typeof l!="object")break}return{value:d,parent:E,exists:y}}function xl(e,t){for(var r=-1,n=t.length,i=e;i!=null&&++r<n;)i=i[t[r]];return i}});var ql=I((rS,Ml)=>{"use strict";const{groupRestore:fv,nestedRestore:dv}=Ys();Ml.exports=pv;function pv({secret:e,wcLen:t}){return function(){if(this.restore)return;const n=Object.keys(e).filter(a=>e[a].precensored===!1),i=mv(e,n),s=t>0,o=s?{secret:e,groupRestore:fv,nestedRestore:dv}:{secret:e};this.restore=Function("o",gv(i,n,s)).bind(o)}}function mv(e,t){return t.map(r=>{const{circle:n,escPath:i,leadingBracket:s}=e[r],o=s?"":".",a=n?`o.${n} = secret[${i}].val`:`o${o}${r} = secret[${i}].val`,l=`secret[${i}].val = undefined`;return`
      if (secret[${i}].val !== undefined) {
        try { ${a} } catch (e) {}
        ${l}
      }
    `}).join("")}function gv(e,t,r){const n=r===!0?`
    const keys = Object.keys(secret)
    const len = keys.length
    for (var i = ${t.length}; i < len; i++) {
      const k = keys[i]
      const o = secret[k]
      if (o.flat === true) this.groupRestore(o)
      else this.nestedRestore(o)
      secret[k] = null
    }
  `:"";return`
    const secret = this.secret
    ${e}
    ${n}
    return o
  `}});var Ul=I((nS,Fl)=>{"use strict";Fl.exports=Ev;function Ev(e){const{secret:t,censor:r,isCensorFct:n,compileRestore:i,serialize:s,groupRedact:o,nestedRedact:a,wildcards:l,wcLen:f}=e,d=[{secret:t,censor:r,isCensorFct:n,compileRestore:i}];return d.push({secret:t}),s!==!1&&d.push({serialize:s}),f>0&&d.push({groupRedact:o,nestedRedact:a,wildcards:l,wcLen:f}),Object.assign(...d)}});var Hl=I((iS,jl)=>{"use strict";const Wl=Cl(),vv=Al(),yv=Dl(),Tv=ql(),{groupRedact:Rv,nestedRedact:bv}=Ys(),Sv=Ul(),Nv=jn(),_v=Wl(),Ks=e=>e;Ks.restore=Ks;const Ov="[REDACTED]";Js.rx=Nv;Js.validator=Wl;jl.exports=Js;function Js(e={}){const t=Array.from(new Set(e.paths||[])),r="serialize"in e&&(e.serialize===!1||typeof e.serialize=="function")?e.serialize:JSON.stringify,n=e.remove;if(n===!0&&r!==JSON.stringify)throw Error("fast-redact – remove option may only be set when serializer is JSON.stringify");const i=n===!0?void 0:"censor"in e?e.censor:Ov,s=typeof i=="function";if(t.length===0)return r||Ks;_v({paths:t,serialize:r,censor:i});const{wildcards:o,wcLen:a,secret:l}=vv({paths:t,censor:i}),f=Tv({secret:l,wcLen:a}),d="strict"in e?e.strict:!0;return yv({secret:l,wcLen:a,serialize:r,strict:d,isCensorFct:s},Sv({secret:l,censor:i,compileRestore:f,serialize:r,groupRedact:Rv,nestedRedact:bv,wildcards:o,wcLen:a}))}});var vr=I((sS,Bl)=>{"use strict";const Iv=Symbol("pino.setLevel"),Cv=Symbol("pino.getLevel"),wv=Symbol("pino.levelVal"),Lv=Symbol("pino.useLevelLabels"),Av=Symbol("pino.useOnlyCustomLevels"),Pv=Symbol("pino.mixin"),Dv=Symbol("pino.lsCache"),kv=Symbol("pino.chindings"),xv=Symbol("pino.parsedChindings"),Mv=Symbol("pino.asJson"),qv=Symbol("pino.write"),Fv=Symbol("pino.redactFmt"),Uv=Symbol("pino.time"),jv=Symbol("pino.timeSliceIndex"),Wv=Symbol("pino.stream"),Hv=Symbol("pino.stringify"),Bv=Symbol("pino.stringifiers"),Gv=Symbol("pino.end"),Vv=Symbol("pino.formatOpts"),$v=Symbol("pino.messageKey"),zv=Symbol("pino.nestedKey"),Xv=Symbol("pino.wildcardFirst"),Yv=Symbol.for("pino.serializers"),Kv=Symbol.for("pino.formatters"),Jv=Symbol.for("pino.hooks"),Qv=Symbol.for("pino.metadata");Bl.exports={setLevelSym:Iv,getLevelSym:Cv,levelValSym:wv,useLevelLabelsSym:Lv,mixinSym:Pv,lsCacheSym:Dv,chindingsSym:kv,parsedChindingsSym:xv,asJsonSym:Mv,writeSym:qv,serializersSym:Yv,redactFmtSym:Fv,timeSym:Uv,timeSliceIndexSym:jv,streamSym:Wv,stringifySym:Hv,stringifiersSym:Bv,endSym:Gv,formatOptsSym:Vv,messageKeySym:$v,nestedKeySym:zv,wildcardFirstSym:Xv,needsMetadataGsym:Qv,useOnlyCustomLevelsSym:Av,formattersSym:Kv,hooksSym:Jv}});var Xl=I((oS,Gl)=>{"use strict";const Qs=Hl(),{redactFmtSym:Zv,wildcardFirstSym:Wn}=vr(),{rx:Zs,validator:ey}=Qs,Vl=ey({ERR_PATHS_MUST_BE_STRINGS:()=>"pino – redacted paths must be strings",ERR_INVALID_PATH:e=>`pino – redact paths array contains an invalid path (${e})`}),$l="[Redacted]",zl=!1;function ry(e,t){const{paths:r,censor:n}=ty(e),i=r.reduce((a,l)=>{Zs.lastIndex=0;const f=Zs.exec(l),d=Zs.exec(l);let E=f[1]!==void 0?f[1].replace(/^(?:"|'|`)(.*)(?:"|'|`)$/,"$1"):f[0];if(E==="*"&&(E=Wn),d===null)return a[E]=null,a;if(a[E]===null)return a;const{index:y}=d,L=`${l.substr(y,l.length-1)}`;return a[E]=a[E]||[],E!==Wn&&a[E].length===0&&a[E].push(...a[Wn]||[]),E===Wn&&Object.keys(a).forEach(function(_){a[_]&&a[_].push(L)}),a[E].push(L),a},{}),s={[Zv]:Qs({paths:r,censor:n,serialize:t,strict:zl})},o=(...a)=>typeof n=="function"?t(n(...a)):t(n);return[...Object.keys(i),...Object.getOwnPropertySymbols(i)].reduce((a,l)=>(i[l]===null?a[l]=o:a[l]=Qs({paths:i[l],censor:n,serialize:t,strict:zl}),a),s)}function ty(e){if(Array.isArray(e))return e={paths:e,censor:$l},Vl(e),e;var{paths:t,censor:r=$l,remove:n}=e;if(Array.isArray(t)===!1)throw Error("pino – redact must contain an array of strings");return n===!0&&(r=void 0),Vl({paths:t,censor:r}),{paths:t,censor:r}}Gl.exports=ry});var Kl=I((aS,Yl)=>{"use strict";const ny=()=>"",iy=()=>`,"time":${Date.now()}`,sy=()=>`,"time":${Math.round(Date.now()/1e3)}`,oy=()=>`,"time":"${new Date(Date.now()).toISOString()}"`;Yl.exports={nullTime:ny,epochTime:iy,unixTime:sy,isoTime:oy}});var Hn=I((cS,Jl)=>{"use strict";function ay(e){return e|0,e}Jl.exports=ay});var Ql=I((lS,eo)=>{"use strict";if(typeof SharedArrayBuffer!="undefined"&&typeof Atomics!="undefined"){const e=new Int32Array(new SharedArrayBuffer(4));function to(t){const r=t>0&&t<Infinity;if(r===!1)throw typeof t!="number"&&typeof t!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");Atomics.wait(e,0,0,Number(t))}eo.exports=to}else{function to(e){const t=e>0&&e<Infinity;if(t===!1)throw typeof e!="number"&&typeof e!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");const r=Date.now()+Number(e);for(;r>Date.now(););}eo.exports=to}});var no=I((uS,Zl)=>{"use strict";const st=require("fs"),cy=require("events"),ly=Hn(),uy=require("util").inherits,eu=100,hy=Ql(),ro=16*1024*1024;function tu(e,t){t._opening=!0,t._writing=!0,t.file=e;function r(n,i){if(n){t.emit("error",n);return}if(t.fd=i,t._reopening=!1,t._opening=!1,t._writing=!1,t.emit("ready"),t._reopening)return;var s=t._buf.length;s>0&&s>t.minLength&&!t.destroyed&&yr(t)}if(t.sync){const n=st.openSync(e,"a");r(null,n),process.nextTick(()=>t.emit("ready"))}else st.open(e,"a",r)}function ot(e){if(!(this instanceof ot))return new ot(e);var{fd:t,dest:r,minLength:n,sync:i}=e||{};if(t=t||r,this._buf="",this.fd=-1,this._writing=!1,this._writingBuf="",this._ending=!1,this._reopening=!1,this._asyncDrainScheduled=!1,this.file=null,this.destroyed=!1,this.sync=i||!1,this.minLength=n||0,typeof t=="number")this.fd=t,process.nextTick(()=>this.emit("ready"));else if(typeof t=="string")tu(t,this);else throw new Error("SonicBoom supports only file descriptors and files");this.release=(s,o)=>{if(s){if(s.code==="EAGAIN")if(this.sync)try{hy(eu),this.release(void 0,0)}catch(l){this.release(l)}else setTimeout(()=>{st.write(this.fd,this._writingBuf,"utf8",this.release)},eu);else this.emit("error",s);return}if(this._writingBuf.length!==o)if(this._writingBuf=this._writingBuf.slice(o),this.sync)try{do o=st.writeSync(this.fd,this._writingBuf,"utf8"),this._writingBuf=this._writingBuf.slice(o);while(this._writingBuf.length!==0)}catch(l){this.release(l);return}else{st.write(this.fd,this._writingBuf,"utf8",this.release);return}if(this._writingBuf="",this.destroyed)return;var a=this._buf.length;this._reopening?(this._writing=!1,this._reopening=!1,this.reopen()):a>0&&a>this.minLength?yr(this):this._ending?a>0?yr(this):(this._writing=!1,Bn(this)):(this._writing=!1,this.sync?this._asyncDrainScheduled||(this._asyncDrainScheduled=!0,process.nextTick(fy,this)):this.emit("drain"))}}function fy(e){e._asyncDrainScheduled=!1,e.emit("drain")}uy(ot,cy);ot.prototype.write=function(e){if(this.destroyed)throw new Error("SonicBoom destroyed");this._buf+=e;var t=this._buf.length;return!this._writing&&t>this.minLength&&yr(this),t<16384};ot.prototype.flush=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._writing||this.minLength<=0)return;yr(this)};ot.prototype.reopen=function(e){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.reopen(e)});return}if(this._ending)return;if(!this.file)throw new Error("Unable to reopen a file descriptor, you must pass a file to SonicBoom");if(this._reopening=!0,this._writing)return;st.close(this.fd,t=>{if(t)return this.emit("error",t)}),tu(e||this.file,this)};ot.prototype.end=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.end()});return}if(this._ending)return;if(this._ending=!0,!this._writing&&this._buf.length>0&&this.fd>=0){yr(this);return}if(this._writing)return;Bn(this)};ot.prototype.flushSync=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this.fd<0)throw new Error("sonic boom is not ready yet");this._buf.length>0&&(st.writeSync(this.fd,this._buf,"utf8"),this._buf="")};ot.prototype.destroy=function(){if(this.destroyed)return;Bn(this)};function yr(e){e._writing=!0;var t=e._buf,r=e.release;if(t.length>ro?(t=t.slice(0,ro),e._buf=e._buf.slice(ro)):e._buf="",ly(t),e._writingBuf=t,e.sync)try{var n=st.writeSync(e.fd,t,"utf8");r(null,n)}catch(i){r(i)}else st.write(e.fd,t,"utf8",r)}function Bn(e){if(e.fd===-1){e.once("ready",Bn.bind(null,e));return}st.close(e.fd,t=>{if(t){e.emit("error",t);return}e._ending&&!e._writing&&e.emit("finish"),e.emit("close")}),e.destroyed=!0,e._buf=""}Zl.exports=ot});var nu=I((hS,ru)=>{"use strict";function dy(e){try{return JSON.stringify(e)}catch(t){return'"[Circular]"'}}ru.exports=py;function py(e,t,r){var n=r&&r.stringify||dy,i=1;if(typeof e=="object"&&e!==null){var s=t.length+i;if(s===1)return e;var o=new Array(s);o[0]=n(e);for(var a=1;a<s;a++)o[a]=n(t[a]);return o.join(" ")}if(typeof e!="string")return e;var l=t.length;if(l===0)return e;for(var f="",d="",E=1-i,y=-1,L=e&&e.length||0,_=0;_<L;){if(e.charCodeAt(_)===37&&_+1<L){y=y>-1?y:0;switch(e.charCodeAt(_+1)){case 100:if(E>=l)break;if(y<_&&(d+=e.slice(y,_)),t[E]==null)break;d+=Number(t[E]),y=_=_+2;break;case 79:case 111:case 106:if(E>=l)break;if(y<_&&(d+=e.slice(y,_)),t[E]===void 0)break;var B=typeof t[E];if(B==="string"){d+="'"+t[E]+"'",y=_+2,_++;break}if(B==="function"){d+=t[E].name||"<anonymous>",y=_+2,_++;break}d+=n(t[E]),y=_+2,_++;break;case 115:if(E>=l)break;y<_&&(d+=e.slice(y,_)),d+=String(t[E]),y=_+2,_++;break;case 37:y<_&&(d+=e.slice(y,_)),d+="%",y=_+2,_++;break}++E}++_}return y===-1?e:(y<L&&(d+=e.slice(y)),d)}});var oo=I((fS,iu)=>{iu.exports=Kr;Kr.default=Kr;Kr.stable=su;Kr.stableStringify=su;var Et=[],kt=[];function Kr(e,t,r){io(e,"",[],void 0);var n;for(kt.length===0?n=JSON.stringify(e,t,r):n=JSON.stringify(e,ou(t),r);Et.length!==0;){var i=Et.pop();i.length===4?Object.defineProperty(i[0],i[1],i[3]):i[0][i[1]]=i[2]}return n}function io(e,t,r,n){var i;if(typeof e=="object"&&e!==null){for(i=0;i<r.length;i++)if(r[i]===e){var s=Object.getOwnPropertyDescriptor(n,t);s.get!==void 0?s.configurable?(Object.defineProperty(n,t,{value:"[Circular]"}),Et.push([n,t,e,s])):kt.push([e,t]):(n[t]="[Circular]",Et.push([n,t,e]));return}if(r.push(e),Array.isArray(e))for(i=0;i<e.length;i++)io(e[i],i,r,e);else{var o=Object.keys(e);for(i=0;i<o.length;i++){var a=o[i];io(e[a],a,r,e)}}r.pop()}}function my(e,t){return e<t?-1:e>t?1:0}function su(e,t,r){var n=so(e,"",[],void 0)||e,i;for(kt.length===0?i=JSON.stringify(n,t,r):i=JSON.stringify(n,ou(t),r);Et.length!==0;){var s=Et.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}return i}function so(e,t,r,n){var i;if(typeof e=="object"&&e!==null){for(i=0;i<r.length;i++)if(r[i]===e){var s=Object.getOwnPropertyDescriptor(n,t);s.get!==void 0?s.configurable?(Object.defineProperty(n,t,{value:"[Circular]"}),Et.push([n,t,e,s])):kt.push([e,t]):(n[t]="[Circular]",Et.push([n,t,e]));return}if(typeof e.toJSON=="function")return;if(r.push(e),Array.isArray(e))for(i=0;i<e.length;i++)so(e[i],i,r,e);else{var o={},a=Object.keys(e).sort(my);for(i=0;i<a.length;i++){var l=a[i];so(e[l],l,r,e),o[l]=e[l]}if(n!==void 0)Et.push([n,t,e]),n[t]=o;else return o}r.pop()}}function ou(e){return e=e!==void 0?e:function(t,r){return r},function(t,r){if(kt.length>0)for(var n=0;n<kt.length;n++){var i=kt[n];if(i[1]===t&&i[0]===r){r="[Circular]",kt.splice(n,1);break}}return e.call(this,t,r)}}});var cu=I((dS,au)=>{"use strict";au.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var ao=I((pS,lu)=>{const Jr=cu(),uu={};for(const e of Object.keys(Jr))uu[Jr[e]]=e;const j={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};lu.exports=j;for(const e of Object.keys(j)){if(!("channels"in j[e]))throw new Error("missing channels property: "+e);if(!("labels"in j[e]))throw new Error("missing channel labels property: "+e);if(j[e].labels.length!==j[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:r}=j[e];delete j[e].channels,delete j[e].labels,Object.defineProperty(j[e],"channels",{value:t}),Object.defineProperty(j[e],"labels",{value:r})}j.rgb.hsl=function(e){const t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=s-i;let a,l;s===i?a=0:t===s?a=(r-n)/o:r===s?a=2+(n-t)/o:n===s&&(a=4+(t-r)/o),a=Math.min(a*60,360),a<0&&(a+=360);const f=(i+s)/2;return s===i?l=0:f<=.5?l=o/(s+i):l=o/(2-s-i),[a,l*100,f*100]};j.rgb.hsv=function(e){let t,r,n,i,s;const o=e[0]/255,a=e[1]/255,l=e[2]/255,f=Math.max(o,a,l),d=f-Math.min(o,a,l),E=function(y){return(f-y)/6/d+1/2};return d===0?(i=0,s=0):(s=d/f,t=E(o),r=E(a),n=E(l),o===f?i=n-r:a===f?i=1/3+t-n:l===f&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,f*100]};j.rgb.hwb=function(e){const t=e[0],r=e[1];let n=e[2];const i=j.rgb.hsl(e)[0],s=1/255*Math.min(t,Math.min(r,n));return n=1-1/255*Math.max(t,Math.max(r,n)),[i,s*100,n*100]};j.rgb.cmyk=function(e){const t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(1-t,1-r,1-n),s=(1-t-i)/(1-i)||0,o=(1-r-i)/(1-i)||0,a=(1-n-i)/(1-i)||0;return[s*100,o*100,a*100,i*100]};function gy(e,t){return Se(e[0]-t[0],2)+Se(e[1]-t[1],2)+Se(e[2]-t[2],2)}j.rgb.keyword=function(e){const t=uu[e];if(t)return t;let r=Infinity,n;for(const i of Object.keys(Jr)){const s=Jr[i],o=gy(e,s);o<r&&(r=o,n=i)}return n};j.keyword.rgb=function(e){return Jr[e]};j.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?Se((t+.055)/1.055,2.4):t/12.92,r=r>.04045?Se((r+.055)/1.055,2.4):r/12.92,n=n>.04045?Se((n+.055)/1.055,2.4):n/12.92;const i=t*.4124+r*.3576+n*.1805,s=t*.2126+r*.7152+n*.0722,o=t*.0193+r*.1192+n*.9505;return[i*100,s*100,o*100]};j.rgb.lab=function(e){const t=j.rgb.xyz(e);let r=t[0],n=t[1],i=t[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?Se(r,1/3):7.787*r+16/116,n=n>.008856?Se(n,1/3):7.787*n+16/116,i=i>.008856?Se(i,1/3):7.787*i+16/116;const s=116*n-16,o=500*(r-n),a=200*(n-i);return[s,o,a]};j.hsl.rgb=function(e){const t=e[0]/360,r=e[1]/100,n=e[2]/100;let i,s,o;if(r===0)return o=n*255,[o,o,o];n<.5?i=n*(1+r):i=n+r-n*r;const a=2*n-i,l=[0,0,0];for(let f=0;f<3;f++)s=t+1/3*-(f-1),s<0&&s++,s>1&&s--,6*s<1?o=a+(i-a)*6*s:2*s<1?o=i:3*s<2?o=a+(i-a)*(2/3-s)*6:o=a,l[f]=o*255;return l};j.hsl.hsv=function(e){const t=e[0];let r=e[1]/100,n=e[2]/100,i=r;const s=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=s<=1?s:2-s;const o=(n+r)/2,a=n===0?2*i/(s+i):2*r/(n+r);return[t,a*100,o*100]};j.hsv.rgb=function(e){const t=e[0]/60,r=e[1]/100;let n=e[2]/100;const i=Math.floor(t)%6,s=t-Math.floor(t),o=255*n*(1-r),a=255*n*(1-r*s),l=255*n*(1-r*(1-s));n*=255;switch(i){case 0:return[n,l,o];case 1:return[a,n,o];case 2:return[o,n,l];case 3:return[o,a,n];case 4:return[l,o,n];case 5:return[n,o,a]}};j.hsv.hsl=function(e){const t=e[0],r=e[1]/100,n=e[2]/100,i=Math.max(n,.01);let s,o;o=(2-r)*n;const a=(2-r)*i;return s=r*i,s/=a<=1?a:2-a,s=s||0,o/=2,[t,s*100,o*100]};j.hwb.rgb=function(e){const t=e[0]/360;let r=e[1]/100,n=e[2]/100;const i=r+n;let s;i>1&&(r/=i,n/=i);const o=Math.floor(6*t),a=1-n;s=6*t-o,(o&1)!==0&&(s=1-s);const l=r+s*(a-r);let f,d,E;switch(o){default:case 6:case 0:f=a,d=l,E=r;break;case 1:f=l,d=a,E=r;break;case 2:f=r,d=a,E=l;break;case 3:f=r,d=l,E=a;break;case 4:f=l,d=r,E=a;break;case 5:f=a,d=r,E=l;break}return[f*255,d*255,E*255]};j.cmyk.rgb=function(e){const t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100,s=1-Math.min(1,t*(1-i)+i),o=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,n*(1-i)+i);return[s*255,o*255,a*255]};j.xyz.rgb=function(e){const t=e[0]/100,r=e[1]/100,n=e[2]/100;let i,s,o;return i=t*3.2406+r*-1.5372+n*-.4986,s=t*-.9689+r*1.8758+n*.0415,o=t*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*Se(i,1/2.4)-.055:i*12.92,s=s>.0031308?1.055*Se(s,1/2.4)-.055:s*12.92,o=o>.0031308?1.055*Se(o,1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[i*255,s*255,o*255]};j.xyz.lab=function(e){let t=e[0],r=e[1],n=e[2];t/=95.047,r/=100,n/=108.883,t=t>.008856?Se(t,1/3):7.787*t+16/116,r=r>.008856?Se(r,1/3):7.787*r+16/116,n=n>.008856?Se(n,1/3):7.787*n+16/116;const i=116*r-16,s=500*(t-r),o=200*(r-n);return[i,s,o]};j.lab.xyz=function(e){const t=e[0],r=e[1],n=e[2];let i,s,o;s=(t+16)/116,i=r/500+s,o=s-n/200;const a=Se(s,3),l=Se(i,3),f=Se(o,3);return s=a>.008856?a:(s-16/116)/7.787,i=l>.008856?l:(i-16/116)/7.787,o=f>.008856?f:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};j.lab.lch=function(e){const t=e[0],r=e[1],n=e[2];let i;const s=Math.atan2(n,r);i=s*360/2/Math.PI,i<0&&(i+=360);const o=Math.sqrt(r*r+n*n);return[t,o,i]};j.lch.lab=function(e){const t=e[0],r=e[1],n=e[2],i=n/360*2*Math.PI,s=r*Math.cos(i),o=r*Math.sin(i);return[t,s,o]};j.rgb.ansi16=function(e,t=null){const[r,n,i]=e;let s=t===null?j.rgb.hsv(e)[2]:t;if(s=Math.round(s/50),s===0)return 30;let o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return s===2&&(o+=60),o};j.hsv.ansi16=function(e){return j.rgb.ansi16(j.hsv.rgb(e),e[2])};j.rgb.ansi256=function(e){const t=e[0],r=e[1],n=e[2];if(t===r&&r===n)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;const i=16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5);return i};j.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const r=(~~(e>50)+1)*.5,n=(t&1)*r*255,i=(t>>1&1)*r*255,s=(t>>2&1)*r*255;return[n,i,s]};j.ansi256.rgb=function(e){if(e>=232){const s=(e-232)*10+8;return[s,s,s]}e-=16;let t;const r=Math.floor(e/36)/5*255,n=Math.floor((t=e%36)/6)/5*255,i=t%6/5*255;return[r,n,i]};j.rgb.hex=function(e){const t=((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255),r=t.toString(16).toUpperCase();return"000000".substring(r.length)+r};j.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let r=t[0];t[0].length===3&&(r=r.split("").map(a=>a+a).join(""));const n=parseInt(r,16),i=n>>16&255,s=n>>8&255,o=n&255;return[i,s,o]};j.rgb.hcg=function(e){const t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(Math.max(t,r),n),s=Math.min(Math.min(t,r),n),o=i-s;let a,l;return o<1?a=s/(1-o):a=0,o<=0?l=0:i===t?l=(r-n)/o%6:i===r?l=2+(n-t)/o:l=4+(t-r)/o,l/=6,l%=1,[l*360,o*100,a*100]};j.hsl.hcg=function(e){const t=e[1]/100,r=e[2]/100,n=r<.5?2*t*r:2*t*(1-r);let i=0;return n<1&&(i=(r-.5*n)/(1-n)),[e[0],n*100,i*100]};j.hsv.hcg=function(e){const t=e[1]/100,r=e[2]/100,n=t*r;let i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],n*100,i*100]};j.hcg.rgb=function(e){const t=e[0]/360,r=e[1]/100,n=e[2]/100;if(r===0)return[n*255,n*255,n*255];const i=[0,0,0],s=t%1*6,o=s%1,a=1-o;let l=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return l=(1-r)*n,[(r*i[0]+l)*255,(r*i[1]+l)*255,(r*i[2]+l)*255]};j.hcg.hsv=function(e){const t=e[1]/100,r=e[2]/100,n=t+r*(1-t);let i=0;return n>0&&(i=t/n),[e[0],i*100,n*100]};j.hcg.hsl=function(e){const t=e[1]/100,r=e[2]/100,n=r*(1-t)+.5*t;let i=0;return n>0&&n<.5?i=t/(2*n):n>=.5&&n<1&&(i=t/(2*(1-n))),[e[0],i*100,n*100]};j.hcg.hwb=function(e){const t=e[1]/100,r=e[2]/100,n=t+r*(1-t);return[e[0],(n-t)*100,(1-n)*100]};j.hwb.hcg=function(e){const t=e[1]/100,r=e[2]/100,n=1-r,i=n-t;let s=0;return i<1&&(s=(n-i)/(1-i)),[e[0],i*100,s*100]};j.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};j.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};j.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};j.gray.hsl=function(e){return[0,0,e[0]]};j.gray.hsv=j.gray.hsl;j.gray.hwb=function(e){return[0,100,e[0]]};j.gray.cmyk=function(e){return[0,0,0,e[0]]};j.gray.lab=function(e){return[e[0],0,0]};j.gray.hex=function(e){const t=Math.round(e[0]/100*255)&255,r=(t<<16)+(t<<8)+t,n=r.toString(16).toUpperCase();return"000000".substring(n.length)+n};j.rgb.gray=function(e){const t=(e[0]+e[1]+e[2])/3;return[t/255*100]}});var fu=I((mS,hu)=>{const Gn=ao();function Ey(){const e={},t=Object.keys(Gn);for(let r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}function vy(e){const t=Ey(),r=[e];for(t[e].distance=0;r.length;){const n=r.pop(),i=Object.keys(Gn[n]);for(let s=i.length,o=0;o<s;o++){const a=i[o],l=t[a];l.distance===-1&&(l.distance=t[n].distance+1,l.parent=n,r.unshift(a))}}return t}function yy(e,t){return function(r){return t(e(r))}}function Ty(e,t){const r=[t[e].parent,e];let n=Gn[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)r.unshift(t[i].parent),n=yy(Gn[t[i].parent][i],n),i=t[i].parent;return n.conversion=r,n}hu.exports=function(e){const t=vy(e),r={},n=Object.keys(t);for(let i=n.length,s=0;s<i;s++){const o=n[s],a=t[o];if(a.parent===null)continue;r[o]=Ty(o,t)}return r}});var pu=I((gS,du)=>{const co=ao(),Ry=fu(),Tr={},by=Object.keys(co);function Sy(e){const t=function(...r){const n=r[0];return n==null?n:(n.length>1&&(r=n),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function Ny(e){const t=function(...r){const n=r[0];if(n==null)return n;n.length>1&&(r=n);const i=e(r);if(typeof i=="object")for(let s=i.length,o=0;o<s;o++)i[o]=Math.round(i[o]);return i};return"conversion"in e&&(t.conversion=e.conversion),t}by.forEach(e=>{Tr[e]={},Object.defineProperty(Tr[e],"channels",{value:co[e].channels}),Object.defineProperty(Tr[e],"labels",{value:co[e].labels});const t=Ry(e),r=Object.keys(t);r.forEach(n=>{const i=t[n];Tr[e][n]=Ny(i),Tr[e][n].raw=Sy(i)})});du.exports=Tr});var Tu=I((ES,mu)=>{"use strict";const gu=(e,t)=>(...r)=>{const n=e(...r);return`[${n+t}m`},Eu=(e,t)=>(...r)=>{const n=e(...r);return`[${38+t};5;${n}m`},vu=(e,t)=>(...r)=>{const n=e(...r);return`[${38+t};2;${n[0]};${n[1]};${n[2]}m`},Vn=e=>e,yu=(e,t,r)=>[e,t,r],Rr=(e,t,r)=>{Object.defineProperty(e,t,{get:()=>{const n=r();return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0}),n},enumerable:!0,configurable:!0})};let lo;const br=(e,t,r,n)=>{lo===void 0&&(lo=pu());const i=n?10:0,s={};for(const[o,a]of Object.entries(lo)){const l=o==="ansi16"?"ansi":o;o===t?s[l]=e(r,i):typeof a=="object"&&(s[l]=e(a[t],i))}return s};function _y(){const e=new Map(),t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(const[r,n]of Object.entries(t)){for(const[i,s]of Object.entries(n))t[i]={open:`[${s[0]}m`,close:`[${s[1]}m`},n[i]=t[i],e.set(s[0],s[1]);Object.defineProperty(t,r,{value:n,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="[39m",t.bgColor.close="[49m",Rr(t.color,"ansi",()=>br(gu,"ansi16",Vn,!1)),Rr(t.color,"ansi256",()=>br(Eu,"ansi256",Vn,!1)),Rr(t.color,"ansi16m",()=>br(vu,"rgb",yu,!1)),Rr(t.bgColor,"ansi",()=>br(gu,"ansi16",Vn,!0)),Rr(t.bgColor,"ansi256",()=>br(Eu,"ansi256",Vn,!0)),Rr(t.bgColor,"ansi16m",()=>br(vu,"rgb",yu,!0)),t}Object.defineProperty(mu,"exports",{enumerable:!0,get:_y})});var bu=I((vS,Ru)=>{"use strict";Ru.exports=(e,t=process.argv)=>{const r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1||n<i)}});var _u=I((yS,Su)=>{"use strict";const Oy=require("os"),Nu=require("tty"),Xe=bu(),{env:Ne}=process;let xt;Xe("no-color")||Xe("no-colors")||Xe("color=false")||Xe("color=never")?xt=0:(Xe("color")||Xe("colors")||Xe("color=true")||Xe("color=always"))&&(xt=1);"FORCE_COLOR"in Ne&&(Ne.FORCE_COLOR==="true"?xt=1:Ne.FORCE_COLOR==="false"?xt=0:xt=Ne.FORCE_COLOR.length===0?1:Math.min(parseInt(Ne.FORCE_COLOR,10),3));function uo(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function ho(e,t){if(xt===0)return 0;if(Xe("color=16m")||Xe("color=full")||Xe("color=truecolor"))return 3;if(Xe("color=256"))return 2;if(e&&!t&&xt===void 0)return 0;const r=xt||0;if(Ne.TERM==="dumb")return r;if(process.platform==="win32"){const n=Oy.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in Ne)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(n=>n in Ne)||Ne.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in Ne)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Ne.TEAMCITY_VERSION)?1:0;if("GITHUB_ACTIONS"in Ne)return 1;if(Ne.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Ne){const n=parseInt((Ne.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Ne.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Ne.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Ne.TERM)||"COLORTERM"in Ne?1:r}function Iy(e){const t=ho(e,e&&e.isTTY);return uo(t)}Su.exports={supportsColor:Iy,stdout:uo(ho(!0,Nu.isatty(1))),stderr:uo(ho(!0,Nu.isatty(2)))}});var Iu=I((TS,Ou)=>{"use strict";const Cy=(e,t,r)=>{let n=e.indexOf(t);if(n===-1)return e;const i=t.length;let s=0,o="";do o+=e.substr(s,n-s)+t+r,s=n+i,n=e.indexOf(t,s);while(n!==-1);return o+=e.substr(s),o},wy=(e,t,r,n)=>{let i=0,s="";do{const o=e[n-1]==="\r";s+=e.substr(i,(o?n-1:n)-i)+t+(o?`\r
`:`
`)+r,i=n+1,n=e.indexOf(`
`,i)}while(n!==-1);return s+=e.substr(i),s};Ou.exports={stringReplaceAll:Cy,stringEncaseCRLFWithFirstIndex:wy}});var Pu=I((RS,Cu)=>{"use strict";const Ly=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,wu=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,Ay=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,Py=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,Dy=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e",""],["a","\x07"]]);function Lu(e){const t=e[0]==="u",r=e[1]==="{";return t&&!r&&e.length===5||e[0]==="x"&&e.length===3?String.fromCharCode(parseInt(e.slice(1),16)):t&&r?String.fromCodePoint(parseInt(e.slice(2,-1),16)):Dy.get(e)||e}function ky(e,t){const r=[],n=t.trim().split(/\s*,\s*/g);let i;for(const s of n){const o=Number(s);if(!Number.isNaN(o))r.push(o);else if(i=s.match(Ay))r.push(i[2].replace(Py,(a,l,f)=>l?Lu(l):f));else throw new Error(`Invalid Chalk template style argument: ${s} (in style '${e}')`)}return r}function xy(e){wu.lastIndex=0;const t=[];let r;for(;(r=wu.exec(e))!==null;){const n=r[1];if(r[2]){const i=ky(n,r[2]);t.push([n].concat(i))}else t.push([n])}return t}function Au(e,t){const r={};for(const i of t)for(const s of i.styles)r[s[0]]=i.inverse?null:s.slice(1);let n=e;for(const[i,s]of Object.entries(r)){if(!Array.isArray(s))continue;if(!(i in n))throw new Error(`Unknown Chalk style: ${i}`);n=s.length>0?n[i](...s):n[i]}return n}Cu.exports=(e,t)=>{const r=[],n=[];let i=[];if(t.replace(Ly,(s,o,a,l,f,d)=>{if(o)i.push(Lu(o));else if(l){const E=i.join("");i=[],n.push(r.length===0?E:Au(e,r)(E)),r.push({inverse:a,styles:xy(l)})}else if(f){if(r.length===0)throw new Error("Found extraneous } in Chalk template literal");n.push(Au(e,r)(i.join(""))),i=[],r.pop()}else i.push(d)}),n.push(i.join("")),r.length>0){const s=`Chalk template literal is missing ${r.length} closing bracket${r.length===1?"":"s"} (\`}\`)`;throw new Error(s)}return n.join("")}});var Eo=I((bS,Du)=>{"use strict";const Qr=Tu(),{stdout:fo,stderr:po}=_u(),{stringReplaceAll:My,stringEncaseCRLFWithFirstIndex:qy}=Iu(),{isArray:$n}=Array,ku=["ansi","ansi","ansi256","ansi16m"],Sr=Object.create(null),Fy=(e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const r=fo?fo.level:0;e.level=t.level===void 0?r:t.level};class Uy{constructor(e){return xu(e)}}const xu=e=>{const t={};return Fy(t,e),t.template=(...r)=>Mu(t.template,...r),Object.setPrototypeOf(t,zn.prototype),Object.setPrototypeOf(t.template,t),t.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},t.template.Instance=Uy,t.template};function zn(e){return xu(e)}for(const[e,t]of Object.entries(Qr))Sr[e]={get(){const r=Xn(this,mo(t.open,t.close,this._styler),this._isEmpty);return Object.defineProperty(this,e,{value:r}),r}};Sr.visible={get(){const e=Xn(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:e}),e}};const qu=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(const e of qu)Sr[e]={get(){const{level:t}=this;return function(...r){const n=mo(Qr.color[ku[t]][e](...r),Qr.color.close,this._styler);return Xn(this,n,this._isEmpty)}}};for(const e of qu){const t="bg"+e[0].toUpperCase()+e.slice(1);Sr[t]={get(){const{level:r}=this;return function(...n){const i=mo(Qr.bgColor[ku[r]][e](...n),Qr.bgColor.close,this._styler);return Xn(this,i,this._isEmpty)}}}}const jy=Object.defineProperties(()=>{},ut(ut({},Sr),{level:{enumerable:!0,get(){return this._generator.level},set(e){this._generator.level=e}}})),mo=(e,t,r)=>{let n,i;return r===void 0?(n=e,i=t):(n=r.openAll+e,i=t+r.closeAll),{open:e,close:t,openAll:n,closeAll:i,parent:r}},Xn=(e,t,r)=>{const n=(...i)=>$n(i[0])&&$n(i[0].raw)?Fu(n,Mu(n,...i)):Fu(n,i.length===1?""+i[0]:i.join(" "));return Object.setPrototypeOf(n,jy),n._generator=e,n._styler=t,n._isEmpty=r,n},Fu=(e,t)=>{if(e.level<=0||!t)return e._isEmpty?"":t;let r=e._styler;if(r===void 0)return t;const{openAll:n,closeAll:i}=r;if(t.indexOf("")!==-1)for(;r!==void 0;)t=My(t,r.close,r.open),r=r.parent;const s=t.indexOf(`
`);return s!==-1&&(t=qy(t,i,n,s)),n+t+i};let go;const Mu=(e,...t)=>{const[r]=t;if(!$n(r)||!$n(r.raw))return t.join(" ");const n=t.slice(1),i=[r.raw[0]];for(let s=1;s<r.length;s++)i.push(String(n[s-1]).replace(/[{}\\]/g,"\\$&"),String(r.raw[s]));return go===void 0&&(go=Pu()),go(e,i.join(""))};Object.defineProperties(zn.prototype,Sr);const Yn=zn();Yn.supportsColor=fo;Yn.stderr=zn({level:po?po.level:0});Yn.stderr.supportsColor=po;Du.exports=Yn});var Uu=I(Kn=>{(function(e){"use strict";function t(c){return c!==null?Object.prototype.toString.call(c)==="[object Array]":!1}function r(c){return c!==null?Object.prototype.toString.call(c)==="[object Object]":!1}function n(c,u){if(c===u)return!0;var h=Object.prototype.toString.call(c);if(h!==Object.prototype.toString.call(u))return!1;if(t(c)===!0){if(c.length!==u.length)return!1;for(var g=0;g<c.length;g++)if(n(c[g],u[g])===!1)return!1;return!0}if(r(c)===!0){var T={};for(var P in c)if(hasOwnProperty.call(c,P)){if(n(c[P],u[P])===!1)return!1;T[P]=!0}for(var q in u)if(hasOwnProperty.call(u,q)&&T[q]!==!0)return!1;return!0}return!1}function i(c){if(c===""||c===!1||c===null)return!0;if(t(c)&&c.length===0)return!0;if(r(c)){for(var u in c)if(c.hasOwnProperty(u))return!1;return!0}else return!1}function s(c){for(var u=Object.keys(c),h=[],g=0;g<u.length;g++)h.push(c[u[g]]);return h}function o(c,u){var h={};for(var g in c)h[g]=c[g];for(var T in u)h[T]=u[T];return h}var a;typeof String.prototype.trimLeft=="function"?a=function(c){return c.trimLeft()}:a=function(c){return c.match(/^\s*(.*)/)[1]};var l=0,f=1,d=2,E=3,y=4,L=5,_=6,B=7,W=8,D=9,J="EOF",k="UnquotedIdentifier",v="QuotedIdentifier",p="Rbracket",b="Rparen",F="Comma",w="Colon",M="Rbrace",Q="Number",G="Current",ne="Expref",ve="Pipe",he="Or",le="And",ye="EQ",Te="GT",Ae="LT",Oe="GTE",de="LTE",Ge="NE",Re="Flatten",Pe="Star",Ie="Filter",Ve="Dot",nt="Not",je="Lbrace",$e="Lbracket",Ut="Lparen",Rt="Literal",on={".":Ve,"*":Pe,",":F,":":w,"{":je,"}":M,"]":p,"(":Ut,")":b,"@":G},si={"<":!0,">":!0,"=":!0,"!":!0},oi={" ":!0,"	":!0,"\n":!0};function bt(c){return c>="a"&&c<="z"||c>="A"&&c<="Z"||c==="_"}function St(c){return c>="0"&&c<="9"||c==="-"}function ai(c){return c>="a"&&c<="z"||c>="A"&&c<="Z"||c>="0"&&c<="9"||c==="_"}function Or(){}Or.prototype={tokenize:function(c){var u=[];this._current=0;for(var h,g,T;this._current<c.length;)if(bt(c[this._current]))h=this._current,g=this._consumeUnquotedIdentifier(c),u.push({type:k,value:g,start:h});else if(on[c[this._current]]!==void 0)u.push({type:on[c[this._current]],value:c[this._current],start:this._current}),this._current++;else if(St(c[this._current]))T=this._consumeNumber(c),u.push(T);else if(c[this._current]==="[")T=this._consumeLBracket(c),u.push(T);else if(c[this._current]==='"')h=this._current,g=this._consumeQuotedIdentifier(c),u.push({type:v,value:g,start:h});else if(c[this._current]==="'")h=this._current,g=this._consumeRawStringLiteral(c),u.push({type:Rt,value:g,start:h});else if(c[this._current]==="`"){h=this._current;var P=this._consumeLiteral(c);u.push({type:Rt,value:P,start:h})}else if(si[c[this._current]]!==void 0)u.push(this._consumeOperator(c));else if(oi[c[this._current]]!==void 0)this._current++;else if(c[this._current]==="&")h=this._current,this._current++,c[this._current]==="&"?(this._current++,u.push({type:le,value:"&&",start:h})):u.push({type:ne,value:"&",start:h});else if(c[this._current]==="|")h=this._current,this._current++,c[this._current]==="|"?(this._current++,u.push({type:he,value:"||",start:h})):u.push({type:ve,value:"|",start:h});else{var q=new Error("Unknown character:"+c[this._current]);throw q.name="LexerError",q}return u},_consumeUnquotedIdentifier:function(c){var u=this._current;for(this._current++;this._current<c.length&&ai(c[this._current]);)this._current++;return c.slice(u,this._current)},_consumeQuotedIdentifier:function(c){var u=this._current;this._current++;for(var h=c.length;c[this._current]!=='"'&&this._current<h;){var g=this._current;c[g]==="\\"&&(c[g+1]==="\\"||c[g+1]==='"')?g+=2:g++,this._current=g}return this._current++,JSON.parse(c.slice(u,this._current))},_consumeRawStringLiteral:function(c){var u=this._current;this._current++;for(var h=c.length;c[this._current]!=="'"&&this._current<h;){var g=this._current;c[g]==="\\"&&(c[g+1]==="\\"||c[g+1]==="'")?g+=2:g++,this._current=g}this._current++;var T=c.slice(u+1,this._current-1);return T.replace("\\'","'")},_consumeNumber:function(c){var u=this._current;this._current++;for(var h=c.length;St(c[this._current])&&this._current<h;)this._current++;var g=parseInt(c.slice(u,this._current));return{type:Q,value:g,start:u}},_consumeLBracket:function(c){var u=this._current;return this._current++,c[this._current]==="?"?(this._current++,{type:Ie,value:"[?",start:u}):c[this._current]==="]"?(this._current++,{type:Re,value:"[]",start:u}):{type:$e,value:"[",start:u}},_consumeOperator:function(c){var u=this._current,h=c[u];if(this._current++,h==="!")return c[this._current]==="="?(this._current++,{type:Ge,value:"!=",start:u}):{type:nt,value:"!",start:u};if(h==="<")return c[this._current]==="="?(this._current++,{type:de,value:"<=",start:u}):{type:Ae,value:"<",start:u};if(h===">")return c[this._current]==="="?(this._current++,{type:Oe,value:">=",start:u}):{type:Te,value:">",start:u};if(h==="="&&c[this._current]==="=")return this._current++,{type:ye,value:"==",start:u}},_consumeLiteral:function(c){this._current++;for(var u=this._current,h=c.length,g;c[this._current]!=="`"&&this._current<h;){var T=this._current;c[T]==="\\"&&(c[T+1]==="\\"||c[T+1]==="`")?T+=2:T++,this._current=T}var P=a(c.slice(u,this._current));return P=P.replace("\\`","`"),this._looksLikeJSON(P)?g=JSON.parse(P):g=JSON.parse('"'+P+'"'),this._current++,g},_looksLikeJSON:function(c){var u='[{"',h=["true","false","null"],g="-0123456789";if(c==="")return!1;if(u.indexOf(c[0])>=0)return!0;if(h.indexOf(c)>=0)return!0;if(g.indexOf(c[0])>=0)try{return JSON.parse(c),!0}catch(T){return!1}else return!1}};var z={};z[J]=0,z[k]=0,z[v]=0,z[p]=0,z[b]=0,z[F]=0,z[M]=0,z[Q]=0,z[G]=0,z[ne]=0,z[ve]=1,z[he]=2,z[le]=3,z[ye]=5,z[Te]=5,z[Ae]=5,z[Oe]=5,z[de]=5,z[Ge]=5,z[Re]=9,z[Pe]=20,z[Ie]=21,z[Ve]=40,z[nt]=45,z[je]=50,z[$e]=55,z[Ut]=60;function nr(){}nr.prototype={parse:function(c){this._loadTokens(c),this.index=0;var u=this.expression(0);if(this._lookahead(0)!==J){var h=this._lookaheadToken(0),g=new Error("Unexpected token type: "+h.type+", value: "+h.value);throw g.name="ParserError",g}return u},_loadTokens:function(c){var u=new Or(),h=u.tokenize(c);h.push({type:J,value:"",start:c.length}),this.tokens=h},expression:function(c){var u=this._lookaheadToken(0);this._advance();for(var h=this.nud(u),g=this._lookahead(0);c<z[g];)this._advance(),h=this.led(g,h),g=this._lookahead(0);return h},_lookahead:function(c){return this.tokens[this.index+c].type},_lookaheadToken:function(c){return this.tokens[this.index+c]},_advance:function(){this.index++},nud:function(c){var u,h,g;switch(c.type){case Rt:return{type:"Literal",value:c.value};case k:return{type:"Field",name:c.value};case v:var T={type:"Field",name:c.value};if(this._lookahead(0)===Ut)throw new Error("Quoted identifier not allowed for function names.");return T;break;case nt:return h=this.expression(z.Not),{type:"NotExpression",children:[h]};case Pe:return u={type:"Identity"},h=null,this._lookahead(0)===p?h={type:"Identity"}:h=this._parseProjectionRHS(z.Star),{type:"ValueProjection",children:[u,h]};case Ie:return this.led(c.type,{type:"Identity"});case je:return this._parseMultiselectHash();case Re:return u={type:Re,children:[{type:"Identity"}]},h=this._parseProjectionRHS(z.Flatten),{type:"Projection",children:[u,h]};case $e:if(this._lookahead(0)===Q||this._lookahead(0)===w)return h=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},h);return this._lookahead(0)===Pe&&this._lookahead(1)===p?(this._advance(),this._advance(),h=this._parseProjectionRHS(z.Star),{type:"Projection",children:[{type:"Identity"},h]}):this._parseMultiselectList();break;case G:return{type:G};case ne:return g=this.expression(z.Expref),{type:"ExpressionReference",children:[g]};case Ut:for(var P=[];this._lookahead(0)!==b;)this._lookahead(0)===G?(g={type:G},this._advance()):g=this.expression(0),P.push(g);return this._match(b),P[0];default:this._errorToken(c)}},led:function(c,u){var h;switch(c){case Ve:var g=z.Dot;if(this._lookahead(0)!==Pe)return h=this._parseDotRHS(g),{type:"Subexpression",children:[u,h]};return this._advance(),h=this._parseProjectionRHS(g),{type:"ValueProjection",children:[u,h]};break;case ve:return h=this.expression(z.Pipe),{type:ve,children:[u,h]};case he:return h=this.expression(z.Or),{type:"OrExpression",children:[u,h]};case le:return h=this.expression(z.And),{type:"AndExpression",children:[u,h]};case Ut:for(var T=u.name,P=[],q,X;this._lookahead(0)!==b;)this._lookahead(0)===G?(q={type:G},this._advance()):q=this.expression(0),this._lookahead(0)===F&&this._match(F),P.push(q);return this._match(b),X={type:"Function",name:T,children:P},X;case Ie:var pe=this.expression(0);return this._match(p),this._lookahead(0)===Re?h={type:"Identity"}:h=this._parseProjectionRHS(z.Filter),{type:"FilterProjection",children:[u,h,pe]};case Re:var jt={type:Re,children:[u]},Ce=this._parseProjectionRHS(z.Flatten);return{type:"Projection",children:[jt,Ce]};case ye:case Ge:case Te:case Oe:case Ae:case de:return this._parseComparator(u,c);case $e:var Y=this._lookaheadToken(0);if(Y.type===Q||Y.type===w)return h=this._parseIndexExpression(),this._projectIfSlice(u,h);return this._match(Pe),this._match(p),h=this._parseProjectionRHS(z.Star),{type:"Projection",children:[u,h]};break;default:this._errorToken(this._lookaheadToken(0))}},_match:function(c){if(this._lookahead(0)===c)this._advance();else{var u=this._lookaheadToken(0),h=new Error("Expected "+c+", got: "+u.type);throw h.name="ParserError",h}},_errorToken:function(c){var u=new Error("Invalid token ("+c.type+'): "'+c.value+'"');throw u.name="ParserError",u},_parseIndexExpression:function(){if(this._lookahead(0)===w||this._lookahead(1)===w)return this._parseSliceExpression();var c={type:"Index",value:this._lookaheadToken(0).value};return this._advance(),this._match(p),c},_projectIfSlice:function(c,u){var h={type:"IndexExpression",children:[c,u]};return u.type==="Slice"?{type:"Projection",children:[h,this._parseProjectionRHS(z.Star)]}:h},_parseSliceExpression:function(){for(var c=[null,null,null],u=0,h=this._lookahead(0);h!==p&&u<3;){if(h===w)u++,this._advance();else if(h===Q)c[u]=this._lookaheadToken(0).value,this._advance();else{var g=this._lookahead(0),T=new Error("Syntax error, unexpected token: "+g.value+"("+g.type+")");throw T.name="Parsererror",T}h=this._lookahead(0)}return this._match(p),{type:"Slice",children:c}},_parseComparator:function(c,u){var h=this.expression(z[u]);return{type:"Comparator",name:u,children:[c,h]}},_parseDotRHS:function(c){var u=this._lookahead(0),h=[k,v,Pe];if(h.indexOf(u)>=0)return this.expression(c);if(u===$e)return this._match($e),this._parseMultiselectList();if(u===je)return this._match(je),this._parseMultiselectHash()},_parseProjectionRHS:function(c){var u;if(z[this._lookahead(0)]<10)u={type:"Identity"};else if(this._lookahead(0)===$e)u=this.expression(c);else if(this._lookahead(0)===Ie)u=this.expression(c);else if(this._lookahead(0)===Ve)this._match(Ve),u=this._parseDotRHS(c);else{var h=this._lookaheadToken(0),g=new Error("Sytanx error, unexpected token: "+h.value+"("+h.type+")");throw g.name="ParserError",g}return u},_parseMultiselectList:function(){for(var c=[];this._lookahead(0)!==p;){var u=this.expression(0);if(c.push(u),this._lookahead(0)===F&&(this._match(F),this._lookahead(0)===p))throw new Error("Unexpected token Rbracket")}return this._match(p),{type:"MultiSelectList",children:c}},_parseMultiselectHash:function(){for(var c=[],u=[k,v],h,g,T,P;;){if(h=this._lookaheadToken(0),u.indexOf(h.type)<0)throw new Error("Expecting an identifier token, got: "+h.type);if(g=h.value,this._advance(),this._match(w),T=this.expression(0),P={type:"KeyValuePair",name:g,value:T},c.push(P),this._lookahead(0)===F)this._match(F);else if(this._lookahead(0)===M){this._match(M);break}}return{type:"MultiSelectHash",children:c}}};function ct(c){this.runtime=c}ct.prototype={search:function(c,u){return this.visit(c,u)},visit:function(c,u){var h,g,T,P,q,X,pe,jt,Ce,Y;switch(c.type){case"Field":if(u===null)return null;return r(u)?(X=u[c.name],X===void 0?null:X):null;break;case"Subexpression":for(T=this.visit(c.children[0],u),Y=1;Y<c.children.length;Y++)if(T=this.visit(c.children[1],T),T===null)return null;return T;case"IndexExpression":return pe=this.visit(c.children[0],u),jt=this.visit(c.children[1],pe),jt;case"Index":if(!t(u))return null;var lt=c.value;return lt<0&&(lt=u.length+lt),T=u[lt],T===void 0&&(T=null),T;case"Slice":if(!t(u))return null;var Sf=c.children.slice(0),ci=this.computeSliceParams(u.length,Sf),Ko=ci[0],Jo=ci[1],li=ci[2];if(T=[],li>0)for(Y=Ko;Y<Jo;Y+=li)T.push(u[Y]);else for(Y=Ko;Y>Jo;Y+=li)T.push(u[Y]);return T;case"Projection":var Ye=this.visit(c.children[0],u);if(!t(Ye))return null;for(Ce=[],Y=0;Y<Ye.length;Y++)g=this.visit(c.children[1],Ye[Y]),g!==null&&Ce.push(g);return Ce;case"ValueProjection":if(Ye=this.visit(c.children[0],u),!r(Ye))return null;Ce=[];var Qo=s(Ye);for(Y=0;Y<Qo.length;Y++)g=this.visit(c.children[1],Qo[Y]),g!==null&&Ce.push(g);return Ce;case"FilterProjection":if(Ye=this.visit(c.children[0],u),!t(Ye))return null;var ui=[],Zo=[];for(Y=0;Y<Ye.length;Y++)h=this.visit(c.children[2],Ye[Y]),i(h)||ui.push(Ye[Y]);for(var hi=0;hi<ui.length;hi++)g=this.visit(c.children[1],ui[hi]),g!==null&&Zo.push(g);return Zo;case"Comparator":P=this.visit(c.children[0],u),q=this.visit(c.children[1],u);switch(c.name){case ye:T=n(P,q);break;case Ge:T=!n(P,q);break;case Te:T=P>q;break;case Oe:T=P>=q;break;case Ae:T=P<q;break;case de:T=P<=q;break;default:throw new Error("Unknown comparator: "+c.name)}return T;case Re:var fi=this.visit(c.children[0],u);if(!t(fi))return null;var an=[];for(Y=0;Y<fi.length;Y++)g=fi[Y],t(g)?an.push.apply(an,g):an.push(g);return an;case"Identity":return u;case"MultiSelectList":if(u===null)return null;for(Ce=[],Y=0;Y<c.children.length;Y++)Ce.push(this.visit(c.children[Y],u));return Ce;case"MultiSelectHash":if(u===null)return null;Ce={};var di;for(Y=0;Y<c.children.length;Y++)di=c.children[Y],Ce[di.name]=this.visit(di.value,u);return Ce;case"OrExpression":return h=this.visit(c.children[0],u),i(h)&&(h=this.visit(c.children[1],u)),h;case"AndExpression":return P=this.visit(c.children[0],u),i(P)===!0?P:this.visit(c.children[1],u);case"NotExpression":return P=this.visit(c.children[0],u),i(P);case"Literal":return c.value;case ve:return pe=this.visit(c.children[0],u),this.visit(c.children[1],pe);case G:return u;case"Function":var ea=[];for(Y=0;Y<c.children.length;Y++)ea.push(this.visit(c.children[Y],u));return this.runtime.callFunction(c.name,ea);case"ExpressionReference":var ta=c.children[0];return ta.jmespathType=ne,ta;default:throw new Error("Unknown node type: "+c.type)}},computeSliceParams:function(c,u){var h=u[0],g=u[1],T=u[2],P=[null,null,null];if(T===null)T=1;else if(T===0){var q=new Error("Invalid slice, step cannot be 0");throw q.name="RuntimeError",q}var X=T<0;return h===null?h=X?c-1:0:h=this.capSliceRange(c,h,T),g===null?g=X?-1:c:g=this.capSliceRange(c,g,T),P[0]=h,P[1]=g,P[2]=T,P},capSliceRange:function(c,u,h){return u<0?(u+=c,u<0&&(u=h<0?-1:0)):u>=c&&(u=h<0?c-1:c),u}};function m(c){this._interpreter=c,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[l]}]},avg:{_func:this._functionAvg,_signature:[{types:[W]}]},ceil:{_func:this._functionCeil,_signature:[{types:[l]}]},contains:{_func:this._functionContains,_signature:[{types:[d,E]},{types:[f]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[d]},{types:[d]}]},floor:{_func:this._functionFloor,_signature:[{types:[l]}]},length:{_func:this._functionLength,_signature:[{types:[d,E,y]}]},map:{_func:this._functionMap,_signature:[{types:[_]},{types:[E]}]},max:{_func:this._functionMax,_signature:[{types:[W,D]}]},merge:{_func:this._functionMerge,_signature:[{types:[y],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[E]},{types:[_]}]},sum:{_func:this._functionSum,_signature:[{types:[W]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[d]},{types:[d]}]},min:{_func:this._functionMin,_signature:[{types:[W,D]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[E]},{types:[_]}]},type:{_func:this._functionType,_signature:[{types:[f]}]},keys:{_func:this._functionKeys,_signature:[{types:[y]}]},values:{_func:this._functionValues,_signature:[{types:[y]}]},sort:{_func:this._functionSort,_signature:[{types:[D,W]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[E]},{types:[_]}]},join:{_func:this._functionJoin,_signature:[{types:[d]},{types:[D]}]},reverse:{_func:this._functionReverse,_signature:[{types:[d,E]}]},to_array:{_func:this._functionToArray,_signature:[{types:[f]}]},to_string:{_func:this._functionToString,_signature:[{types:[f]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[f]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[f],variadic:!0}]}}}m.prototype={callFunction:function(c,u){var h=this.functionTable[c];if(h===void 0)throw new Error("Unknown function: "+c+"()");return this._validateArgs(c,u,h._signature),h._func.call(this,u)},_validateArgs:function(c,u,h){var g;if(h[h.length-1].variadic){if(u.length<h.length)throw g=h.length===1?" argument":" arguments",new Error("ArgumentError: "+c+"() takes at least"+h.length+g+" but received "+u.length)}else if(u.length!==h.length)throw g=h.length===1?" argument":" arguments",new Error("ArgumentError: "+c+"() takes "+h.length+g+" but received "+u.length);for(var T,P,q,X=0;X<h.length;X++){q=!1,T=h[X].types,P=this._getTypeName(u[X]);for(var pe=0;pe<T.length;pe++)if(this._typeMatches(P,T[pe],u[X])){q=!0;break}if(!q)throw new Error("TypeError: "+c+"() expected argument "+(X+1)+" to be type "+T+" but received type "+P+" instead.")}},_typeMatches:function(c,u,h){if(u===f)return!0;if(u===D||u===W||u===E){if(u===E)return c===E;if(c===E){var g;u===W?g=l:u===D&&(g=d);for(var T=0;T<h.length;T++)if(!this._typeMatches(this._getTypeName(h[T]),g,h[T]))return!1;return!0}}else return c===u},_getTypeName:function(c){switch(Object.prototype.toString.call(c)){case"[object String]":return d;case"[object Number]":return l;case"[object Array]":return E;case"[object Boolean]":return L;case"[object Null]":return B;case"[object Object]":return c.jmespathType===ne?_:y}},_functionStartsWith:function(c){return c[0].lastIndexOf(c[1])===0},_functionEndsWith:function(c){var u=c[0],h=c[1];return u.indexOf(h,u.length-h.length)!==-1},_functionReverse:function(c){var u=this._getTypeName(c[0]);if(u===d){for(var h=c[0],g="",T=h.length-1;T>=0;T--)g+=h[T];return g}else{var P=c[0].slice(0);return P.reverse(),P}},_functionAbs:function(c){return Math.abs(c[0])},_functionCeil:function(c){return Math.ceil(c[0])},_functionAvg:function(c){for(var u=0,h=c[0],g=0;g<h.length;g++)u+=h[g];return u/h.length},_functionContains:function(c){return c[0].indexOf(c[1])>=0},_functionFloor:function(c){return Math.floor(c[0])},_functionLength:function(c){return r(c[0])?Object.keys(c[0]).length:c[0].length},_functionMap:function(c){for(var u=[],h=this._interpreter,g=c[0],T=c[1],P=0;P<T.length;P++)u.push(h.visit(g,T[P]));return u},_functionMerge:function(c){for(var u={},h=0;h<c.length;h++){var g=c[h];for(var T in g)u[T]=g[T]}return u},_functionMax:function(c){if(c[0].length>0){var u=this._getTypeName(c[0][0]);if(u===l)return Math.max.apply(Math,c[0]);for(var h=c[0],g=h[0],T=1;T<h.length;T++)g.localeCompare(h[T])<0&&(g=h[T]);return g}else return null},_functionMin:function(c){if(c[0].length>0){var u=this._getTypeName(c[0][0]);if(u===l)return Math.min.apply(Math,c[0]);for(var h=c[0],g=h[0],T=1;T<h.length;T++)h[T].localeCompare(g)<0&&(g=h[T]);return g}else return null},_functionSum:function(c){for(var u=0,h=c[0],g=0;g<h.length;g++)u+=h[g];return u},_functionType:function(c){switch(this._getTypeName(c[0])){case l:return"number";case d:return"string";case E:return"array";case y:return"object";case L:return"boolean";case _:return"expref";case B:return"null"}},_functionKeys:function(c){return Object.keys(c[0])},_functionValues:function(c){for(var u=c[0],h=Object.keys(u),g=[],T=0;T<h.length;T++)g.push(u[h[T]]);return g},_functionJoin:function(c){var u=c[0],h=c[1];return h.join(u)},_functionToArray:function(c){return this._getTypeName(c[0])===E?c[0]:[c[0]]},_functionToString:function(c){return this._getTypeName(c[0])===d?c[0]:JSON.stringify(c[0])},_functionToNumber:function(c){var u=this._getTypeName(c[0]),h;return u===l?c[0]:u===d&&(h=+c[0],!isNaN(h))?h:null},_functionNotNull:function(c){for(var u=0;u<c.length;u++)if(this._getTypeName(c[u])!==B)return c[u];return null},_functionSort:function(c){var u=c[0].slice(0);return u.sort(),u},_functionSortBy:function(c){var u=c[0].slice(0);if(u.length===0)return u;var h=this._interpreter,g=c[1],T=this._getTypeName(h.visit(g,u[0]));if([l,d].indexOf(T)<0)throw new Error("TypeError");for(var P=this,q=[],X=0;X<u.length;X++)q.push([X,u[X]]);q.sort(function(jt,Ce){var Y=h.visit(g,jt[1]),lt=h.visit(g,Ce[1]);if(P._getTypeName(Y)!==T)throw new Error("TypeError: expected "+T+", received "+P._getTypeName(Y));if(P._getTypeName(lt)!==T)throw new Error("TypeError: expected "+T+", received "+P._getTypeName(lt));return Y>lt?1:Y<lt?-1:jt[0]-Ce[0]});for(var pe=0;pe<q.length;pe++)u[pe]=q[pe][1];return u},_functionMaxBy:function(c){for(var u=c[1],h=c[0],g=this.createKeyFunction(u,[l,d]),T=-Infinity,P,q,X=0;X<h.length;X++)q=g(h[X]),q>T&&(T=q,P=h[X]);return P},_functionMinBy:function(c){for(var u=c[1],h=c[0],g=this.createKeyFunction(u,[l,d]),T=Infinity,P,q,X=0;X<h.length;X++)q=g(h[X]),q<T&&(T=q,P=h[X]);return P},createKeyFunction:function(c,u){var h=this,g=this._interpreter,T=function(P){var q=g.visit(c,P);if(u.indexOf(h._getTypeName(q))<0){var X="TypeError: expected one of "+u+", received "+h._getTypeName(q);throw new Error(X)}return q};return T}};function C(c){var u=new nr(),h=u.parse(c);return h}function x(c){var u=new Or();return u.tokenize(c)}function H(c,u){var h=new nr(),g=new m(),T=new ct(g);g._interpreter=T;var P=h.parse(u);return T.search(P,c)}e.tokenize=x,e.compile=C,e.search=H,e.strictDeepEqual=n})(typeof Kn=="undefined"?Kn.jmespath={}:Kn)});var Jn=I((NS,ju)=>{"use strict";ju.exports={DATE_FORMAT:"yyyy-mm-dd HH:MM:ss.l o",ERROR_LIKE_KEYS:["err","error"],MESSAGE_KEY:"msg",LEVEL_KEY:"level",TIMESTAMP_KEY:"time",LEVELS:{default:"USERLVL",60:"FATAL",50:"ERROR",40:"WARN ",30:"INFO ",20:"DEBUG",10:"TRACE"},LEVEL_NAMES:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},LOGGER_KEYS:["pid","hostname","name","level","time","timestamp","v","caller"]}});var vo=I((_S,Wu)=>{"use strict";const{LEVELS:Qn,LEVEL_NAMES:Wy}=Jn(),Mt=e=>e,Hu={default:Mt,60:Mt,50:Mt,40:Mt,30:Mt,20:Mt,10:Mt,message:Mt},Hy=Eo(),qt=new Hy.Instance({level:3}),Bu={default:qt.white,60:qt.bgRed,50:qt.red,40:qt.yellow,30:qt.green,20:qt.blue,10:qt.grey,message:qt.cyan};function Gu(e,t){if(Number.isInteger(+e))return Object.prototype.hasOwnProperty.call(Qn,e)?t[e](Qn[e]):t.default(Qn.default);const r=Wy[e.toLowerCase()]||"default";return t[r](Qn[r])}function Vu(e){return Gu(e,Hu)}Vu.message=Hu.message;function $u(e){return Gu(e,Bu)}$u.message=Bu.message;Wu.exports=function(t=!1){return t?$u:Vu}});var Xu=I((yo,zu)=>{(function(e){"use strict";var t=function(){var o=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,a=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,l=/[^-+\dA-Z]/g;return function(f,d,E,y){if(arguments.length===1&&s(f)==="string"&&!/\d/.test(f)&&(d=f,f=void 0),f=f||new Date(),f instanceof Date||(f=new Date(f)),isNaN(f))throw TypeError("Invalid date");d=String(t.masks[d]||d||t.masks.default);var L=d.slice(0,4);(L==="UTC:"||L==="GMT:")&&(d=d.slice(4),E=!0,L==="GMT:"&&(y=!0));var _=E?"getUTC":"get",B=f[_+"Date"](),W=f[_+"Day"](),D=f[_+"Month"](),J=f[_+"FullYear"](),k=f[_+"Hours"](),v=f[_+"Minutes"](),p=f[_+"Seconds"](),b=f[_+"Milliseconds"](),F=E?0:f.getTimezoneOffset(),w=n(f),M=i(f),Q={d:B,dd:r(B),ddd:t.i18n.dayNames[W],dddd:t.i18n.dayNames[W+7],m:D+1,mm:r(D+1),mmm:t.i18n.monthNames[D],mmmm:t.i18n.monthNames[D+12],yy:String(J).slice(2),yyyy:J,h:k%12||12,hh:r(k%12||12),H:k,HH:r(k),M:v,MM:r(v),s:p,ss:r(p),l:r(b,3),L:r(Math.round(b/10)),t:k<12?t.i18n.timeNames[0]:t.i18n.timeNames[1],tt:k<12?t.i18n.timeNames[2]:t.i18n.timeNames[3],T:k<12?t.i18n.timeNames[4]:t.i18n.timeNames[5],TT:k<12?t.i18n.timeNames[6]:t.i18n.timeNames[7],Z:y?"GMT":E?"UTC":(String(f).match(a)||[""]).pop().replace(l,""),o:(F>0?"-":"+")+r(Math.floor(Math.abs(F)/60)*100+Math.abs(F)%60,4),S:["th","st","nd","rd"][B%10>3?0:(B%100-B%10!=10)*B%10],W:w,N:M};return d.replace(o,function(G){return G in Q?Q[G]:G.slice(1,G.length-1)})}}();t.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},t.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]};function r(o,a){for(o=String(o),a=a||2;o.length<a;)o="0"+o;return o}function n(o){var a=new Date(o.getFullYear(),o.getMonth(),o.getDate());a.setDate(a.getDate()-(a.getDay()+6)%7+3);var l=new Date(a.getFullYear(),0,4);l.setDate(l.getDate()-(l.getDay()+6)%7+3);var f=a.getTimezoneOffset()-l.getTimezoneOffset();a.setHours(a.getHours()-f);var d=(a-l)/(864e5*7);return 1+Math.floor(d)}function i(o){var a=o.getDay();return a===0&&(a=7),a}function s(o){return o===null?"null":o===void 0?"undefined":typeof o!="object"?typeof o:Array.isArray(o)?"array":{}.toString.call(o).slice(8,-1).toLowerCase()}typeof define=="function"&&define.amd?define(function(){return t}):typeof yo=="object"?zu.exports=t:e.dateFormat=t})(yo)});var nh=I((OS,To)=>{"use strict";const Zr=Xu(),By=oo(),Yu=vo()(),{DATE_FORMAT:Ku,ERROR_LIKE_KEYS:Ju,MESSAGE_KEY:Qu,LEVEL_KEY:Gy,TIMESTAMP_KEY:Vy,LOGGER_KEYS:Zu}=Jn();To.exports={isObject:eh,prettifyErrorLog:$y,prettifyLevel:zy,prettifyMessage:Xy,prettifyMetadata:Yy,prettifyObject:th,prettifyTime:Ky};To.exports.internals={formatTime:rh,joinLinesWithIndentation:Ro};function rh(e,t=!1){if(t===!1)return e;const r=new Date(e);if(t===!0)return Zr(r,"UTC:"+Ku);const n=t.toUpperCase();if(n==="SYS:STANDARD")return Zr(r,Ku);const i=n.substr(0,4);return i==="SYS:"||i==="UTC:"?i==="UTC:"?Zr(r,t):Zr(r,t.slice(4)):Zr(r,`UTC:${t}`)}function eh(e){return Object.prototype.toString.apply(e)==="[object Object]"}function Ro({input:e,ident:t="    ",eol:r=`
`}){const n=e.split(/\r?\n/);for(var i=1;i<n.length;i+=1)n[i]=t+n[i];return n.join(r)}function $y({log:e,messageKey:t=Qu,ident:r="    ",eol:n=`
`,errorLikeKeys:i=Ju,errorProperties:s=[]}){const o=e.stack,a=Ro({input:o,ident:r,eol:n});let l=`${r}${a}${n}`;if(s.length>0){const d=Zu.concat(t,"type","stack");let E;s[0]==="*"?E=Object.keys(e).filter(y=>d.includes(y)===!1):E=s.filter(y=>d.includes(y)===!1);for(var f=0;f<E.length;f+=1){const y=E[f];if(y in e===!1)continue;if(eh(e[y])){const L=th({input:e[y],errorLikeKeys:i,excludeLoggerKeys:!1,eol:n,ident:r});l=`${l}${y}: {${n}${L}}${n}`;continue}l=`${l}${y}: ${e[y]}${n}`}}return l}function zy({log:e,colorizer:t=Yu,levelKey:r=Gy}){return r in e===!1?void 0:t(e[r])}function Xy({log:e,messageFormat:t,messageKey:r=Qu,colorizer:n=Yu}){if(t){const i=String(t).replace(/{([^{}]+)}/g,function(s,o){return o&&e[o]?e[o]:""});return n.message(i)}return r in e===!1||typeof e[r]!="string"?void 0:n.message(e[r])}function Yy({log:e}){let t="";return(e.name||e.pid||e.hostname)&&(t+="(",e.name&&(t+=e.name),e.name&&e.pid?t+="/"+e.pid:e.pid&&(t+=e.pid),e.hostname&&(t+=`${t==="("?"on":" on"} ${e.hostname}`),t+=")"),e.caller&&(t+=`${t===""?"":" "}<${e.caller}>`),t===""?void 0:t}function th({input:e,ident:t="    ",eol:r=`
`,skipKeys:n=[],customPrettifiers:i={},errorLikeKeys:s=Ju,excludeLoggerKeys:o=!0}){const a=Object.keys(e),l=[].concat(n);o===!0&&Array.prototype.push.apply(l,Zu);let f="";const d=a.filter(L=>l.includes(L)===!1);for(var E=0;E<a.length;E+=1){const L=d[E],_=e[L];if(_===void 0)continue;let B;if(typeof i[L]=="function"?B=i[L](_,L,e):B=By(_,null,2),B===void 0)continue;const W=Ro({input:B,ident:t,eol:r});if(s.includes(L)===!0){const D=`${t}${L}: ${W}${r}`.split(r);for(var y=0;y<D.length;y+=1){y!==0&&(f+=r);const J=D[y];if(/^\s*"stack"/.test(J)){const k=/^(\s*"stack":)\s*(".*"),?$/.exec(J);if(k&&k.length===3){const v=/^\s*/.exec(J)[0].length+4,p=" ".repeat(v),b=k[2];f+=k[1]+r+p+JSON.parse(b).replace(/\n/g,r+p)}}else f+=J}}else f+=`${t}${L}: ${W}${r}`}return f}function Ky({log:e,timestampKey:t=Vy,translateFormat:r=void 0}){let n=null;return t in e?n=e[t]:"timestamp"in e&&(n=e.timestamp),n===null?void 0:r?"["+rh(n,r)+"]":`[${n}]`}});var ih=I(Nr=>{"use strict";const Jy={suspectRx:/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*\:/};Nr.parse=function(e,...t){const r=typeof t[0]=="object"&&t[0],n=t.length>1||!r?t[0]:void 0,i=t.length>1&&t[1]||r||{},s=JSON.parse(e,n);return i.protoAction==="ignore"||(!s||typeof s!="object"||e.match(Jy.suspectRx)&&Nr.scan(s,i)),s};Nr.scan=function(e,t={}){let r=[e];for(;r.length;){const n=r;r=[];for(const i of n){if(Object.prototype.hasOwnProperty.call(i,"__proto__")){if(t.protoAction!=="remove")throw new SyntaxError("Object contains forbidden prototype property");delete i.__proto__}for(const s in i){const o=i[s];o&&typeof o=="object"&&r.push(i[s])}}}};Nr.safeParse=function(e,t){try{return Nr.parse(e,t)}catch(r){return null}}});var ah=I((CS,sh)=>{"use strict";const Qy=Eo(),Zy=Uu(),eT=vo(),{ERROR_LIKE_KEYS:tT,MESSAGE_KEY:rT,TIMESTAMP_KEY:nT}=Jn(),{isObject:oh,prettifyErrorLog:iT,prettifyLevel:sT,prettifyMessage:oT,prettifyMetadata:aT,prettifyObject:cT,prettifyTime:lT}=nh(),uT=ih(),hT=e=>{try{return{value:uT.parse(e,{protoAction:"remove"})}}catch(t){return{err:t}}},fT={colorize:Qy.supportsColor,crlf:!1,errorLikeObjectKeys:tT,errorProps:"",levelFirst:!1,messageKey:rT,messageFormat:!1,timestampKey:nT,translateTime:!1,useMetadata:!1,outputStream:process.stdout,customPrettifiers:{}};sh.exports=function(t){const r=Object.assign({},fT,t),n=r.crlf?`\r
`:`
`,i="    ",s=r.messageKey,o=r.levelKey,a=r.messageFormat,l=r.timestampKey,f=r.errorLikeObjectKeys,d=r.errorProps.split(","),E=r.customPrettifiers,y=r.ignore?new Set(r.ignore.split(",")):void 0,L=eT(r.colorize),_=r.search;return B;function B(W){let D;if(oh(W))D=W;else{const F=hT(W);if(F.err||!oh(F.value))return W+n;D=F.value}if(_&&!Zy.search(D,_))return;const J=oT({log:D,messageKey:s,colorizer:L,messageFormat:a});y&&(D=Object.keys(D).filter(F=>!y.has(F)).reduce((F,w)=>(F[w]=D[w],F),{}));const k=sT({log:D,colorizer:L,levelKey:o}),v=aT({log:D}),p=lT({log:D,translateFormat:r.translateTime,timestampKey:l});let b="";if(r.levelFirst&&k&&(b=`${k}`),p&&b===""?b=`${p}`:p&&(b=`${b} ${p}`),!r.levelFirst&&k&&(b.length>0?b=`${b} ${k}`:b=k),v&&(b=`${b} ${v}:`),b.endsWith(":")===!1&&b!==""&&(b+=":"),J&&(b=`${b} ${J}`),b.length>0&&(b+=n),D.type==="Error"&&D.stack){const F=iT({log:D,errorLikeKeys:f,errorProperties:d,ident:i,eol:n});b+=F}else{const F=[s,o,l].filter(M=>typeof D[M]=="string"||typeof D[M]=="number"),w=cT({input:D,skipKeys:F,customPrettifiers:E,errorLikeKeys:f,eol:n,ident:i});b+=w}return b}}});var ei=I((wS,ch)=>{"use strict";const lh=nu(),{mapHttpRequest:dT,mapHttpResponse:pT}=Xs(),uh=no(),mT=oo(),{lsCacheSym:gT,chindingsSym:bo,parsedChindingsSym:So,writeSym:hh,serializersSym:No,formatOptsSym:fh,endSym:ET,stringifiersSym:_o,stringifySym:dh,wildcardFirstSym:ph,needsMetadataGsym:mh,redactFmtSym:vT,streamSym:yT,nestedKeySym:gh,formattersSym:Oo,messageKeySym:Eh}=vr();function en(){}function TT(e,t){if(!t)return r;return function(...i){t.call(this,i,r)};function r(n,...i){if(typeof n=="object"){var s=n;n!==null&&(n.method&&n.headers&&n.socket?n=dT(n):typeof n.setHeader=="function"&&(n=pT(n))),this[gh]&&(n={[this[gh]]:n});var o;s===null&&i.length===0?o=[null]:(s=i.shift(),o=i),this[hh](n,lh(s,o,this[fh]),e)}else this[hh](null,lh(n,i,this[fh]),e)}}function RT(e){var t="",r=0,n=!1,i=255;const s=e.length;if(s>100)return JSON.stringify(e);for(var o=0;o<s&&i>=32;o++)i=e.charCodeAt(o),(i===34||i===92)&&(t+=e.slice(r,o)+"\\",r=o,n=!0);return n?t+=e.slice(r):t=e,i<32?JSON.stringify(e):'"'+t+'"'}function bT(e,t,r,n){const i=this[dh],s=this[_o],o=this[ET],a=this[bo],l=this[No],f=this[Oo],d=this[Eh];var E=this[gT][r]+n;E=E+a;var y,L=e.hasOwnProperty===void 0;f.log&&(e=f.log(e)),t!==void 0&&(e[d]=t);const _=s[ph];for(var B in e)if(y=e[B],(L||e.hasOwnProperty(B))&&y!==void 0){y=l[B]?l[B](y):y;const W=s[B]||_;switch(typeof y){case"undefined":case"function":continue;case"number":Number.isFinite(y)===!1&&(y=null);case"boolean":W&&(y=W(y));break;case"string":y=(W||RT)(y);break;default:y=(W||i)(y)}if(y===void 0)continue;E+=',"'+B+'":'+y}return E+o}function ST(e,t){var r,n,i=e[bo];const s=e[dh],o=e[_o],a=o[ph],l=e[No],f=e[Oo].bindings;t=f(t);for(r in t){n=t[r];const d=r!=="level"&&r!=="serializers"&&r!=="formatters"&&r!=="customLevels"&&t.hasOwnProperty(r)&&n!==void 0;if(d===!0){if(n=l[r]?l[r](n):n,n=(o[r]||a||s)(n),n===void 0)continue;i+=',"'+r+'":'+n}}return i}function vh(e,t,r,n){if(t&&typeof t=="function")return t=t.bind(n),Io(t(e),r,e);try{var i=ah();return i.asMetaWrapper=Io,Io(i(e),r,e)}catch(s){throw Error("Missing `pino-pretty` module: `pino-pretty` must be installed separately")}}function Io(e,t,r){r=Object.assign({suppressFlushSyncWarning:!1},r);var n=!1;return{[mh]:!0,lastLevel:0,lastMsg:null,lastObj:null,lastLogger:null,flushSync(){if(r.suppressFlushSyncWarning||n)return;n=!0,yh(t,this),t.write(e(Object.assign({level:40,msg:"pino.final with prettyPrint does not support flushing",time:Date.now()},this.chindings())))},chindings(){const i=this.lastLogger;var s=null;return i?(i.hasOwnProperty(So)?s=i[So]:(s=JSON.parse("{"+i[bo].substr(1)+"}"),i[So]=s),s):null},write(i){const s=this.lastLogger,o=this.chindings();var a=this.lastTime;a.match(/^\d+/)&&(a=parseInt(a));var l=this.lastObj,f=this.lastMsg,d=null;const E=s[Oo],y=E.log?E.log(l):l,L=s[Eh];f&&y&&!y.hasOwnProperty(L)&&(y[L]=f);const _=Object.assign({level:this.lastLevel,time:a},y,d),B=s[No],W=Object.keys(B);for(var D,J=0;J<W.length;J++)D=W[J],_[D]!==void 0&&(_[D]=B[D](_[D]));for(D in o)_.hasOwnProperty(D)||(_[D]=o[D]);const k=s[_o],v=k[vT],p=e(typeof v=="function"?v(_):_);if(p===void 0)return;yh(t,this),t.write(p)}}}function NT(e){return e.write!==e.constructor.prototype.write}function Zn(e){const t=new uh(e);return t.on("error",r),t;function r(n){if(n.code==="EPIPE"){t.write=en,t.end=en,t.flushSync=en,t.destroy=en;return}t.removeListener("error",r),t.emit("error",n)}}function _T(e){return function(r,n={},i){if(typeof n=="string"?(i=Zn({dest:n,sync:!0}),n={}):typeof i=="string"?i=Zn({dest:i,sync:!0}):(n instanceof uh||n.writable||n._writableState)&&(i=n,n=null),n=Object.assign({},e,n),"extreme"in n)throw Error("The extreme option has been removed, use pino.destination({ sync: false }) instead");if("onTerminated"in n)throw Error("The onTerminated option has been removed, use pino.final instead");"changeLevelName"in n&&(process.emitWarning("The changeLevelName option is deprecated and will be removed in v7. Use levelKey instead.",{code:"changeLevelName_deprecation"}),n.levelKey=n.changeLevelName,delete n.changeLevelName);const{enabled:s,prettyPrint:o,prettifier:a,messageKey:l}=n;if(s===!1&&(n.level="silent"),i=i||process.stdout,i===process.stdout&&i.fd>=0&&!NT(i)&&(i=Zn({fd:i.fd,sync:!0})),o){const f=Object.assign({messageKey:l},o);i=vh(f,a,i,r)}return{opts:n,stream:i}}}function OT(e,t){if(typeof e=="undefined"||typeof e.child!="function")throw Error("expected a pino logger instance");const r=typeof t!="undefined";if(r&&typeof t!="function")throw Error("if supplied, the handler parameter should be a function");const n=e[yT];if(typeof n.flushSync!="function")throw Error("final requires a stream that has a flushSync method, such as pino.destination");const i=new Proxy(e,{get:(s,o)=>o in s.levels.values?(...a)=>{s[o](...a),n.flushSync()}:s[o]});return r?(s=null,...o)=>{try{n.flushSync()}catch(a){}return t(s,i,...o)}:i}function IT(e){try{return JSON.stringify(e)}catch(t){return mT(e)}}function CT(e,t,r){return{level:e,bindings:t,log:r}}function yh(e,t){e[mh]===!0&&(e.lastLevel=t.lastLevel,e.lastMsg=t.lastMsg,e.lastObj=t.lastObj,e.lastTime=t.lastTime,e.lastLogger=t.lastLogger)}ch.exports={noop:en,buildSafeSonicBoom:Zn,getPrettyStream:vh,asChindings:ST,asJson:bT,genLog:TT,createArgsNormalizer:_T,final:OT,stringify:IT,buildFormatters:CT}});var Lo=I((LS,Th)=>{"use strict";const wT=Hn(),{lsCacheSym:LT,levelValSym:Co,useOnlyCustomLevelsSym:AT,streamSym:PT,formattersSym:DT,hooksSym:kT}=vr(),{noop:xT,genLog:Zt}=ei(),at={trace:10,debug:20,info:30,warn:40,error:50,fatal:60},Rh={fatal:e=>{const t=Zt(at.fatal,e);return function(...r){const n=this[PT];if(t.call(this,...r),typeof n.flushSync=="function")try{n.flushSync()}catch(i){}}},error:e=>Zt(at.error,e),warn:e=>Zt(at.warn,e),info:e=>Zt(at.info,e),debug:e=>Zt(at.debug,e),trace:e=>Zt(at.trace,e)},wo=Object.keys(at).reduce((e,t)=>(e[at[t]]=t,e),{}),MT=Object.keys(wo).reduce((e,t)=>(e[t]=wT('{"level":'+Number(t)),e),{});function qT(e){const t=e[DT].level,{labels:r}=e.levels,n={};for(const i in r){const s=t(r[i],Number(i));n[i]=JSON.stringify(s).slice(0,-1)}return e[LT]=n,e}function FT(e,t){if(t)return!1;switch(e){case"fatal":case"error":case"warn":case"info":case"debug":case"trace":return!0;default:return!1}}function UT(e){const{labels:t,values:r}=this.levels;if(typeof e=="number"){if(t[e]===void 0)throw Error("unknown level value"+e);e=t[e]}if(r[e]===void 0)throw Error("unknown level "+e);const n=this[Co],i=this[Co]=r[e],s=this[AT],o=this[kT].logMethod;for(var a in r){if(i>r[a]){this[a]=xT;continue}this[a]=FT(a,s)?Rh[a](o):Zt(r[a],o)}this.emit("level-change",e,i,t[n],n)}function jT(e){const{levels:t,levelVal:r}=this;return t&&t.labels?t.labels[r]:""}function WT(e){const{values:t}=this.levels,r=t[e];return r!==void 0&&r>=this[Co]}function HT(e=null,t=!1){const r=e?Object.keys(e).reduce((s,o)=>(s[e[o]]=o,s),{}):null,n=Object.assign(Object.create(Object.prototype,{Infinity:{value:"silent"}}),t?null:wo,r),i=Object.assign(Object.create(Object.prototype,{silent:{value:Infinity}}),t?null:at,e);return{labels:n,values:i}}function BT(e,t,r){if(typeof e=="number"){const i=[].concat(Object.keys(t||{}).map(s=>t[s]),r?[]:Object.keys(wo).map(s=>+s),Infinity);if(!i.includes(e))throw Error(`default level:${e} must be included in custom levels`);return}const n=Object.assign(Object.create(Object.prototype,{silent:{value:Infinity}}),r?null:at,t);if(!(e in n))throw Error(`default level:${e} must be included in custom levels`)}function GT(e,t){const{labels:r,values:n}=e;for(const i in t){if(i in n)throw Error("levels cannot be overridden");if(t[i]in r)throw Error("pre-existing level values cannot be used for new levels")}}Th.exports={initialLsCache:MT,genLsCache:qT,levelMethods:Rh,getLevel:jT,setLevel:UT,isLevelEnabled:WT,mappings:HT,assertNoLevelCollisions:GT,assertDefaultLevelFound:BT}});var Sh=I((AS,bh)=>{bh.exports={name:"pino",version:"6.5.0",description:"super fast, all natural json logger",main:"pino.js",browser:"./browser.js",files:["pino.js","bin.js","browser.js","pretty.js","usage.txt","test","docs","example.js","lib"],scripts:{docs:"docsify serve","browser-test":"airtap --local 8080 test/browser*test.js",test:"standard | snazzy && tap --100 test/*test.js","cov-ui":"tap --coverage-report=html test/*test.js",bench:"node benchmarks/utils/runbench all","bench-basic":"node benchmarks/utils/runbench basic","bench-object":"node benchmarks/utils/runbench object","bench-deep-object":"node benchmarks/utils/runbench deep-object","bench-multi-arg":"node benchmarks/utils/runbench multi-arg","bench-longs-tring":"node benchmarks/utils/runbench long-string","bench-child":"node benchmarks/utils/runbench child","bench-child-child":"node benchmarks/utils/runbench child-child","bench-child-creation":"node benchmarks/utils/runbench child-creation","bench-formatters":"node benchmarks/utils/runbench formatters","update-bench-doc":"node benchmarks/utils/generate-benchmark-doc > docs/benchmarks.md"},bin:{pino:"./bin.js"},precommit:"test",repository:{type:"git",url:"git+https://github.com/pinojs/pino.git"},keywords:["fast","logger","stream","json"],author:"Matteo Collina <hello@matteocollina.com>",contributors:["David Mark Clements <huperekchuno@googlemail.com>","James Sumners <james.sumners@gmail.com>","Thomas Watson Steen <w@tson.dk> (https://twitter.com/wa7son)"],license:"MIT",bugs:{url:"https://github.com/pinojs/pino/issues"},homepage:"http://getpino.io",devDependencies:{airtap:"2.0.2",benchmark:"^2.1.4",bole:"^3.0.2",bunyan:"^1.8.12","docsify-cli":"^4.4.0",execa:"^1.0.0",fastbench:"^1.0.1","flush-write-stream":"^2.0.0","import-fresh":"^3.2.1",log:"^5.0.0",loglevel:"^1.6.7","pino-pretty":"^4.0.0","pre-commit":"^1.2.2",proxyquire:"^2.1.3",pump:"^3.0.0",semver:"^6.3.0",snazzy:"^8.0.0",split2:"^3.1.1",standard:"^14.3.3",steed:"^1.1.3","strip-ansi":"^6.0.0",tap:"^14.10.7",tape:"^4.13.2",through2:"^3.0.1",winston:"^3.2.1"},dependencies:{"fast-redact":"^2.0.0","fast-safe-stringify":"^2.0.7",flatstr:"^1.0.12","pino-std-serializers":"^2.4.2","quick-format-unescaped":"^4.0.1","sonic-boom":"^1.0.0"}}});var Ao=I((PS,Nh)=>{"use strict";const{version:VT}=Sh();Nh.exports={version:VT}});var Dh=I((DS,_h)=>{"use strict";const{EventEmitter:$T}=require("events"),zT=no(),XT=Hn(),{lsCacheSym:YT,levelValSym:KT,setLevelSym:Po,getLevelSym:Oh,chindingsSym:Do,mixinSym:JT,asJsonSym:Ih,writeSym:QT,timeSym:ZT,timeSliceIndexSym:eR,streamSym:Ch,serializersSym:er,formattersSym:ko,useOnlyCustomLevelsSym:tR,needsMetadataGsym:rR}=vr(),{getLevel:nR,setLevel:iR,isLevelEnabled:sR,mappings:oR,initialLsCache:aR,genLsCache:cR,assertNoLevelCollisions:lR}=Lo(),{asChindings:wh,asJson:uR,buildFormatters:Lh}=ei(),{version:hR}=Ao(),fR=class{},Ah={constructor:fR,child:dR,bindings:pR,setBindings:mR,flush:ER,isLevelEnabled:sR,version:hR,get level(){return this[Oh]()},set level(e){this[Po](e)},get levelVal(){return this[KT]},set levelVal(e){throw Error("levelVal is read-only")},[YT]:aR,[QT]:gR,[Ih]:uR,[Oh]:nR,[Po]:iR};Object.setPrototypeOf(Ah,$T.prototype);_h.exports=function(){return Object.create(Ah)};const Ph=e=>e;function dR(e){if(!e)throw Error("missing bindings for child Pino");const t=this[er],r=this[ko],n=Object.create(this);if(e.hasOwnProperty("serializers")===!0){n[er]=Object.create(null);for(var i in t)n[er][i]=t[i];const f=Object.getOwnPropertySymbols(t);for(var s=0;s<f.length;s++){const E=f[s];n[er][E]=t[E]}for(var o in e.serializers)n[er][o]=e.serializers[o];const d=Object.getOwnPropertySymbols(e.serializers);for(var a=0;a<d.length;a++){const E=d[a];n[er][E]=e.serializers[E]}}else n[er]=t;if(e.hasOwnProperty("formatters")){const{level:f,bindings:d,log:E}=e.formatters;n[ko]=Lh(f||r.level,d||Ph,E||r.log)}else n[ko]=Lh(r.level,Ph,r.log);e.hasOwnProperty("customLevels")===!0&&(lR(this.levels,e.customLevels),n.levels=oR(e.customLevels,n[tR]),cR(n)),n[Do]=wh(n,e);const l=e.level||this.level;return n[Po](l),n}function pR(){const e=this[Do];var t=`{${e.substr(1)}}`,r=JSON.parse(t);return delete r.pid,delete r.hostname,r}function mR(e){const t=wh(this,e);this[Do]=t}function gR(e,t,r){const n=this[ZT](),i=this[JT],s=e instanceof Error;var o;e==null?o=i?i():{}:(o=Object.assign(i?i():{},e),!t&&s&&(t=e.message),s&&(o.stack=e.stack,o.type||(o.type="Error")));const a=this[Ih](o,t,r,n),l=this[Ch];l[rR]===!0&&(l.lastLevel=r,l.lastObj=o,l.lastMsg=t,l.lastTime=n.slice(this[eR]),l.lastLogger=this),l instanceof zT?l.write(a):l.write(XT(a))}function ER(){const e=this[Ch];"flush"in e&&e.flush()}});var Vh=I((kS,kh)=>{"use strict";const vR=require("os"),xh=Xs(),yR=Xl(),Mh=Kl(),TR=Dh(),qh=vr(),{assertDefaultLevelFound:RR,mappings:Fh,genLsCache:bR}=Lo(),{createArgsNormalizer:SR,asChindings:NR,final:_R,stringify:ti,buildSafeSonicBoom:xo,buildFormatters:OR,noop:IR}=ei(),{version:CR}=Ao(),{chindingsSym:Uh,redactFmtSym:wR,serializersSym:jh,timeSym:LR,timeSliceIndexSym:AR,streamSym:PR,stringifySym:Wh,stringifiersSym:Hh,setLevelSym:DR,endSym:kR,formatOptsSym:xR,messageKeySym:MR,nestedKeySym:qR,mixinSym:FR,useOnlyCustomLevelsSym:UR,formattersSym:Bh,hooksSym:jR}=qh,{epochTime:Gh,nullTime:WR}=Mh,{pid:HR}=process,BR=vR.hostname(),GR=xh.err,Mo={level:"info",messageKey:"msg",nestedKey:null,enabled:!0,prettyPrint:!1,base:{pid:HR,hostname:BR},serializers:Object.assign(Object.create(null),{err:GR}),formatters:Object.assign(Object.create(null),{bindings(e){return e},level(e,t){return{level:t}}}),hooks:{logMethod:void 0},timestamp:Gh,name:void 0,redact:null,customLevels:null,levelKey:void 0,useOnlyCustomLevels:!1},VR=SR(Mo),$R=Object.assign(Object.create(null),xh);function vt(...e){const t={},{opts:r,stream:n}=VR(t,...e),{redact:i,crlf:s,serializers:o,timestamp:a,messageKey:l,nestedKey:f,base:d,name:E,level:y,customLevels:L,useLevelLabels:_,changeLevelName:B,levelKey:W,mixin:D,useOnlyCustomLevels:J,formatters:k,hooks:v}=r,p=OR(k.level,k.bindings,k.log);_&&!(B||W)?(process.emitWarning("useLevelLabels is deprecated, use the formatters.level option instead","Warning","PINODEP001"),p.level=zR):(B||W)&&!_?(process.emitWarning("changeLevelName and levelKey are deprecated, use the formatters.level option instead","Warning","PINODEP002"),p.level=XR(B||W)):(B||W)&&_&&(process.emitWarning("useLevelLabels is deprecated, use the formatters.level option instead","Warning","PINODEP001"),process.emitWarning("changeLevelName and levelKey are deprecated, use the formatters.level option instead","Warning","PINODEP002"),p.level=YR(B||W)),o[Symbol.for("pino.*")]&&(process.emitWarning("The pino.* serializer is deprecated, use the formatters.log options instead","Warning","PINODEP003"),p.log=o[Symbol.for("pino.*")]),p.bindings||(p.bindings=Mo.formatters.bindings),p.level||(p.level=Mo.formatters.level);const b=i?yR(i,ti):{},F=i?{stringify:b[wR]}:{stringify:ti},w="}"+(s?`\r
`:`
`),M=NR.bind(null,{[Uh]:"",[jh]:o,[Hh]:b,[Wh]:ti,[Bh]:p}),Q=d===null?"":E===void 0?M(d):M(Object.assign({},d,{name:E})),G=a instanceof Function?a:a?Gh:WR,ne=G().indexOf(":")+1;if(J&&!L)throw Error("customLevels is required if useOnlyCustomLevels is set true");if(D&&typeof D!="function")throw Error(`Unknown mixin type "${typeof D}" - expected "function"`);RR(y,L,J);const ve=Fh(L,J);return Object.assign(t,{levels:ve,[UR]:J,[PR]:n,[LR]:G,[AR]:ne,[Wh]:ti,[Hh]:b,[kR]:w,[xR]:F,[MR]:l,[qR]:f,[jh]:o,[FR]:D,[Uh]:Q,[Bh]:p,[jR]:v,silent:IR}),Object.setPrototypeOf(t,TR()),bR(t),t[DR](y),t}function zR(e,t){return{level:e}}function XR(e){return function(t,r){return{[e]:r}}}function YR(e){return function(t,r){return{[e]:t}}}vt.extreme=(e=process.stdout.fd)=>(process.emitWarning("The pino.extreme() option is deprecated and will be removed in v7. Use pino.destination({ sync: false }) instead.",{code:"extreme_deprecation"}),xo({dest:e,minLength:4096,sync:!1}));vt.destination=(e=process.stdout.fd)=>typeof e=="object"?(e.dest=e.dest||process.stdout.fd,xo(e)):xo({dest:e,minLength:0,sync:!0});vt.final=_R;vt.levels=Fh();vt.stdSerializers=$R;vt.stdTimeFunctions=Object.assign({},Mh);vt.symbols=qh;vt.version=CR;kh.exports=vt});var $h=I(tr=>{"use strict";var qo=tr&&tr.__assign||function(){return qo=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},qo.apply(this,arguments)},KR=tr&&tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};tr.__esModule=!0;var JR=KR(Vh());function QR(e,t){e===void 0&&(e={});var r=JR.default(qo({name:"ls",base:{},level:"info",formatters:{level:function(n){return{level:n}}},prettyPrint:!0},e),t);return r.show=function(){return},r}tr.default=QR});var zh=I(tn=>{"use strict";var ZR=tn&&tn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};tn.__esModule=!0;var eb=ZR($h());tn.default=eb.default()});var Xh=I(rr=>{"use strict";var ri=rr&&rr.__assign||function(){return ri=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ri.apply(this,arguments)};rr.__esModule=!0;rr.createLogger=void 0;var ni,tb=function(){try{return require.resolve("vscode"),!0}catch(e){return!1}};ni=zh().default;function rb(e,t){return t===void 0&&(t={}),e?ni.child(ri(ri({},t),{ns:e})):ni}rr.createLogger=rb;rr.default=ni});var Jh=I(Be=>{"use strict";var nb=Be&&Be.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ib=Be&&Be.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),sb=Be&&Be.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&nb(t,e,r);return ib(t,e),t},rn=Be&&Be.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{f(n.next(d))}catch(E){o(E)}}function l(d){try{f(n.throw(d))}catch(E){o(E)}}function f(d){d.done?s(d.value):i(d.value).then(a,l)}f((n=n.apply(e,t||[])).next())})},ii=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Be,"__esModule",{value:!0});const ob=ii(wc()),ab=ii(Ac()),Yh=sb(dl()),cb=Xh(),Kh=ii(require("path")),lb=ii(require("fs"));class Fo{constructor(e,t){this.credentials=e,this.getWorkspaceFolders=t,this.deps=[],this.queryResults=(r,n)=>rn(this,void 0,void 0,function*(){const i=yield this.singleQuery(r,n);if(i.error)throw i.rawError;return i.results}),this.requireDep=r=>Yh.default(r),this.resolveDep=r=>Yh.sqltoolsResolve(r),this.log=cb.createLogger(e.driver.toLowerCase())}getId(){return this.credentials.id}singleQuery(e,t){return this.query(e,t).then(([r])=>r)}describeTable(e,t){return rn(this,void 0,void 0,function*(){const r=yield this.singleQuery(this.queries.describeTable(e),t);return r.baseQuery=this.queries.describeTable.raw,[r]})}showRecords(e,t){return rn(this,void 0,void 0,function*(){const{limit:r,page:n=0}=t,i=Object.assign(Object.assign({},t),{limit:r,table:e,offset:n*r});if(typeof this.queries.fetchRecords=="function"&&typeof this.queries.countRecords=="function"){const[s,o]=yield Promise.all([this.singleQuery(this.queries.fetchRecords(i),t),this.singleQuery(this.queries.countRecords(i),t)]);return s.baseQuery=this.queries.fetchRecords.raw,s.pageSize=r,s.page=n,s.total=Number(o.results[0].total),s.queryType="showRecords",s.queryParams=e,[s]}return this.query(this.queries.fetchRecords(i),t)})}checkDependencies(){return rn(this,void 0,void 0,function*(){if(!this.deps||this.deps.length===0)return;if(Number(process.env.IS_NODE_RUNTIME||"0")!==1)throw new ob.default();this.deps.forEach(e=>{let t=!1;switch(e.type){case Fo.CONSTANTS.DEPENDENCY_PACKAGE:try{const{version:r}=JSON.parse(lb.default.readFileSync(this.resolveDep(e.name+"/package.json")).toString());if(e.version&&r!==e.version)throw t=!0,new Error(`Version not matching. We need to upgrade ${e.name}`);this.requireDep(e.name)}catch(r){throw new ab.default(this.deps,this.credentials,t)}break}})})}getChildrenForItem(e){return this.log.error(`###### Attention ######getChildrenForItem not implemented for ${this.credentials.driver}
####################`),Promise.resolve([])}searchItems(e,t,r){return this.log.error(`###### Attention ######searchItems not implemented for ${this.credentials.driver}
####################`),Promise.resolve([])}toAbsolutePath(e){return rn(this,void 0,void 0,function*(){if(!Kh.default.isAbsolute(e)&&/\$\{workspaceFolder:(.+)}/g.test(e)){const t=e.match(/\$\{workspaceFolder:(.+)}/)[1];if(t){const r=yield this.getWorkspaceFolders(),n=r.find(i=>i.name===t);e=Kh.default.resolve(n.uri.replace(/^(\w+):\/\//,""),e.replace(/\$\{workspaceFolder:(.+)}/g,"./"))}}return e})}prepareMessage(e){return{message:e.toString(),date:new Date()}}}Be.default=Fo;Fo.CONSTANTS={DEPENDENCY_PACKAGE:"package",DEPENDENCY_NPM_SCRIPT:"npmscript"}});var Uo=I((US,Qh)=>{const Zh={CONNECTION:"connection",CONNECTED_CONNECTION:"connectedConnection",COLUMN:"connection.column",FUNCTION:"connection.function",SCHEMA:"connection.schema",RESOURCE_GROUP:"connection.resource_group",DATABASE:"connection.database",TABLE:"connection.table",VIEW:"connection.view",MATERIALIZED_VIEW:"connection.materializedView",NO_CHILD:"NO_CHILD",KEYWORDS:"KEYWORDS"};Object.freeze(Zh);Qh.exports={ContextValue:Zh}});var ef=I(jo=>{"use strict";Object.defineProperty(jo,"__esModule",{value:!0});const ub=(e,...t)=>{function r(n={}){return e.reduce((i,s,o)=>{const a=t[o];return i+=s.replace(/\r?\n\s+/g," "),typeof a!="undefined"&&(i+=typeof a!="function"?a:a(n)),i},"").trim()}return r.raw=e.reduce((n,i,s)=>{const o=t[s];return n+=i.replace(/\r?\n\s+/g," "),typeof o!="undefined"&&(n+="${"+o.toString()+"}"),n},"").trim(),r};jo.default=ub});const nn=Wt(Uo()),Ft=Wt(ef());function tf(e){return`"${e.label||e.toString()}"`}const hb=Ft.default`
  SELECT C.*
  FROM pragma_table_info('${e=>e.label}') AS C
  ORDER BY C.cid ASC
`,fb=Ft.default`
SELECT C.name AS label,
  C.*,
  C.type AS dataType,
  C."notnull" AS isNullable,
  C.pk AS isPk,
  '${nn.ContextValue.COLUMN}' as type
FROM pragma_table_info('${e=>e.label}') AS C
ORDER BY cid ASC
`,db=Ft.default`
SELECT *
FROM ${e=>tf(e.table)}
LIMIT ${e=>e.limit||50}
OFFSET ${e=>e.offset||0};
`,pb=Ft.default`
SELECT count(1) AS total
FROM ${e=>tf(e.table)};
`,rf=(e,t="table")=>Ft.default`
SELECT name AS label,
  '${e}' AS type
FROM sqlite_master
WHERE LOWER(type) LIKE '${t.toLowerCase()}'
  AND name NOT LIKE 'sqlite_%'
ORDER BY name
`,mb=rf(nn.ContextValue.TABLE),gb=rf(nn.ContextValue.VIEW,"view"),Eb=Ft.default`
SELECT name AS label,
  type
FROM sqlite_master
${e=>e.search?`WHERE LOWER(name) LIKE '%${e.search.toLowerCase()}%'`:""}
ORDER BY name
`,vb=Ft.default`
SELECT C.name AS label,
  T.name AS "table",
  C.type AS dataType,
  C."notnull" AS isNullable,
  C.pk AS isPk,
  '${nn.ContextValue.COLUMN}' as type
FROM sqlite_master AS T
LEFT OUTER JOIN pragma_table_info((T.name)) AS C ON 1 = 1
WHERE 1 = 1
${e=>e.tables.filter(t=>!!t.label).length?`AND LOWER(T.name) IN (${e.tables.filter(t=>!!t.label).map(t=>`'${t.label}'`.toLowerCase()).join(", ")})`:""}
${e=>e.search?`AND (
    LOWER(T.name || '.' || C.name) LIKE '%${e.search.toLowerCase()}%'
    OR LOWER(C.name) LIKE '%${e.search.toLowerCase()}%'
  )`:""}
ORDER BY C.name ASC,
  C.cid ASC
LIMIT ${e=>e.limit||100}
`;var nf={describeTable:hb,countRecords:pb,fetchColumns:fb,fetchRecords:db,fetchTables:mb,fetchViews:gb,searchTables:Eb,searchColumns:vb};const sf=/[\\^$.*+?()[\]{}|]/g,yb=RegExp(sf.source);function Tb(e){return e&&yb.test(e)?e.replace(sf,"\\$&"):e||""}var sn=Tb;var V;(function(e){e.WHITESPACE="whitespace",e.WORD="word",e.STRING="string",e.RESERVED="reserved",e.RESERVED_TOP_LEVEL="reserved-top-level",e.RESERVED_TOP_LEVEL_NO_INDENT="reserved-top-level-no-indent",e.RESERVED_NEWLINE="reserved-newline",e.OPERATOR="operator",e.NO_SPACE_OPERATOR="no-space-operator",e.OPEN_PAREN="open-paren",e.CLOSE_PAREN="close-paren",e.LINE_COMMENT="line-comment",e.BLOCK_COMMENT="block-comment",e.NUMBER="number",e.PLACEHOLDER="placeholder",e.SERVERVARIABLE="servervariable"})(V||(V={}));class Wo{constructor(e){this.WHITESPACE_REGEX=/^(\s+)/u,this.NUMBER_REGEX=/^((-\s*)?[0-9]+(\.[0-9]+)?|0x[0-9a-fA-F]+|0b[01]+|([a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}))\b/u,this.AMBIGUOS_OPERATOR_REGEX=/^(\?\||\?&)/u,this.OPERATOR_REGEX=/^(!=|<>|>>|<<|==|<=|>=|!<|!>|\|\|\/|\|\/|\|\||~~\*|~~|!~~\*|!~~|~\*|!~\*|!~|:=|&&|@>|<@|#-|@|.)/u,this.NO_SPACE_OPERATOR_REGEX=/^(::|->>|->|#>>|#>)/u,this.BLOCK_COMMENT_REGEX=/^(\/\*[^]*?(?:\*\/|$))/u,this.LINE_COMMENT_REGEX=this.createLineCommentRegex(e.lineCommentTypes),this.RESERVED_TOP_LEVEL_REGEX=this.createReservedWordRegex(e.reservedTopLevelWords),this.RESERVED_TOP_LEVEL_NO_INDENT_REGEX=this.createReservedWordRegex(e.reservedTopLevelWordsNoIndent),this.RESERVED_NEWLINE_REGEX=this.createReservedWordRegex(e.reservedNewlineWords),this.RESERVED_PLAIN_REGEX=this.createReservedWordRegex(e.reservedWords),this.WORD_REGEX=this.createWordRegex(e.specialWordChars),this.STRING_REGEX=this.createStringRegex(e.stringTypes),this.OPEN_PAREN_REGEX=this.createParenRegex(e.openParens),this.CLOSE_PAREN_REGEX=this.createParenRegex(e.closeParens),this.INDEXED_PLACEHOLDER_REGEX=this.createPlaceholderRegex(e.indexedPlaceholderTypes,"[0-9]*"),this.IDENT_NAMED_PLACEHOLDER_REGEX=this.createPlaceholderRegex(e.namedPlaceholderTypes,"[a-zA-Z0-9._$]+"),this.STRING_NAMED_PLACEHOLDER_REGEX=this.createPlaceholderRegex(e.namedPlaceholderTypes,this.createStringPattern(e.stringTypes))}createLineCommentRegex(e){return new RegExp(`^((?:${e.map(t=>sn(t)).join("|")})[^>]*?(?:\r
|\r|
|$))`,"u")}createReservedWordRegex(e){const t=e.join("|").replace(/ /gu,"\\s+");return new RegExp(`^(${t})\\b`,"iu")}createWordRegex(e){return new RegExp(`^([\\p{Alphabetic}\\p{Mark}\\p{Decimal_Number}\\p{Connector_Punctuation}\\p{Join_Control}${e.join("")}]+)`,"u")}createStringRegex(e){return new RegExp("^("+this.createStringPattern(e)+")","u")}createStringPattern(e){const t={"``":"((`[^`]*($|`))+)","[]":"((\\[[^\\]]*($|\\]))(\\][^\\]]*($|\\]))*)",'""':'(("[^"\\\\]*(?:\\\\.[^"\\\\]*)*("|$))+)',"''":"(('[^'\\\\]*(?:\\\\.[^'\\\\]*)*('|$))+)","N''":"((N'[^N'\\\\]*(?:\\\\.[^N'\\\\]*)*('|$))+)"};return e.map(r=>t[r]).join("|")}createParenRegex(e){return new RegExp("^("+e.map(t=>this.escapeParen(t)).join("|")+")","iu")}escapeParen(e){return e.length===1?sn(e):"\\b"+e+"\\b"}createPlaceholderRegex(e,t){if(!e||e.length===0)return null;const r=e.map(sn).join("|");return new RegExp(`^((?:${r})(?:${t}))`,"u")}tokenize(e){if(!e)return[];const t=[];let r;for(;e.length;)r=this.getNextToken(e,r),e=e.substring(r.value.length),t.push(r);return t}getNextToken(e,t){return this.getWhitespaceToken(e)||this.getCommentToken(e)||this.getStringToken(e)||this.getOpenParenToken(e)||this.getCloseParenToken(e)||this.getAmbiguosOperatorToken(e)||this.getNoSpaceOperatorToken(e)||this.getServerVariableToken(e)||this.getPlaceholderToken(e)||this.getNumberToken(e)||this.getReservedWordToken(e,t)||this.getWordToken(e)||this.getOperatorToken(e)}getWhitespaceToken(e){return this.getTokenOnFirstMatch({input:e,type:V.WHITESPACE,regex:this.WHITESPACE_REGEX})}getCommentToken(e){return this.getLineCommentToken(e)||this.getBlockCommentToken(e)}getLineCommentToken(e){return this.getTokenOnFirstMatch({input:e,type:V.LINE_COMMENT,regex:this.LINE_COMMENT_REGEX})}getBlockCommentToken(e){return this.getTokenOnFirstMatch({input:e,type:V.BLOCK_COMMENT,regex:this.BLOCK_COMMENT_REGEX})}getStringToken(e){return this.getTokenOnFirstMatch({input:e,type:V.STRING,regex:this.STRING_REGEX})}getOpenParenToken(e){return this.getTokenOnFirstMatch({input:e,type:V.OPEN_PAREN,regex:this.OPEN_PAREN_REGEX})}getCloseParenToken(e){return this.getTokenOnFirstMatch({input:e,type:V.CLOSE_PAREN,regex:this.CLOSE_PAREN_REGEX})}getPlaceholderToken(e){return this.getIdentNamedPlaceholderToken(e)||this.getStringNamedPlaceholderToken(e)||this.getIndexedPlaceholderToken(e)}getServerVariableToken(e){return this.getTokenOnFirstMatch({input:e,type:V.SERVERVARIABLE,regex:/(^@@\w+)/iu})}getIdentNamedPlaceholderToken(e){return this.getPlaceholderTokenWithKey({input:e,regex:this.IDENT_NAMED_PLACEHOLDER_REGEX,parseKey:t=>t.slice(1)})}getStringNamedPlaceholderToken(e){return this.getPlaceholderTokenWithKey({input:e,regex:this.STRING_NAMED_PLACEHOLDER_REGEX,parseKey:t=>this.getEscapedPlaceholderKey({key:t.slice(2,-1),quoteChar:t.slice(-1)})})}getIndexedPlaceholderToken(e){return this.getPlaceholderTokenWithKey({input:e,regex:this.INDEXED_PLACEHOLDER_REGEX,parseKey:t=>t.slice(1)})}getPlaceholderTokenWithKey({input:e,regex:t,parseKey:r}){const n=this.getTokenOnFirstMatch({input:e,regex:t,type:V.PLACEHOLDER});return n&&(n.key=r(n.value)),n}getEscapedPlaceholderKey({key:e,quoteChar:t}){return e.replace(new RegExp(sn("\\"+t),"gu"),t)}getNumberToken(e){return this.getTokenOnFirstMatch({input:e,type:V.NUMBER,regex:this.NUMBER_REGEX})}getOperatorToken(e){return this.getTokenOnFirstMatch({input:e,type:V.OPERATOR,regex:this.OPERATOR_REGEX})}getAmbiguosOperatorToken(e){return this.getTokenOnFirstMatch({input:e,type:V.OPERATOR,regex:this.AMBIGUOS_OPERATOR_REGEX})}getNoSpaceOperatorToken(e){return this.getTokenOnFirstMatch({input:e,type:V.NO_SPACE_OPERATOR,regex:this.NO_SPACE_OPERATOR_REGEX})}getReservedWordToken(e,t){return t&&t.value&&t.value==="."?void 0:this.getToplevelReservedToken(e)||this.getNewlineReservedToken(e)||this.getTopLevelReservedTokenNoIndent(e)||this.getPlainReservedToken(e)}getToplevelReservedToken(e){return this.getTokenOnFirstMatch({input:e,type:V.RESERVED_TOP_LEVEL,regex:this.RESERVED_TOP_LEVEL_REGEX})}getNewlineReservedToken(e){return this.getTokenOnFirstMatch({input:e,type:V.RESERVED_NEWLINE,regex:this.RESERVED_NEWLINE_REGEX})}getPlainReservedToken(e){return this.getTokenOnFirstMatch({input:e,type:V.RESERVED,regex:this.RESERVED_PLAIN_REGEX})}getTopLevelReservedTokenNoIndent(e){return this.getTokenOnFirstMatch({input:e,type:V.RESERVED_TOP_LEVEL_NO_INDENT,regex:this.RESERVED_TOP_LEVEL_NO_INDENT_REGEX})}getWordToken(e){return this.getTokenOnFirstMatch({input:e,type:V.WORD,regex:this.WORD_REGEX})}getTokenOnFirstMatch({input:e,type:t,regex:r}){const n=e.match(r);if(n)return{type:t,value:n[1]}}}const Rb=(e=[])=>e[e.length-1];var of=Rb;const Ho="top-level",bb="block-level";class Bo{constructor(e){this.indent=e;this.indentTypes=[];this.indent=e||"  "}getIndent(){return new Array(this.indentTypes.length).fill(this.indent).join("")}increaseTopLevel(){this.indentTypes.push(Ho)}increaseBlockLevel(){this.indentTypes.push(bb)}decreaseTopLevel(){of(this.indentTypes)===Ho&&this.indentTypes.pop()}decreaseBlockLevel(){for(;this.indentTypes.length>0;){const e=this.indentTypes.pop();if(e!==Ho)break}}resetIndentation(){this.indentTypes=[]}}const Sb=50;class Go{constructor(){this.level=0}beginIfPossible(e,t){this.level===0&&this.isInlineBlock(e,t)?this.level=1:this.level>0?this.level++:this.level=0}end(){this.level--}isActive(){return this.level>0}isInlineBlock(e,t){let r=0,n=0;for(let i=t;i<e.length;i++){const s=e[i];if(r+=s.value.length,r>Sb)return!1;if(s.type===V.OPEN_PAREN)n++;else if(s.type===V.CLOSE_PAREN&&(n--,n===0))return!0;if(this.isForbiddenToken(s))return!1}return!1}isForbiddenToken({type:e,value:t}){return e===V.RESERVED_TOP_LEVEL||e===V.RESERVED_NEWLINE||e===V.LINE_COMMENT||e===V.BLOCK_COMMENT||t===";"}}class Vo{constructor(e){this.params=e;this.index=0;this.params=e}get({key:e,value:t}){return this.params?e?this.params[e]:this.params[this.index++]:t}}const _r=e=>e.replace(/[ \t]+$/u,"");class $o{constructor(e,t,r){this.cfg=e;this.tokenizer=t;this.tokenOverride=r;this.tokens=[];this.previousReservedWord={type:null,value:null};this.previousNonWhiteSpace={type:null,value:null};this.index=0;this.indentation=new Bo(this.cfg.indent),this.inlineBlock=new Go(),this.params=new Vo(this.cfg.params)}format(e){this.tokens=this.tokenizer.tokenize(e);const t=this.getFormattedQueryFromTokens();return t.trim()}getFormattedQueryFromTokens(){let e="";return this.tokens.forEach((t,r)=>{this.index=r,this.tokenOverride&&(t=this.tokenOverride(t,this.previousReservedWord)||t),t.type===V.WHITESPACE?e=this.formatWhitespace(t,e):t.type===V.LINE_COMMENT?e=this.formatLineComment(t,e):t.type===V.BLOCK_COMMENT?e=this.formatBlockComment(t,e):t.type===V.RESERVED_TOP_LEVEL||t.type===V.RESERVED_TOP_LEVEL_NO_INDENT||t.type===V.RESERVED_NEWLINE||t.type===V.RESERVED?e=this.formatReserved(t,e):t.type===V.OPEN_PAREN?e=this.formatOpeningParentheses(t,e):t.type===V.CLOSE_PAREN?e=this.formatClosingParentheses(t,e):t.type===V.NO_SPACE_OPERATOR?e=this.formatWithoutSpaces(t,e):t.type===V.PLACEHOLDER||t.type===V.SERVERVARIABLE?e=this.formatPlaceholder(t,e):t.value===","?e=this.formatComma(t,e):t.value===":"?e=this.formatWithSpaceAfter(t,e):t.value==="."?e=this.formatWithoutSpaces(t,e):t.value===";"?e=this.formatQuerySeparator(t,e):e=this.formatWithSpaces(t,e),t.type!==V.WHITESPACE&&(this.previousNonWhiteSpace=t)}),e}formatWhitespace(e,t){return this.cfg.linesBetweenQueries==="preserve"&&/((\r\n|\n)(\r\n|\n)+)/u.test(e.value)&&this.previousToken().value===";"?t.replace(/(\n|\r\n)$/m,"")+e.value:t}formatReserved(e,t){return e.type===V.RESERVED_NEWLINE&&this.previousReservedWord&&this.previousReservedWord.value&&e.value.toUpperCase()==="AND"&&this.previousReservedWord.value.toUpperCase()==="BETWEEN"&&(e.type=V.RESERVED),e.type===V.RESERVED_TOP_LEVEL?t=this.formatTopLevelReservedWord(e,t):e.type===V.RESERVED_TOP_LEVEL_NO_INDENT?t=this.formatTopLevelReservedWordNoIndent(e,t):e.type===V.RESERVED_NEWLINE?t=this.formatNewlineReservedWord(e,t):t=this.formatWithSpaces(e,t),this.previousReservedWord=e,t}formatLineComment(e,t){return this.addNewline(t+e.value)}formatBlockComment(e,t){return this.addNewline(this.addNewline(t)+this.indentComment(e.value))}indentComment(e){return e.replace(/\n[ \t]*/gu,`
`+this.indentation.getIndent()+" ")}formatTopLevelReservedWordNoIndent(e,t){return this.indentation.decreaseTopLevel(),t=this.addNewline(t)+this.equalizeWhitespace(this.formatReservedWord(e.value)),this.addNewline(t)}formatTopLevelReservedWord(e,t){const r=this.previousNonWhiteSpace.value!==","&&!["GRANT"].includes(`${this.previousNonWhiteSpace.value}`.toUpperCase());return r&&(this.indentation.decreaseTopLevel(),t=this.addNewline(t)),t=t+this.equalizeWhitespace(this.formatReservedWord(e.value))+" ",r&&this.indentation.increaseTopLevel(),t}formatNewlineReservedWord(e,t){return this.addNewline(t)+this.equalizeWhitespace(this.formatReservedWord(e.value))+" "}equalizeWhitespace(e){return e.replace(/\s+/gu," ")}formatOpeningParentheses(e,t){e.value=this.formatCase(e.value);const r=this.previousToken().type;return r!==V.WHITESPACE&&r!==V.OPEN_PAREN&&r!==V.LINE_COMMENT&&(t=_r(t)),t+=e.value,this.inlineBlock.beginIfPossible(this.tokens,this.index),this.inlineBlock.isActive()||(this.indentation.increaseBlockLevel(),t=this.addNewline(t)),t}formatClosingParentheses(e,t){return e.value=this.formatCase(e.value),this.inlineBlock.isActive()?(this.inlineBlock.end(),this.formatWithSpaceAfter(e,t)):(this.indentation.decreaseBlockLevel(),this.formatWithSpaces(e,this.addNewline(t)))}formatPlaceholder(e,t){return t+this.params.get(e)+" "}formatComma(e,t){return t=_r(t)+e.value+" ",this.inlineBlock.isActive()||/^LIMIT$/iu.test(this.previousReservedWord.value)?t:this.addNewline(t)}formatWithSpaceAfter(e,t){return _r(t)+e.value+" "}formatWithoutSpaces(e,t){return _r(t)+e.value}formatWithSpaces(e,t){const r=e.type===V.RESERVED?this.formatReservedWord(e.value):e.value;return t+r+" "}formatReservedWord(e){return this.formatCase(e)}formatQuerySeparator(e,t){this.indentation.resetIndentation();let r=`
`;return this.cfg.linesBetweenQueries!=="preserve"&&(r=`
`.repeat(this.cfg.linesBetweenQueries||1)),_r(t)+e.value+r}addNewline(e){return e=_r(e),e.endsWith(`
`)||(e+=`
`),e+this.indentation.getIndent()}previousToken(){return this.tokens[this.index-1]||{type:null,value:null}}formatCase(e){return this.cfg.reservedWordCase==="upper"?e.toUpperCase():this.cfg.reservedWordCase==="lower"?e.toLowerCase():e}}class yt{constructor(e){this.cfg=e}format(e){return new $o(this.cfg,this.tokenizer(),this.tokenOverride).format(e)}tokenize(e){return this.tokenizer().tokenize(e)}tokenizer(){return new Wo(this.getTokenizerConfig())}}class af extends yt{getTokenizerConfig(){return{reservedWords:Nb,reservedTopLevelWords:_b,reservedNewlineWords:Ib,reservedTopLevelWordsNoIndent:Ob,stringTypes:['""',"''","``","[]"],openParens:["("],closeParens:[")"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:[":"],lineCommentTypes:["--"],specialWordChars:["#","@"]}}}const Nb=["ABS","ACTIVATE","ALIAS","ALL","ALLOCATE","ALLOW","ALTER","ANY","ARE","ARRAY","AS","ASC","ASENSITIVE","ASSOCIATE","ASUTIME","ASYMMETRIC","AT","ATOMIC","ATTRIBUTES","AUDIT","AUTHORIZATION","AUX","AUXILIARY","AVG","BEFORE","BEGIN","BETWEEN","BIGINT","BINARY","BLOB","BOOLEAN","BOTH","BUFFERPOOL","BY","CACHE","CALL","CALLED","CAPTURE","CARDINALITY","CASCADED","CASE","CAST","CCSID","CEIL","CEILING","CHAR","CHARACTER","CHARACTER_LENGTH","CHAR_LENGTH","CHECK","CLOB","CLONE","CLOSE","CLUSTER","COALESCE","COLLATE","COLLECT","COLLECTION","COLLID","COLUMN","COMMENT","COMMIT","CONCAT","CONDITION","CONNECT","CONNECTION","CONSTRAINT","CONTAINS","CONTINUE","CONVERT","CORR","CORRESPONDING","COUNT","COUNT_BIG","COVAR_POP","COVAR_SAMP","CREATE","CROSS","CUBE","CUME_DIST","CURRENT","CURRENT_DATE","CURRENT_DEFAULT_TRANSFORM_GROUP","CURRENT_LC_CTYPE","CURRENT_PATH","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SERVER","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_TRANSFORM_GROUP_FOR_TYPE","CURRENT_USER","CURSOR","CYCLE","DATA","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DATE","DAY","DAYS","DB2GENERAL","DB2GENRL","DB2SQL","DBINFO","DBPARTITIONNAME","DBPARTITIONNUM","DEALLOCATE","DEC","DECIMAL","DECLARE","DEFAULT","DEFAULTS","DEFINITION","DELETE","DENSERANK","DENSE_RANK","DEREF","DESCRIBE","DESCRIPTOR","DETERMINISTIC","DIAGNOSTICS","DISABLE","DISALLOW","DISCONNECT","DISTINCT","DO","DOCUMENT","DOUBLE","DROP","DSSIZE","DYNAMIC","EACH","EDITPROC","ELEMENT","ELSE","ELSEIF","ENABLE","ENCODING","ENCRYPTION","END","END-EXEC","ENDING","ERASE","ESCAPE","EVERY","EXCEPTION","EXCLUDING","EXCLUSIVE","EXEC","EXECUTE","EXISTS","EXIT","EXP","EXPLAIN","EXTENDED","EXTERNAL","EXTRACT","FALSE","FENCED","FETCH","FIELDPROC","FILE","FILTER","FINAL","FIRST","FLOAT","FLOOR","FOR","FOREIGN","FREE","FULL","FUNCTION","FUSION","GENERAL","GENERATED","GET","GLOBAL","GOTO","GRANT","GRAPHIC","GROUP","GROUPING","HANDLER","HASH","HASHED_VALUE","HINT","HOLD","HOUR","HOURS","IDENTITY","IF","IMMEDIATE","IN","INCLUDING","INCLUSIVE","INCREMENT","INDEX","INDICATOR","INDICATORS","INF","INFINITY","INHERIT","INNER","INOUT","INSENSITIVE","INSERT","INT","INTEGER","INTEGRITY","INTERSECTION","INTERVAL","INTO","IS","ISOBID","ISOLATION","ITERATE","JAR","JAVA","KEEP","KEY","LABEL","LANGUAGE","LARGE","LATERAL","LC_CTYPE","LEADING","LEAVE","LEFT","LIKE","LINKTYPE","LN","LOCAL","LOCALDATE","LOCALE","LOCALTIME","LOCALTIMESTAMP","LOCATOR","LOCATORS","LOCK","LOCKMAX","LOCKSIZE","LONG","LOOP","LOWER","MAINTAINED","MATCH","MATERIALIZED","MAX","MAXVALUE","MEMBER","MERGE","METHOD","MICROSECOND","MICROSECONDS","MIN","MINUTE","MINUTES","MINVALUE","MOD","MODE","MODIFIES","MODULE","MONTH","MONTHS","MULTISET","NAN","NATIONAL","NATURAL","NCHAR","NCLOB","NEW","NEW_TABLE","NEXTVAL","NO","NOCACHE","NOCYCLE","NODENAME","NODENUMBER","NOMAXVALUE","NOMINVALUE","NONE","NOORDER","NORMALIZE","NORMALIZED","NOT","NULL","NULLIF","NULLS","NUMERIC","NUMPARTS","OBID","OCTET_LENGTH","OF","OFFSET","OLD","OLD_TABLE","ON","ONLY","OPEN","OPTIMIZATION","OPTIMIZE","OPTION","ORDER","OUT","OUTER","OVER","OVERLAPS","OVERLAY","OVERRIDING","PACKAGE","PADDED","PAGESIZE","PARAMETER","PART","PARTITION","PARTITIONED","PARTITIONING","PARTITIONS","PASSWORD","PATH","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","PIECESIZE","PLAN","POSITION","POWER","PRECISION","PREPARE","PREVVAL","PRIMARY","PRIQTY","PRIVILEGES","PROCEDURE","PROGRAM","PSID","PUBLIC","QUERY","QUERYNO","RANGE","RANK","READ","READS","REAL","RECOVERY","RECURSIVE","REF","REFERENCES","REFERENCING","REFRESH","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","RELEASE","RENAME","REPEAT","RESET","RESIGNAL","RESTART","RESTRICT","RESULT","RESULT_SET_LOCATOR","RETURN","RETURNS","REVOKE","RIGHT","ROLE","ROLLBACK","ROLLUP","ROUND_CEILING","ROUND_DOWN","ROUND_FLOOR","ROUND_HALF_DOWN","ROUND_HALF_EVEN","ROUND_HALF_UP","ROUND_UP","ROUTINE","ROW","ROWNUMBER","ROWS","ROWSET","ROW_NUMBER","RRN","RUN","SAVEPOINT","SCHEMA","SCOPE","SCRATCHPAD","SCROLL","SEARCH","SECOND","SECONDS","SECQTY","SECURITY","SENSITIVE","SEQUENCE","SESSION","SESSION_USER","SIGNAL","SIMILAR","SIMPLE","SMALLINT","SNAN","SOME","SOURCE","SPECIFIC","SPECIFICTYPE","SQL","SQLEXCEPTION","SQLID","SQLSTATE","SQLWARNING","SQRT","STACKED","STANDARD","START","STARTING","STATEMENT","STATIC","STATMENT","STAY","STDDEV_POP","STDDEV_SAMP","STOGROUP","STORES","STYLE","SUBMULTISET","SUBSTRING","SUM","SUMMARY","SYMMETRIC","SYNONYM","SYSFUN","SYSIBM","SYSPROC","SYSTEM","SYSTEM_USER","TABLE","TABLESAMPLE","TABLESPACE","THEN","TIME","TIMESTAMP","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO","TRAILING","TRANSACTION","TRANSLATE","TRANSLATION","TREAT","TRIGGER","TRIM","TRUE","TRUNCATE","TYPE","UESCAPE","UNDO","UNIQUE","UNKNOWN","UNNEST","UNTIL","UPPER","USAGE","USER","USING","VALIDPROC","VALUE","VARCHAR","VARIABLE","VARIANT","VARYING","VAR_POP","VAR_SAMP","VCAT","VERSION","VIEW","VOLATILE","VOLUMES","WHEN","WHENEVER","WHILE","WIDTH_BUCKET","WINDOW","WITH","WITHIN","WITHOUT","WLM","WRITE","XMLELEMENT","XMLEXISTS","XMLNAMESPACES","YEAR","YEARS"],_b=["ADD","AFTER","ALTER COLUMN","ALTER TABLE","DELETE FROM","EXCEPT","FETCH FIRST","FROM","GROUP BY","GO","HAVING","INSERT INTO","INTERSECT","LIMIT","ORDER BY","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","UPDATE","VALUES","WHERE"],Ob=["INTERSECT","INTERSECT ALL","MINUS","UNION","UNION ALL"],Ib=["AND","CROSS JOIN","INNER JOIN","JOIN","LEFT JOIN","LEFT OUTER JOIN","OR","OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN"];class cf extends yt{getTokenizerConfig(){return{reservedWords:Cb,reservedTopLevelWords:wb,reservedNewlineWords:Ab,reservedTopLevelWordsNoIndent:Lb,stringTypes:['""',"''","``"],openParens:["(","[","{"],closeParens:[")","]","}"],namedPlaceholderTypes:["$"],lineCommentTypes:["#","--"],specialWordChars:[]}}}const Cb=["ALL","ALTER","ANALYZE","AND","ANY","ARRAY","AS","ASC","BEGIN","BETWEEN","BINARY","BOOLEAN","BREAK","BUCKET","BUILD","BY","CALL","CASE","CAST","CLUSTER","COLLATE","COLLECTION","COMMIT","CONNECT","CONTINUE","CORRELATE","COVER","CREATE","DATABASE","DATASET","DATASTORE","DECLARE","DECREMENT","DELETE","DERIVED","DESC","DESCRIBE","DISTINCT","DO","DROP","EACH","ELEMENT","ELSE","END","EVERY","EXCEPT","EXCLUDE","EXECUTE","EXISTS","EXPLAIN","FALSE","FETCH","FIRST","FLATTEN","FOR","FORCE","FROM","FUNCTION","GRANT","GROUP","GSI","HAVING","IF","IGNORE","ILIKE","IN","INCLUDE","INCREMENT","INDEX","INFER","INLINE","INNER","INSERT","INTERSECT","INTO","IS","JOIN","KEY","KEYS","KEYSPACE","KNOWN","LAST","LEFT","LET","LETTING","LIKE","LIMIT","LSM","MAP","MAPPING","MATCHED","MATERIALIZED","MERGE","MISSING","NAMESPACE","NEST","NOT","NULL","NUMBER","OBJECT","OFFSET","ON","OPTION","OR","ORDER","OUTER","OVER","PARSE","PARTITION","PASSWORD","PATH","POOL","PREPARE","PRIMARY","PRIVATE","PRIVILEGE","PROCEDURE","PUBLIC","RAW","REALM","REDUCE","RENAME","RETURN","RETURNING","REVOKE","RIGHT","ROLE","ROLLBACK","SATISFIES","SCHEMA","SELECT","SELF","SEMI","SET","SHOW","SOME","START","STATISTICS","STRING","SYSTEM","THEN","TO","TRANSACTION","TRIGGER","TRUE","TRUNCATE","UNDER","UNION","UNIQUE","UNKNOWN","UNNEST","UNSET","UPDATE","UPSERT","USE","USER","USING","VALIDATE","VALUE","VALUED","VALUES","VIA","VIEW","WHEN","WHERE","WHILE","WITH","WITHIN","WORK","XOR"],wb=["DELETE FROM","EXCEPT ALL","EXCEPT","EXPLAIN DELETE FROM","EXPLAIN UPDATE","EXPLAIN UPSERT","FROM","GROUP BY","HAVING","INFER","INSERT INTO","LET","LIMIT","MERGE","NEST","ORDER BY","PREPARE","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","UNNEST","UPDATE","UPSERT","USE KEYS","VALUES","WHERE"],Lb=["INTERSECT","INTERSECT ALL","MINUS","UNION","UNION ALL"],Ab=["AND","INNER JOIN","JOIN","LEFT JOIN","LEFT OUTER JOIN","OR","OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","XOR"];class lf extends yt{constructor(){super(...arguments);this.tokenOverride=(e,t)=>{if(e.type===V.RESERVED_TOP_LEVEL&&t.value&&e.value.toUpperCase()==="SET"&&t.value.toUpperCase()==="BY")return e.type=V.RESERVED,e}}getTokenizerConfig(){return{reservedWords:Pb,reservedTopLevelWords:Db,reservedNewlineWords:xb,reservedTopLevelWordsNoIndent:kb,stringTypes:['""',"N''","''","``"],openParens:["(","CASE"],closeParens:[")","END"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:[":"],lineCommentTypes:["--"],specialWordChars:["_","$","#",".","@"]}}}const Pb=["A","ACCESSIBLE","AGENT","AGGREGATE","ALL","ALTER","ANY","ARRAY","AS","ASC","AT","ATTRIBUTE","AUTHID","AVG","BETWEEN","BFILE_BASE","BINARY_INTEGER","BINARY","BLOB_BASE","BLOCK","BODY","BOOLEAN","BOTH","BOUND","BREADTH","BULK","BY","BYTE","C","CALL","CALLING","CASCADE","CASE","CHAR_BASE","CHAR","CHARACTER","CHARSET","CHARSETFORM","CHARSETID","CHECK","CLOB_BASE","CLONE","CLOSE","CLUSTER","CLUSTERS","COALESCE","COLAUTH","COLLECT","COLUMNS","COMMENT","COMMIT","COMMITTED","COMPILED","COMPRESS","CONNECT","CONSTANT","CONSTRUCTOR","CONTEXT","CONTINUE","CONVERT","COUNT","CRASH","CREATE","CREDENTIAL","CURRENT","CURRVAL","CURSOR","CUSTOMDATUM","DANGLING","DATA","DATE_BASE","DATE","DAY","DECIMAL","DEFAULT","DEFINE","DELETE","DEPTH","DESC","DETERMINISTIC","DIRECTORY","DISTINCT","DO","DOUBLE","DROP","DURATION","ELEMENT","ELSIF","EMPTY","END","ESCAPE","EXCEPTIONS","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXTENDS","EXTERNAL","EXTRACT","FALSE","FETCH","FINAL","FIRST","FIXED","FLOAT","FOR","FORALL","FORCE","FROM","FUNCTION","GENERAL","GOTO","GRANT","GROUP","HASH","HEAP","HIDDEN","HOUR","IDENTIFIED","IF","IMMEDIATE","IN","INCLUDING","INDEX","INDEXES","INDICATOR","INDICES","INFINITE","INSTANTIABLE","INT","INTEGER","INTERFACE","INTERVAL","INTO","INVALIDATE","IS","ISOLATION","JAVA","LANGUAGE","LARGE","LEADING","LENGTH","LEVEL","LIBRARY","LIKE","LIKE2","LIKE4","LIKEC","LIMITED","LOCAL","LOCK","LONG","MAP","MAX","MAXLEN","MEMBER","MERGE","MIN","MINUTE","MLSLABEL","MOD","MODE","MONTH","MULTISET","NAME","NAN","NATIONAL","NATIVE","NATURAL","NATURALN","NCHAR","NEW","NEXTVAL","NOCOMPRESS","NOCOPY","NOT","NOWAIT","NULL","NULLIF","NUMBER_BASE","NUMBER","OBJECT","OCICOLL","OCIDATE","OCIDATETIME","OCIDURATION","OCIINTERVAL","OCILOBLOCATOR","OCINUMBER","OCIRAW","OCIREF","OCIREFCURSOR","OCIROWID","OCISTRING","OCITYPE","OF","OLD","ON","ONLY","OPAQUE","OPEN","OPERATOR","OPTION","ORACLE","ORADATA","ORDER","ORGANIZATION","ORLANY","ORLVARY","OTHERS","OUT","OVERLAPS","OVERRIDING","PACKAGE","PARALLEL_ENABLE","PARAMETER","PARAMETERS","PARENT","PARTITION","PASCAL","PCTFREE","PIPE","PIPELINED","PLS_INTEGER","PLUGGABLE","POSITIVE","POSITIVEN","PRAGMA","PRECISION","PRIOR","PRIVATE","PROCEDURE","PUBLIC","RAISE","RANGE","RAW","READ","REAL","RECORD","REF","REFERENCE","RELEASE","RELIES_ON","REM","REMAINDER","RENAME","RESOURCE","RESULT_CACHE","RESULT","RETURN","RETURNING","REVERSE","REVOKE","ROLLBACK","ROW","ROWID","ROWNUM","ROWTYPE","SAMPLE","SAVE","SAVEPOINT","SB1","SB2","SB4","SEARCH","SECOND","SEGMENT","SELF","SEPARATE","SEQUENCE","SERIALIZABLE","SHARE","SHORT","SIZE_T","SIZE","SMALLINT","SOME","SPACE","SPARSE","SQL","SQLCODE","SQLDATA","SQLERRM","SQLNAME","SQLSTATE","STANDARD","START","STATIC","STDDEV","STORED","STRING","STRUCT","STYLE","SUBMULTISET","SUBPARTITION","SUBSTITUTABLE","SUBTYPE","SUCCESSFUL","SUM","SYNONYM","SYSDATE","TABAUTH","TABLE","TDO","THE","THEN","TIME","TIMESTAMP","TIMEZONE_ABBR","TIMEZONE_HOUR","TIMEZONE_MINUTE","TIMEZONE_REGION","TO","TRAILING","TRANSACTION","TRANSACTIONAL","TRIGGER","TRUE","TRUSTED","TYPE","UB1","UB2","UB4","UID","UNDER","UNIQUE","UNPLUG","UNSIGNED","UNTRUSTED","USE","USER","USING","VALIDATE","VALIST","VALUE","VARCHAR","VARCHAR2","VARIABLE","VARIANCE","VARRAY","VARYING","VIEW","VIEWS","VOID","WHENEVER","WHILE","WITH","WORK","WRAPPED","WRITE","YEAR","ZONE"],Db=["ADD","ALTER COLUMN","ALTER TABLE","BEGIN","CONNECT BY","DECLARE","DELETE FROM","DELETE","END","EXCEPT","EXCEPTION","FETCH FIRST","FROM","GROUP BY","HAVING","INSERT INTO","INSERT","LIMIT","LOOP","MODIFY","ORDER BY","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","START WITH","UPDATE","VALUES","WHERE"],kb=["INTERSECT","INTERSECT ALL","MINUS","UNION","UNION ALL"],xb=["AND","CROSS APPLY","CROSS JOIN","ELSE","END","INNER JOIN","JOIN","LEFT JOIN","LEFT OUTER JOIN","OR","OUTER APPLY","OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","WHEN","XOR"];class uf extends yt{getTokenizerConfig(){return{reservedWords:Mb,reservedTopLevelWords:qb,reservedNewlineWords:Ub,reservedTopLevelWordsNoIndent:Fb,stringTypes:['""',"N''","''","``","[]"],openParens:["(","CASE"],closeParens:[")","END"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:["@",":","%","$"],lineCommentTypes:["#","--"],specialWordChars:[]}}}const Mb=["ACCESSIBLE","ACTION","AGAINST","AGGREGATE","ALGORITHM","ALL","ALTER","ANALYSE","ANALYZE","AS","ASC","AUTOCOMMIT","AUTO_INCREMENT","BACKUP","BEGIN","BETWEEN","BINLOG","BOTH","CASCADE","CASE","CHANGE","CHANGED","CHARACTER SET","CHARSET","CHECK","CHECKSUM","COLLATE","COLLATION","COLUMN","COLUMNS","COMMENT","COMMIT","COMMITTED","COMPRESSED","CONCURRENT","CONSTRAINT","CONTAINS","CONVERT","COUNT","CREATE","CROSS","CURRENT_TIMESTAMP","DATABASE","DATABASES","DAY_HOUR","DAY_MINUTE","DAY_SECOND","DAY","DEFAULT","DEFINER","DELAYED","DELETE","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DO","DROP","DUMPFILE","DUPLICATE","DYNAMIC","ELSE","ENCLOSED","END","ENGINE","ENGINES","ENGINE_TYPE","ESCAPE","ESCAPED","EVENTS","EXEC","EXECUTE","EXISTS","EXPLAIN","EXTENDED","FAST","FETCH","FIELDS","FILE","FIRST","FIXED","FLUSH","FOR","FORCE","FOREIGN","FULL","FULLTEXT","FUNCTION","GLOBAL","GRANTS","GROUP_CONCAT","HEAP","HIGH_PRIORITY","HOSTS","HOUR","HOUR_MINUTE","HOUR_SECOND","IDENTIFIED","IF","IFNULL","IGNORE","IN","INDEX","INDEXES","INFILE","INSERT","INSERT_ID","INSERT_METHOD","INTERVAL","INTO","INVOKER","IS","ISOLATION","KEY","KEYS","KILL","LAST_INSERT_ID","LEADING","LEVEL","LIKE","LINEAR","LINES","LOAD","LOCAL","LOCK","LOCKS","LOGS","LOW_PRIORITY","MARIA","MASTER","MASTER_CONNECT_RETRY","MASTER_HOST","MASTER_LOG_FILE","MATCH","MAX_CONNECTIONS_PER_HOUR","MAX_QUERIES_PER_HOUR","MAX_ROWS","MAX_UPDATES_PER_HOUR","MAX_USER_CONNECTIONS","MEDIUM","MERGE","MINUTE","MINUTE_SECOND","MIN_ROWS","MODE","MONTH","MRG_MYISAM","MYISAM","NAMES","NATURAL","NOT","NOW()","NULL","OFFSET","ON DELETE","ON UPDATE","ON","ONLY","OPEN","OPTIMIZE","OPTION","OPTIONALLY","OUTFILE","PACK_KEYS","PAGE","PARTIAL","PARTITION","PARTITIONS","PASSWORD","PRIMARY","PRIVILEGES","PROCEDURE","PROCESS","PROCESSLIST","PURGE","QUICK","RAID0","RAID_CHUNKS","RAID_CHUNKSIZE","RAID_TYPE","RANGE","READ","READ_ONLY","READ_WRITE","REFERENCES","REGEXP","RELOAD","RENAME","REPAIR","REPEATABLE","REPLACE","REPLICATION","RESET","RESTORE","RESTRICT","RETURN","RETURNS","REVOKE","RLIKE","ROLLBACK","ROW","ROWS","ROW_FORMAT","SECOND","SECURITY","SEPARATOR","SERIALIZABLE","SESSION","SHARE","SHOW","SHUTDOWN","SLAVE","SONAME","SOUNDS","SQL","SQL_AUTO_IS_NULL","SQL_BIG_RESULT","SQL_BIG_SELECTS","SQL_BIG_TABLES","SQL_BUFFER_RESULT","SQL_CACHE","SQL_CALC_FOUND_ROWS","SQL_LOG_BIN","SQL_LOG_OFF","SQL_LOG_UPDATE","SQL_LOW_PRIORITY_UPDATES","SQL_MAX_JOIN_SIZE","SQL_NO_CACHE","SQL_QUOTE_SHOW_CREATE","SQL_SAFE_UPDATES","SQL_SELECT_LIMIT","SQL_SLAVE_SKIP_COUNTER","SQL_SMALL_RESULT","SQL_WARNINGS","START","STARTING","STATUS","STOP","STORAGE","STRAIGHT_JOIN","STRING","STRIPED","SUPER","TABLE","TABLES","TEMPORARY","TERMINATED","THEN","TO","TRAILING","TRANSACTIONAL","TRIGGER","TRUE","TRUNCATE","TYPE","TYPES","UNCOMMITTED","UNIQUE","UNLOCK","UNSIGNED","USAGE","USE","USING","VARIABLES","VIEW","WHEN","WITH","WORK","WRITE","YEAR_MONTH"],qb=["ADD","AFTER","ALTER COLUMN","ALTER TABLE","CREATE OR REPLACE","DECLARE","DELETE FROM","EXCEPT","FETCH FIRST","FROM","GO","GRANT","GROUP BY","HAVING","INSERT INTO","INSERT","LIMIT","MODIFY","ORDER BY","RETURNING","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","UPDATE","VALUES","WHERE"],Fb=["INTERSECT ALL","INTERSECT","MINUS","UNION ALL","UNION"],Ub=["AND","CROSS APPLY","CROSS JOIN","ELSE","INNER JOIN","FULL JOIN","FULL OUTER JOIN","LEFT JOIN","LEFT OUTER JOIN","NATURAL JOIN","OR","OUTER APPLY","OUTER JOIN","RENAME","RIGHT JOIN","RIGHT OUTER JOIN","JOIN","WHEN","XOR"];class Tt{static parse(e,t="mysql"){t==="mssql"&&(e=e.replace(/^[ \t]*GO;?[ \t]*$/gmi,""));const r=";";for(var n=[],i=!0;i;){a==null&&(a=e);var s=Tt.getStatements(a,t,r),o=s[0];o!=null&&o.trim()!=""&&n.push(o);var a=s[1];if(a==null||a.trim()=="")break}return n}static getStatements(e,t,r){for(var n=Array.from(e),i=null,s=null,o=!1,a=null,l=!1,f=null,d=!1,E=null,y=[],L=0;L<n.length;L++){var _=n[L];if(L>0&&(i=n[L-1]),L<n.length&&(s=n[L+1]),i!="\\"&&(_=="'"||_=='"')&&l==!1&&o==!1){l=!0,f=_;continue}if((_=="#"&&s==" "||_=="-"&&s=="-"||_=="/"&&s=="*")&&l==!1){o=!0,a=_;continue}if(o==!0&&((a=="#"||a=="-")&&_==`
`||a=="/"&&_=="*"&&s=="/")){o=!1,a=null;continue}if(i!="\\"&&_==f&&l==!0){l=!1,f=null;continue}if(_.toLowerCase()=="d"&&o==!1&&l==!1){var B=Tt.getDelimiter(L,e,t);if(B!=null){var W=B[0],D=B[1];e=e.substring(D),y=Tt.getStatements(e,t,W);break}}if(_=="$"&&o==!1&&l==!1){var J=e.substring(L);if(d==!1){var k=Tt.getTag(J,t);k!=null&&(d=!0,E=k[0])}else{var k=Tt.getTag(J,t);if(k!=null){var v=k[0];v==E&&(d=!1)}}}if(t==="mssql"&&_.toLowerCase()==="g"&&`${n[L+1]||""}`.toLowerCase()==="o"&&typeof n[L+2]!="undefined"&&/go\b/gi.test(`${_}${n[L+1]}${n[L+2]}`)&&(_=`${_}${n[L+1]}`),(_.toLowerCase()===r.toLowerCase()||_.toLowerCase()==="go")&&l==!1&&o==!1&&d==!1){var p=L+1;if(t==="mssql"&&_.toLowerCase()==="go"){p=L,y=Tt.getQueryParts(e,p,2);break}y=Tt.getQueryParts(e,p,0);break}}return y.length==0&&(e!=null&&(e=e.trim()),y.push(e,null)),y}static getQueryParts(e,t,r=1){var n=e.substring(0,t),i=e.substring(t+r),s=[];return n!=null&&(n=n.trim()),s.push(n),s.push(i),s}static getDelimiter(e,t,r){if(r=="mysql"){var n="delimiter ",i=n.length,s=t.substring(e),o=s.toLowerCase().indexOf(n);if(o==0){var a=t.substring(e),l=a.indexOf(`
`);l==-1&&(l=t.length),a=a.substring(0,l),a=a.substring(i);var f=a.trim();if(f=Tt.clearTextUntilComment(f),f!=null){f=f.trim();var d=s.indexOf(f)+e+f.length,E=[];return E.push(f),E.push(d),E}else return null}else return null}}static getTag(e,t){if(t=="pg"){var r=e.match(/^(\$[a-zA-Z]*\$)/i);if(r!=null&&r.length>1){var n=[],i=r[1].trim(),s=e.indexOf(i);return n.push(i),n.push(s),n}else return null}}static isGoDelimiter(e,t,r){if(e=="mssql"){var n=/(?:\bgo\b\s*)/i.exec(t);return n!=null&&n.index==r}}static clearTextUntilComment(e){for(var t=null,r=Array.from(e),n=null,i=0;i<r.length;i++){var s=r[i];if(i<r.length&&(t=r[i+1]),s=="#"&&t==" "||s=="-"&&t=="-"||s=="/"&&t=="*")break;n==null&&(n=""),n+=s}return n}}var hf=Tt.parse;function ff(e,t="mysql"){return hf(e,t)}const df=Wt(require("crypto")),jb=new Uint8Array(16);function zo(){return df.default.randomFillSync(jb)}var pf=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Wb(e){return typeof e=="string"&&pf.test(e)}var mf=Wb;const Le=[];for(let e=0;e<256;++e)Le.push((e+256).toString(16).substr(1));function Hb(e,t=0){const r=(Le[e[t+0]]+Le[e[t+1]]+Le[e[t+2]]+Le[e[t+3]]+"-"+Le[e[t+4]]+Le[e[t+5]]+"-"+Le[e[t+6]]+Le[e[t+7]]+"-"+Le[e[t+8]]+Le[e[t+9]]+"-"+Le[e[t+10]]+Le[e[t+11]]+Le[e[t+12]]+Le[e[t+13]]+Le[e[t+14]]+Le[e[t+15]]).toLowerCase();if(!mf(r))throw TypeError("Stringified UUID is invalid");return r}var gf=Hb;function Bb(e,t,r){e=e||{};const n=e.random||(e.rng||zo)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=n[i];return t}return gf(n)}var Ef=Bb;var vf=Ef;const Gb=["ABORT","ACTION","ADD","AFTER","ALL","ALTER","ALWAYS","ANALYZE","AND","AS","ASC","ATTACH","AUTOINCREMENT","BEFORE","BEGIN","BETWEEN","BY","CASCADE","CASE","CAST","CHECK","COLLATE","COLUMN","COMMIT","CONFLICT","CONSTRAINT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATABASE","DEFAULT","DEFERRABLE","DEFERRED","DELETE","DESC","DETACH","DISTINCT","DO","DROP","EACH","ELSE","END","ESCAPE","EXCEPT","EXCLUDE","EXCLUSIVE","EXISTS","EXPLAIN","FAIL","FILTER","FIRST","FOLLOWING","FOR","FOREIGN","FROM","FULL","GENERATED","GLOB","GROUP","GROUPS","HAVING","IF","IGNORE","IMMEDIATE","IN","INDEX","INDEXED","INITIALLY","INNER","INSERT","INSTEAD","INTERSECT","INTO","IS","ISNULL","JOIN","KEY","LAST","LEFT","LIKE","LIMIT","MATCH","NATURAL","NO","NOT","NOTHING","NOTNULL","NULL","NULLS","OF","OFFSET","ON","OR","ORDER","OTHERS","OUTER","OVER","PARTITION","PLAN","PRAGMA","PRECEDING","PRIMARY","QUERY","RAISE","RANGE","RECURSIVE","REFERENCES","REGEXP","REINDEX","RELEASE","RENAME","REPLACE","RESTRICT","RIGHT","ROLLBACK","ROW","ROWS","SAVEPOINT","SELECT","SET","TABLE","TEMP","TEMPORARY","THEN","TIES","TO","TRANSACTION","TRIGGER","UNBOUNDED","UNION","UNIQUE","UPDATE","USING","VACUUM","VALUES","VIEW","VIRTUAL","WHEN","WHERE","WINDOW","WITH","WITHOUT"],Vb=Gb.reduce((e,t)=>(e[t]={label:t,detail:t,filterText:t,sortText:(["SELECT","CREATE","UPDATE","DELETE"].includes(t)?"2:":"")+t,documentation:{value:`\`\`\`yaml
WORD: ${t}
\`\`\``,kind:"markdown"}},e),{});var yf=Vb;const Xo=Wt(Jh()),Tf=Wt(Us()),Rf=Wt(require("path")),Ue=Wt(Uo()),$b="4.2.0";class Yo extends Xo.default{constructor(){super(...arguments);this.deps=[{type:Xo.default.CONSTANTS.DEPENDENCY_PACKAGE,name:"sqlite3",version:$b}];this.queries=nf;this.createDirIfNotExists=()=>We(this,[],function*(){if(this.credentials.database.toLowerCase()===":memory:")return;const e=Rf.dirname(yield this.getDatabase());Tf.sync(e)});this.getDatabase=()=>this.toAbsolutePath(this.credentials.database);this.query=(e,t={})=>We(this,[],function*(){const r=yield this.open(),{requestId:n}=t,i=ff(e.toString()).filter(Boolean);let s=[];for(let o of i){const a=(yield this.runSingleQuery(r,o))||[],l=[];a.length===0&&o.toLowerCase()!=="select"&&l.push(this.prepareMessage(`${a.length} rows were affected.`)),s.push({requestId:n,resultId:vf(),connId:this.getId(),cols:a&&a.length?Object.keys(a[0]):[],messages:l,query:o,results:a})}return s});this.getStaticCompletions=()=>We(this,[],function*(){return yf})}get lib(){return this.requireDep("sqlite3")}open(){return We(this,[],function*(){if(this.connection)return this.connection;yield this.createDirIfNotExists();const e=yield new Promise((t,r)=>We(this,[],function*(){try{const n=new this.lib.Database(yield this.getDatabase(),i=>i?r(i):t(n))}catch(n){r(n)}}));return this.connection=Promise.resolve(e),this.connection})}close(){return We(this,[],function*(){if(!this.connection)return Promise.resolve();const e=yield this.connection;yield new Promise((t,r)=>{e.close(n=>n?r(n):t())}),this.connection=null})}runSingleQuery(e,t){return new Promise((r,n)=>{e.all(t,(i,s)=>i?n(i):r(s))})}testConnection(){return We(this,[],function*(){yield this.open(),yield this.query("SELECT 1",{})})}getChildrenForItem({item:e,parent:t}){return We(this,[],function*(){switch(e.type){case Ue.ContextValue.CONNECTION:case Ue.ContextValue.CONNECTED_CONNECTION:return[{label:"Tables",type:Ue.ContextValue.RESOURCE_GROUP,iconId:"folder",childType:Ue.ContextValue.TABLE},{label:"Views",type:Ue.ContextValue.RESOURCE_GROUP,iconId:"folder",childType:Ue.ContextValue.VIEW}];case Ue.ContextValue.TABLE:case Ue.ContextValue.VIEW:return this.queryResults(this.queries.fetchColumns(e));case Ue.ContextValue.RESOURCE_GROUP:return this.getChildrenForGroup({item:e,parent:t})}return[]})}getChildrenForGroup({parent:e,item:t}){return We(this,[],function*(){switch(t.childType){case Ue.ContextValue.TABLE:return this.queryResults(this.queries.fetchTables(e));case Ue.ContextValue.VIEW:return this.queryResults(this.queries.fetchViews(e))}return[]})}searchItems(e,t,r={}){switch(e){case Ue.ContextValue.TABLE:return this.queryResults(this.queries.searchTables({search:t}));case Ue.ContextValue.COLUMN:return this.queryResults(this.queries.searchColumns(ut({search:t},r)))}}}const bf=[{displayName:"SQLite (Node)",value:"SQLite"}];na(exports,{default:()=>Xb});const zb={register(e){bf.forEach(({value:t})=>{e.getContext().drivers.set(t,Yo)})}};var Xb=zb;
